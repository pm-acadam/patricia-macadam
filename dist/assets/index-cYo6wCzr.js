(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function C1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bh={exports:{}},gl={};var ly;function PS(){if(ly)return gl;ly=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:s,key:c,ref:i!==void 0?i:null,props:o}}return gl.Fragment=e,gl.jsx=n,gl.jsxs=n,gl}var oy;function IS(){return oy||(oy=1,Bh.exports=PS()),Bh.exports}var a=IS(),Uh={exports:{}},ye={};var cy;function FS(){if(cy)return ye;cy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function N(L){return L===null||typeof L!="object"?null:(L=y&&L[y]||L["@@iterator"],typeof L=="function"?L:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,j={};function C(L,Z,re){this.props=L,this.context=Z,this.refs=j,this.updater=re||v}C.prototype.isReactComponent={},C.prototype.setState=function(L,Z){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Z,"setState")},C.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function T(){}T.prototype=C.prototype;function M(L,Z,re){this.props=L,this.context=Z,this.refs=j,this.updater=re||v}var P=M.prototype=new T;P.constructor=M,k(P,C.prototype),P.isPureReactComponent=!0;var H=Array.isArray;function B(){}var A={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function _(L,Z,re){var le=re.ref;return{$$typeof:t,type:L,key:Z,ref:le!==void 0?le:null,props:re}}function I(L,Z){return _(L.type,Z,L.props)}function pe(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function X(L){var Z={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(re){return Z[re]})}var G=/\/+/g;function J(L,Z){return typeof L=="object"&&L!==null&&L.key!=null?X(""+L.key):Z.toString(36)}function te(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(B,B):(L.status="pending",L.then(function(Z){L.status==="pending"&&(L.status="fulfilled",L.value=Z)},function(Z){L.status==="pending"&&(L.status="rejected",L.reason=Z)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function O(L,Z,re,le,be){var Te=typeof L;(Te==="undefined"||Te==="boolean")&&(L=null);var He=!1;if(L===null)He=!0;else switch(Te){case"bigint":case"string":case"number":He=!0;break;case"object":switch(L.$$typeof){case t:case e:He=!0;break;case p:return He=L._init,O(He(L._payload),Z,re,le,be)}}if(He)return be=be(L),He=le===""?"."+J(L,0):le,H(be)?(re="",He!=null&&(re=He.replace(G,"$&/")+"/"),O(be,Z,re,"",function(ki){return ki})):be!=null&&(pe(be)&&(be=I(be,re+(be.key==null||L&&L.key===be.key?"":(""+be.key).replace(G,"$&/")+"/")+He)),Z.push(be)),1;He=0;var Ft=le===""?".":le+":";if(H(L))for(var it=0;it<L.length;it++)le=L[it],Te=Ft+J(le,it),He+=O(le,Z,re,Te,be);else if(it=N(L),typeof it=="function")for(L=it.call(L),it=0;!(le=L.next()).done;)le=le.value,Te=Ft+J(le,it++),He+=O(le,Z,re,Te,be);else if(Te==="object"){if(typeof L.then=="function")return O(te(L),Z,re,le,be);throw Z=String(L),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return He}function K(L,Z,re){if(L==null)return L;var le=[],be=0;return O(L,le,"","",function(Te){return Z.call(re,Te,be++)}),le}function ae(L){if(L._status===-1){var Z=L._result;Z=Z(),Z.then(function(re){(L._status===0||L._status===-1)&&(L._status=1,L._result=re)},function(re){(L._status===0||L._status===-1)&&(L._status=2,L._result=re)}),L._status===-1&&(L._status=0,L._result=Z)}if(L._status===1)return L._result.default;throw L._result}var Se=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ee={map:K,forEach:function(L,Z,re){K(L,function(){Z.apply(this,arguments)},re)},count:function(L){var Z=0;return K(L,function(){Z++}),Z},toArray:function(L){return K(L,function(Z){return Z})||[]},only:function(L){if(!pe(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return ye.Activity=g,ye.Children=Ee,ye.Component=C,ye.Fragment=n,ye.Profiler=i,ye.PureComponent=M,ye.StrictMode=s,ye.Suspense=h,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,ye.__COMPILER_RUNTIME={__proto__:null,c:function(L){return A.H.useMemoCache(L)}},ye.cache=function(L){return function(){return L.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(L,Z,re){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var le=k({},L.props),be=L.key;if(Z!=null)for(Te in Z.key!==void 0&&(be=""+Z.key),Z)!D.call(Z,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&Z.ref===void 0||(le[Te]=Z[Te]);var Te=arguments.length-2;if(Te===1)le.children=re;else if(1<Te){for(var He=Array(Te),Ft=0;Ft<Te;Ft++)He[Ft]=arguments[Ft+2];le.children=He}return _(L.type,be,le)},ye.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},ye.createElement=function(L,Z,re){var le,be={},Te=null;if(Z!=null)for(le in Z.key!==void 0&&(Te=""+Z.key),Z)D.call(Z,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(be[le]=Z[le]);var He=arguments.length-2;if(He===1)be.children=re;else if(1<He){for(var Ft=Array(He),it=0;it<He;it++)Ft[it]=arguments[it+2];be.children=Ft}if(L&&L.defaultProps)for(le in He=L.defaultProps,He)be[le]===void 0&&(be[le]=He[le]);return _(L,Te,be)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(L){return{$$typeof:u,render:L}},ye.isValidElement=pe,ye.lazy=function(L){return{$$typeof:p,_payload:{_status:-1,_result:L},_init:ae}},ye.memo=function(L,Z){return{$$typeof:m,type:L,compare:Z===void 0?null:Z}},ye.startTransition=function(L){var Z=A.T,re={};A.T=re;try{var le=L(),be=A.S;be!==null&&be(re,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(B,Se)}catch(Te){Se(Te)}finally{Z!==null&&re.types!==null&&(Z.types=re.types),A.T=Z}},ye.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},ye.use=function(L){return A.H.use(L)},ye.useActionState=function(L,Z,re){return A.H.useActionState(L,Z,re)},ye.useCallback=function(L,Z){return A.H.useCallback(L,Z)},ye.useContext=function(L){return A.H.useContext(L)},ye.useDebugValue=function(){},ye.useDeferredValue=function(L,Z){return A.H.useDeferredValue(L,Z)},ye.useEffect=function(L,Z){return A.H.useEffect(L,Z)},ye.useEffectEvent=function(L){return A.H.useEffectEvent(L)},ye.useId=function(){return A.H.useId()},ye.useImperativeHandle=function(L,Z,re){return A.H.useImperativeHandle(L,Z,re)},ye.useInsertionEffect=function(L,Z){return A.H.useInsertionEffect(L,Z)},ye.useLayoutEffect=function(L,Z){return A.H.useLayoutEffect(L,Z)},ye.useMemo=function(L,Z){return A.H.useMemo(L,Z)},ye.useOptimistic=function(L,Z){return A.H.useOptimistic(L,Z)},ye.useReducer=function(L,Z,re){return A.H.useReducer(L,Z,re)},ye.useRef=function(L){return A.H.useRef(L)},ye.useState=function(L){return A.H.useState(L)},ye.useSyncExternalStore=function(L,Z,re){return A.H.useSyncExternalStore(L,Z,re)},ye.useTransition=function(){return A.H.useTransition()},ye.version="19.2.3",ye}var dy;function Xl(){return dy||(dy=1,Uh.exports=FS()),Uh.exports}var S=Xl();const nn=C1(S);var Hh={exports:{}},bl={},Ph={exports:{}},Ih={};var uy;function $S(){return uy||(uy=1,(function(t){function e(O,K){var ae=O.length;O.push(K);e:for(;0<ae;){var Se=ae-1>>>1,Ee=O[Se];if(0<i(Ee,K))O[Se]=K,O[ae]=Ee,ae=Se;else break e}}function n(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var K=O[0],ae=O.pop();if(ae!==K){O[0]=ae;e:for(var Se=0,Ee=O.length,L=Ee>>>1;Se<L;){var Z=2*(Se+1)-1,re=O[Z],le=Z+1,be=O[le];if(0>i(re,ae))le<Ee&&0>i(be,re)?(O[Se]=be,O[le]=ae,Se=le):(O[Se]=re,O[Z]=ae,Se=Z);else if(le<Ee&&0>i(be,ae))O[Se]=be,O[le]=ae,Se=le;else break e}}return K}function i(O,K){var ae=O.sortIndex-K.sortIndex;return ae!==0?ae:O.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var h=[],m=[],p=1,g=null,y=3,N=!1,v=!1,k=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function P(O){for(var K=n(m);K!==null;){if(K.callback===null)s(m);else if(K.startTime<=O)s(m),K.sortIndex=K.expirationTime,e(h,K);else break;K=n(m)}}function H(O){if(k=!1,P(O),!v)if(n(h)!==null)v=!0,B||(B=!0,X());else{var K=n(m);K!==null&&te(H,K.startTime-O)}}var B=!1,A=-1,D=5,_=-1;function I(){return j?!0:!(t.unstable_now()-_<D)}function pe(){if(j=!1,B){var O=t.unstable_now();_=O;var K=!0;try{e:{v=!1,k&&(k=!1,T(A),A=-1),N=!0;var ae=y;try{t:{for(P(O),g=n(h);g!==null&&!(g.expirationTime>O&&I());){var Se=g.callback;if(typeof Se=="function"){g.callback=null,y=g.priorityLevel;var Ee=Se(g.expirationTime<=O);if(O=t.unstable_now(),typeof Ee=="function"){g.callback=Ee,P(O),K=!0;break t}g===n(h)&&s(h),P(O)}else s(h);g=n(h)}if(g!==null)K=!0;else{var L=n(m);L!==null&&te(H,L.startTime-O),K=!1}}break e}finally{g=null,y=ae,N=!1}K=void 0}}finally{K?X():B=!1}}}var X;if(typeof M=="function")X=function(){M(pe)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,J=G.port2;G.port1.onmessage=pe,X=function(){J.postMessage(null)}}else X=function(){C(pe,0)};function te(O,K){A=C(function(){O(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(O){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var ae=y;y=K;try{return O()}finally{y=ae}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(O,K){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var ae=y;y=O;try{return K()}finally{y=ae}},t.unstable_scheduleCallback=function(O,K,ae){var Se=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Se+ae:Se):ae=Se,O){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=ae+Ee,O={id:p++,callback:K,priorityLevel:O,startTime:ae,expirationTime:Ee,sortIndex:-1},ae>Se?(O.sortIndex=ae,e(m,O),n(h)===null&&O===n(m)&&(k?(T(A),A=-1):k=!0,te(H,ae-Se))):(O.sortIndex=Ee,e(h,O),v||N||(v=!0,B||(B=!0,X()))),O},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(O){var K=y;return function(){var ae=y;y=K;try{return O.apply(this,arguments)}finally{y=ae}}}})(Ih)),Ih}var fy;function VS(){return fy||(fy=1,Ph.exports=$S()),Ph.exports}var Fh={exports:{}},Ut={};var hy;function qS(){if(hy)return Ut;hy=1;var t=Xl();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(h,m,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:g==null?null:""+g,children:h,containerInfo:m,implementation:p}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ut.createPortal=function(h,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(h,m,null,p)},Ut.flushSync=function(h){var m=c.T,p=s.p;try{if(c.T=null,s.p=2,h)return h()}finally{c.T=m,s.p=p,s.d.f()}},Ut.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(h,m))},Ut.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},Ut.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var p=m.as,g=u(p,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,N=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?s.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:N}):p==="script"&&s.d.X(h,{crossOrigin:g,integrity:y,fetchPriority:N,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ut.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=u(m.as,m.crossOrigin);s.d.M(h,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(h)},Ut.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,g=u(p,m.crossOrigin);s.d.L(h,p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ut.preloadModule=function(h,m){if(typeof h=="string")if(m){var p=u(m.as,m.crossOrigin);s.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(h)},Ut.requestFormReset=function(h){s.d.r(h)},Ut.unstable_batchedUpdates=function(h,m){return h(m)},Ut.useFormState=function(h,m,p){return c.H.useFormState(h,m,p)},Ut.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ut.version="19.2.3",Ut}var my;function E1(){if(my)return Fh.exports;my=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fh.exports=qS(),Fh.exports}var py;function WS(){if(py)return bl;py=1;var t=VS(),e=Xl(),n=E1();function s(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var l=r,d=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(d=l.return),r=l.return;while(r)}return l.tag===3?d:null}function c(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function u(r){if(r.tag===31){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function h(r){if(o(r)!==r)throw Error(s(188))}function m(r){var l=r.alternate;if(!l){if(l=o(r),l===null)throw Error(s(188));return l!==r?null:r}for(var d=r,f=l;;){var x=d.return;if(x===null)break;var b=x.alternate;if(b===null){if(f=x.return,f!==null){d=f;continue}break}if(x.child===b.child){for(b=x.child;b;){if(b===d)return h(x),r;if(b===f)return h(x),l;b=b.sibling}throw Error(s(188))}if(d.return!==f.return)d=x,f=b;else{for(var w=!1,E=x.child;E;){if(E===d){w=!0,d=x,f=b;break}if(E===f){w=!0,f=x,d=b;break}E=E.sibling}if(!w){for(E=b.child;E;){if(E===d){w=!0,d=b,f=x;break}if(E===f){w=!0,f=b,d=x;break}E=E.sibling}if(!w)throw Error(s(189))}}if(d.alternate!==f)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?r:l}function p(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=p(r),l!==null)return l;r=r.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),M=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),pe=Symbol.iterator;function X(r){return r===null||typeof r!="object"?null:(r=pe&&r[pe]||r["@@iterator"],typeof r=="function"?r:null)}var G=Symbol.for("react.client.reference");function J(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===G?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case C:return"Profiler";case j:return"StrictMode";case H:return"Suspense";case B:return"SuspenseList";case _:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case v:return"Portal";case M:return r.displayName||"Context";case T:return(r._context.displayName||"Context")+".Consumer";case P:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case A:return l=r.displayName||null,l!==null?l:J(r.type)||"Memo";case D:l=r._payload,r=r._init;try{return J(r(l))}catch{}}return null}var te=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Se=[],Ee=-1;function L(r){return{current:r}}function Z(r){0>Ee||(r.current=Se[Ee],Se[Ee]=null,Ee--)}function re(r,l){Ee++,Se[Ee]=r.current,r.current=l}var le=L(null),be=L(null),Te=L(null),He=L(null);function Ft(r,l){switch(re(Te,l),re(be,r),re(le,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?Mb(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=Mb(l),r=Ob(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Z(le),re(le,r)}function it(){Z(le),Z(be),Z(Te)}function ki(r){r.memoizedState!==null&&re(He,r);var l=le.current,d=Ob(l,r.type);l!==d&&(re(be,r),re(le,d))}function co(r){be.current===r&&(Z(le),Z(be)),He.current===r&&(Z(He),hl._currentValue=ae)}var bu,ix;function Ar(r){if(bu===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);bu=l&&l[1]||"",ix=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bu+r+ix}var yu=!1;function vu(r,l){if(!r||yu)return"";yu=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(l){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(W){var V=W}Reflect.construct(r,[],ee)}else{try{ee.call()}catch(W){V=W}r.call(ee.prototype)}}else{try{throw Error()}catch(W){V=W}(ee=r())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(W){if(W&&V&&typeof W.stack=="string")return[W.stack,V.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),w=b[0],E=b[1];if(w&&E){var R=w.split(`
`),$=E.split(`
`);for(x=f=0;f<R.length&&!R[f].includes("DetermineComponentFrameRoot");)f++;for(;x<$.length&&!$[x].includes("DetermineComponentFrameRoot");)x++;if(f===R.length||x===$.length)for(f=R.length-1,x=$.length-1;1<=f&&0<=x&&R[f]!==$[x];)x--;for(;1<=f&&0<=x;f--,x--)if(R[f]!==$[x]){if(f!==1||x!==1)do if(f--,x--,0>x||R[f]!==$[x]){var Y=`
`+R[f].replace(" at new "," at ");return r.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",r.displayName)),Y}while(1<=f&&0<=x);break}}}finally{yu=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?Ar(d):""}function g2(r,l){switch(r.tag){case 26:case 27:case 5:return Ar(r.type);case 16:return Ar("Lazy");case 13:return r.child!==l&&l!==null?Ar("Suspense Fallback"):Ar("Suspense");case 19:return Ar("SuspenseList");case 0:case 15:return vu(r.type,!1);case 11:return vu(r.type.render,!1);case 1:return vu(r.type,!0);case 31:return Ar("Activity");default:return""}}function lx(r){try{var l="",d=null;do l+=g2(r,d),d=r,r=r.return;while(r);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Nu=Object.prototype.hasOwnProperty,ju=t.unstable_scheduleCallback,wu=t.unstable_cancelCallback,b2=t.unstable_shouldYield,y2=t.unstable_requestPaint,on=t.unstable_now,v2=t.unstable_getCurrentPriorityLevel,ox=t.unstable_ImmediatePriority,cx=t.unstable_UserBlockingPriority,uo=t.unstable_NormalPriority,N2=t.unstable_LowPriority,dx=t.unstable_IdlePriority,j2=t.log,w2=t.unstable_setDisableYieldValue,Si=null,cn=null;function Bs(r){if(typeof j2=="function"&&w2(r),cn&&typeof cn.setStrictMode=="function")try{cn.setStrictMode(Si,r)}catch{}}var dn=Math.clz32?Math.clz32:C2,k2=Math.log,S2=Math.LN2;function C2(r){return r>>>=0,r===0?32:31-(k2(r)/S2|0)|0}var fo=256,ho=262144,mo=4194304;function Mr(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function po(r,l,d){var f=r.pendingLanes;if(f===0)return 0;var x=0,b=r.suspendedLanes,w=r.pingedLanes;r=r.warmLanes;var E=f&134217727;return E!==0?(f=E&~b,f!==0?x=Mr(f):(w&=E,w!==0?x=Mr(w):d||(d=E&~r,d!==0&&(x=Mr(d))))):(E=f&~b,E!==0?x=Mr(E):w!==0?x=Mr(w):d||(d=f&~r,d!==0&&(x=Mr(d)))),x===0?0:l!==0&&l!==x&&(l&b)===0&&(b=x&-x,d=l&-l,b>=d||b===32&&(d&4194048)!==0)?l:x}function Ci(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function E2(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ux(){var r=mo;return mo<<=1,(mo&62914560)===0&&(mo=4194304),r}function ku(r){for(var l=[],d=0;31>d;d++)l.push(r);return l}function Ei(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function T2(r,l,d,f,x,b){var w=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var E=r.entanglements,R=r.expirationTimes,$=r.hiddenUpdates;for(d=w&~d;0<d;){var Y=31-dn(d),ee=1<<Y;E[Y]=0,R[Y]=-1;var V=$[Y];if(V!==null)for($[Y]=null,Y=0;Y<V.length;Y++){var W=V[Y];W!==null&&(W.lane&=-536870913)}d&=~ee}f!==0&&fx(r,f,0),b!==0&&x===0&&r.tag!==0&&(r.suspendedLanes|=b&~(w&~l))}function fx(r,l,d){r.pendingLanes|=l,r.suspendedLanes&=~l;var f=31-dn(l);r.entangledLanes|=l,r.entanglements[f]=r.entanglements[f]|1073741824|d&261930}function hx(r,l){var d=r.entangledLanes|=l;for(r=r.entanglements;d;){var f=31-dn(d),x=1<<f;x&l|r[f]&l&&(r[f]|=l),d&=~x}}function mx(r,l){var d=l&-l;return d=(d&42)!==0?1:Su(d),(d&(r.suspendedLanes|l))!==0?0:d}function Su(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Cu(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function px(){var r=K.p;return r!==0?r:(r=window.event,r===void 0?32:ey(r.type))}function xx(r,l){var d=K.p;try{return K.p=r,l()}finally{K.p=d}}var Us=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Us,Gt="__reactProps$"+Us,ga="__reactContainer$"+Us,Eu="__reactEvents$"+Us,A2="__reactListeners$"+Us,M2="__reactHandles$"+Us,gx="__reactResources$"+Us,Ti="__reactMarker$"+Us;function Tu(r){delete r[Tt],delete r[Gt],delete r[Eu],delete r[A2],delete r[M2]}function ba(r){var l=r[Tt];if(l)return l;for(var d=r.parentNode;d;){if(l=d[ga]||d[Tt]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(r=Ub(r);r!==null;){if(d=r[Tt])return d;r=Ub(r)}return l}r=d,d=r.parentNode}return null}function ya(r){if(r=r[Tt]||r[ga]){var l=r.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return r}return null}function Ai(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(s(33))}function va(r){var l=r[gx];return l||(l=r[gx]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Nt(r){r[Ti]=!0}var bx=new Set,yx={};function Or(r,l){Na(r,l),Na(r+"Capture",l)}function Na(r,l){for(yx[r]=l,r=0;r<l.length;r++)bx.add(l[r])}var O2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vx={},Nx={};function R2(r){return Nu.call(Nx,r)?!0:Nu.call(vx,r)?!1:O2.test(r)?Nx[r]=!0:(vx[r]=!0,!1)}function xo(r,l,d){if(R2(l))if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var f=l.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+d)}}function go(r,l,d){if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+d)}}function as(r,l,d,f){if(f===null)r.removeAttribute(d);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(l,d,""+f)}}function Nn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function jx(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function D2(r,l,d){var f=Object.getOwnPropertyDescriptor(r.constructor.prototype,l);if(!r.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var x=f.get,b=f.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return x.call(this)},set:function(w){d=""+w,b.call(this,w)}}),Object.defineProperty(r,l,{enumerable:f.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function Au(r){if(!r._valueTracker){var l=jx(r)?"checked":"value";r._valueTracker=D2(r,l,""+r[l])}}function wx(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var d=l.getValue(),f="";return r&&(f=jx(r)?r.checked?"true":"false":r.value),r=f,r!==d?(l.setValue(r),!0):!1}function bo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var L2=/[\n"\\]/g;function jn(r){return r.replace(L2,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Mu(r,l,d,f,x,b,w,E){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),l!=null?w==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+Nn(l)):r.value!==""+Nn(l)&&(r.value=""+Nn(l)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),l!=null?Ou(r,w,Nn(l)):d!=null?Ou(r,w,Nn(d)):f!=null&&r.removeAttribute("value"),x==null&&b!=null&&(r.defaultChecked=!!b),x!=null&&(r.checked=x&&typeof x!="function"&&typeof x!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.name=""+Nn(E):r.removeAttribute("name")}function kx(r,l,d,f,x,b,w,E){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),l!=null||d!=null){if(!(b!=="submit"&&b!=="reset"||l!=null)){Au(r);return}d=d!=null?""+Nn(d):"",l=l!=null?""+Nn(l):d,E||l===r.value||(r.value=l),r.defaultValue=l}f=f??x,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=E?r.checked:!!f,r.defaultChecked=!!f,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w),Au(r)}function Ou(r,l,d){l==="number"&&bo(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function ja(r,l,d,f){if(r=r.options,l){l={};for(var x=0;x<d.length;x++)l["$"+d[x]]=!0;for(d=0;d<r.length;d++)x=l.hasOwnProperty("$"+r[d].value),r[d].selected!==x&&(r[d].selected=x),x&&f&&(r[d].defaultSelected=!0)}else{for(d=""+Nn(d),l=null,x=0;x<r.length;x++){if(r[x].value===d){r[x].selected=!0,f&&(r[x].defaultSelected=!0);return}l!==null||r[x].disabled||(l=r[x])}l!==null&&(l.selected=!0)}}function Sx(r,l,d){if(l!=null&&(l=""+Nn(l),l!==r.value&&(r.value=l),d==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=d!=null?""+Nn(d):""}function Cx(r,l,d,f){if(l==null){if(f!=null){if(d!=null)throw Error(s(92));if(te(f)){if(1<f.length)throw Error(s(93));f=f[0]}d=f}d==null&&(d=""),l=d}d=Nn(l),r.defaultValue=d,f=r.textContent,f===d&&f!==""&&f!==null&&(r.value=f),Au(r)}function wa(r,l){if(l){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=l;return}}r.textContent=l}var z2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ex(r,l,d){var f=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?f?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":f?r.setProperty(l,d):typeof d!="number"||d===0||z2.has(l)?l==="float"?r.cssFloat=d:r[l]=(""+d).trim():r[l]=d+"px"}function Tx(r,l,d){if(l!=null&&typeof l!="object")throw Error(s(62));if(r=r.style,d!=null){for(var f in d)!d.hasOwnProperty(f)||l!=null&&l.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var x in l)f=l[x],l.hasOwnProperty(x)&&d[x]!==f&&Ex(r,x,f)}else for(var b in l)l.hasOwnProperty(b)&&Ex(r,b,l[b])}function Ru(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),B2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yo(r){return B2.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function is(){}var Du=null;function Lu(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ka=null,Sa=null;function Ax(r){var l=ya(r);if(l&&(r=l.stateNode)){var d=r[Gt]||null;e:switch(r=l.stateNode,l.type){case"input":if(Mu(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+jn(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var f=d[l];if(f!==r&&f.form===r.form){var x=f[Gt]||null;if(!x)throw Error(s(90));Mu(f,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(l=0;l<d.length;l++)f=d[l],f.form===r.form&&wx(f)}break e;case"textarea":Sx(r,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&ja(r,!!d.multiple,l,!1)}}}var zu=!1;function Mx(r,l,d){if(zu)return r(l,d);zu=!0;try{var f=r(l);return f}finally{if(zu=!1,(ka!==null||Sa!==null)&&(ic(),ka&&(l=ka,r=Sa,Sa=ka=null,Ax(l),r)))for(l=0;l<r.length;l++)Ax(r[l])}}function Mi(r,l){var d=r.stateNode;if(d===null)return null;var f=d[Gt]||null;if(f===null)return null;d=f[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(s(231,l,typeof d));return d}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_u=!1;if(ls)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){_u=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{_u=!1}var Hs=null,Bu=null,vo=null;function Ox(){if(vo)return vo;var r,l=Bu,d=l.length,f,x="value"in Hs?Hs.value:Hs.textContent,b=x.length;for(r=0;r<d&&l[r]===x[r];r++);var w=d-r;for(f=1;f<=w&&l[d-f]===x[b-f];f++);return vo=x.slice(r,1<f?1-f:void 0)}function No(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function jo(){return!0}function Rx(){return!1}function Yt(r){function l(d,f,x,b,w){this._reactName=d,this._targetInst=x,this.type=f,this.nativeEvent=b,this.target=w,this.currentTarget=null;for(var E in r)r.hasOwnProperty(E)&&(d=r[E],this[E]=d?d(b):b[E]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?jo:Rx,this.isPropagationStopped=Rx,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),l}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=Yt(Rr),Ri=g({},Rr,{view:0,detail:0}),U2=Yt(Ri),Uu,Hu,Di,ko=g({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Di&&(Di&&r.type==="mousemove"?(Uu=r.screenX-Di.screenX,Hu=r.screenY-Di.screenY):Hu=Uu=0,Di=r),Uu)},movementY:function(r){return"movementY"in r?r.movementY:Hu}}),Dx=Yt(ko),H2=g({},ko,{dataTransfer:0}),P2=Yt(H2),I2=g({},Ri,{relatedTarget:0}),Pu=Yt(I2),F2=g({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),$2=Yt(F2),V2=g({},Rr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),q2=Yt(V2),W2=g({},Rr,{data:0}),Lx=Yt(W2),K2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J2(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=Y2[r])?!!l[r]:!1}function Iu(){return J2}var X2=g({},Ri,{key:function(r){if(r.key){var l=K2[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=No(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?G2[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iu,charCode:function(r){return r.type==="keypress"?No(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?No(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Q2=Yt(X2),Z2=g({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zx=Yt(Z2),ek=g({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iu}),tk=Yt(ek),nk=g({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),sk=Yt(nk),rk=g({},ko,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ak=Yt(rk),ik=g({},Rr,{newState:0,oldState:0}),lk=Yt(ik),ok=[9,13,27,32],Fu=ls&&"CompositionEvent"in window,Li=null;ls&&"documentMode"in document&&(Li=document.documentMode);var ck=ls&&"TextEvent"in window&&!Li,_x=ls&&(!Fu||Li&&8<Li&&11>=Li),Bx=" ",Ux=!1;function Hx(r,l){switch(r){case"keyup":return ok.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Px(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ca=!1;function dk(r,l){switch(r){case"compositionend":return Px(l);case"keypress":return l.which!==32?null:(Ux=!0,Bx);case"textInput":return r=l.data,r===Bx&&Ux?null:r;default:return null}}function uk(r,l){if(Ca)return r==="compositionend"||!Fu&&Hx(r,l)?(r=Ox(),vo=Bu=Hs=null,Ca=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return _x&&l.locale!=="ko"?null:l.data;default:return null}}var fk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ix(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!fk[r.type]:l==="textarea"}function Fx(r,l,d,f){ka?Sa?Sa.push(f):Sa=[f]:ka=f,l=hc(l,"onChange"),0<l.length&&(d=new wo("onChange","change",null,d,f),r.push({event:d,listeners:l}))}var zi=null,_i=null;function hk(r){kb(r,0)}function So(r){var l=Ai(r);if(wx(l))return r}function $x(r,l){if(r==="change")return l}var Vx=!1;if(ls){var $u;if(ls){var Vu="oninput"in document;if(!Vu){var qx=document.createElement("div");qx.setAttribute("oninput","return;"),Vu=typeof qx.oninput=="function"}$u=Vu}else $u=!1;Vx=$u&&(!document.documentMode||9<document.documentMode)}function Wx(){zi&&(zi.detachEvent("onpropertychange",Kx),_i=zi=null)}function Kx(r){if(r.propertyName==="value"&&So(_i)){var l=[];Fx(l,_i,r,Lu(r)),Mx(hk,l)}}function mk(r,l,d){r==="focusin"?(Wx(),zi=l,_i=d,zi.attachEvent("onpropertychange",Kx)):r==="focusout"&&Wx()}function pk(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return So(_i)}function xk(r,l){if(r==="click")return So(l)}function gk(r,l){if(r==="input"||r==="change")return So(l)}function bk(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var un=typeof Object.is=="function"?Object.is:bk;function Bi(r,l){if(un(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var d=Object.keys(r),f=Object.keys(l);if(d.length!==f.length)return!1;for(f=0;f<d.length;f++){var x=d[f];if(!Nu.call(l,x)||!un(r[x],l[x]))return!1}return!0}function Gx(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Yx(r,l){var d=Gx(r);r=0;for(var f;d;){if(d.nodeType===3){if(f=r+d.textContent.length,r<=l&&f>=l)return{node:d,offset:l-r};r=f}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Gx(d)}}function Jx(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?Jx(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function Xx(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=bo(r.document);l instanceof r.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)r=l.contentWindow;else break;l=bo(r.document)}return l}function qu(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var yk=ls&&"documentMode"in document&&11>=document.documentMode,Ea=null,Wu=null,Ui=null,Ku=!1;function Qx(r,l,d){var f=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ku||Ea==null||Ea!==bo(f)||(f=Ea,"selectionStart"in f&&qu(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ui&&Bi(Ui,f)||(Ui=f,f=hc(Wu,"onSelect"),0<f.length&&(l=new wo("onSelect","select",null,l,d),r.push({event:l,listeners:f}),l.target=Ea)))}function Dr(r,l){var d={};return d[r.toLowerCase()]=l.toLowerCase(),d["Webkit"+r]="webkit"+l,d["Moz"+r]="moz"+l,d}var Ta={animationend:Dr("Animation","AnimationEnd"),animationiteration:Dr("Animation","AnimationIteration"),animationstart:Dr("Animation","AnimationStart"),transitionrun:Dr("Transition","TransitionRun"),transitionstart:Dr("Transition","TransitionStart"),transitioncancel:Dr("Transition","TransitionCancel"),transitionend:Dr("Transition","TransitionEnd")},Gu={},Zx={};ls&&(Zx=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Lr(r){if(Gu[r])return Gu[r];if(!Ta[r])return r;var l=Ta[r],d;for(d in l)if(l.hasOwnProperty(d)&&d in Zx)return Gu[r]=l[d];return r}var eg=Lr("animationend"),tg=Lr("animationiteration"),ng=Lr("animationstart"),vk=Lr("transitionrun"),Nk=Lr("transitionstart"),jk=Lr("transitioncancel"),sg=Lr("transitionend"),rg=new Map,Yu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yu.push("scrollEnd");function Un(r,l){rg.set(r,l),Or(l,[r])}var Co=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},wn=[],Aa=0,Ju=0;function Eo(){for(var r=Aa,l=Ju=Aa=0;l<r;){var d=wn[l];wn[l++]=null;var f=wn[l];wn[l++]=null;var x=wn[l];wn[l++]=null;var b=wn[l];if(wn[l++]=null,f!==null&&x!==null){var w=f.pending;w===null?x.next=x:(x.next=w.next,w.next=x),f.pending=x}b!==0&&ag(d,x,b)}}function To(r,l,d,f){wn[Aa++]=r,wn[Aa++]=l,wn[Aa++]=d,wn[Aa++]=f,Ju|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function Xu(r,l,d,f){return To(r,l,d,f),Ao(r)}function zr(r,l){return To(r,null,null,l),Ao(r)}function ag(r,l,d){r.lanes|=d;var f=r.alternate;f!==null&&(f.lanes|=d);for(var x=!1,b=r.return;b!==null;)b.childLanes|=d,f=b.alternate,f!==null&&(f.childLanes|=d),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(x=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,x&&l!==null&&(x=31-dn(d),r=b.hiddenUpdates,f=r[x],f===null?r[x]=[l]:f.push(l),l.lane=d|536870912),b):null}function Ao(r){if(50<il)throw il=0,lh=null,Error(s(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var Ma={};function wk(r,l,d,f){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(r,l,d,f){return new wk(r,l,d,f)}function Qu(r){return r=r.prototype,!(!r||!r.isReactComponent)}function cs(r,l){var d=r.alternate;return d===null?(d=fn(r.tag,l,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=l,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&65011712,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,l=r.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function ig(r,l){r.flags&=65011714;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,l=d.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function Mo(r,l,d,f,x,b){var w=0;if(f=r,typeof r=="function")Qu(r)&&(w=1);else if(typeof r=="string")w=TS(r,d,le.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case _:return r=fn(31,d,l,x),r.elementType=_,r.lanes=b,r;case k:return _r(d.children,x,b,l);case j:w=8,x|=24;break;case C:return r=fn(12,d,l,x|2),r.elementType=C,r.lanes=b,r;case H:return r=fn(13,d,l,x),r.elementType=H,r.lanes=b,r;case B:return r=fn(19,d,l,x),r.elementType=B,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M:w=10;break e;case T:w=9;break e;case P:w=11;break e;case A:w=14;break e;case D:w=16,f=null;break e}w=29,d=Error(s(130,r===null?"null":typeof r,"")),f=null}return l=fn(w,d,l,x),l.elementType=r,l.type=f,l.lanes=b,l}function _r(r,l,d,f){return r=fn(7,r,f,l),r.lanes=d,r}function Zu(r,l,d){return r=fn(6,r,null,l),r.lanes=d,r}function lg(r){var l=fn(18,null,null,0);return l.stateNode=r,l}function ef(r,l,d){return l=fn(4,r.children!==null?r.children:[],r.key,l),l.lanes=d,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var og=new WeakMap;function kn(r,l){if(typeof r=="object"&&r!==null){var d=og.get(r);return d!==void 0?d:(l={value:r,source:l,stack:lx(l)},og.set(r,l),l)}return{value:r,source:l,stack:lx(l)}}var Oa=[],Ra=0,Oo=null,Hi=0,Sn=[],Cn=0,Ps=null,Wn=1,Kn="";function ds(r,l){Oa[Ra++]=Hi,Oa[Ra++]=Oo,Oo=r,Hi=l}function cg(r,l,d){Sn[Cn++]=Wn,Sn[Cn++]=Kn,Sn[Cn++]=Ps,Ps=r;var f=Wn;r=Kn;var x=32-dn(f)-1;f&=~(1<<x),d+=1;var b=32-dn(l)+x;if(30<b){var w=x-x%5;b=(f&(1<<w)-1).toString(32),f>>=w,x-=w,Wn=1<<32-dn(l)+x|d<<x|f,Kn=b+r}else Wn=1<<b|d<<x|f,Kn=r}function tf(r){r.return!==null&&(ds(r,1),cg(r,1,0))}function nf(r){for(;r===Oo;)Oo=Oa[--Ra],Oa[Ra]=null,Hi=Oa[--Ra],Oa[Ra]=null;for(;r===Ps;)Ps=Sn[--Cn],Sn[Cn]=null,Kn=Sn[--Cn],Sn[Cn]=null,Wn=Sn[--Cn],Sn[Cn]=null}function dg(r,l){Sn[Cn++]=Wn,Sn[Cn++]=Kn,Sn[Cn++]=Ps,Wn=l.id,Kn=l.overflow,Ps=r}var At=null,Ye=null,De=!1,Is=null,En=!1,sf=Error(s(519));function Fs(r){var l=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pi(kn(l,r)),sf}function ug(r){var l=r.stateNode,d=r.type,f=r.memoizedProps;switch(l[Tt]=r,l[Gt]=f,d){case"dialog":Me("cancel",l),Me("close",l);break;case"iframe":case"object":case"embed":Me("load",l);break;case"video":case"audio":for(d=0;d<ol.length;d++)Me(ol[d],l);break;case"source":Me("error",l);break;case"img":case"image":case"link":Me("error",l),Me("load",l);break;case"details":Me("toggle",l);break;case"input":Me("invalid",l),kx(l,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Me("invalid",l);break;case"textarea":Me("invalid",l),Cx(l,f.value,f.defaultValue,f.children)}d=f.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||f.suppressHydrationWarning===!0||Tb(l.textContent,d)?(f.popover!=null&&(Me("beforetoggle",l),Me("toggle",l)),f.onScroll!=null&&Me("scroll",l),f.onScrollEnd!=null&&Me("scrollend",l),f.onClick!=null&&(l.onclick=is),l=!0):l=!1,l||Fs(r,!0)}function fg(r){for(At=r.return;At;)switch(At.tag){case 5:case 31:case 13:En=!1;return;case 27:case 3:En=!0;return;default:At=At.return}}function Da(r){if(r!==At)return!1;if(!De)return fg(r),De=!0,!1;var l=r.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||jh(r.type,r.memoizedProps)),d=!d),d&&Ye&&Fs(r),fg(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Ye=Bb(r)}else if(l===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Ye=Bb(r)}else l===27?(l=Ye,nr(r.type)?(r=Eh,Eh=null,Ye=r):Ye=l):Ye=At?An(r.stateNode.nextSibling):null;return!0}function Br(){Ye=At=null,De=!1}function rf(){var r=Is;return r!==null&&(Zt===null?Zt=r:Zt.push.apply(Zt,r),Is=null),r}function Pi(r){Is===null?Is=[r]:Is.push(r)}var af=L(null),Ur=null,us=null;function $s(r,l,d){re(af,l._currentValue),l._currentValue=d}function fs(r){r._currentValue=af.current,Z(af)}function lf(r,l,d){for(;r!==null;){var f=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),r===d)break;r=r.return}}function of(r,l,d,f){var x=r.child;for(x!==null&&(x.return=r);x!==null;){var b=x.dependencies;if(b!==null){var w=x.child;b=b.firstContext;e:for(;b!==null;){var E=b;b=x;for(var R=0;R<l.length;R++)if(E.context===l[R]){b.lanes|=d,E=b.alternate,E!==null&&(E.lanes|=d),lf(b.return,d,r),f||(w=null);break e}b=E.next}}else if(x.tag===18){if(w=x.return,w===null)throw Error(s(341));w.lanes|=d,b=w.alternate,b!==null&&(b.lanes|=d),lf(w,d,r),w=null}else w=x.child;if(w!==null)w.return=x;else for(w=x;w!==null;){if(w===r){w=null;break}if(x=w.sibling,x!==null){x.return=w.return,w=x;break}w=w.return}x=w}}function La(r,l,d,f){r=null;for(var x=l,b=!1;x!==null;){if(!b){if((x.flags&524288)!==0)b=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var w=x.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var E=x.type;un(x.pendingProps.value,w.value)||(r!==null?r.push(E):r=[E])}}else if(x===He.current){if(w=x.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(r!==null?r.push(hl):r=[hl])}x=x.return}r!==null&&of(l,r,d,f),l.flags|=262144}function Ro(r){for(r=r.firstContext;r!==null;){if(!un(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Hr(r){Ur=r,us=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Mt(r){return hg(Ur,r)}function Do(r,l){return Ur===null&&Hr(r),hg(r,l)}function hg(r,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},us===null){if(r===null)throw Error(s(308));us=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else us=us.next=l;return d}var kk=typeof AbortController<"u"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(d,f){r.push(f)}};this.abort=function(){l.aborted=!0,r.forEach(function(d){return d()})}},Sk=t.unstable_scheduleCallback,Ck=t.unstable_NormalPriority,ft={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cf(){return{controller:new kk,data:new Map,refCount:0}}function Ii(r){r.refCount--,r.refCount===0&&Sk(Ck,function(){r.controller.abort()})}var Fi=null,df=0,za=0,_a=null;function Ek(r,l){if(Fi===null){var d=Fi=[];df=0,za=hh(),_a={status:"pending",value:void 0,then:function(f){d.push(f)}}}return df++,l.then(mg,mg),l}function mg(){if(--df===0&&Fi!==null){_a!==null&&(_a.status="fulfilled");var r=Fi;Fi=null,za=0,_a=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function Tk(r,l){var d=[],f={status:"pending",value:null,reason:null,then:function(x){d.push(x)}};return r.then(function(){f.status="fulfilled",f.value=l;for(var x=0;x<d.length;x++)(0,d[x])(l)},function(x){for(f.status="rejected",f.reason=x,x=0;x<d.length;x++)(0,d[x])(void 0)}),f}var pg=O.S;O.S=function(r,l){Q0=on(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&Ek(r,l),pg!==null&&pg(r,l)};var Pr=L(null);function uf(){var r=Pr.current;return r!==null?r:Ke.pooledCache}function Lo(r,l){l===null?re(Pr,Pr.current):re(Pr,l.pool)}function xg(){var r=uf();return r===null?null:{parent:ft._currentValue,pool:r}}var Ba=Error(s(460)),ff=Error(s(474)),zo=Error(s(542)),_o={then:function(){}};function gg(r){return r=r.status,r==="fulfilled"||r==="rejected"}function bg(r,l,d){switch(d=r[d],d===void 0?r.push(l):d!==l&&(l.then(is,is),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,vg(r),r;default:if(typeof l.status=="string")l.then(is,is);else{if(r=Ke,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=l,r.status="pending",r.then(function(f){if(l.status==="pending"){var x=l;x.status="fulfilled",x.value=f}},function(f){if(l.status==="pending"){var x=l;x.status="rejected",x.reason=f}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,vg(r),r}throw Fr=l,Ba}}function Ir(r){try{var l=r._init;return l(r._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Fr=d,Ba):d}}var Fr=null;function yg(){if(Fr===null)throw Error(s(459));var r=Fr;return Fr=null,r}function vg(r){if(r===Ba||r===zo)throw Error(s(483))}var Ua=null,$i=0;function Bo(r){var l=$i;return $i+=1,Ua===null&&(Ua=[]),bg(Ua,r,l)}function Vi(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function Uo(r,l){throw l.$$typeof===y?Error(s(525)):(r=Object.prototype.toString.call(l),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function Ng(r){function l(U,z){if(r){var F=U.deletions;F===null?(U.deletions=[z],U.flags|=16):F.push(z)}}function d(U,z){if(!r)return null;for(;z!==null;)l(U,z),z=z.sibling;return null}function f(U){for(var z=new Map;U!==null;)U.key!==null?z.set(U.key,U):z.set(U.index,U),U=U.sibling;return z}function x(U,z){return U=cs(U,z),U.index=0,U.sibling=null,U}function b(U,z,F){return U.index=F,r?(F=U.alternate,F!==null?(F=F.index,F<z?(U.flags|=67108866,z):F):(U.flags|=67108866,z)):(U.flags|=1048576,z)}function w(U){return r&&U.alternate===null&&(U.flags|=67108866),U}function E(U,z,F,Q){return z===null||z.tag!==6?(z=Zu(F,U.mode,Q),z.return=U,z):(z=x(z,F),z.return=U,z)}function R(U,z,F,Q){var fe=F.type;return fe===k?Y(U,z,F.props.children,Q,F.key):z!==null&&(z.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===D&&Ir(fe)===z.type)?(z=x(z,F.props),Vi(z,F),z.return=U,z):(z=Mo(F.type,F.key,F.props,null,U.mode,Q),Vi(z,F),z.return=U,z)}function $(U,z,F,Q){return z===null||z.tag!==4||z.stateNode.containerInfo!==F.containerInfo||z.stateNode.implementation!==F.implementation?(z=ef(F,U.mode,Q),z.return=U,z):(z=x(z,F.children||[]),z.return=U,z)}function Y(U,z,F,Q,fe){return z===null||z.tag!==7?(z=_r(F,U.mode,Q,fe),z.return=U,z):(z=x(z,F),z.return=U,z)}function ee(U,z,F){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Zu(""+z,U.mode,F),z.return=U,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case N:return F=Mo(z.type,z.key,z.props,null,U.mode,F),Vi(F,z),F.return=U,F;case v:return z=ef(z,U.mode,F),z.return=U,z;case D:return z=Ir(z),ee(U,z,F)}if(te(z)||X(z))return z=_r(z,U.mode,F,null),z.return=U,z;if(typeof z.then=="function")return ee(U,Bo(z),F);if(z.$$typeof===M)return ee(U,Do(U,z),F);Uo(U,z)}return null}function V(U,z,F,Q){var fe=z!==null?z.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return fe!==null?null:E(U,z,""+F,Q);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case N:return F.key===fe?R(U,z,F,Q):null;case v:return F.key===fe?$(U,z,F,Q):null;case D:return F=Ir(F),V(U,z,F,Q)}if(te(F)||X(F))return fe!==null?null:Y(U,z,F,Q,null);if(typeof F.then=="function")return V(U,z,Bo(F),Q);if(F.$$typeof===M)return V(U,z,Do(U,F),Q);Uo(U,F)}return null}function W(U,z,F,Q,fe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(F)||null,E(z,U,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case N:return U=U.get(Q.key===null?F:Q.key)||null,R(z,U,Q,fe);case v:return U=U.get(Q.key===null?F:Q.key)||null,$(z,U,Q,fe);case D:return Q=Ir(Q),W(U,z,F,Q,fe)}if(te(Q)||X(Q))return U=U.get(F)||null,Y(z,U,Q,fe,null);if(typeof Q.then=="function")return W(U,z,F,Bo(Q),fe);if(Q.$$typeof===M)return W(U,z,F,Do(z,Q),fe);Uo(z,Q)}return null}function oe(U,z,F,Q){for(var fe=null,ze=null,de=z,je=z=0,Re=null;de!==null&&je<F.length;je++){de.index>je?(Re=de,de=null):Re=de.sibling;var _e=V(U,de,F[je],Q);if(_e===null){de===null&&(de=Re);break}r&&de&&_e.alternate===null&&l(U,de),z=b(_e,z,je),ze===null?fe=_e:ze.sibling=_e,ze=_e,de=Re}if(je===F.length)return d(U,de),De&&ds(U,je),fe;if(de===null){for(;je<F.length;je++)de=ee(U,F[je],Q),de!==null&&(z=b(de,z,je),ze===null?fe=de:ze.sibling=de,ze=de);return De&&ds(U,je),fe}for(de=f(de);je<F.length;je++)Re=W(de,U,je,F[je],Q),Re!==null&&(r&&Re.alternate!==null&&de.delete(Re.key===null?je:Re.key),z=b(Re,z,je),ze===null?fe=Re:ze.sibling=Re,ze=Re);return r&&de.forEach(function(lr){return l(U,lr)}),De&&ds(U,je),fe}function me(U,z,F,Q){if(F==null)throw Error(s(151));for(var fe=null,ze=null,de=z,je=z=0,Re=null,_e=F.next();de!==null&&!_e.done;je++,_e=F.next()){de.index>je?(Re=de,de=null):Re=de.sibling;var lr=V(U,de,_e.value,Q);if(lr===null){de===null&&(de=Re);break}r&&de&&lr.alternate===null&&l(U,de),z=b(lr,z,je),ze===null?fe=lr:ze.sibling=lr,ze=lr,de=Re}if(_e.done)return d(U,de),De&&ds(U,je),fe;if(de===null){for(;!_e.done;je++,_e=F.next())_e=ee(U,_e.value,Q),_e!==null&&(z=b(_e,z,je),ze===null?fe=_e:ze.sibling=_e,ze=_e);return De&&ds(U,je),fe}for(de=f(de);!_e.done;je++,_e=F.next())_e=W(de,U,je,_e.value,Q),_e!==null&&(r&&_e.alternate!==null&&de.delete(_e.key===null?je:_e.key),z=b(_e,z,je),ze===null?fe=_e:ze.sibling=_e,ze=_e);return r&&de.forEach(function(HS){return l(U,HS)}),De&&ds(U,je),fe}function qe(U,z,F,Q){if(typeof F=="object"&&F!==null&&F.type===k&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case N:e:{for(var fe=F.key;z!==null;){if(z.key===fe){if(fe=F.type,fe===k){if(z.tag===7){d(U,z.sibling),Q=x(z,F.props.children),Q.return=U,U=Q;break e}}else if(z.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===D&&Ir(fe)===z.type){d(U,z.sibling),Q=x(z,F.props),Vi(Q,F),Q.return=U,U=Q;break e}d(U,z);break}else l(U,z);z=z.sibling}F.type===k?(Q=_r(F.props.children,U.mode,Q,F.key),Q.return=U,U=Q):(Q=Mo(F.type,F.key,F.props,null,U.mode,Q),Vi(Q,F),Q.return=U,U=Q)}return w(U);case v:e:{for(fe=F.key;z!==null;){if(z.key===fe)if(z.tag===4&&z.stateNode.containerInfo===F.containerInfo&&z.stateNode.implementation===F.implementation){d(U,z.sibling),Q=x(z,F.children||[]),Q.return=U,U=Q;break e}else{d(U,z);break}else l(U,z);z=z.sibling}Q=ef(F,U.mode,Q),Q.return=U,U=Q}return w(U);case D:return F=Ir(F),qe(U,z,F,Q)}if(te(F))return oe(U,z,F,Q);if(X(F)){if(fe=X(F),typeof fe!="function")throw Error(s(150));return F=fe.call(F),me(U,z,F,Q)}if(typeof F.then=="function")return qe(U,z,Bo(F),Q);if(F.$$typeof===M)return qe(U,z,Do(U,F),Q);Uo(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,z!==null&&z.tag===6?(d(U,z.sibling),Q=x(z,F),Q.return=U,U=Q):(d(U,z),Q=Zu(F,U.mode,Q),Q.return=U,U=Q),w(U)):d(U,z)}return function(U,z,F,Q){try{$i=0;var fe=qe(U,z,F,Q);return Ua=null,fe}catch(de){if(de===Ba||de===zo)throw de;var ze=fn(29,de,null,U.mode);return ze.lanes=Q,ze.return=U,ze}}}var $r=Ng(!0),jg=Ng(!1),Vs=!1;function hf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mf(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function qs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ws(r,l,d){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(Ue&2)!==0){var x=f.pending;return x===null?l.next=l:(l.next=x.next,x.next=l),f.pending=l,l=Ao(r),ag(r,null,d),l}return To(r,f,l,d),Ao(r)}function qi(r,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var f=l.lanes;f&=r.pendingLanes,d|=f,l.lanes=d,hx(r,d)}}function pf(r,l){var d=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,d===f)){var x=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var w={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};b===null?x=b=w:b=b.next=w,d=d.next}while(d!==null);b===null?x=b=l:b=b.next=l}else x=b=l;d={baseState:f.baseState,firstBaseUpdate:x,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=l:r.next=l,d.lastBaseUpdate=l}var xf=!1;function Wi(){if(xf){var r=_a;if(r!==null)throw r}}function Ki(r,l,d,f){xf=!1;var x=r.updateQueue;Vs=!1;var b=x.firstBaseUpdate,w=x.lastBaseUpdate,E=x.shared.pending;if(E!==null){x.shared.pending=null;var R=E,$=R.next;R.next=null,w===null?b=$:w.next=$,w=R;var Y=r.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==w&&(E===null?Y.firstBaseUpdate=$:E.next=$,Y.lastBaseUpdate=R))}if(b!==null){var ee=x.baseState;w=0,Y=$=R=null,E=b;do{var V=E.lane&-536870913,W=V!==E.lane;if(W?(Oe&V)===V:(f&V)===V){V!==0&&V===za&&(xf=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=r,me=E;V=l;var qe=d;switch(me.tag){case 1:if(oe=me.payload,typeof oe=="function"){ee=oe.call(qe,ee,V);break e}ee=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=me.payload,V=typeof oe=="function"?oe.call(qe,ee,V):oe,V==null)break e;ee=g({},ee,V);break e;case 2:Vs=!0}}V=E.callback,V!==null&&(r.flags|=64,W&&(r.flags|=8192),W=x.callbacks,W===null?x.callbacks=[V]:W.push(V))}else W={lane:V,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?($=Y=W,R=ee):Y=Y.next=W,w|=V;if(E=E.next,E===null){if(E=x.shared.pending,E===null)break;W=E,E=W.next,W.next=null,x.lastBaseUpdate=W,x.shared.pending=null}}while(!0);Y===null&&(R=ee),x.baseState=R,x.firstBaseUpdate=$,x.lastBaseUpdate=Y,b===null&&(x.shared.lanes=0),Xs|=w,r.lanes=w,r.memoizedState=ee}}function wg(r,l){if(typeof r!="function")throw Error(s(191,r));r.call(l)}function kg(r,l){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)wg(d[r],l)}var Ha=L(null),Ho=L(0);function Sg(r,l){r=Ns,re(Ho,r),re(Ha,l),Ns=r|l.baseLanes}function gf(){re(Ho,Ns),re(Ha,Ha.current)}function bf(){Ns=Ho.current,Z(Ha),Z(Ho)}var hn=L(null),Tn=null;function Ks(r){var l=r.alternate;re(lt,lt.current&1),re(hn,r),Tn===null&&(l===null||Ha.current!==null||l.memoizedState!==null)&&(Tn=r)}function yf(r){re(lt,lt.current),re(hn,r),Tn===null&&(Tn=r)}function Cg(r){r.tag===22?(re(lt,lt.current),re(hn,r),Tn===null&&(Tn=r)):Gs()}function Gs(){re(lt,lt.current),re(hn,hn.current)}function mn(r){Z(hn),Tn===r&&(Tn=null),Z(lt)}var lt=L(0);function Po(r){for(var l=r;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Sh(d)||Ch(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var hs=0,ve=null,$e=null,ht=null,Io=!1,Pa=!1,Vr=!1,Fo=0,Gi=0,Ia=null,Ak=0;function nt(){throw Error(s(321))}function vf(r,l){if(l===null)return!1;for(var d=0;d<l.length&&d<r.length;d++)if(!un(r[d],l[d]))return!1;return!0}function Nf(r,l,d,f,x,b){return hs=b,ve=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,O.H=r===null||r.memoizedState===null?c0:_f,Vr=!1,b=d(f,x),Vr=!1,Pa&&(b=Tg(l,d,f,x)),Eg(r),b}function Eg(r){O.H=Xi;var l=$e!==null&&$e.next!==null;if(hs=0,ht=$e=ve=null,Io=!1,Gi=0,Ia=null,l)throw Error(s(300));r===null||mt||(r=r.dependencies,r!==null&&Ro(r)&&(mt=!0))}function Tg(r,l,d,f){ve=r;var x=0;do{if(Pa&&(Ia=null),Gi=0,Pa=!1,25<=x)throw Error(s(301));if(x+=1,ht=$e=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}O.H=d0,b=l(d,f)}while(Pa);return b}function Mk(){var r=O.H,l=r.useState()[0];return l=typeof l.then=="function"?Yi(l):l,r=r.useState()[0],($e!==null?$e.memoizedState:null)!==r&&(ve.flags|=1024),l}function jf(){var r=Fo!==0;return Fo=0,r}function wf(r,l,d){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~d}function kf(r){if(Io){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}Io=!1}hs=0,ht=$e=ve=null,Pa=!1,Gi=Fo=0,Ia=null}function $t(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?ve.memoizedState=ht=r:ht=ht.next=r,ht}function ot(){if($e===null){var r=ve.alternate;r=r!==null?r.memoizedState:null}else r=$e.next;var l=ht===null?ve.memoizedState:ht.next;if(l!==null)ht=l,$e=r;else{if(r===null)throw ve.alternate===null?Error(s(467)):Error(s(310));$e=r,r={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},ht===null?ve.memoizedState=ht=r:ht=ht.next=r}return ht}function $o(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yi(r){var l=Gi;return Gi+=1,Ia===null&&(Ia=[]),r=bg(Ia,r,l),l=ve,(ht===null?l.memoizedState:ht.next)===null&&(l=l.alternate,O.H=l===null||l.memoizedState===null?c0:_f),r}function Vo(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Yi(r);if(r.$$typeof===M)return Mt(r)}throw Error(s(438,String(r)))}function Sf(r){var l=null,d=ve.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var f=ve.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(l={data:f.data.map(function(x){return x.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=$o(),ve.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(r),f=0;f<r;f++)d[f]=I;return l.index++,d}function ms(r,l){return typeof l=="function"?l(r):l}function qo(r){var l=ot();return Cf(l,$e,r)}function Cf(r,l,d){var f=r.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=d;var x=r.baseQueue,b=f.pending;if(b!==null){if(x!==null){var w=x.next;x.next=b.next,b.next=w}l.baseQueue=x=b,f.pending=null}if(b=r.baseState,x===null)r.memoizedState=b;else{l=x.next;var E=w=null,R=null,$=l,Y=!1;do{var ee=$.lane&-536870913;if(ee!==$.lane?(Oe&ee)===ee:(hs&ee)===ee){var V=$.revertLane;if(V===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ee===za&&(Y=!0);else if((hs&V)===V){$=$.next,V===za&&(Y=!0);continue}else ee={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},R===null?(E=R=ee,w=b):R=R.next=ee,ve.lanes|=V,Xs|=V;ee=$.action,Vr&&d(b,ee),b=$.hasEagerState?$.eagerState:d(b,ee)}else V={lane:ee,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},R===null?(E=R=V,w=b):R=R.next=V,ve.lanes|=ee,Xs|=ee;$=$.next}while($!==null&&$!==l);if(R===null?w=b:R.next=E,!un(b,r.memoizedState)&&(mt=!0,Y&&(d=_a,d!==null)))throw d;r.memoizedState=b,r.baseState=w,r.baseQueue=R,f.lastRenderedState=b}return x===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function Ef(r){var l=ot(),d=l.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=r;var f=d.dispatch,x=d.pending,b=l.memoizedState;if(x!==null){d.pending=null;var w=x=x.next;do b=r(b,w.action),w=w.next;while(w!==x);un(b,l.memoizedState)||(mt=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),d.lastRenderedState=b}return[b,f]}function Ag(r,l,d){var f=ve,x=ot(),b=De;if(b){if(d===void 0)throw Error(s(407));d=d()}else d=l();var w=!un(($e||x).memoizedState,d);if(w&&(x.memoizedState=d,mt=!0),x=x.queue,Mf(Rg.bind(null,f,x,r),[r]),x.getSnapshot!==l||w||ht!==null&&ht.memoizedState.tag&1){if(f.flags|=2048,Fa(9,{destroy:void 0},Og.bind(null,f,x,d,l),null),Ke===null)throw Error(s(349));b||(hs&127)!==0||Mg(f,l,d)}return d}function Mg(r,l,d){r.flags|=16384,r={getSnapshot:l,value:d},l=ve.updateQueue,l===null?(l=$o(),ve.updateQueue=l,l.stores=[r]):(d=l.stores,d===null?l.stores=[r]:d.push(r))}function Og(r,l,d,f){l.value=d,l.getSnapshot=f,Dg(l)&&Lg(r)}function Rg(r,l,d){return d(function(){Dg(l)&&Lg(r)})}function Dg(r){var l=r.getSnapshot;r=r.value;try{var d=l();return!un(r,d)}catch{return!0}}function Lg(r){var l=zr(r,2);l!==null&&en(l,r,2)}function Tf(r){var l=$t();if(typeof r=="function"){var d=r;if(r=d(),Vr){Bs(!0);try{d()}finally{Bs(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:r},l}function zg(r,l,d,f){return r.baseState=d,Cf(r,$e,typeof f=="function"?f:ms)}function Ok(r,l,d,f,x){if(Go(r))throw Error(s(485));if(r=l.action,r!==null){var b={payload:x,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){b.listeners.push(w)}};O.T!==null?d(!0):b.isTransition=!1,f(b),d=l.pending,d===null?(b.next=l.pending=b,_g(l,b)):(b.next=d.next,l.pending=d.next=b)}}function _g(r,l){var d=l.action,f=l.payload,x=r.state;if(l.isTransition){var b=O.T,w={};O.T=w;try{var E=d(x,f),R=O.S;R!==null&&R(w,E),Bg(r,l,E)}catch($){Af(r,l,$)}finally{b!==null&&w.types!==null&&(b.types=w.types),O.T=b}}else try{b=d(x,f),Bg(r,l,b)}catch($){Af(r,l,$)}}function Bg(r,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(f){Ug(r,l,f)},function(f){return Af(r,l,f)}):Ug(r,l,d)}function Ug(r,l,d){l.status="fulfilled",l.value=d,Hg(l),r.state=d,l=r.pending,l!==null&&(d=l.next,d===l?r.pending=null:(d=d.next,l.next=d,_g(r,d)))}function Af(r,l,d){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do l.status="rejected",l.reason=d,Hg(l),l=l.next;while(l!==f)}r.action=null}function Hg(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function Pg(r,l){return l}function Ig(r,l){if(De){var d=Ke.formState;if(d!==null){e:{var f=ve;if(De){if(Ye){t:{for(var x=Ye,b=En;x.nodeType!==8;){if(!b){x=null;break t}if(x=An(x.nextSibling),x===null){x=null;break t}}b=x.data,x=b==="F!"||b==="F"?x:null}if(x){Ye=An(x.nextSibling),f=x.data==="F!";break e}}Fs(f)}f=!1}f&&(l=d[0])}}return d=$t(),d.memoizedState=d.baseState=l,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pg,lastRenderedState:l},d.queue=f,d=i0.bind(null,ve,f),f.dispatch=d,f=Tf(!1),b=zf.bind(null,ve,!1,f.queue),f=$t(),x={state:l,dispatch:null,action:r,pending:null},f.queue=x,d=Ok.bind(null,ve,x,b,d),x.dispatch=d,f.memoizedState=r,[l,d,!1]}function Fg(r){var l=ot();return $g(l,$e,r)}function $g(r,l,d){if(l=Cf(r,l,Pg)[0],r=qo(ms)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var f=Yi(l)}catch(w){throw w===Ba?zo:w}else f=l;l=ot();var x=l.queue,b=x.dispatch;return d!==l.memoizedState&&(ve.flags|=2048,Fa(9,{destroy:void 0},Rk.bind(null,x,d),null)),[f,b,r]}function Rk(r,l){r.action=l}function Vg(r){var l=ot(),d=$e;if(d!==null)return $g(l,d,r);ot(),l=l.memoizedState,d=ot();var f=d.queue.dispatch;return d.memoizedState=r,[l,f,!1]}function Fa(r,l,d,f){return r={tag:r,create:d,deps:f,inst:l,next:null},l=ve.updateQueue,l===null&&(l=$o(),ve.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=r.next=r:(f=d.next,d.next=r,r.next=f,l.lastEffect=r),r}function qg(){return ot().memoizedState}function Wo(r,l,d,f){var x=$t();ve.flags|=r,x.memoizedState=Fa(1|l,{destroy:void 0},d,f===void 0?null:f)}function Ko(r,l,d,f){var x=ot();f=f===void 0?null:f;var b=x.memoizedState.inst;$e!==null&&f!==null&&vf(f,$e.memoizedState.deps)?x.memoizedState=Fa(l,b,d,f):(ve.flags|=r,x.memoizedState=Fa(1|l,b,d,f))}function Wg(r,l){Wo(8390656,8,r,l)}function Mf(r,l){Ko(2048,8,r,l)}function Dk(r){ve.flags|=4;var l=ve.updateQueue;if(l===null)l=$o(),ve.updateQueue=l,l.events=[r];else{var d=l.events;d===null?l.events=[r]:d.push(r)}}function Kg(r){var l=ot().memoizedState;return Dk({ref:l,nextImpl:r}),function(){if((Ue&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}function Gg(r,l){return Ko(4,2,r,l)}function Yg(r,l){return Ko(4,4,r,l)}function Jg(r,l){if(typeof l=="function"){r=r();var d=l(r);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function Xg(r,l,d){d=d!=null?d.concat([r]):null,Ko(4,4,Jg.bind(null,l,r),d)}function Of(){}function Qg(r,l){var d=ot();l=l===void 0?null:l;var f=d.memoizedState;return l!==null&&vf(l,f[1])?f[0]:(d.memoizedState=[r,l],r)}function Zg(r,l){var d=ot();l=l===void 0?null:l;var f=d.memoizedState;if(l!==null&&vf(l,f[1]))return f[0];if(f=r(),Vr){Bs(!0);try{r()}finally{Bs(!1)}}return d.memoizedState=[f,l],f}function Rf(r,l,d){return d===void 0||(hs&1073741824)!==0&&(Oe&261930)===0?r.memoizedState=l:(r.memoizedState=d,r=eb(),ve.lanes|=r,Xs|=r,d)}function e0(r,l,d,f){return un(d,l)?d:Ha.current!==null?(r=Rf(r,d,f),un(r,l)||(mt=!0),r):(hs&42)===0||(hs&1073741824)!==0&&(Oe&261930)===0?(mt=!0,r.memoizedState=d):(r=eb(),ve.lanes|=r,Xs|=r,l)}function t0(r,l,d,f,x){var b=K.p;K.p=b!==0&&8>b?b:8;var w=O.T,E={};O.T=E,zf(r,!1,l,d);try{var R=x(),$=O.S;if($!==null&&$(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Y=Tk(R,f);Ji(r,l,Y,gn(r))}else Ji(r,l,f,gn(r))}catch(ee){Ji(r,l,{then:function(){},status:"rejected",reason:ee},gn())}finally{K.p=b,w!==null&&E.types!==null&&(w.types=E.types),O.T=w}}function Lk(){}function Df(r,l,d,f){if(r.tag!==5)throw Error(s(476));var x=n0(r).queue;t0(r,x,l,ae,d===null?Lk:function(){return s0(r),d(f)})}function n0(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:ae},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:d},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function s0(r){var l=n0(r);l.next===null&&(l=r.alternate.memoizedState),Ji(r,l.next.queue,{},gn())}function Lf(){return Mt(hl)}function r0(){return ot().memoizedState}function a0(){return ot().memoizedState}function zk(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var d=gn();r=qs(d);var f=Ws(l,r,d);f!==null&&(en(f,l,d),qi(f,l,d)),l={cache:cf()},r.payload=l;return}l=l.return}}function _k(r,l,d){var f=gn();d={lane:f,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Go(r)?l0(l,d):(d=Xu(r,l,d,f),d!==null&&(en(d,r,f),o0(d,l,f)))}function i0(r,l,d){var f=gn();Ji(r,l,d,f)}function Ji(r,l,d,f){var x={lane:f,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Go(r))l0(l,x);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var w=l.lastRenderedState,E=b(w,d);if(x.hasEagerState=!0,x.eagerState=E,un(E,w))return To(r,l,x,0),Ke===null&&Eo(),!1}catch{}if(d=Xu(r,l,x,f),d!==null)return en(d,r,f),o0(d,l,f),!0}return!1}function zf(r,l,d,f){if(f={lane:2,revertLane:hh(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Go(r)){if(l)throw Error(s(479))}else l=Xu(r,d,f,2),l!==null&&en(l,r,2)}function Go(r){var l=r.alternate;return r===ve||l!==null&&l===ve}function l0(r,l){Pa=Io=!0;var d=r.pending;d===null?l.next=l:(l.next=d.next,d.next=l),r.pending=l}function o0(r,l,d){if((d&4194048)!==0){var f=l.lanes;f&=r.pendingLanes,d|=f,l.lanes=d,hx(r,d)}}var Xi={readContext:Mt,use:Vo,useCallback:nt,useContext:nt,useEffect:nt,useImperativeHandle:nt,useLayoutEffect:nt,useInsertionEffect:nt,useMemo:nt,useReducer:nt,useRef:nt,useState:nt,useDebugValue:nt,useDeferredValue:nt,useTransition:nt,useSyncExternalStore:nt,useId:nt,useHostTransitionStatus:nt,useFormState:nt,useActionState:nt,useOptimistic:nt,useMemoCache:nt,useCacheRefresh:nt};Xi.useEffectEvent=nt;var c0={readContext:Mt,use:Vo,useCallback:function(r,l){return $t().memoizedState=[r,l===void 0?null:l],r},useContext:Mt,useEffect:Wg,useImperativeHandle:function(r,l,d){d=d!=null?d.concat([r]):null,Wo(4194308,4,Jg.bind(null,l,r),d)},useLayoutEffect:function(r,l){return Wo(4194308,4,r,l)},useInsertionEffect:function(r,l){Wo(4,2,r,l)},useMemo:function(r,l){var d=$t();l=l===void 0?null:l;var f=r();if(Vr){Bs(!0);try{r()}finally{Bs(!1)}}return d.memoizedState=[f,l],f},useReducer:function(r,l,d){var f=$t();if(d!==void 0){var x=d(l);if(Vr){Bs(!0);try{d(l)}finally{Bs(!1)}}}else x=l;return f.memoizedState=f.baseState=x,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:x},f.queue=r,r=r.dispatch=_k.bind(null,ve,r),[f.memoizedState,r]},useRef:function(r){var l=$t();return r={current:r},l.memoizedState=r},useState:function(r){r=Tf(r);var l=r.queue,d=i0.bind(null,ve,l);return l.dispatch=d,[r.memoizedState,d]},useDebugValue:Of,useDeferredValue:function(r,l){var d=$t();return Rf(d,r,l)},useTransition:function(){var r=Tf(!1);return r=t0.bind(null,ve,r.queue,!0,!1),$t().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,d){var f=ve,x=$t();if(De){if(d===void 0)throw Error(s(407));d=d()}else{if(d=l(),Ke===null)throw Error(s(349));(Oe&127)!==0||Mg(f,l,d)}x.memoizedState=d;var b={value:d,getSnapshot:l};return x.queue=b,Wg(Rg.bind(null,f,b,r),[r]),f.flags|=2048,Fa(9,{destroy:void 0},Og.bind(null,f,b,d,l),null),d},useId:function(){var r=$t(),l=Ke.identifierPrefix;if(De){var d=Kn,f=Wn;d=(f&~(1<<32-dn(f)-1)).toString(32)+d,l="_"+l+"R_"+d,d=Fo++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=Ak++,l="_"+l+"r_"+d.toString(32)+"_";return r.memoizedState=l},useHostTransitionStatus:Lf,useFormState:Ig,useActionState:Ig,useOptimistic:function(r){var l=$t();l.memoizedState=l.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=zf.bind(null,ve,!0,d),d.dispatch=l,[r,l]},useMemoCache:Sf,useCacheRefresh:function(){return $t().memoizedState=zk.bind(null,ve)},useEffectEvent:function(r){var l=$t(),d={impl:r};return l.memoizedState=d,function(){if((Ue&2)!==0)throw Error(s(440));return d.impl.apply(void 0,arguments)}}},_f={readContext:Mt,use:Vo,useCallback:Qg,useContext:Mt,useEffect:Mf,useImperativeHandle:Xg,useInsertionEffect:Gg,useLayoutEffect:Yg,useMemo:Zg,useReducer:qo,useRef:qg,useState:function(){return qo(ms)},useDebugValue:Of,useDeferredValue:function(r,l){var d=ot();return e0(d,$e.memoizedState,r,l)},useTransition:function(){var r=qo(ms)[0],l=ot().memoizedState;return[typeof r=="boolean"?r:Yi(r),l]},useSyncExternalStore:Ag,useId:r0,useHostTransitionStatus:Lf,useFormState:Fg,useActionState:Fg,useOptimistic:function(r,l){var d=ot();return zg(d,$e,r,l)},useMemoCache:Sf,useCacheRefresh:a0};_f.useEffectEvent=Kg;var d0={readContext:Mt,use:Vo,useCallback:Qg,useContext:Mt,useEffect:Mf,useImperativeHandle:Xg,useInsertionEffect:Gg,useLayoutEffect:Yg,useMemo:Zg,useReducer:Ef,useRef:qg,useState:function(){return Ef(ms)},useDebugValue:Of,useDeferredValue:function(r,l){var d=ot();return $e===null?Rf(d,r,l):e0(d,$e.memoizedState,r,l)},useTransition:function(){var r=Ef(ms)[0],l=ot().memoizedState;return[typeof r=="boolean"?r:Yi(r),l]},useSyncExternalStore:Ag,useId:r0,useHostTransitionStatus:Lf,useFormState:Vg,useActionState:Vg,useOptimistic:function(r,l){var d=ot();return $e!==null?zg(d,$e,r,l):(d.baseState=r,[r,d.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:a0};d0.useEffectEvent=Kg;function Bf(r,l,d,f){l=r.memoizedState,d=d(f,l),d=d==null?l:g({},l,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var Uf={enqueueSetState:function(r,l,d){r=r._reactInternals;var f=gn(),x=qs(f);x.payload=l,d!=null&&(x.callback=d),l=Ws(r,x,f),l!==null&&(en(l,r,f),qi(l,r,f))},enqueueReplaceState:function(r,l,d){r=r._reactInternals;var f=gn(),x=qs(f);x.tag=1,x.payload=l,d!=null&&(x.callback=d),l=Ws(r,x,f),l!==null&&(en(l,r,f),qi(l,r,f))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var d=gn(),f=qs(d);f.tag=2,l!=null&&(f.callback=l),l=Ws(r,f,d),l!==null&&(en(l,r,d),qi(l,r,d))}};function u0(r,l,d,f,x,b,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,b,w):l.prototype&&l.prototype.isPureReactComponent?!Bi(d,f)||!Bi(x,b):!0}function f0(r,l,d,f){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,f),l.state!==r&&Uf.enqueueReplaceState(l,l.state,null)}function qr(r,l){var d=l;if("ref"in l){d={};for(var f in l)f!=="ref"&&(d[f]=l[f])}if(r=r.defaultProps){d===l&&(d=g({},d));for(var x in r)d[x]===void 0&&(d[x]=r[x])}return d}function h0(r){Co(r)}function m0(r){console.error(r)}function p0(r){Co(r)}function Yo(r,l){try{var d=r.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(f){setTimeout(function(){throw f})}}function x0(r,l,d){try{var f=r.onCaughtError;f(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function Hf(r,l,d){return d=qs(d),d.tag=3,d.payload={element:null},d.callback=function(){Yo(r,l)},d}function g0(r){return r=qs(r),r.tag=3,r}function b0(r,l,d,f){var x=d.type.getDerivedStateFromError;if(typeof x=="function"){var b=f.value;r.payload=function(){return x(b)},r.callback=function(){x0(l,d,f)}}var w=d.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){x0(l,d,f),typeof x!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var E=f.stack;this.componentDidCatch(f.value,{componentStack:E!==null?E:""})})}function Bk(r,l,d,f,x){if(d.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(l=d.alternate,l!==null&&La(l,d,x,!0),d=hn.current,d!==null){switch(d.tag){case 31:case 13:return Tn===null?lc():d.alternate===null&&st===0&&(st=3),d.flags&=-257,d.flags|=65536,d.lanes=x,f===_o?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([f]):l.add(f),dh(r,f,x)),!1;case 22:return d.flags|=65536,f===_o?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([f])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([f]):d.add(f)),dh(r,f,x)),!1}throw Error(s(435,d.tag))}return dh(r,f,x),lc(),!1}if(De)return l=hn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=x,f!==sf&&(r=Error(s(422),{cause:f}),Pi(kn(r,d)))):(f!==sf&&(l=Error(s(423),{cause:f}),Pi(kn(l,d))),r=r.current.alternate,r.flags|=65536,x&=-x,r.lanes|=x,f=kn(f,d),x=Hf(r.stateNode,f,x),pf(r,x),st!==4&&(st=2)),!1;var b=Error(s(520),{cause:f});if(b=kn(b,d),al===null?al=[b]:al.push(b),st!==4&&(st=2),l===null)return!0;f=kn(f,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,r=x&-x,d.lanes|=r,r=Hf(d.stateNode,f,r),pf(d,r),!1;case 1:if(l=d.type,b=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Qs===null||!Qs.has(b))))return d.flags|=65536,x&=-x,d.lanes|=x,x=g0(x),b0(x,r,d,f),pf(d,x),!1}d=d.return}while(d!==null);return!1}var Pf=Error(s(461)),mt=!1;function Ot(r,l,d,f){l.child=r===null?jg(l,null,d,f):$r(l,r.child,d,f)}function y0(r,l,d,f,x){d=d.render;var b=l.ref;if("ref"in f){var w={};for(var E in f)E!=="ref"&&(w[E]=f[E])}else w=f;return Hr(l),f=Nf(r,l,d,w,b,x),E=jf(),r!==null&&!mt?(wf(r,l,x),ps(r,l,x)):(De&&E&&tf(l),l.flags|=1,Ot(r,l,f,x),l.child)}function v0(r,l,d,f,x){if(r===null){var b=d.type;return typeof b=="function"&&!Qu(b)&&b.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=b,N0(r,l,b,f,x)):(r=Mo(d.type,null,f,l,l.mode,x),r.ref=l.ref,r.return=l,l.child=r)}if(b=r.child,!Gf(r,x)){var w=b.memoizedProps;if(d=d.compare,d=d!==null?d:Bi,d(w,f)&&r.ref===l.ref)return ps(r,l,x)}return l.flags|=1,r=cs(b,f),r.ref=l.ref,r.return=l,l.child=r}function N0(r,l,d,f,x){if(r!==null){var b=r.memoizedProps;if(Bi(b,f)&&r.ref===l.ref)if(mt=!1,l.pendingProps=f=b,Gf(r,x))(r.flags&131072)!==0&&(mt=!0);else return l.lanes=r.lanes,ps(r,l,x)}return If(r,l,d,f,x)}function j0(r,l,d,f){var x=f.children,b=r!==null?r.memoizedState:null;if(r===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((l.flags&128)!==0){if(b=b!==null?b.baseLanes|d:d,r!==null){for(f=l.child=r.child,x=0;f!==null;)x=x|f.lanes|f.childLanes,f=f.sibling;f=x&~b}else f=0,l.child=null;return w0(r,l,b,d,f)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&Lo(l,b!==null?b.cachePool:null),b!==null?Sg(l,b):gf(),Cg(l);else return f=l.lanes=536870912,w0(r,l,b!==null?b.baseLanes|d:d,d,f)}else b!==null?(Lo(l,b.cachePool),Sg(l,b),Gs(),l.memoizedState=null):(r!==null&&Lo(l,null),gf(),Gs());return Ot(r,l,x,d),l.child}function Qi(r,l){return r!==null&&r.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function w0(r,l,d,f,x){var b=uf();return b=b===null?null:{parent:ft._currentValue,pool:b},l.memoizedState={baseLanes:d,cachePool:b},r!==null&&Lo(l,null),gf(),Cg(l),r!==null&&La(r,l,f,!0),l.childLanes=x,null}function Jo(r,l){return l=Qo({mode:l.mode,children:l.children},r.mode),l.ref=r.ref,r.child=l,l.return=r,l}function k0(r,l,d){return $r(l,r.child,null,d),r=Jo(l,l.pendingProps),r.flags|=2,mn(l),l.memoizedState=null,r}function Uk(r,l,d){var f=l.pendingProps,x=(l.flags&128)!==0;if(l.flags&=-129,r===null){if(De){if(f.mode==="hidden")return r=Jo(l,f),l.lanes=536870912,Qi(null,r);if(yf(l),(r=Ye)?(r=_b(r,En),r=r!==null&&r.data==="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:Ps!==null?{id:Wn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},d=lg(r),d.return=l,l.child=d,At=l,Ye=null)):r=null,r===null)throw Fs(l);return l.lanes=536870912,null}return Jo(l,f)}var b=r.memoizedState;if(b!==null){var w=b.dehydrated;if(yf(l),x)if(l.flags&256)l.flags&=-257,l=k0(r,l,d);else if(l.memoizedState!==null)l.child=r.child,l.flags|=128,l=null;else throw Error(s(558));else if(mt||La(r,l,d,!1),x=(d&r.childLanes)!==0,mt||x){if(f=Ke,f!==null&&(w=mx(f,d),w!==0&&w!==b.retryLane))throw b.retryLane=w,zr(r,w),en(f,r,w),Pf;lc(),l=k0(r,l,d)}else r=b.treeContext,Ye=An(w.nextSibling),At=l,De=!0,Is=null,En=!1,r!==null&&dg(l,r),l=Jo(l,f),l.flags|=4096;return l}return r=cs(r.child,{mode:f.mode,children:f.children}),r.ref=l.ref,l.child=r,r.return=l,r}function Xo(r,l){var d=l.ref;if(d===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(s(284));(r===null||r.ref!==d)&&(l.flags|=4194816)}}function If(r,l,d,f,x){return Hr(l),d=Nf(r,l,d,f,void 0,x),f=jf(),r!==null&&!mt?(wf(r,l,x),ps(r,l,x)):(De&&f&&tf(l),l.flags|=1,Ot(r,l,d,x),l.child)}function S0(r,l,d,f,x,b){return Hr(l),l.updateQueue=null,d=Tg(l,f,d,x),Eg(r),f=jf(),r!==null&&!mt?(wf(r,l,b),ps(r,l,b)):(De&&f&&tf(l),l.flags|=1,Ot(r,l,d,b),l.child)}function C0(r,l,d,f,x){if(Hr(l),l.stateNode===null){var b=Ma,w=d.contextType;typeof w=="object"&&w!==null&&(b=Mt(w)),b=new d(f,b),l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Uf,l.stateNode=b,b._reactInternals=l,b=l.stateNode,b.props=f,b.state=l.memoizedState,b.refs={},hf(l),w=d.contextType,b.context=typeof w=="object"&&w!==null?Mt(w):Ma,b.state=l.memoizedState,w=d.getDerivedStateFromProps,typeof w=="function"&&(Bf(l,d,w,f),b.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(w=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),w!==b.state&&Uf.enqueueReplaceState(b,b.state,null),Ki(l,f,b,x),Wi(),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308),f=!0}else if(r===null){b=l.stateNode;var E=l.memoizedProps,R=qr(d,E);b.props=R;var $=b.context,Y=d.contextType;w=Ma,typeof Y=="object"&&Y!==null&&(w=Mt(Y));var ee=d.getDerivedStateFromProps;Y=typeof ee=="function"||typeof b.getSnapshotBeforeUpdate=="function",E=l.pendingProps!==E,Y||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E||$!==w)&&f0(l,b,f,w),Vs=!1;var V=l.memoizedState;b.state=V,Ki(l,f,b,x),Wi(),$=l.memoizedState,E||V!==$||Vs?(typeof ee=="function"&&(Bf(l,d,ee,f),$=l.memoizedState),(R=Vs||u0(l,d,R,f,V,$,w))?(Y||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(l.flags|=4194308)):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=$),b.props=f,b.state=$,b.context=w,f=R):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{b=l.stateNode,mf(r,l),w=l.memoizedProps,Y=qr(d,w),b.props=Y,ee=l.pendingProps,V=b.context,$=d.contextType,R=Ma,typeof $=="object"&&$!==null&&(R=Mt($)),E=d.getDerivedStateFromProps,($=typeof E=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(w!==ee||V!==R)&&f0(l,b,f,R),Vs=!1,V=l.memoizedState,b.state=V,Ki(l,f,b,x),Wi();var W=l.memoizedState;w!==ee||V!==W||Vs||r!==null&&r.dependencies!==null&&Ro(r.dependencies)?(typeof E=="function"&&(Bf(l,d,E,f),W=l.memoizedState),(Y=Vs||u0(l,d,Y,f,V,W,R)||r!==null&&r.dependencies!==null&&Ro(r.dependencies))?($||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,W,R),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,W,R)),typeof b.componentDidUpdate=="function"&&(l.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof b.componentDidUpdate!="function"||w===r.memoizedProps&&V===r.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&V===r.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=W),b.props=f,b.state=W,b.context=R,f=Y):(typeof b.componentDidUpdate!="function"||w===r.memoizedProps&&V===r.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&V===r.memoizedState||(l.flags|=1024),f=!1)}return b=f,Xo(r,l),f=(l.flags&128)!==0,b||f?(b=l.stateNode,d=f&&typeof d.getDerivedStateFromError!="function"?null:b.render(),l.flags|=1,r!==null&&f?(l.child=$r(l,r.child,null,x),l.child=$r(l,null,d,x)):Ot(r,l,d,x),l.memoizedState=b.state,r=l.child):r=ps(r,l,x),r}function E0(r,l,d,f){return Br(),l.flags|=256,Ot(r,l,d,f),l.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $f(r){return{baseLanes:r,cachePool:xg()}}function Vf(r,l,d){return r=r!==null?r.childLanes&~d:0,l&&(r|=xn),r}function T0(r,l,d){var f=l.pendingProps,x=!1,b=(l.flags&128)!==0,w;if((w=b)||(w=r!==null&&r.memoizedState===null?!1:(lt.current&2)!==0),w&&(x=!0,l.flags&=-129),w=(l.flags&32)!==0,l.flags&=-33,r===null){if(De){if(x?Ks(l):Gs(),(r=Ye)?(r=_b(r,En),r=r!==null&&r.data!=="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:Ps!==null?{id:Wn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},d=lg(r),d.return=l,l.child=d,At=l,Ye=null)):r=null,r===null)throw Fs(l);return Ch(r)?l.lanes=32:l.lanes=536870912,null}var E=f.children;return f=f.fallback,x?(Gs(),x=l.mode,E=Qo({mode:"hidden",children:E},x),f=_r(f,x,d,null),E.return=l,f.return=l,E.sibling=f,l.child=E,f=l.child,f.memoizedState=$f(d),f.childLanes=Vf(r,w,d),l.memoizedState=Ff,Qi(null,f)):(Ks(l),qf(l,E))}var R=r.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(b)l.flags&256?(Ks(l),l.flags&=-257,l=Wf(r,l,d)):l.memoizedState!==null?(Gs(),l.child=r.child,l.flags|=128,l=null):(Gs(),E=f.fallback,x=l.mode,f=Qo({mode:"visible",children:f.children},x),E=_r(E,x,d,null),E.flags|=2,f.return=l,E.return=l,f.sibling=E,l.child=f,$r(l,r.child,null,d),f=l.child,f.memoizedState=$f(d),f.childLanes=Vf(r,w,d),l.memoizedState=Ff,l=Qi(null,f));else if(Ks(l),Ch(E)){if(w=E.nextSibling&&E.nextSibling.dataset,w)var $=w.dgst;w=$,f=Error(s(419)),f.stack="",f.digest=w,Pi({value:f,source:null,stack:null}),l=Wf(r,l,d)}else if(mt||La(r,l,d,!1),w=(d&r.childLanes)!==0,mt||w){if(w=Ke,w!==null&&(f=mx(w,d),f!==0&&f!==R.retryLane))throw R.retryLane=f,zr(r,f),en(w,r,f),Pf;Sh(E)||lc(),l=Wf(r,l,d)}else Sh(E)?(l.flags|=192,l.child=r.child,l=null):(r=R.treeContext,Ye=An(E.nextSibling),At=l,De=!0,Is=null,En=!1,r!==null&&dg(l,r),l=qf(l,f.children),l.flags|=4096);return l}return x?(Gs(),E=f.fallback,x=l.mode,R=r.child,$=R.sibling,f=cs(R,{mode:"hidden",children:f.children}),f.subtreeFlags=R.subtreeFlags&65011712,$!==null?E=cs($,E):(E=_r(E,x,d,null),E.flags|=2),E.return=l,f.return=l,f.sibling=E,l.child=f,Qi(null,f),f=l.child,E=r.child.memoizedState,E===null?E=$f(d):(x=E.cachePool,x!==null?(R=ft._currentValue,x=x.parent!==R?{parent:R,pool:R}:x):x=xg(),E={baseLanes:E.baseLanes|d,cachePool:x}),f.memoizedState=E,f.childLanes=Vf(r,w,d),l.memoizedState=Ff,Qi(r.child,f)):(Ks(l),d=r.child,r=d.sibling,d=cs(d,{mode:"visible",children:f.children}),d.return=l,d.sibling=null,r!==null&&(w=l.deletions,w===null?(l.deletions=[r],l.flags|=16):w.push(r)),l.child=d,l.memoizedState=null,d)}function qf(r,l){return l=Qo({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function Qo(r,l){return r=fn(22,r,null,l),r.lanes=0,r}function Wf(r,l,d){return $r(l,r.child,null,d),r=qf(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function A0(r,l,d){r.lanes|=l;var f=r.alternate;f!==null&&(f.lanes|=l),lf(r.return,l,d)}function Kf(r,l,d,f,x,b){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:d,tailMode:x,treeForkCount:b}:(w.isBackwards=l,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=d,w.tailMode=x,w.treeForkCount=b)}function M0(r,l,d){var f=l.pendingProps,x=f.revealOrder,b=f.tail;f=f.children;var w=lt.current,E=(w&2)!==0;if(E?(w=w&1|2,l.flags|=128):w&=1,re(lt,w),Ot(r,l,f,d),f=De?Hi:0,!E&&r!==null&&(r.flags&128)!==0)e:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&A0(r,d,l);else if(r.tag===19)A0(r,d,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(x){case"forwards":for(d=l.child,x=null;d!==null;)r=d.alternate,r!==null&&Po(r)===null&&(x=d),d=d.sibling;d=x,d===null?(x=l.child,l.child=null):(x=d.sibling,d.sibling=null),Kf(l,!1,x,d,b,f);break;case"backwards":case"unstable_legacy-backwards":for(d=null,x=l.child,l.child=null;x!==null;){if(r=x.alternate,r!==null&&Po(r)===null){l.child=x;break}r=x.sibling,x.sibling=d,d=x,x=r}Kf(l,!0,d,null,b,f);break;case"together":Kf(l,!1,null,null,void 0,f);break;default:l.memoizedState=null}return l.child}function ps(r,l,d){if(r!==null&&(l.dependencies=r.dependencies),Xs|=l.lanes,(d&l.childLanes)===0)if(r!==null){if(La(r,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(s(153));if(l.child!==null){for(r=l.child,d=cs(r,r.pendingProps),l.child=d,d.return=l;r.sibling!==null;)r=r.sibling,d=d.sibling=cs(r,r.pendingProps),d.return=l;d.sibling=null}return l.child}function Gf(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&Ro(r)))}function Hk(r,l,d){switch(l.tag){case 3:Ft(l,l.stateNode.containerInfo),$s(l,ft,r.memoizedState.cache),Br();break;case 27:case 5:ki(l);break;case 4:Ft(l,l.stateNode.containerInfo);break;case 10:$s(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,yf(l),null;break;case 13:var f=l.memoizedState;if(f!==null)return f.dehydrated!==null?(Ks(l),l.flags|=128,null):(d&l.child.childLanes)!==0?T0(r,l,d):(Ks(l),r=ps(r,l,d),r!==null?r.sibling:null);Ks(l);break;case 19:var x=(r.flags&128)!==0;if(f=(d&l.childLanes)!==0,f||(La(r,l,d,!1),f=(d&l.childLanes)!==0),x){if(f)return M0(r,l,d);l.flags|=128}if(x=l.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),re(lt,lt.current),f)break;return null;case 22:return l.lanes=0,j0(r,l,d,l.pendingProps);case 24:$s(l,ft,r.memoizedState.cache)}return ps(r,l,d)}function O0(r,l,d){if(r!==null)if(r.memoizedProps!==l.pendingProps)mt=!0;else{if(!Gf(r,d)&&(l.flags&128)===0)return mt=!1,Hk(r,l,d);mt=(r.flags&131072)!==0}else mt=!1,De&&(l.flags&1048576)!==0&&cg(l,Hi,l.index);switch(l.lanes=0,l.tag){case 16:e:{var f=l.pendingProps;if(r=Ir(l.elementType),l.type=r,typeof r=="function")Qu(r)?(f=qr(r,f),l.tag=1,l=C0(null,l,r,f,d)):(l.tag=0,l=If(null,l,r,f,d));else{if(r!=null){var x=r.$$typeof;if(x===P){l.tag=11,l=y0(null,l,r,f,d);break e}else if(x===A){l.tag=14,l=v0(null,l,r,f,d);break e}}throw l=J(r)||r,Error(s(306,l,""))}}return l;case 0:return If(r,l,l.type,l.pendingProps,d);case 1:return f=l.type,x=qr(f,l.pendingProps),C0(r,l,f,x,d);case 3:e:{if(Ft(l,l.stateNode.containerInfo),r===null)throw Error(s(387));f=l.pendingProps;var b=l.memoizedState;x=b.element,mf(r,l),Ki(l,f,null,d);var w=l.memoizedState;if(f=w.cache,$s(l,ft,f),f!==b.cache&&of(l,[ft],d,!0),Wi(),f=w.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:w.cache},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){l=E0(r,l,f,d);break e}else if(f!==x){x=kn(Error(s(424)),l),Pi(x),l=E0(r,l,f,d);break e}else for(r=l.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Ye=An(r.firstChild),At=l,De=!0,Is=null,En=!0,d=jg(l,null,f,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Br(),f===x){l=ps(r,l,d);break e}Ot(r,l,f,d)}l=l.child}return l;case 26:return Xo(r,l),r===null?(d=Fb(l.type,null,l.pendingProps,null))?l.memoizedState=d:De||(d=l.type,r=l.pendingProps,f=mc(Te.current).createElement(d),f[Tt]=l,f[Gt]=r,Rt(f,d,r),Nt(f),l.stateNode=f):l.memoizedState=Fb(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return ki(l),r===null&&De&&(f=l.stateNode=Hb(l.type,l.pendingProps,Te.current),At=l,En=!0,x=Ye,nr(l.type)?(Eh=x,Ye=An(f.firstChild)):Ye=x),Ot(r,l,l.pendingProps.children,d),Xo(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&De&&((x=f=Ye)&&(f=pS(f,l.type,l.pendingProps,En),f!==null?(l.stateNode=f,At=l,Ye=An(f.firstChild),En=!1,x=!0):x=!1),x||Fs(l)),ki(l),x=l.type,b=l.pendingProps,w=r!==null?r.memoizedProps:null,f=b.children,jh(x,b)?f=null:w!==null&&jh(x,w)&&(l.flags|=32),l.memoizedState!==null&&(x=Nf(r,l,Mk,null,null,d),hl._currentValue=x),Xo(r,l),Ot(r,l,f,d),l.child;case 6:return r===null&&De&&((r=d=Ye)&&(d=xS(d,l.pendingProps,En),d!==null?(l.stateNode=d,At=l,Ye=null,r=!0):r=!1),r||Fs(l)),null;case 13:return T0(r,l,d);case 4:return Ft(l,l.stateNode.containerInfo),f=l.pendingProps,r===null?l.child=$r(l,null,f,d):Ot(r,l,f,d),l.child;case 11:return y0(r,l,l.type,l.pendingProps,d);case 7:return Ot(r,l,l.pendingProps,d),l.child;case 8:return Ot(r,l,l.pendingProps.children,d),l.child;case 12:return Ot(r,l,l.pendingProps.children,d),l.child;case 10:return f=l.pendingProps,$s(l,l.type,f.value),Ot(r,l,f.children,d),l.child;case 9:return x=l.type._context,f=l.pendingProps.children,Hr(l),x=Mt(x),f=f(x),l.flags|=1,Ot(r,l,f,d),l.child;case 14:return v0(r,l,l.type,l.pendingProps,d);case 15:return N0(r,l,l.type,l.pendingProps,d);case 19:return M0(r,l,d);case 31:return Uk(r,l,d);case 22:return j0(r,l,d,l.pendingProps);case 24:return Hr(l),f=Mt(ft),r===null?(x=uf(),x===null&&(x=Ke,b=cf(),x.pooledCache=b,b.refCount++,b!==null&&(x.pooledCacheLanes|=d),x=b),l.memoizedState={parent:f,cache:x},hf(l),$s(l,ft,x)):((r.lanes&d)!==0&&(mf(r,l),Ki(l,null,null,d),Wi()),x=r.memoizedState,b=l.memoizedState,x.parent!==f?(x={parent:f,cache:f},l.memoizedState=x,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=x),$s(l,ft,f)):(f=b.cache,$s(l,ft,f),f!==x.cache&&of(l,[ft],d,!0))),Ot(r,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(s(156,l.tag))}function xs(r){r.flags|=4}function Yf(r,l,d,f,x){if((l=(r.mode&32)!==0)&&(l=!1),l){if(r.flags|=16777216,(x&335544128)===x)if(r.stateNode.complete)r.flags|=8192;else if(rb())r.flags|=8192;else throw Fr=_o,ff}else r.flags&=-16777217}function R0(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Kb(l))if(rb())r.flags|=8192;else throw Fr=_o,ff}function Zo(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?ux():536870912,r.lanes|=l,Wa|=l)}function Zi(r,l){if(!De)switch(r.tailMode){case"hidden":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var f=null;d!==null;)d.alternate!==null&&(f=d),d=d.sibling;f===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Je(r){var l=r.alternate!==null&&r.alternate.child===r.child,d=0,f=0;if(l)for(var x=r.child;x!==null;)d|=x.lanes|x.childLanes,f|=x.subtreeFlags&65011712,f|=x.flags&65011712,x.return=r,x=x.sibling;else for(x=r.child;x!==null;)d|=x.lanes|x.childLanes,f|=x.subtreeFlags,f|=x.flags,x.return=r,x=x.sibling;return r.subtreeFlags|=f,r.childLanes=d,l}function Pk(r,l,d){var f=l.pendingProps;switch(nf(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(l),null;case 1:return Je(l),null;case 3:return d=l.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),fs(ft),it(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Da(l)?xs(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,rf())),Je(l),null;case 26:var x=l.type,b=l.memoizedState;return r===null?(xs(l),b!==null?(Je(l),R0(l,b)):(Je(l),Yf(l,x,null,f,d))):b?b!==r.memoizedState?(xs(l),Je(l),R0(l,b)):(Je(l),l.flags&=-16777217):(r=r.memoizedProps,r!==f&&xs(l),Je(l),Yf(l,x,r,f,d)),null;case 27:if(co(l),d=Te.current,x=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==f&&xs(l);else{if(!f){if(l.stateNode===null)throw Error(s(166));return Je(l),null}r=le.current,Da(l)?ug(l):(r=Hb(x,f,d),l.stateNode=r,xs(l))}return Je(l),null;case 5:if(co(l),x=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==f&&xs(l);else{if(!f){if(l.stateNode===null)throw Error(s(166));return Je(l),null}if(b=le.current,Da(l))ug(l);else{var w=mc(Te.current);switch(b){case 1:b=w.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:b=w.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":b=w.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":b=w.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":b=w.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof f.is=="string"?w.createElement("select",{is:f.is}):w.createElement("select"),f.multiple?b.multiple=!0:f.size&&(b.size=f.size);break;default:b=typeof f.is=="string"?w.createElement(x,{is:f.is}):w.createElement(x)}}b[Tt]=l,b[Gt]=f;e:for(w=l.child;w!==null;){if(w.tag===5||w.tag===6)b.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===l)break e;for(;w.sibling===null;){if(w.return===null||w.return===l)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}l.stateNode=b;e:switch(Rt(b,x,f),x){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&xs(l)}}return Je(l),Yf(l,l.type,r===null?null:r.memoizedProps,l.pendingProps,d),null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==f&&xs(l);else{if(typeof f!="string"&&l.stateNode===null)throw Error(s(166));if(r=Te.current,Da(l)){if(r=l.stateNode,d=l.memoizedProps,f=null,x=At,x!==null)switch(x.tag){case 27:case 5:f=x.memoizedProps}r[Tt]=l,r=!!(r.nodeValue===d||f!==null&&f.suppressHydrationWarning===!0||Tb(r.nodeValue,d)),r||Fs(l,!0)}else r=mc(r).createTextNode(f),r[Tt]=l,l.stateNode=r}return Je(l),null;case 31:if(d=l.memoizedState,r===null||r.memoizedState!==null){if(f=Da(l),d!==null){if(r===null){if(!f)throw Error(s(318));if(r=l.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[Tt]=l}else Br(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Je(l),r=!1}else d=rf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),r=!0;if(!r)return l.flags&256?(mn(l),l):(mn(l),null);if((l.flags&128)!==0)throw Error(s(558))}return Je(l),null;case 13:if(f=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(x=Da(l),f!==null&&f.dehydrated!==null){if(r===null){if(!x)throw Error(s(318));if(x=l.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[Tt]=l}else Br(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Je(l),x=!1}else x=rf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=x),x=!0;if(!x)return l.flags&256?(mn(l),l):(mn(l),null)}return mn(l),(l.flags&128)!==0?(l.lanes=d,l):(d=f!==null,r=r!==null&&r.memoizedState!==null,d&&(f=l.child,x=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(x=f.alternate.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==x&&(f.flags|=2048)),d!==r&&d&&(l.child.flags|=8192),Zo(l,l.updateQueue),Je(l),null);case 4:return it(),r===null&&gh(l.stateNode.containerInfo),Je(l),null;case 10:return fs(l.type),Je(l),null;case 19:if(Z(lt),f=l.memoizedState,f===null)return Je(l),null;if(x=(l.flags&128)!==0,b=f.rendering,b===null)if(x)Zi(f,!1);else{if(st!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(b=Po(r),b!==null){for(l.flags|=128,Zi(f,!1),r=b.updateQueue,l.updateQueue=r,Zo(l,r),l.subtreeFlags=0,r=d,d=l.child;d!==null;)ig(d,r),d=d.sibling;return re(lt,lt.current&1|2),De&&ds(l,f.treeForkCount),l.child}r=r.sibling}f.tail!==null&&on()>rc&&(l.flags|=128,x=!0,Zi(f,!1),l.lanes=4194304)}else{if(!x)if(r=Po(b),r!==null){if(l.flags|=128,x=!0,r=r.updateQueue,l.updateQueue=r,Zo(l,r),Zi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!De)return Je(l),null}else 2*on()-f.renderingStartTime>rc&&d!==536870912&&(l.flags|=128,x=!0,Zi(f,!1),l.lanes=4194304);f.isBackwards?(b.sibling=l.child,l.child=b):(r=f.last,r!==null?r.sibling=b:l.child=b,f.last=b)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=on(),r.sibling=null,d=lt.current,re(lt,x?d&1|2:d&1),De&&ds(l,f.treeForkCount),r):(Je(l),null);case 22:case 23:return mn(l),bf(),f=l.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(l.flags|=8192):f&&(l.flags|=8192),f?(d&536870912)!==0&&(l.flags&128)===0&&(Je(l),l.subtreeFlags&6&&(l.flags|=8192)):Je(l),d=l.updateQueue,d!==null&&Zo(l,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048),r!==null&&Z(Pr),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),fs(ft),Je(l),null;case 25:return null;case 30:return null}throw Error(s(156,l.tag))}function Ik(r,l){switch(nf(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return fs(ft),it(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return co(l),null;case 31:if(l.memoizedState!==null){if(mn(l),l.alternate===null)throw Error(s(340));Br()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 13:if(mn(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(s(340));Br()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return Z(lt),null;case 4:return it(),null;case 10:return fs(l.type),null;case 22:case 23:return mn(l),bf(),r!==null&&Z(Pr),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return fs(ft),null;case 25:return null;default:return null}}function D0(r,l){switch(nf(l),l.tag){case 3:fs(ft),it();break;case 26:case 27:case 5:co(l);break;case 4:it();break;case 31:l.memoizedState!==null&&mn(l);break;case 13:mn(l);break;case 19:Z(lt);break;case 10:fs(l.type);break;case 22:case 23:mn(l),bf(),r!==null&&Z(Pr);break;case 24:fs(ft)}}function el(r,l){try{var d=l.updateQueue,f=d!==null?d.lastEffect:null;if(f!==null){var x=f.next;d=x;do{if((d.tag&r)===r){f=void 0;var b=d.create,w=d.inst;f=b(),w.destroy=f}d=d.next}while(d!==x)}}catch(E){Ie(l,l.return,E)}}function Ys(r,l,d){try{var f=l.updateQueue,x=f!==null?f.lastEffect:null;if(x!==null){var b=x.next;f=b;do{if((f.tag&r)===r){var w=f.inst,E=w.destroy;if(E!==void 0){w.destroy=void 0,x=l;var R=d,$=E;try{$()}catch(Y){Ie(x,R,Y)}}}f=f.next}while(f!==b)}}catch(Y){Ie(l,l.return,Y)}}function L0(r){var l=r.updateQueue;if(l!==null){var d=r.stateNode;try{kg(l,d)}catch(f){Ie(r,r.return,f)}}}function z0(r,l,d){d.props=qr(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(f){Ie(r,l,f)}}function tl(r,l){try{var d=r.ref;if(d!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof d=="function"?r.refCleanup=d(f):d.current=f}}catch(x){Ie(r,l,x)}}function Gn(r,l){var d=r.ref,f=r.refCleanup;if(d!==null)if(typeof f=="function")try{f()}catch(x){Ie(r,l,x)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(x){Ie(r,l,x)}else d.current=null}function _0(r){var l=r.type,d=r.memoizedProps,f=r.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&f.focus();break e;case"img":d.src?f.src=d.src:d.srcSet&&(f.srcset=d.srcSet)}}catch(x){Ie(r,r.return,x)}}function Jf(r,l,d){try{var f=r.stateNode;cS(f,r.type,d,l),f[Gt]=l}catch(x){Ie(r,r.return,x)}}function B0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&nr(r.type)||r.tag===4}function Xf(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||B0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&nr(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Qf(r,l,d){var f=r.tag;if(f===5||f===6)r=r.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(r,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(r),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=is));else if(f!==4&&(f===27&&nr(r.type)&&(d=r.stateNode,l=null),r=r.child,r!==null))for(Qf(r,l,d),r=r.sibling;r!==null;)Qf(r,l,d),r=r.sibling}function ec(r,l,d){var f=r.tag;if(f===5||f===6)r=r.stateNode,l?d.insertBefore(r,l):d.appendChild(r);else if(f!==4&&(f===27&&nr(r.type)&&(d=r.stateNode),r=r.child,r!==null))for(ec(r,l,d),r=r.sibling;r!==null;)ec(r,l,d),r=r.sibling}function U0(r){var l=r.stateNode,d=r.memoizedProps;try{for(var f=r.type,x=l.attributes;x.length;)l.removeAttributeNode(x[0]);Rt(l,f,d),l[Tt]=r,l[Gt]=d}catch(b){Ie(r,r.return,b)}}var gs=!1,pt=!1,Zf=!1,H0=typeof WeakSet=="function"?WeakSet:Set,jt=null;function Fk(r,l){if(r=r.containerInfo,vh=Nc,r=Xx(r),qu(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var f=d.getSelection&&d.getSelection();if(f&&f.rangeCount!==0){d=f.anchorNode;var x=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var w=0,E=-1,R=-1,$=0,Y=0,ee=r,V=null;t:for(;;){for(var W;ee!==d||x!==0&&ee.nodeType!==3||(E=w+x),ee!==b||f!==0&&ee.nodeType!==3||(R=w+f),ee.nodeType===3&&(w+=ee.nodeValue.length),(W=ee.firstChild)!==null;)V=ee,ee=W;for(;;){if(ee===r)break t;if(V===d&&++$===x&&(E=w),V===b&&++Y===f&&(R=w),(W=ee.nextSibling)!==null)break;ee=V,V=ee.parentNode}ee=W}d=E===-1||R===-1?null:{start:E,end:R}}else d=null}d=d||{start:0,end:0}}else d=null;for(Nh={focusedElem:r,selectionRange:d},Nc=!1,jt=l;jt!==null;)if(l=jt,r=l.child,(l.subtreeFlags&1028)!==0&&r!==null)r.return=l,jt=r;else for(;jt!==null;){switch(l=jt,b=l.alternate,r=l.flags,l.tag){case 0:if((r&4)!==0&&(r=l.updateQueue,r=r!==null?r.events:null,r!==null))for(d=0;d<r.length;d++)x=r[d],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,d=l,x=b.memoizedProps,b=b.memoizedState,f=d.stateNode;try{var oe=qr(d.type,x);r=f.getSnapshotBeforeUpdate(oe,b),f.__reactInternalSnapshotBeforeUpdate=r}catch(me){Ie(d,d.return,me)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,d=r.nodeType,d===9)kh(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":kh(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=l.sibling,r!==null){r.return=l.return,jt=r;break}jt=l.return}}function P0(r,l,d){var f=d.flags;switch(d.tag){case 0:case 11:case 15:ys(r,d),f&4&&el(5,d);break;case 1:if(ys(r,d),f&4)if(r=d.stateNode,l===null)try{r.componentDidMount()}catch(w){Ie(d,d.return,w)}else{var x=qr(d.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(x,l,r.__reactInternalSnapshotBeforeUpdate)}catch(w){Ie(d,d.return,w)}}f&64&&L0(d),f&512&&tl(d,d.return);break;case 3:if(ys(r,d),f&64&&(r=d.updateQueue,r!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{kg(r,l)}catch(w){Ie(d,d.return,w)}}break;case 27:l===null&&f&4&&U0(d);case 26:case 5:ys(r,d),l===null&&f&4&&_0(d),f&512&&tl(d,d.return);break;case 12:ys(r,d);break;case 31:ys(r,d),f&4&&$0(r,d);break;case 13:ys(r,d),f&4&&V0(r,d),f&64&&(r=d.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(d=Xk.bind(null,d),gS(r,d))));break;case 22:if(f=d.memoizedState!==null||gs,!f){l=l!==null&&l.memoizedState!==null||pt,x=gs;var b=pt;gs=f,(pt=l)&&!b?vs(r,d,(d.subtreeFlags&8772)!==0):ys(r,d),gs=x,pt=b}break;case 30:break;default:ys(r,d)}}function I0(r){var l=r.alternate;l!==null&&(r.alternate=null,I0(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&Tu(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Qe=null,Jt=!1;function bs(r,l,d){for(d=d.child;d!==null;)F0(r,l,d),d=d.sibling}function F0(r,l,d){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Si,d)}catch{}switch(d.tag){case 26:pt||Gn(d,l),bs(r,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:pt||Gn(d,l);var f=Qe,x=Jt;nr(d.type)&&(Qe=d.stateNode,Jt=!1),bs(r,l,d),dl(d.stateNode),Qe=f,Jt=x;break;case 5:pt||Gn(d,l);case 6:if(f=Qe,x=Jt,Qe=null,bs(r,l,d),Qe=f,Jt=x,Qe!==null)if(Jt)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(d.stateNode)}catch(b){Ie(d,l,b)}else try{Qe.removeChild(d.stateNode)}catch(b){Ie(d,l,b)}break;case 18:Qe!==null&&(Jt?(r=Qe,Lb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,d.stateNode),ei(r)):Lb(Qe,d.stateNode));break;case 4:f=Qe,x=Jt,Qe=d.stateNode.containerInfo,Jt=!0,bs(r,l,d),Qe=f,Jt=x;break;case 0:case 11:case 14:case 15:Ys(2,d,l),pt||Ys(4,d,l),bs(r,l,d);break;case 1:pt||(Gn(d,l),f=d.stateNode,typeof f.componentWillUnmount=="function"&&z0(d,l,f)),bs(r,l,d);break;case 21:bs(r,l,d);break;case 22:pt=(f=pt)||d.memoizedState!==null,bs(r,l,d),pt=f;break;default:bs(r,l,d)}}function $0(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{ei(r)}catch(d){Ie(l,l.return,d)}}}function V0(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ei(r)}catch(d){Ie(l,l.return,d)}}function $k(r){switch(r.tag){case 31:case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new H0),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new H0),l;default:throw Error(s(435,r.tag))}}function tc(r,l){var d=$k(r);l.forEach(function(f){if(!d.has(f)){d.add(f);var x=Qk.bind(null,r,f);f.then(x,x)}})}function Xt(r,l){var d=l.deletions;if(d!==null)for(var f=0;f<d.length;f++){var x=d[f],b=r,w=l,E=w;e:for(;E!==null;){switch(E.tag){case 27:if(nr(E.type)){Qe=E.stateNode,Jt=!1;break e}break;case 5:Qe=E.stateNode,Jt=!1;break e;case 3:case 4:Qe=E.stateNode.containerInfo,Jt=!0;break e}E=E.return}if(Qe===null)throw Error(s(160));F0(b,w,x),Qe=null,Jt=!1,b=x.alternate,b!==null&&(b.return=null),x.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)q0(l,r),l=l.sibling}var Hn=null;function q0(r,l){var d=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Xt(l,r),Qt(r),f&4&&(Ys(3,r,r.return),el(3,r),Ys(5,r,r.return));break;case 1:Xt(l,r),Qt(r),f&512&&(pt||d===null||Gn(d,d.return)),f&64&&gs&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?f:d.concat(f))));break;case 26:var x=Hn;if(Xt(l,r),Qt(r),f&512&&(pt||d===null||Gn(d,d.return)),f&4){var b=d!==null?d.memoizedState:null;if(f=r.memoizedState,d===null)if(f===null)if(r.stateNode===null){e:{f=r.type,d=r.memoizedProps,x=x.ownerDocument||x;t:switch(f){case"title":b=x.getElementsByTagName("title")[0],(!b||b[Ti]||b[Tt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=x.createElement(f),x.head.insertBefore(b,x.querySelector("head > title"))),Rt(b,f,d),b[Tt]=r,Nt(b),f=b;break e;case"link":var w=qb("link","href",x).get(f+(d.href||""));if(w){for(var E=0;E<w.length;E++)if(b=w[E],b.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&b.getAttribute("rel")===(d.rel==null?null:d.rel)&&b.getAttribute("title")===(d.title==null?null:d.title)&&b.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){w.splice(E,1);break t}}b=x.createElement(f),Rt(b,f,d),x.head.appendChild(b);break;case"meta":if(w=qb("meta","content",x).get(f+(d.content||""))){for(E=0;E<w.length;E++)if(b=w[E],b.getAttribute("content")===(d.content==null?null:""+d.content)&&b.getAttribute("name")===(d.name==null?null:d.name)&&b.getAttribute("property")===(d.property==null?null:d.property)&&b.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&b.getAttribute("charset")===(d.charSet==null?null:d.charSet)){w.splice(E,1);break t}}b=x.createElement(f),Rt(b,f,d),x.head.appendChild(b);break;default:throw Error(s(468,f))}b[Tt]=r,Nt(b),f=b}r.stateNode=f}else Wb(x,r.type,r.stateNode);else r.stateNode=Vb(x,f,r.memoizedProps);else b!==f?(b===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):b.count--,f===null?Wb(x,r.type,r.stateNode):Vb(x,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Jf(r,r.memoizedProps,d.memoizedProps)}break;case 27:Xt(l,r),Qt(r),f&512&&(pt||d===null||Gn(d,d.return)),d!==null&&f&4&&Jf(r,r.memoizedProps,d.memoizedProps);break;case 5:if(Xt(l,r),Qt(r),f&512&&(pt||d===null||Gn(d,d.return)),r.flags&32){x=r.stateNode;try{wa(x,"")}catch(oe){Ie(r,r.return,oe)}}f&4&&r.stateNode!=null&&(x=r.memoizedProps,Jf(r,x,d!==null?d.memoizedProps:x)),f&1024&&(Zf=!0);break;case 6:if(Xt(l,r),Qt(r),f&4){if(r.stateNode===null)throw Error(s(162));f=r.memoizedProps,d=r.stateNode;try{d.nodeValue=f}catch(oe){Ie(r,r.return,oe)}}break;case 3:if(gc=null,x=Hn,Hn=pc(l.containerInfo),Xt(l,r),Hn=x,Qt(r),f&4&&d!==null&&d.memoizedState.isDehydrated)try{ei(l.containerInfo)}catch(oe){Ie(r,r.return,oe)}Zf&&(Zf=!1,W0(r));break;case 4:f=Hn,Hn=pc(r.stateNode.containerInfo),Xt(l,r),Qt(r),Hn=f;break;case 12:Xt(l,r),Qt(r);break;case 31:Xt(l,r),Qt(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,tc(r,f)));break;case 13:Xt(l,r),Qt(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(sc=on()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,tc(r,f)));break;case 22:x=r.memoizedState!==null;var R=d!==null&&d.memoizedState!==null,$=gs,Y=pt;if(gs=$||x,pt=Y||R,Xt(l,r),pt=Y,gs=$,Qt(r),f&8192)e:for(l=r.stateNode,l._visibility=x?l._visibility&-2:l._visibility|1,x&&(d===null||R||gs||pt||Wr(r)),d=null,l=r;;){if(l.tag===5||l.tag===26){if(d===null){R=d=l;try{if(b=R.stateNode,x)w=b.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{E=R.stateNode;var ee=R.memoizedProps.style,V=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;E.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(oe){Ie(R,R.return,oe)}}}else if(l.tag===6){if(d===null){R=l;try{R.stateNode.nodeValue=x?"":R.memoizedProps}catch(oe){Ie(R,R.return,oe)}}}else if(l.tag===18){if(d===null){R=l;try{var W=R.stateNode;x?zb(W,!0):zb(R.stateNode,!1)}catch(oe){Ie(R,R.return,oe)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}f&4&&(f=r.updateQueue,f!==null&&(d=f.retryQueue,d!==null&&(f.retryQueue=null,tc(r,d))));break;case 19:Xt(l,r),Qt(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,tc(r,f)));break;case 30:break;case 21:break;default:Xt(l,r),Qt(r)}}function Qt(r){var l=r.flags;if(l&2){try{for(var d,f=r.return;f!==null;){if(B0(f)){d=f;break}f=f.return}if(d==null)throw Error(s(160));switch(d.tag){case 27:var x=d.stateNode,b=Xf(r);ec(r,b,x);break;case 5:var w=d.stateNode;d.flags&32&&(wa(w,""),d.flags&=-33);var E=Xf(r);ec(r,E,w);break;case 3:case 4:var R=d.stateNode.containerInfo,$=Xf(r);Qf(r,$,R);break;default:throw Error(s(161))}}catch(Y){Ie(r,r.return,Y)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function W0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;W0(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function ys(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)P0(r,l.alternate,l),l=l.sibling}function Wr(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:Ys(4,l,l.return),Wr(l);break;case 1:Gn(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&z0(l,l.return,d),Wr(l);break;case 27:dl(l.stateNode);case 26:case 5:Gn(l,l.return),Wr(l);break;case 22:l.memoizedState===null&&Wr(l);break;case 30:Wr(l);break;default:Wr(l)}r=r.sibling}}function vs(r,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var f=l.alternate,x=r,b=l,w=b.flags;switch(b.tag){case 0:case 11:case 15:vs(x,b,d),el(4,b);break;case 1:if(vs(x,b,d),f=b,x=f.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch($){Ie(f,f.return,$)}if(f=b,x=f.updateQueue,x!==null){var E=f.stateNode;try{var R=x.shared.hiddenCallbacks;if(R!==null)for(x.shared.hiddenCallbacks=null,x=0;x<R.length;x++)wg(R[x],E)}catch($){Ie(f,f.return,$)}}d&&w&64&&L0(b),tl(b,b.return);break;case 27:U0(b);case 26:case 5:vs(x,b,d),d&&f===null&&w&4&&_0(b),tl(b,b.return);break;case 12:vs(x,b,d);break;case 31:vs(x,b,d),d&&w&4&&$0(x,b);break;case 13:vs(x,b,d),d&&w&4&&V0(x,b);break;case 22:b.memoizedState===null&&vs(x,b,d),tl(b,b.return);break;case 30:break;default:vs(x,b,d)}l=l.sibling}}function eh(r,l){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&Ii(d))}function th(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Ii(r))}function Pn(r,l,d,f){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)K0(r,l,d,f),l=l.sibling}function K0(r,l,d,f){var x=l.flags;switch(l.tag){case 0:case 11:case 15:Pn(r,l,d,f),x&2048&&el(9,l);break;case 1:Pn(r,l,d,f);break;case 3:Pn(r,l,d,f),x&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Ii(r)));break;case 12:if(x&2048){Pn(r,l,d,f),r=l.stateNode;try{var b=l.memoizedProps,w=b.id,E=b.onPostCommit;typeof E=="function"&&E(w,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(R){Ie(l,l.return,R)}}else Pn(r,l,d,f);break;case 31:Pn(r,l,d,f);break;case 13:Pn(r,l,d,f);break;case 23:break;case 22:b=l.stateNode,w=l.alternate,l.memoizedState!==null?b._visibility&2?Pn(r,l,d,f):nl(r,l):b._visibility&2?Pn(r,l,d,f):(b._visibility|=2,$a(r,l,d,f,(l.subtreeFlags&10256)!==0||!1)),x&2048&&eh(w,l);break;case 24:Pn(r,l,d,f),x&2048&&th(l.alternate,l);break;default:Pn(r,l,d,f)}}function $a(r,l,d,f,x){for(x=x&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var b=r,w=l,E=d,R=f,$=w.flags;switch(w.tag){case 0:case 11:case 15:$a(b,w,E,R,x),el(8,w);break;case 23:break;case 22:var Y=w.stateNode;w.memoizedState!==null?Y._visibility&2?$a(b,w,E,R,x):nl(b,w):(Y._visibility|=2,$a(b,w,E,R,x)),x&&$&2048&&eh(w.alternate,w);break;case 24:$a(b,w,E,R,x),x&&$&2048&&th(w.alternate,w);break;default:$a(b,w,E,R,x)}l=l.sibling}}function nl(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=r,f=l,x=f.flags;switch(f.tag){case 22:nl(d,f),x&2048&&eh(f.alternate,f);break;case 24:nl(d,f),x&2048&&th(f.alternate,f);break;default:nl(d,f)}l=l.sibling}}var sl=8192;function Va(r,l,d){if(r.subtreeFlags&sl)for(r=r.child;r!==null;)G0(r,l,d),r=r.sibling}function G0(r,l,d){switch(r.tag){case 26:Va(r,l,d),r.flags&sl&&r.memoizedState!==null&&AS(d,Hn,r.memoizedState,r.memoizedProps);break;case 5:Va(r,l,d);break;case 3:case 4:var f=Hn;Hn=pc(r.stateNode.containerInfo),Va(r,l,d),Hn=f;break;case 22:r.memoizedState===null&&(f=r.alternate,f!==null&&f.memoizedState!==null?(f=sl,sl=16777216,Va(r,l,d),sl=f):Va(r,l,d));break;default:Va(r,l,d)}}function Y0(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function rl(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];jt=f,X0(f,r)}Y0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)J0(r),r=r.sibling}function J0(r){switch(r.tag){case 0:case 11:case 15:rl(r),r.flags&2048&&Ys(9,r,r.return);break;case 3:rl(r);break;case 12:rl(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,nc(r)):rl(r);break;default:rl(r)}}function nc(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];jt=f,X0(f,r)}Y0(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:Ys(8,l,l.return),nc(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,nc(l));break;default:nc(l)}r=r.sibling}}function X0(r,l){for(;jt!==null;){var d=jt;switch(d.tag){case 0:case 11:case 15:Ys(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var f=d.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Ii(d.memoizedState.cache)}if(f=d.child,f!==null)f.return=d,jt=f;else e:for(d=r;jt!==null;){f=jt;var x=f.sibling,b=f.return;if(I0(f),f===d){jt=null;break e}if(x!==null){x.return=b,jt=x;break e}jt=b}}}var Vk={getCacheForType:function(r){var l=Mt(ft),d=l.data.get(r);return d===void 0&&(d=r(),l.data.set(r,d)),d},cacheSignal:function(){return Mt(ft).controller.signal}},qk=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ke=null,Ae=null,Oe=0,Pe=0,pn=null,Js=!1,qa=!1,nh=!1,Ns=0,st=0,Xs=0,Kr=0,sh=0,xn=0,Wa=0,al=null,Zt=null,rh=!1,sc=0,Q0=0,rc=1/0,ac=null,Qs=null,bt=0,Zs=null,Ka=null,js=0,ah=0,ih=null,Z0=null,il=0,lh=null;function gn(){return(Ue&2)!==0&&Oe!==0?Oe&-Oe:O.T!==null?hh():px()}function eb(){if(xn===0)if((Oe&536870912)===0||De){var r=ho;ho<<=1,(ho&3932160)===0&&(ho=262144),xn=r}else xn=536870912;return r=hn.current,r!==null&&(r.flags|=32),xn}function en(r,l,d){(r===Ke&&(Pe===2||Pe===9)||r.cancelPendingCommit!==null)&&(Ga(r,0),er(r,Oe,xn,!1)),Ei(r,d),((Ue&2)===0||r!==Ke)&&(r===Ke&&((Ue&2)===0&&(Kr|=d),st===4&&er(r,Oe,xn,!1)),Yn(r))}function tb(r,l,d){if((Ue&6)!==0)throw Error(s(327));var f=!d&&(l&127)===0&&(l&r.expiredLanes)===0||Ci(r,l),x=f?Gk(r,l):ch(r,l,!0),b=f;do{if(x===0){qa&&!f&&er(r,l,0,!1);break}else{if(d=r.current.alternate,b&&!Wk(d)){x=ch(r,l,!1),b=!1;continue}if(x===2){if(b=l,r.errorRecoveryDisabledLanes&b)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){l=w;e:{var E=r;x=al;var R=E.current.memoizedState.isDehydrated;if(R&&(Ga(E,w).flags|=256),w=ch(E,w,!1),w!==2){if(nh&&!R){E.errorRecoveryDisabledLanes|=b,Kr|=b,x=4;break e}b=Zt,Zt=x,b!==null&&(Zt===null?Zt=b:Zt.push.apply(Zt,b))}x=w}if(b=!1,x!==2)continue}}if(x===1){Ga(r,0),er(r,l,0,!0);break}e:{switch(f=r,b=x,b){case 0:case 1:throw Error(s(345));case 4:if((l&4194048)!==l)break;case 6:er(f,l,xn,!Js);break e;case 2:Zt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((l&62914560)===l&&(x=sc+300-on(),10<x)){if(er(f,l,xn,!Js),po(f,0,!0)!==0)break e;js=l,f.timeoutHandle=Rb(nb.bind(null,f,d,Zt,ac,rh,l,xn,Kr,Wa,Js,b,"Throttled",-0,0),x);break e}nb(f,d,Zt,ac,rh,l,xn,Kr,Wa,Js,b,null,-0,0)}}break}while(!0);Yn(r)}function nb(r,l,d,f,x,b,w,E,R,$,Y,ee,V,W){if(r.timeoutHandle=-1,ee=l.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:is},G0(l,b,ee);var oe=(b&62914560)===b?sc-on():(b&4194048)===b?Q0-on():0;if(oe=MS(ee,oe),oe!==null){js=b,r.cancelPendingCommit=oe(db.bind(null,r,l,b,d,f,x,w,E,R,Y,ee,null,V,W)),er(r,b,w,!$);return}}db(r,l,b,d,f,x,w,E,R)}function Wk(r){for(var l=r;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var f=0;f<d.length;f++){var x=d[f],b=x.getSnapshot;x=x.value;try{if(!un(b(),x))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function er(r,l,d,f){l&=~sh,l&=~Kr,r.suspendedLanes|=l,r.pingedLanes&=~l,f&&(r.warmLanes|=l),f=r.expirationTimes;for(var x=l;0<x;){var b=31-dn(x),w=1<<b;f[b]=-1,x&=~w}d!==0&&fx(r,d,l)}function ic(){return(Ue&6)===0?(ll(0),!1):!0}function oh(){if(Ae!==null){if(Pe===0)var r=Ae.return;else r=Ae,us=Ur=null,kf(r),Ua=null,$i=0,r=Ae;for(;r!==null;)D0(r.alternate,r),r=r.return;Ae=null}}function Ga(r,l){var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,fS(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),js=0,oh(),Ke=r,Ae=d=cs(r.current,null),Oe=l,Pe=0,pn=null,Js=!1,qa=Ci(r,l),nh=!1,Wa=xn=sh=Kr=Xs=st=0,Zt=al=null,rh=!1,(l&8)!==0&&(l|=l&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=l;0<f;){var x=31-dn(f),b=1<<x;l|=r[x],f&=~b}return Ns=l,Eo(),d}function sb(r,l){ve=null,O.H=Xi,l===Ba||l===zo?(l=yg(),Pe=3):l===ff?(l=yg(),Pe=4):Pe=l===Pf?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,pn=l,Ae===null&&(st=1,Yo(r,kn(l,r.current)))}function rb(){var r=hn.current;return r===null?!0:(Oe&4194048)===Oe?Tn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?r===Tn:!1}function ab(){var r=O.H;return O.H=Xi,r===null?Xi:r}function ib(){var r=O.A;return O.A=Vk,r}function lc(){st=4,Js||(Oe&4194048)!==Oe&&hn.current!==null||(qa=!0),(Xs&134217727)===0&&(Kr&134217727)===0||Ke===null||er(Ke,Oe,xn,!1)}function ch(r,l,d){var f=Ue;Ue|=2;var x=ab(),b=ib();(Ke!==r||Oe!==l)&&(ac=null,Ga(r,l)),l=!1;var w=st;e:do try{if(Pe!==0&&Ae!==null){var E=Ae,R=pn;switch(Pe){case 8:oh(),w=6;break e;case 3:case 2:case 9:case 6:hn.current===null&&(l=!0);var $=Pe;if(Pe=0,pn=null,Ya(r,E,R,$),d&&qa){w=0;break e}break;default:$=Pe,Pe=0,pn=null,Ya(r,E,R,$)}}Kk(),w=st;break}catch(Y){sb(r,Y)}while(!0);return l&&r.shellSuspendCounter++,us=Ur=null,Ue=f,O.H=x,O.A=b,Ae===null&&(Ke=null,Oe=0,Eo()),w}function Kk(){for(;Ae!==null;)lb(Ae)}function Gk(r,l){var d=Ue;Ue|=2;var f=ab(),x=ib();Ke!==r||Oe!==l?(ac=null,rc=on()+500,Ga(r,l)):qa=Ci(r,l);e:do try{if(Pe!==0&&Ae!==null){l=Ae;var b=pn;t:switch(Pe){case 1:Pe=0,pn=null,Ya(r,l,b,1);break;case 2:case 9:if(gg(b)){Pe=0,pn=null,ob(l);break}l=function(){Pe!==2&&Pe!==9||Ke!==r||(Pe=7),Yn(r)},b.then(l,l);break e;case 3:Pe=7;break e;case 4:Pe=5;break e;case 7:gg(b)?(Pe=0,pn=null,ob(l)):(Pe=0,pn=null,Ya(r,l,b,7));break;case 5:var w=null;switch(Ae.tag){case 26:w=Ae.memoizedState;case 5:case 27:var E=Ae;if(w?Kb(w):E.stateNode.complete){Pe=0,pn=null;var R=E.sibling;if(R!==null)Ae=R;else{var $=E.return;$!==null?(Ae=$,oc($)):Ae=null}break t}}Pe=0,pn=null,Ya(r,l,b,5);break;case 6:Pe=0,pn=null,Ya(r,l,b,6);break;case 8:oh(),st=6;break e;default:throw Error(s(462))}}Yk();break}catch(Y){sb(r,Y)}while(!0);return us=Ur=null,O.H=f,O.A=x,Ue=d,Ae!==null?0:(Ke=null,Oe=0,Eo(),st)}function Yk(){for(;Ae!==null&&!b2();)lb(Ae)}function lb(r){var l=O0(r.alternate,r,Ns);r.memoizedProps=r.pendingProps,l===null?oc(r):Ae=l}function ob(r){var l=r,d=l.alternate;switch(l.tag){case 15:case 0:l=S0(d,l,l.pendingProps,l.type,void 0,Oe);break;case 11:l=S0(d,l,l.pendingProps,l.type.render,l.ref,Oe);break;case 5:kf(l);default:D0(d,l),l=Ae=ig(l,Ns),l=O0(d,l,Ns)}r.memoizedProps=r.pendingProps,l===null?oc(r):Ae=l}function Ya(r,l,d,f){us=Ur=null,kf(l),Ua=null,$i=0;var x=l.return;try{if(Bk(r,x,l,d,Oe)){st=1,Yo(r,kn(d,r.current)),Ae=null;return}}catch(b){if(x!==null)throw Ae=x,b;st=1,Yo(r,kn(d,r.current)),Ae=null;return}l.flags&32768?(De||f===1?r=!0:qa||(Oe&536870912)!==0?r=!1:(Js=r=!0,(f===2||f===9||f===3||f===6)&&(f=hn.current,f!==null&&f.tag===13&&(f.flags|=16384))),cb(l,r)):oc(l)}function oc(r){var l=r;do{if((l.flags&32768)!==0){cb(l,Js);return}r=l.return;var d=Pk(l.alternate,l,Ns);if(d!==null){Ae=d;return}if(l=l.sibling,l!==null){Ae=l;return}Ae=l=r}while(l!==null);st===0&&(st=5)}function cb(r,l){do{var d=Ik(r.alternate,r);if(d!==null){d.flags&=32767,Ae=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(r=r.sibling,r!==null)){Ae=r;return}Ae=r=d}while(r!==null);st=6,Ae=null}function db(r,l,d,f,x,b,w,E,R){r.cancelPendingCommit=null;do cc();while(bt!==0);if((Ue&6)!==0)throw Error(s(327));if(l!==null){if(l===r.current)throw Error(s(177));if(b=l.lanes|l.childLanes,b|=Ju,T2(r,d,b,w,E,R),r===Ke&&(Ae=Ke=null,Oe=0),Ka=l,Zs=r,js=d,ah=b,ih=x,Z0=f,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Zk(uo,function(){return pb(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||f){f=O.T,O.T=null,x=K.p,K.p=2,w=Ue,Ue|=4;try{Fk(r,l,d)}finally{Ue=w,K.p=x,O.T=f}}bt=1,ub(),fb(),hb()}}function ub(){if(bt===1){bt=0;var r=Zs,l=Ka,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=O.T,O.T=null;var f=K.p;K.p=2;var x=Ue;Ue|=4;try{q0(l,r);var b=Nh,w=Xx(r.containerInfo),E=b.focusedElem,R=b.selectionRange;if(w!==E&&E&&E.ownerDocument&&Jx(E.ownerDocument.documentElement,E)){if(R!==null&&qu(E)){var $=R.start,Y=R.end;if(Y===void 0&&(Y=$),"selectionStart"in E)E.selectionStart=$,E.selectionEnd=Math.min(Y,E.value.length);else{var ee=E.ownerDocument||document,V=ee&&ee.defaultView||window;if(V.getSelection){var W=V.getSelection(),oe=E.textContent.length,me=Math.min(R.start,oe),qe=R.end===void 0?me:Math.min(R.end,oe);!W.extend&&me>qe&&(w=qe,qe=me,me=w);var U=Yx(E,me),z=Yx(E,qe);if(U&&z&&(W.rangeCount!==1||W.anchorNode!==U.node||W.anchorOffset!==U.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var F=ee.createRange();F.setStart(U.node,U.offset),W.removeAllRanges(),me>qe?(W.addRange(F),W.extend(z.node,z.offset)):(F.setEnd(z.node,z.offset),W.addRange(F))}}}}for(ee=[],W=E;W=W.parentNode;)W.nodeType===1&&ee.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<ee.length;E++){var Q=ee[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Nc=!!vh,Nh=vh=null}finally{Ue=x,K.p=f,O.T=d}}r.current=l,bt=2}}function fb(){if(bt===2){bt=0;var r=Zs,l=Ka,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=O.T,O.T=null;var f=K.p;K.p=2;var x=Ue;Ue|=4;try{P0(r,l.alternate,l)}finally{Ue=x,K.p=f,O.T=d}}bt=3}}function hb(){if(bt===4||bt===3){bt=0,y2();var r=Zs,l=Ka,d=js,f=Z0;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?bt=5:(bt=0,Ka=Zs=null,mb(r,r.pendingLanes));var x=r.pendingLanes;if(x===0&&(Qs=null),Cu(d),l=l.stateNode,cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Si,l,void 0,(l.current.flags&128)===128)}catch{}if(f!==null){l=O.T,x=K.p,K.p=2,O.T=null;try{for(var b=r.onRecoverableError,w=0;w<f.length;w++){var E=f[w];b(E.value,{componentStack:E.stack})}}finally{O.T=l,K.p=x}}(js&3)!==0&&cc(),Yn(r),x=r.pendingLanes,(d&261930)!==0&&(x&42)!==0?r===lh?il++:(il=0,lh=r):il=0,ll(0)}}function mb(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,Ii(l)))}function cc(){return ub(),fb(),hb(),pb()}function pb(){if(bt!==5)return!1;var r=Zs,l=ah;ah=0;var d=Cu(js),f=O.T,x=K.p;try{K.p=32>d?32:d,O.T=null,d=ih,ih=null;var b=Zs,w=js;if(bt=0,Ka=Zs=null,js=0,(Ue&6)!==0)throw Error(s(331));var E=Ue;if(Ue|=4,J0(b.current),K0(b,b.current,w,d),Ue=E,ll(0,!1),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Si,b)}catch{}return!0}finally{K.p=x,O.T=f,mb(r,l)}}function xb(r,l,d){l=kn(d,l),l=Hf(r.stateNode,l,2),r=Ws(r,l,2),r!==null&&(Ei(r,2),Yn(r))}function Ie(r,l,d){if(r.tag===3)xb(r,r,d);else for(;l!==null;){if(l.tag===3){xb(l,r,d);break}else if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Qs===null||!Qs.has(f))){r=kn(d,r),d=g0(2),f=Ws(l,d,2),f!==null&&(b0(d,f,l,r),Ei(f,2),Yn(f));break}}l=l.return}}function dh(r,l,d){var f=r.pingCache;if(f===null){f=r.pingCache=new qk;var x=new Set;f.set(l,x)}else x=f.get(l),x===void 0&&(x=new Set,f.set(l,x));x.has(d)||(nh=!0,x.add(d),r=Jk.bind(null,r,l,d),l.then(r,r))}function Jk(r,l,d){var f=r.pingCache;f!==null&&f.delete(l),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,Ke===r&&(Oe&d)===d&&(st===4||st===3&&(Oe&62914560)===Oe&&300>on()-sc?(Ue&2)===0&&Ga(r,0):sh|=d,Wa===Oe&&(Wa=0)),Yn(r)}function gb(r,l){l===0&&(l=ux()),r=zr(r,l),r!==null&&(Ei(r,l),Yn(r))}function Xk(r){var l=r.memoizedState,d=0;l!==null&&(d=l.retryLane),gb(r,d)}function Qk(r,l){var d=0;switch(r.tag){case 31:case 13:var f=r.stateNode,x=r.memoizedState;x!==null&&(d=x.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(s(314))}f!==null&&f.delete(l),gb(r,d)}function Zk(r,l){return ju(r,l)}var dc=null,Ja=null,uh=!1,uc=!1,fh=!1,tr=0;function Yn(r){r!==Ja&&r.next===null&&(Ja===null?dc=Ja=r:Ja=Ja.next=r),uc=!0,uh||(uh=!0,tS())}function ll(r,l){if(!fh&&uc){fh=!0;do for(var d=!1,f=dc;f!==null;){if(r!==0){var x=f.pendingLanes;if(x===0)var b=0;else{var w=f.suspendedLanes,E=f.pingedLanes;b=(1<<31-dn(42|r)+1)-1,b&=x&~(w&~E),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(d=!0,Nb(f,b))}else b=Oe,b=po(f,f===Ke?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||Ci(f,b)||(d=!0,Nb(f,b));f=f.next}while(d);fh=!1}}function eS(){bb()}function bb(){uc=uh=!1;var r=0;tr!==0&&uS()&&(r=tr);for(var l=on(),d=null,f=dc;f!==null;){var x=f.next,b=yb(f,l);b===0?(f.next=null,d===null?dc=x:d.next=x,x===null&&(Ja=d)):(d=f,(r!==0||(b&3)!==0)&&(uc=!0)),f=x}bt!==0&&bt!==5||ll(r),tr!==0&&(tr=0)}function yb(r,l){for(var d=r.suspendedLanes,f=r.pingedLanes,x=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var w=31-dn(b),E=1<<w,R=x[w];R===-1?((E&d)===0||(E&f)!==0)&&(x[w]=E2(E,l)):R<=l&&(r.expiredLanes|=E),b&=~E}if(l=Ke,d=Oe,d=po(r,r===l?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,d===0||r===l&&(Pe===2||Pe===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&wu(f),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||Ci(r,d)){if(l=d&-d,l===r.callbackPriority)return l;switch(f!==null&&wu(f),Cu(d)){case 2:case 8:d=cx;break;case 32:d=uo;break;case 268435456:d=dx;break;default:d=uo}return f=vb.bind(null,r),d=ju(d,f),r.callbackPriority=l,r.callbackNode=d,l}return f!==null&&f!==null&&wu(f),r.callbackPriority=2,r.callbackNode=null,2}function vb(r,l){if(bt!==0&&bt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var d=r.callbackNode;if(cc()&&r.callbackNode!==d)return null;var f=Oe;return f=po(r,r===Ke?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(tb(r,f,l),yb(r,on()),r.callbackNode!=null&&r.callbackNode===d?vb.bind(null,r):null)}function Nb(r,l){if(cc())return null;tb(r,l,!0)}function tS(){hS(function(){(Ue&6)!==0?ju(ox,eS):bb()})}function hh(){if(tr===0){var r=za;r===0&&(r=fo,fo<<=1,(fo&261888)===0&&(fo=256)),tr=r}return tr}function jb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:yo(""+r)}function wb(r,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,r.id&&d.setAttribute("form",r.id),l.parentNode.insertBefore(d,l),r=new FormData(r),d.parentNode.removeChild(d),r}function nS(r,l,d,f,x){if(l==="submit"&&d&&d.stateNode===x){var b=jb((x[Gt]||null).action),w=f.submitter;w&&(l=(l=w[Gt]||null)?jb(l.formAction):w.getAttribute("formAction"),l!==null&&(b=l,w=null));var E=new wo("action","action",null,f,x);r.push({event:E,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(tr!==0){var R=w?wb(x,w):new FormData(x);Df(d,{pending:!0,data:R,method:x.method,action:b},null,R)}}else typeof b=="function"&&(E.preventDefault(),R=w?wb(x,w):new FormData(x),Df(d,{pending:!0,data:R,method:x.method,action:b},b,R))},currentTarget:x}]})}}for(var mh=0;mh<Yu.length;mh++){var ph=Yu[mh],sS=ph.toLowerCase(),rS=ph[0].toUpperCase()+ph.slice(1);Un(sS,"on"+rS)}Un(eg,"onAnimationEnd"),Un(tg,"onAnimationIteration"),Un(ng,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(vk,"onTransitionRun"),Un(Nk,"onTransitionStart"),Un(jk,"onTransitionCancel"),Un(sg,"onTransitionEnd"),Na("onMouseEnter",["mouseout","mouseover"]),Na("onMouseLeave",["mouseout","mouseover"]),Na("onPointerEnter",["pointerout","pointerover"]),Na("onPointerLeave",["pointerout","pointerover"]),Or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Or("onBeforeInput",["compositionend","keypress","textInput","paste"]),Or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function kb(r,l){l=(l&4)!==0;for(var d=0;d<r.length;d++){var f=r[d],x=f.event;f=f.listeners;e:{var b=void 0;if(l)for(var w=f.length-1;0<=w;w--){var E=f[w],R=E.instance,$=E.currentTarget;if(E=E.listener,R!==b&&x.isPropagationStopped())break e;b=E,x.currentTarget=$;try{b(x)}catch(Y){Co(Y)}x.currentTarget=null,b=R}else for(w=0;w<f.length;w++){if(E=f[w],R=E.instance,$=E.currentTarget,E=E.listener,R!==b&&x.isPropagationStopped())break e;b=E,x.currentTarget=$;try{b(x)}catch(Y){Co(Y)}x.currentTarget=null,b=R}}}}function Me(r,l){var d=l[Eu];d===void 0&&(d=l[Eu]=new Set);var f=r+"__bubble";d.has(f)||(Sb(l,r,2,!1),d.add(f))}function xh(r,l,d){var f=0;l&&(f|=4),Sb(d,r,f,l)}var fc="_reactListening"+Math.random().toString(36).slice(2);function gh(r){if(!r[fc]){r[fc]=!0,bx.forEach(function(d){d!=="selectionchange"&&(aS.has(d)||xh(d,!1,r),xh(d,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[fc]||(l[fc]=!0,xh("selectionchange",!1,l))}}function Sb(r,l,d,f){switch(ey(l)){case 2:var x=DS;break;case 8:x=LS;break;default:x=Rh}d=x.bind(null,l,d,r),x=void 0,!_u||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(x=!0),f?x!==void 0?r.addEventListener(l,d,{capture:!0,passive:x}):r.addEventListener(l,d,!0):x!==void 0?r.addEventListener(l,d,{passive:x}):r.addEventListener(l,d,!1)}function bh(r,l,d,f,x){var b=f;if((l&1)===0&&(l&2)===0&&f!==null)e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var E=f.stateNode.containerInfo;if(E===x)break;if(w===4)for(w=f.return;w!==null;){var R=w.tag;if((R===3||R===4)&&w.stateNode.containerInfo===x)return;w=w.return}for(;E!==null;){if(w=ba(E),w===null)return;if(R=w.tag,R===5||R===6||R===26||R===27){f=b=w;continue e}E=E.parentNode}}f=f.return}Mx(function(){var $=b,Y=Lu(d),ee=[];e:{var V=rg.get(r);if(V!==void 0){var W=wo,oe=r;switch(r){case"keypress":if(No(d)===0)break e;case"keydown":case"keyup":W=Q2;break;case"focusin":oe="focus",W=Pu;break;case"focusout":oe="blur",W=Pu;break;case"beforeblur":case"afterblur":W=Pu;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Dx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=P2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=tk;break;case eg:case tg:case ng:W=$2;break;case sg:W=sk;break;case"scroll":case"scrollend":W=U2;break;case"wheel":W=ak;break;case"copy":case"cut":case"paste":W=q2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=zx;break;case"toggle":case"beforetoggle":W=lk}var me=(l&4)!==0,qe=!me&&(r==="scroll"||r==="scrollend"),U=me?V!==null?V+"Capture":null:V;me=[];for(var z=$,F;z!==null;){var Q=z;if(F=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||F===null||U===null||(Q=Mi(z,U),Q!=null&&me.push(cl(z,Q,F))),qe)break;z=z.return}0<me.length&&(V=new W(V,oe,null,d,Y),ee.push({event:V,listeners:me}))}}if((l&7)===0){e:{if(V=r==="mouseover"||r==="pointerover",W=r==="mouseout"||r==="pointerout",V&&d!==Du&&(oe=d.relatedTarget||d.fromElement)&&(ba(oe)||oe[ga]))break e;if((W||V)&&(V=Y.window===Y?Y:(V=Y.ownerDocument)?V.defaultView||V.parentWindow:window,W?(oe=d.relatedTarget||d.toElement,W=$,oe=oe?ba(oe):null,oe!==null&&(qe=o(oe),me=oe.tag,oe!==qe||me!==5&&me!==27&&me!==6)&&(oe=null)):(W=null,oe=$),W!==oe)){if(me=Dx,Q="onMouseLeave",U="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(me=zx,Q="onPointerLeave",U="onPointerEnter",z="pointer"),qe=W==null?V:Ai(W),F=oe==null?V:Ai(oe),V=new me(Q,z+"leave",W,d,Y),V.target=qe,V.relatedTarget=F,Q=null,ba(Y)===$&&(me=new me(U,z+"enter",oe,d,Y),me.target=F,me.relatedTarget=qe,Q=me),qe=Q,W&&oe)t:{for(me=iS,U=W,z=oe,F=0,Q=U;Q;Q=me(Q))F++;Q=0;for(var fe=z;fe;fe=me(fe))Q++;for(;0<F-Q;)U=me(U),F--;for(;0<Q-F;)z=me(z),Q--;for(;F--;){if(U===z||z!==null&&U===z.alternate){me=U;break t}U=me(U),z=me(z)}me=null}else me=null;W!==null&&Cb(ee,V,W,me,!1),oe!==null&&qe!==null&&Cb(ee,qe,oe,me,!0)}}e:{if(V=$?Ai($):window,W=V.nodeName&&V.nodeName.toLowerCase(),W==="select"||W==="input"&&V.type==="file")var ze=$x;else if(Ix(V))if(Vx)ze=gk;else{ze=pk;var de=mk}else W=V.nodeName,!W||W.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?$&&Ru($.elementType)&&(ze=$x):ze=xk;if(ze&&(ze=ze(r,$))){Fx(ee,ze,d,Y);break e}de&&de(r,V,$),r==="focusout"&&$&&V.type==="number"&&$.memoizedProps.value!=null&&Ou(V,"number",V.value)}switch(de=$?Ai($):window,r){case"focusin":(Ix(de)||de.contentEditable==="true")&&(Ea=de,Wu=$,Ui=null);break;case"focusout":Ui=Wu=Ea=null;break;case"mousedown":Ku=!0;break;case"contextmenu":case"mouseup":case"dragend":Ku=!1,Qx(ee,d,Y);break;case"selectionchange":if(yk)break;case"keydown":case"keyup":Qx(ee,d,Y)}var je;if(Fu)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Ca?Hx(r,d)&&(Re="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(Re="onCompositionStart");Re&&(_x&&d.locale!=="ko"&&(Ca||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Ca&&(je=Ox()):(Hs=Y,Bu="value"in Hs?Hs.value:Hs.textContent,Ca=!0)),de=hc($,Re),0<de.length&&(Re=new Lx(Re,r,null,d,Y),ee.push({event:Re,listeners:de}),je?Re.data=je:(je=Px(d),je!==null&&(Re.data=je)))),(je=ck?dk(r,d):uk(r,d))&&(Re=hc($,"onBeforeInput"),0<Re.length&&(de=new Lx("onBeforeInput","beforeinput",null,d,Y),ee.push({event:de,listeners:Re}),de.data=je)),nS(ee,r,$,d,Y)}kb(ee,l)})}function cl(r,l,d){return{instance:r,listener:l,currentTarget:d}}function hc(r,l){for(var d=l+"Capture",f=[];r!==null;){var x=r,b=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||b===null||(x=Mi(r,d),x!=null&&f.unshift(cl(r,x,b)),x=Mi(r,l),x!=null&&f.push(cl(r,x,b))),r.tag===3)return f;r=r.return}return[]}function iS(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Cb(r,l,d,f,x){for(var b=l._reactName,w=[];d!==null&&d!==f;){var E=d,R=E.alternate,$=E.stateNode;if(E=E.tag,R!==null&&R===f)break;E!==5&&E!==26&&E!==27||$===null||(R=$,x?($=Mi(d,b),$!=null&&w.unshift(cl(d,$,R))):x||($=Mi(d,b),$!=null&&w.push(cl(d,$,R)))),d=d.return}w.length!==0&&r.push({event:l,listeners:w})}var lS=/\r\n?/g,oS=/\u0000|\uFFFD/g;function Eb(r){return(typeof r=="string"?r:""+r).replace(lS,`
`).replace(oS,"")}function Tb(r,l){return l=Eb(l),Eb(r)===l}function Ve(r,l,d,f,x,b){switch(d){case"children":typeof f=="string"?l==="body"||l==="textarea"&&f===""||wa(r,f):(typeof f=="number"||typeof f=="bigint")&&l!=="body"&&wa(r,""+f);break;case"className":go(r,"class",f);break;case"tabIndex":go(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":go(r,d,f);break;case"style":Tx(r,f,b);break;case"data":if(l!=="object"){go(r,"data",f);break}case"src":case"href":if(f===""&&(l!=="a"||d!=="href")){r.removeAttribute(d);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(d);break}f=yo(""+f),r.setAttribute(d,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(d==="formAction"?(l!=="input"&&Ve(r,l,"name",x.name,x,null),Ve(r,l,"formEncType",x.formEncType,x,null),Ve(r,l,"formMethod",x.formMethod,x,null),Ve(r,l,"formTarget",x.formTarget,x,null)):(Ve(r,l,"encType",x.encType,x,null),Ve(r,l,"method",x.method,x,null),Ve(r,l,"target",x.target,x,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(d);break}f=yo(""+f),r.setAttribute(d,f);break;case"onClick":f!=null&&(r.onclick=is);break;case"onScroll":f!=null&&Me("scroll",r);break;case"onScrollEnd":f!=null&&Me("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(d=f.__html,d!=null){if(x.children!=null)throw Error(s(60));r.innerHTML=d}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}d=yo(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(d,""+f):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":f===!0?r.setAttribute(d,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(d,f):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(d,f):r.removeAttribute(d);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(d):r.setAttribute(d,f);break;case"popover":Me("beforetoggle",r),Me("toggle",r),xo(r,"popover",f);break;case"xlinkActuate":as(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":as(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":as(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":as(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":as(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":as(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":as(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":as(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":as(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":xo(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=_2.get(d)||d,xo(r,d,f))}}function yh(r,l,d,f,x,b){switch(d){case"style":Tx(r,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(d=f.__html,d!=null){if(x.children!=null)throw Error(s(60));r.innerHTML=d}}break;case"children":typeof f=="string"?wa(r,f):(typeof f=="number"||typeof f=="bigint")&&wa(r,""+f);break;case"onScroll":f!=null&&Me("scroll",r);break;case"onScrollEnd":f!=null&&Me("scrollend",r);break;case"onClick":f!=null&&(r.onclick=is);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yx.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(x=d.endsWith("Capture"),l=d.slice(2,x?d.length-7:void 0),b=r[Gt]||null,b=b!=null?b[d]:null,typeof b=="function"&&r.removeEventListener(l,b,x),typeof f=="function")){typeof b!="function"&&b!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(l,f,x);break e}d in r?r[d]=f:f===!0?r.setAttribute(d,""):xo(r,d,f)}}}function Rt(r,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",r),Me("load",r);var f=!1,x=!1,b;for(b in d)if(d.hasOwnProperty(b)){var w=d[b];if(w!=null)switch(b){case"src":f=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:Ve(r,l,b,w,d,null)}}x&&Ve(r,l,"srcSet",d.srcSet,d,null),f&&Ve(r,l,"src",d.src,d,null);return;case"input":Me("invalid",r);var E=b=w=x=null,R=null,$=null;for(f in d)if(d.hasOwnProperty(f)){var Y=d[f];if(Y!=null)switch(f){case"name":x=Y;break;case"type":w=Y;break;case"checked":R=Y;break;case"defaultChecked":$=Y;break;case"value":b=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,l));break;default:Ve(r,l,f,Y,d,null)}}kx(r,b,E,R,$,w,x,!1);return;case"select":Me("invalid",r),f=w=b=null;for(x in d)if(d.hasOwnProperty(x)&&(E=d[x],E!=null))switch(x){case"value":b=E;break;case"defaultValue":w=E;break;case"multiple":f=E;default:Ve(r,l,x,E,d,null)}l=b,d=w,r.multiple=!!f,l!=null?ja(r,!!f,l,!1):d!=null&&ja(r,!!f,d,!0);return;case"textarea":Me("invalid",r),b=x=f=null;for(w in d)if(d.hasOwnProperty(w)&&(E=d[w],E!=null))switch(w){case"value":f=E;break;case"defaultValue":x=E;break;case"children":b=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Ve(r,l,w,E,d,null)}Cx(r,f,x,b);return;case"option":for(R in d)d.hasOwnProperty(R)&&(f=d[R],f!=null)&&(R==="selected"?r.selected=f&&typeof f!="function"&&typeof f!="symbol":Ve(r,l,R,f,d,null));return;case"dialog":Me("beforetoggle",r),Me("toggle",r),Me("cancel",r),Me("close",r);break;case"iframe":case"object":Me("load",r);break;case"video":case"audio":for(f=0;f<ol.length;f++)Me(ol[f],r);break;case"image":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"embed":case"source":case"link":Me("error",r),Me("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in d)if(d.hasOwnProperty($)&&(f=d[$],f!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,l));default:Ve(r,l,$,f,d,null)}return;default:if(Ru(l)){for(Y in d)d.hasOwnProperty(Y)&&(f=d[Y],f!==void 0&&yh(r,l,Y,f,d,void 0));return}}for(E in d)d.hasOwnProperty(E)&&(f=d[E],f!=null&&Ve(r,l,E,f,d,null))}function cS(r,l,d,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,b=null,w=null,E=null,R=null,$=null,Y=null;for(W in d){var ee=d[W];if(d.hasOwnProperty(W)&&ee!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":R=ee;default:f.hasOwnProperty(W)||Ve(r,l,W,null,f,ee)}}for(var V in f){var W=f[V];if(ee=d[V],f.hasOwnProperty(V)&&(W!=null||ee!=null))switch(V){case"type":b=W;break;case"name":x=W;break;case"checked":$=W;break;case"defaultChecked":Y=W;break;case"value":w=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,l));break;default:W!==ee&&Ve(r,l,V,W,f,ee)}}Mu(r,w,E,R,$,Y,b,x);return;case"select":W=w=E=V=null;for(b in d)if(R=d[b],d.hasOwnProperty(b)&&R!=null)switch(b){case"value":break;case"multiple":W=R;default:f.hasOwnProperty(b)||Ve(r,l,b,null,f,R)}for(x in f)if(b=f[x],R=d[x],f.hasOwnProperty(x)&&(b!=null||R!=null))switch(x){case"value":V=b;break;case"defaultValue":E=b;break;case"multiple":w=b;default:b!==R&&Ve(r,l,x,b,f,R)}l=E,d=w,f=W,V!=null?ja(r,!!d,V,!1):!!f!=!!d&&(l!=null?ja(r,!!d,l,!0):ja(r,!!d,d?[]:"",!1));return;case"textarea":W=V=null;for(E in d)if(x=d[E],d.hasOwnProperty(E)&&x!=null&&!f.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ve(r,l,E,null,f,x)}for(w in f)if(x=f[w],b=d[w],f.hasOwnProperty(w)&&(x!=null||b!=null))switch(w){case"value":V=x;break;case"defaultValue":W=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:x!==b&&Ve(r,l,w,x,f,b)}Sx(r,V,W);return;case"option":for(var oe in d)V=d[oe],d.hasOwnProperty(oe)&&V!=null&&!f.hasOwnProperty(oe)&&(oe==="selected"?r.selected=!1:Ve(r,l,oe,null,f,V));for(R in f)V=f[R],W=d[R],f.hasOwnProperty(R)&&V!==W&&(V!=null||W!=null)&&(R==="selected"?r.selected=V&&typeof V!="function"&&typeof V!="symbol":Ve(r,l,R,V,f,W));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in d)V=d[me],d.hasOwnProperty(me)&&V!=null&&!f.hasOwnProperty(me)&&Ve(r,l,me,null,f,V);for($ in f)if(V=f[$],W=d[$],f.hasOwnProperty($)&&V!==W&&(V!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,l));break;default:Ve(r,l,$,V,f,W)}return;default:if(Ru(l)){for(var qe in d)V=d[qe],d.hasOwnProperty(qe)&&V!==void 0&&!f.hasOwnProperty(qe)&&yh(r,l,qe,void 0,f,V);for(Y in f)V=f[Y],W=d[Y],!f.hasOwnProperty(Y)||V===W||V===void 0&&W===void 0||yh(r,l,Y,V,f,W);return}}for(var U in d)V=d[U],d.hasOwnProperty(U)&&V!=null&&!f.hasOwnProperty(U)&&Ve(r,l,U,null,f,V);for(ee in f)V=f[ee],W=d[ee],!f.hasOwnProperty(ee)||V===W||V==null&&W==null||Ve(r,l,ee,V,f,W)}function Ab(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dS(){if(typeof performance.getEntriesByType=="function"){for(var r=0,l=0,d=performance.getEntriesByType("resource"),f=0;f<d.length;f++){var x=d[f],b=x.transferSize,w=x.initiatorType,E=x.duration;if(b&&E&&Ab(w)){for(w=0,E=x.responseEnd,f+=1;f<d.length;f++){var R=d[f],$=R.startTime;if($>E)break;var Y=R.transferSize,ee=R.initiatorType;Y&&Ab(ee)&&(R=R.responseEnd,w+=Y*(R<E?1:(E-$)/(R-$)))}if(--f,l+=8*(b+w)/(x.duration/1e3),r++,10<r)break}}if(0<r)return l/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var vh=null,Nh=null;function mc(r){return r.nodeType===9?r:r.ownerDocument}function Mb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ob(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function jh(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var wh=null;function uS(){var r=window.event;return r&&r.type==="popstate"?r===wh?!1:(wh=r,!0):(wh=null,!1)}var Rb=typeof setTimeout=="function"?setTimeout:void 0,fS=typeof clearTimeout=="function"?clearTimeout:void 0,Db=typeof Promise=="function"?Promise:void 0,hS=typeof queueMicrotask=="function"?queueMicrotask:typeof Db<"u"?function(r){return Db.resolve(null).then(r).catch(mS)}:Rb;function mS(r){setTimeout(function(){throw r})}function nr(r){return r==="head"}function Lb(r,l){var d=l,f=0;do{var x=d.nextSibling;if(r.removeChild(d),x&&x.nodeType===8)if(d=x.data,d==="/$"||d==="/&"){if(f===0){r.removeChild(x),ei(l);return}f--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")f++;else if(d==="html")dl(r.ownerDocument.documentElement);else if(d==="head"){d=r.ownerDocument.head,dl(d);for(var b=d.firstChild;b;){var w=b.nextSibling,E=b.nodeName;b[Ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&b.rel.toLowerCase()==="stylesheet"||d.removeChild(b),b=w}}else d==="body"&&dl(r.ownerDocument.body);d=x}while(d);ei(l)}function zb(r,l){var d=r;r=0;do{var f=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),f&&f.nodeType===8)if(d=f.data,d==="/$"){if(r===0)break;r--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||r++;d=f}while(d)}function kh(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":kh(d),Tu(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function pS(r,l,d,f){for(;r.nodeType===1;){var x=d;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Ti])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==x.rel||r.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||r.getAttribute("title")!==(x.title==null?null:x.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(x.src==null?null:x.src)||r.getAttribute("type")!==(x.type==null?null:x.type)||r.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var b=x.name==null?null:""+x.name;if(x.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=An(r.nextSibling),r===null)break}return null}function xS(r,l,d){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=An(r.nextSibling),r===null))return null;return r}function _b(r,l){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=An(r.nextSibling),r===null))return null;return r}function Sh(r){return r.data==="$?"||r.data==="$~"}function Ch(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function gS(r,l){var d=r.ownerDocument;if(r.data==="$~")r._reactRetry=l;else if(r.data!=="$?"||d.readyState!=="loading")l();else{var f=function(){l(),d.removeEventListener("DOMContentLoaded",f)};d.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function An(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return r}var Eh=null;function Bb(r){r=r.nextSibling;for(var l=0;r;){if(r.nodeType===8){var d=r.data;if(d==="/$"||d==="/&"){if(l===0)return An(r.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}r=r.nextSibling}return null}function Ub(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return r;l--}else d!=="/$"&&d!=="/&"||l++}r=r.previousSibling}return null}function Hb(r,l,d){switch(l=mc(d),r){case"html":if(r=l.documentElement,!r)throw Error(s(452));return r;case"head":if(r=l.head,!r)throw Error(s(453));return r;case"body":if(r=l.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function dl(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);Tu(r)}var Mn=new Map,Pb=new Set;function pc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ws=K.d;K.d={f:bS,r:yS,D:vS,C:NS,L:jS,m:wS,X:SS,S:kS,M:CS};function bS(){var r=ws.f(),l=ic();return r||l}function yS(r){var l=ya(r);l!==null&&l.tag===5&&l.type==="form"?s0(l):ws.r(r)}var Xa=typeof document>"u"?null:document;function Ib(r,l,d){var f=Xa;if(f&&typeof l=="string"&&l){var x=jn(l);x='link[rel="'+r+'"][href="'+x+'"]',typeof d=="string"&&(x+='[crossorigin="'+d+'"]'),Pb.has(x)||(Pb.add(x),r={rel:r,crossOrigin:d,href:l},f.querySelector(x)===null&&(l=f.createElement("link"),Rt(l,"link",r),Nt(l),f.head.appendChild(l)))}}function vS(r){ws.D(r),Ib("dns-prefetch",r,null)}function NS(r,l){ws.C(r,l),Ib("preconnect",r,l)}function jS(r,l,d){ws.L(r,l,d);var f=Xa;if(f&&r&&l){var x='link[rel="preload"][as="'+jn(l)+'"]';l==="image"&&d&&d.imageSrcSet?(x+='[imagesrcset="'+jn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(x+='[imagesizes="'+jn(d.imageSizes)+'"]')):x+='[href="'+jn(r)+'"]';var b=x;switch(l){case"style":b=Qa(r);break;case"script":b=Za(r)}Mn.has(b)||(r=g({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:r,as:l},d),Mn.set(b,r),f.querySelector(x)!==null||l==="style"&&f.querySelector(ul(b))||l==="script"&&f.querySelector(fl(b))||(l=f.createElement("link"),Rt(l,"link",r),Nt(l),f.head.appendChild(l)))}}function wS(r,l){ws.m(r,l);var d=Xa;if(d&&r){var f=l&&typeof l.as=="string"?l.as:"script",x='link[rel="modulepreload"][as="'+jn(f)+'"][href="'+jn(r)+'"]',b=x;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Za(r)}if(!Mn.has(b)&&(r=g({rel:"modulepreload",href:r},l),Mn.set(b,r),d.querySelector(x)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(fl(b)))return}f=d.createElement("link"),Rt(f,"link",r),Nt(f),d.head.appendChild(f)}}}function kS(r,l,d){ws.S(r,l,d);var f=Xa;if(f&&r){var x=va(f).hoistableStyles,b=Qa(r);l=l||"default";var w=x.get(b);if(!w){var E={loading:0,preload:null};if(w=f.querySelector(ul(b)))E.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":l},d),(d=Mn.get(b))&&Th(r,d);var R=w=f.createElement("link");Nt(R),Rt(R,"link",r),R._p=new Promise(function($,Y){R.onload=$,R.onerror=Y}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,xc(w,l,f)}w={type:"stylesheet",instance:w,count:1,state:E},x.set(b,w)}}}function SS(r,l){ws.X(r,l);var d=Xa;if(d&&r){var f=va(d).hoistableScripts,x=Za(r),b=f.get(x);b||(b=d.querySelector(fl(x)),b||(r=g({src:r,async:!0},l),(l=Mn.get(x))&&Ah(r,l),b=d.createElement("script"),Nt(b),Rt(b,"link",r),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(x,b))}}function CS(r,l){ws.M(r,l);var d=Xa;if(d&&r){var f=va(d).hoistableScripts,x=Za(r),b=f.get(x);b||(b=d.querySelector(fl(x)),b||(r=g({src:r,async:!0,type:"module"},l),(l=Mn.get(x))&&Ah(r,l),b=d.createElement("script"),Nt(b),Rt(b,"link",r),d.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(x,b))}}function Fb(r,l,d,f){var x=(x=Te.current)?pc(x):null;if(!x)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=Qa(d.href),d=va(x).hoistableStyles,f=d.get(l),f||(f={type:"style",instance:null,count:0,state:null},d.set(l,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=Qa(d.href);var b=va(x).hoistableStyles,w=b.get(r);if(w||(x=x.ownerDocument||x,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,w),(b=x.querySelector(ul(r)))&&!b._p&&(w.instance=b,w.state.loading=5),Mn.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Mn.set(r,d),b||ES(x,r,d,w.state))),l&&f===null)throw Error(s(528,""));return w}if(l&&f!==null)throw Error(s(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Za(d),d=va(x).hoistableScripts,f=d.get(l),f||(f={type:"script",instance:null,count:0,state:null},d.set(l,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Qa(r){return'href="'+jn(r)+'"'}function ul(r){return'link[rel="stylesheet"]['+r+"]"}function $b(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function ES(r,l,d,f){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?f.loading=1:(l=r.createElement("link"),f.preload=l,l.addEventListener("load",function(){return f.loading|=1}),l.addEventListener("error",function(){return f.loading|=2}),Rt(l,"link",d),Nt(l),r.head.appendChild(l))}function Za(r){return'[src="'+jn(r)+'"]'}function fl(r){return"script[async]"+r}function Vb(r,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var f=r.querySelector('style[data-href~="'+jn(d.href)+'"]');if(f)return l.instance=f,Nt(f),f;var x=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Nt(f),Rt(f,"style",x),xc(f,d.precedence,r),l.instance=f;case"stylesheet":x=Qa(d.href);var b=r.querySelector(ul(x));if(b)return l.state.loading|=4,l.instance=b,Nt(b),b;f=$b(d),(x=Mn.get(x))&&Th(f,x),b=(r.ownerDocument||r).createElement("link"),Nt(b);var w=b;return w._p=new Promise(function(E,R){w.onload=E,w.onerror=R}),Rt(b,"link",f),l.state.loading|=4,xc(b,d.precedence,r),l.instance=b;case"script":return b=Za(d.src),(x=r.querySelector(fl(b)))?(l.instance=x,Nt(x),x):(f=d,(x=Mn.get(b))&&(f=g({},d),Ah(f,x)),r=r.ownerDocument||r,x=r.createElement("script"),Nt(x),Rt(x,"link",f),r.head.appendChild(x),l.instance=x);case"void":return null;default:throw Error(s(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(f=l.instance,l.state.loading|=4,xc(f,d.precedence,r));return l.instance}function xc(r,l,d){for(var f=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=f.length?f[f.length-1]:null,b=x,w=0;w<f.length;w++){var E=f[w];if(E.dataset.precedence===l)b=E;else if(b!==x)break}b?b.parentNode.insertBefore(r,b.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(r,l.firstChild))}function Th(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function Ah(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var gc=null;function qb(r,l,d){if(gc===null){var f=new Map,x=gc=new Map;x.set(d,f)}else x=gc,f=x.get(d),f||(f=new Map,x.set(d,f));if(f.has(r))return f;for(f.set(r,null),d=d.getElementsByTagName(r),x=0;x<d.length;x++){var b=d[x];if(!(b[Ti]||b[Tt]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var w=b.getAttribute(l)||"";w=r+w;var E=f.get(w);E?E.push(b):f.set(w,[b])}}return f}function Wb(r,l,d){r=r.ownerDocument||r,r.head.insertBefore(d,l==="title"?r.querySelector("head > title"):null)}function TS(r,l,d){if(d===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(r=l.disabled,typeof l.precedence=="string"&&r==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Kb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function AS(r,l,d,f){if(d.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var x=Qa(f.href),b=l.querySelector(ul(x));if(b){l=b._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(r.count++,r=bc.bind(r),l.then(r,r)),d.state.loading|=4,d.instance=b,Nt(b);return}b=l.ownerDocument||l,f=$b(f),(x=Mn.get(x))&&Th(f,x),b=b.createElement("link"),Nt(b);var w=b;w._p=new Promise(function(E,R){w.onload=E,w.onerror=R}),Rt(b,"link",f),d.instance=b}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(r.count++,d=bc.bind(r),l.addEventListener("load",d),l.addEventListener("error",d))}}var Mh=0;function MS(r,l){return r.stylesheets&&r.count===0&&vc(r,r.stylesheets),0<r.count||0<r.imgCount?function(d){var f=setTimeout(function(){if(r.stylesheets&&vc(r,r.stylesheets),r.unsuspend){var b=r.unsuspend;r.unsuspend=null,b()}},6e4+l);0<r.imgBytes&&Mh===0&&(Mh=62500*dS());var x=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&vc(r,r.stylesheets),r.unsuspend)){var b=r.unsuspend;r.unsuspend=null,b()}},(r.imgBytes>Mh?50:800)+l);return r.unsuspend=d,function(){r.unsuspend=null,clearTimeout(f),clearTimeout(x)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var yc=null;function vc(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,yc=new Map,l.forEach(OS,r),yc=null,bc.call(r))}function OS(r,l){if(!(l.state.loading&4)){var d=yc.get(r);if(d)var f=d.get(null);else{d=new Map,yc.set(r,d);for(var x=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<x.length;b++){var w=x[b];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(d.set(w.dataset.precedence,w),f=w)}f&&d.set(null,f)}x=l.instance,w=x.getAttribute("data-precedence"),b=d.get(w)||f,b===f&&d.set(null,x),d.set(w,x),this.count++,f=bc.bind(this),x.addEventListener("load",f),x.addEventListener("error",f),b?b.parentNode.insertBefore(x,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(x,r.firstChild)),l.state.loading|=4}}var hl={$$typeof:M,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function RS(r,l,d,f,x,b,w,E,R){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ku(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ku(0),this.hiddenUpdates=ku(null),this.identifierPrefix=f,this.onUncaughtError=x,this.onCaughtError=b,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Gb(r,l,d,f,x,b,w,E,R,$,Y,ee){return r=new RS(r,l,d,w,R,$,Y,ee,E),l=1,b===!0&&(l|=24),b=fn(3,null,null,l),r.current=b,b.stateNode=r,l=cf(),l.refCount++,r.pooledCache=l,l.refCount++,b.memoizedState={element:f,isDehydrated:d,cache:l},hf(b),r}function Yb(r){return r?(r=Ma,r):Ma}function Jb(r,l,d,f,x,b){x=Yb(x),f.context===null?f.context=x:f.pendingContext=x,f=qs(l),f.payload={element:d},b=b===void 0?null:b,b!==null&&(f.callback=b),d=Ws(r,f,l),d!==null&&(en(d,r,l),qi(d,r,l))}function Xb(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<l?d:l}}function Oh(r,l){Xb(r,l),(r=r.alternate)&&Xb(r,l)}function Qb(r){if(r.tag===13||r.tag===31){var l=zr(r,67108864);l!==null&&en(l,r,67108864),Oh(r,67108864)}}function Zb(r){if(r.tag===13||r.tag===31){var l=gn();l=Su(l);var d=zr(r,l);d!==null&&en(d,r,l),Oh(r,l)}}var Nc=!0;function DS(r,l,d,f){var x=O.T;O.T=null;var b=K.p;try{K.p=2,Rh(r,l,d,f)}finally{K.p=b,O.T=x}}function LS(r,l,d,f){var x=O.T;O.T=null;var b=K.p;try{K.p=8,Rh(r,l,d,f)}finally{K.p=b,O.T=x}}function Rh(r,l,d,f){if(Nc){var x=Dh(f);if(x===null)bh(r,l,f,jc,d),ty(r,f);else if(_S(x,r,l,d,f))f.stopPropagation();else if(ty(r,f),l&4&&-1<zS.indexOf(r)){for(;x!==null;){var b=ya(x);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var w=Mr(b.pendingLanes);if(w!==0){var E=b;for(E.pendingLanes|=2,E.entangledLanes|=2;w;){var R=1<<31-dn(w);E.entanglements[1]|=R,w&=~R}Yn(b),(Ue&6)===0&&(rc=on()+500,ll(0))}}break;case 31:case 13:E=zr(b,2),E!==null&&en(E,b,2),ic(),Oh(b,2)}if(b=Dh(f),b===null&&bh(r,l,f,jc,d),b===x)break;x=b}x!==null&&f.stopPropagation()}else bh(r,l,f,null,d)}}function Dh(r){return r=Lu(r),Lh(r)}var jc=null;function Lh(r){if(jc=null,r=ba(r),r!==null){var l=o(r);if(l===null)r=null;else{var d=l.tag;if(d===13){if(r=c(l),r!==null)return r;r=null}else if(d===31){if(r=u(l),r!==null)return r;r=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return jc=r,null}function ey(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(v2()){case ox:return 2;case cx:return 8;case uo:case N2:return 32;case dx:return 268435456;default:return 32}default:return 32}}var zh=!1,sr=null,rr=null,ar=null,ml=new Map,pl=new Map,ir=[],zS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ty(r,l){switch(r){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":ml.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(l.pointerId)}}function xl(r,l,d,f,x,b){return r===null||r.nativeEvent!==b?(r={blockedOn:l,domEventName:d,eventSystemFlags:f,nativeEvent:b,targetContainers:[x]},l!==null&&(l=ya(l),l!==null&&Qb(l)),r):(r.eventSystemFlags|=f,l=r.targetContainers,x!==null&&l.indexOf(x)===-1&&l.push(x),r)}function _S(r,l,d,f,x){switch(l){case"focusin":return sr=xl(sr,r,l,d,f,x),!0;case"dragenter":return rr=xl(rr,r,l,d,f,x),!0;case"mouseover":return ar=xl(ar,r,l,d,f,x),!0;case"pointerover":var b=x.pointerId;return ml.set(b,xl(ml.get(b)||null,r,l,d,f,x)),!0;case"gotpointercapture":return b=x.pointerId,pl.set(b,xl(pl.get(b)||null,r,l,d,f,x)),!0}return!1}function ny(r){var l=ba(r.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=c(d),l!==null){r.blockedOn=l,xx(r.priority,function(){Zb(d)});return}}else if(l===31){if(l=u(d),l!==null){r.blockedOn=l,xx(r.priority,function(){Zb(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function wc(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var d=Dh(r.nativeEvent);if(d===null){d=r.nativeEvent;var f=new d.constructor(d.type,d);Du=f,d.target.dispatchEvent(f),Du=null}else return l=ya(d),l!==null&&Qb(l),r.blockedOn=d,!1;l.shift()}return!0}function sy(r,l,d){wc(r)&&d.delete(l)}function BS(){zh=!1,sr!==null&&wc(sr)&&(sr=null),rr!==null&&wc(rr)&&(rr=null),ar!==null&&wc(ar)&&(ar=null),ml.forEach(sy),pl.forEach(sy)}function kc(r,l){r.blockedOn===l&&(r.blockedOn=null,zh||(zh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,BS)))}var Sc=null;function ry(r){Sc!==r&&(Sc=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Sc===r&&(Sc=null);for(var l=0;l<r.length;l+=3){var d=r[l],f=r[l+1],x=r[l+2];if(typeof f!="function"){if(Lh(f||d)===null)continue;break}var b=ya(d);b!==null&&(r.splice(l,3),l-=3,Df(b,{pending:!0,data:x,method:d.method,action:f},f,x))}}))}function ei(r){function l(R){return kc(R,r)}sr!==null&&kc(sr,r),rr!==null&&kc(rr,r),ar!==null&&kc(ar,r),ml.forEach(l),pl.forEach(l);for(var d=0;d<ir.length;d++){var f=ir[d];f.blockedOn===r&&(f.blockedOn=null)}for(;0<ir.length&&(d=ir[0],d.blockedOn===null);)ny(d),d.blockedOn===null&&ir.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(f=0;f<d.length;f+=3){var x=d[f],b=d[f+1],w=x[Gt]||null;if(typeof b=="function")w||ry(d);else if(w){var E=null;if(b&&b.hasAttribute("formAction")){if(x=b,w=b[Gt]||null)E=w.formAction;else if(Lh(x)!==null)continue}else E=w.action;typeof E=="function"?d[f+1]=E:(d.splice(f,3),f-=3),ry(d)}}}function ay(){function r(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(w){return x=w})},focusReset:"manual",scroll:"manual"})}function l(){x!==null&&(x(),x=null),f||setTimeout(d,20)}function d(){if(!f&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,x=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){f=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),x!==null&&(x(),x=null)}}}function _h(r){this._internalRoot=r}Cc.prototype.render=_h.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(s(409));var d=l.current,f=gn();Jb(d,f,r,l,null,null)},Cc.prototype.unmount=_h.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;Jb(r.current,2,null,r,null,null),ic(),l[ga]=null}};function Cc(r){this._internalRoot=r}Cc.prototype.unstable_scheduleHydration=function(r){if(r){var l=px();r={blockedOn:null,target:r,priority:l};for(var d=0;d<ir.length&&l!==0&&l<ir[d].priority;d++);ir.splice(d,0,r),d===0&&ny(r)}};var iy=e.version;if(iy!=="19.2.3")throw Error(s(527,iy,"19.2.3"));K.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=m(l),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var US={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{Si=Ec.inject(US),cn=Ec}catch{}}return bl.createRoot=function(r,l){if(!i(r))throw Error(s(299));var d=!1,f="",x=h0,b=m0,w=p0;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),l=Gb(r,1,!1,null,null,d,f,null,x,b,w,ay),r[ga]=l.current,gh(r),new _h(l)},bl.hydrateRoot=function(r,l,d){if(!i(r))throw Error(s(299));var f=!1,x="",b=h0,w=m0,E=p0,R=null;return d!=null&&(d.unstable_strictMode===!0&&(f=!0),d.identifierPrefix!==void 0&&(x=d.identifierPrefix),d.onUncaughtError!==void 0&&(b=d.onUncaughtError),d.onCaughtError!==void 0&&(w=d.onCaughtError),d.onRecoverableError!==void 0&&(E=d.onRecoverableError),d.formState!==void 0&&(R=d.formState)),l=Gb(r,1,!0,l,d??null,f,x,R,b,w,E,ay),l.context=Yb(null),d=l.current,f=gn(),f=Su(f),x=qs(f),x.callback=null,Ws(d,x,f),d=f,l.current.lanes=d,Ei(l,d),Yn(l),r[ga]=l.current,gh(r),new Cc(l)},bl.version="19.2.3",bl}var xy;function KS(){if(xy)return Hh.exports;xy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hh.exports=WS(),Hh.exports}var GS=KS();function T1(t,e){return function(){return t.apply(e,arguments)}}const{toString:YS}=Object.prototype,{getPrototypeOf:cp}=Object,{iterator:Yd,toStringTag:A1}=Symbol,Jd=(t=>e=>{const n=YS.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),qn=t=>(t=t.toLowerCase(),e=>Jd(e)===t),Xd=t=>e=>typeof e===t,{isArray:bi}=Array,di=Xd("undefined");function Ql(t){return t!==null&&!di(t)&&t.constructor!==null&&!di(t.constructor)&&sn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const M1=qn("ArrayBuffer");function JS(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&M1(t.buffer),e}const XS=Xd("string"),sn=Xd("function"),O1=Xd("number"),Zl=t=>t!==null&&typeof t=="object",QS=t=>t===!0||t===!1,$c=t=>{if(Jd(t)!=="object")return!1;const e=cp(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(A1 in t)&&!(Yd in t)},ZS=t=>{if(!Zl(t)||Ql(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},e4=qn("Date"),t4=qn("File"),n4=qn("Blob"),s4=qn("FileList"),r4=t=>Zl(t)&&sn(t.pipe),a4=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||sn(t.append)&&((e=Jd(t))==="formdata"||e==="object"&&sn(t.toString)&&t.toString()==="[object FormData]"))},i4=qn("URLSearchParams"),[l4,o4,c4,d4]=["ReadableStream","Request","Response","Headers"].map(qn),u4=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eo(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),bi(t))for(s=0,i=t.length;s<i;s++)e.call(null,t[s],s,t);else{if(Ql(t))return;const o=n?Object.getOwnPropertyNames(t):Object.keys(t),c=o.length;let u;for(s=0;s<c;s++)u=o[s],e.call(null,t[u],u,t)}}function R1(t,e){if(Ql(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,i;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const Jr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,D1=t=>!di(t)&&t!==Jr;function Em(){const{caseless:t,skipUndefined:e}=D1(this)&&this||{},n={},s=(i,o)=>{const c=t&&R1(n,o)||o;$c(n[c])&&$c(i)?n[c]=Em(n[c],i):$c(i)?n[c]=Em({},i):bi(i)?n[c]=i.slice():(!e||!di(i))&&(n[c]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&eo(arguments[i],s);return n}const f4=(t,e,n,{allOwnKeys:s}={})=>(eo(e,(i,o)=>{n&&sn(i)?t[o]=T1(i,n):t[o]=i},{allOwnKeys:s}),t),h4=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),m4=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},p4=(t,e,n,s)=>{let i,o,c;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)c=i[o],(!s||s(c,t,e))&&!u[c]&&(e[c]=t[c],u[c]=!0);t=n!==!1&&cp(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},x4=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},g4=t=>{if(!t)return null;if(bi(t))return t;let e=t.length;if(!O1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},b4=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&cp(Uint8Array)),y4=(t,e)=>{const s=(t&&t[Yd]).call(t);let i;for(;(i=s.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},v4=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},N4=qn("HTMLFormElement"),j4=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),gy=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),w4=qn("RegExp"),L1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};eo(n,(i,o)=>{let c;(c=e(i,o,t))!==!1&&(s[o]=c||i)}),Object.defineProperties(t,s)},k4=t=>{L1(t,(e,n)=>{if(sn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(sn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},S4=(t,e)=>{const n={},s=i=>{i.forEach(o=>{n[o]=!0})};return bi(t)?s(t):s(String(t).split(e)),n},C4=()=>{},E4=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function T4(t){return!!(t&&sn(t.append)&&t[A1]==="FormData"&&t[Yd])}const A4=t=>{const e=new Array(10),n=(s,i)=>{if(Zl(s)){if(e.indexOf(s)>=0)return;if(Ql(s))return s;if(!("toJSON"in s)){e[i]=s;const o=bi(s)?[]:{};return eo(s,(c,u)=>{const h=n(c,i+1);!di(h)&&(o[u]=h)}),e[i]=void 0,o}}return s};return n(t,0)},M4=qn("AsyncFunction"),O4=t=>t&&(Zl(t)||sn(t))&&sn(t.then)&&sn(t.catch),z1=((t,e)=>t?setImmediate:e?((n,s)=>(Jr.addEventListener("message",({source:i,data:o})=>{i===Jr&&o===n&&s.length&&s.shift()()},!1),i=>{s.push(i),Jr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",sn(Jr.postMessage)),R4=typeof queueMicrotask<"u"?queueMicrotask.bind(Jr):typeof process<"u"&&process.nextTick||z1,D4=t=>t!=null&&sn(t[Yd]),q={isArray:bi,isArrayBuffer:M1,isBuffer:Ql,isFormData:a4,isArrayBufferView:JS,isString:XS,isNumber:O1,isBoolean:QS,isObject:Zl,isPlainObject:$c,isEmptyObject:ZS,isReadableStream:l4,isRequest:o4,isResponse:c4,isHeaders:d4,isUndefined:di,isDate:e4,isFile:t4,isBlob:n4,isRegExp:w4,isFunction:sn,isStream:r4,isURLSearchParams:i4,isTypedArray:b4,isFileList:s4,forEach:eo,merge:Em,extend:f4,trim:u4,stripBOM:h4,inherits:m4,toFlatObject:p4,kindOf:Jd,kindOfTest:qn,endsWith:x4,toArray:g4,forEachEntry:y4,matchAll:v4,isHTMLForm:N4,hasOwnProperty:gy,hasOwnProp:gy,reduceDescriptors:L1,freezeMethods:k4,toObjectSet:S4,toCamelCase:j4,noop:C4,toFiniteNumber:E4,findKey:R1,global:Jr,isContextDefined:D1,isSpecCompliantForm:T4,toJSONObject:A4,isAsyncFn:M4,isThenable:O4,setImmediate:z1,asap:R4,isIterable:D4};function Ne(t,e,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}q.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const _1=Ne.prototype,B1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{B1[t]={value:t}});Object.defineProperties(Ne,B1);Object.defineProperty(_1,"isAxiosError",{value:!0});Ne.from=(t,e,n,s,i,o)=>{const c=Object.create(_1);q.toFlatObject(t,c,function(p){return p!==Error.prototype},m=>m!=="isAxiosError");const u=t&&t.message?t.message:"Error",h=e==null&&t?t.code:e;return Ne.call(c,u,h,n,s,i),t&&c.cause==null&&Object.defineProperty(c,"cause",{value:t,configurable:!0}),c.name=t&&t.name||"Error",o&&Object.assign(c,o),c};const L4=null;function Tm(t){return q.isPlainObject(t)||q.isArray(t)}function U1(t){return q.endsWith(t,"[]")?t.slice(0,-2):t}function by(t,e,n){return t?t.concat(e).map(function(i,o){return i=U1(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function z4(t){return q.isArray(t)&&!t.some(Tm)}const _4=q.toFlatObject(q,{},null,function(e){return/^is[A-Z]/.test(e)});function Qd(t,e,n){if(!q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,j){return!q.isUndefined(j[k])});const s=n.metaTokens,i=n.visitor||p,o=n.dots,c=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(e);if(!q.isFunction(i))throw new TypeError("visitor must be a function");function m(v){if(v===null)return"";if(q.isDate(v))return v.toISOString();if(q.isBoolean(v))return v.toString();if(!h&&q.isBlob(v))throw new Ne("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(v)||q.isTypedArray(v)?h&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function p(v,k,j){let C=v;if(v&&!j&&typeof v=="object"){if(q.endsWith(k,"{}"))k=s?k:k.slice(0,-2),v=JSON.stringify(v);else if(q.isArray(v)&&z4(v)||(q.isFileList(v)||q.endsWith(k,"[]"))&&(C=q.toArray(v)))return k=U1(k),C.forEach(function(M,P){!(q.isUndefined(M)||M===null)&&e.append(c===!0?by([k],P,o):c===null?k:k+"[]",m(M))}),!1}return Tm(v)?!0:(e.append(by(j,k,o),m(v)),!1)}const g=[],y=Object.assign(_4,{defaultVisitor:p,convertValue:m,isVisitable:Tm});function N(v,k){if(!q.isUndefined(v)){if(g.indexOf(v)!==-1)throw Error("Circular reference detected in "+k.join("."));g.push(v),q.forEach(v,function(C,T){(!(q.isUndefined(C)||C===null)&&i.call(e,C,q.isString(T)?T.trim():T,k,y))===!0&&N(C,k?k.concat(T):[T])}),g.pop()}}if(!q.isObject(t))throw new TypeError("data must be an object");return N(t),e}function yy(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function dp(t,e){this._pairs=[],t&&Qd(t,this,e)}const H1=dp.prototype;H1.append=function(e,n){this._pairs.push([e,n])};H1.toString=function(e){const n=e?function(s){return e.call(this,s,yy)}:yy;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function B4(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function P1(t,e,n){if(!e)return t;const s=n&&n.encode||B4;q.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=q.isURLSearchParams(e)?e.toString():new dp(e,n).toString(s),o){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class vy{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,function(s){s!==null&&e(s)})}}const I1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},U4=typeof URLSearchParams<"u"?URLSearchParams:dp,H4=typeof FormData<"u"?FormData:null,P4=typeof Blob<"u"?Blob:null,I4={isBrowser:!0,classes:{URLSearchParams:U4,FormData:H4,Blob:P4},protocols:["http","https","file","blob","url","data"]},up=typeof window<"u"&&typeof document<"u",Am=typeof navigator=="object"&&navigator||void 0,F4=up&&(!Am||["ReactNative","NativeScript","NS"].indexOf(Am.product)<0),$4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",V4=up&&window.location.href||"http://localhost",q4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:up,hasStandardBrowserEnv:F4,hasStandardBrowserWebWorkerEnv:$4,navigator:Am,origin:V4},Symbol.toStringTag,{value:"Module"})),Pt={...q4,...I4};function W4(t,e){return Qd(t,new Pt.classes.URLSearchParams,{visitor:function(n,s,i,o){return Pt.isNode&&q.isBuffer(n)?(this.append(s,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function K4(t){return q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function G4(t){const e={},n=Object.keys(t);let s;const i=n.length;let o;for(s=0;s<i;s++)o=n[s],e[o]=t[o];return e}function F1(t){function e(n,s,i,o){let c=n[o++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),h=o>=n.length;return c=!c&&q.isArray(i)?i.length:c,h?(q.hasOwnProp(i,c)?i[c]=[i[c],s]:i[c]=s,!u):((!i[c]||!q.isObject(i[c]))&&(i[c]=[]),e(n,s,i[c],o)&&q.isArray(i[c])&&(i[c]=G4(i[c])),!u)}if(q.isFormData(t)&&q.isFunction(t.entries)){const n={};return q.forEachEntry(t,(s,i)=>{e(K4(s),i,n,0)}),n}return null}function Y4(t,e,n){if(q.isString(t))try{return(e||JSON.parse)(t),q.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const to={transitional:I1,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,o=q.isObject(e);if(o&&q.isHTMLForm(e)&&(e=new FormData(e)),q.isFormData(e))return i?JSON.stringify(F1(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return W4(e,this.formSerializer).toString();if((u=q.isFileList(e))||s.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Qd(u?{"files[]":e}:e,h&&new h,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),Y4(e)):e}],transformResponse:[function(e){const n=this.transitional||to.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(s&&!this.responseType||i)){const c=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?Ne.from(u,Ne.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pt.classes.FormData,Blob:Pt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],t=>{to.headers[t]={}});const J4=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),X4=t=>{const e={};let n,s,i;return t&&t.split(`
`).forEach(function(c){i=c.indexOf(":"),n=c.substring(0,i).trim().toLowerCase(),s=c.substring(i+1).trim(),!(!n||e[n]&&J4[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},Ny=Symbol("internals");function yl(t){return t&&String(t).trim().toLowerCase()}function Vc(t){return t===!1||t==null?t:q.isArray(t)?t.map(Vc):String(t)}function Q4(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const Z4=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function $h(t,e,n,s,i){if(q.isFunction(s))return s.call(this,e,n);if(i&&(e=n),!!q.isString(e)){if(q.isString(s))return e.indexOf(s)!==-1;if(q.isRegExp(s))return s.test(e)}}function eC(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function tC(t,e){const n=q.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(i,o,c){return this[s].call(this,e,i,o,c)},configurable:!0})})}let rn=class{constructor(e){e&&this.set(e)}set(e,n,s){const i=this;function o(u,h,m){const p=yl(h);if(!p)throw new Error("header name must be a non-empty string");const g=q.findKey(i,p);(!g||i[g]===void 0||m===!0||m===void 0&&i[g]!==!1)&&(i[g||h]=Vc(u))}const c=(u,h)=>q.forEach(u,(m,p)=>o(m,p,h));if(q.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(q.isString(e)&&(e=e.trim())&&!Z4(e))c(X4(e),n);else if(q.isObject(e)&&q.isIterable(e)){let u={},h,m;for(const p of e){if(!q.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[m=p[0]]=(h=u[m])?q.isArray(h)?[...h,p[1]]:[h,p[1]]:p[1]}c(u,n)}else e!=null&&o(n,e,s);return this}get(e,n){if(e=yl(e),e){const s=q.findKey(this,e);if(s){const i=this[s];if(!n)return i;if(n===!0)return Q4(i);if(q.isFunction(n))return n.call(this,i,s);if(q.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=yl(e),e){const s=q.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||$h(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let i=!1;function o(c){if(c=yl(c),c){const u=q.findKey(s,c);u&&(!n||$h(s,s[u],u,n))&&(delete s[u],i=!0)}}return q.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const o=n[s];(!e||$h(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,s={};return q.forEach(this,(i,o)=>{const c=q.findKey(s,o);if(c){n[c]=Vc(i),delete n[o];return}const u=e?eC(o):String(o).trim();u!==o&&delete n[o],n[u]=Vc(i),s[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return q.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=e&&q.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[Ny]=this[Ny]={accessors:{}}).accessors,i=this.prototype;function o(c){const u=yl(c);s[u]||(tC(i,c),s[u]=!0)}return q.isArray(e)?e.forEach(o):o(e),this}};rn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(rn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});q.freezeMethods(rn);function Vh(t,e){const n=this||to,s=e||n,i=rn.from(s.headers);let o=s.data;return q.forEach(t,function(u){o=u.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function $1(t){return!!(t&&t.__CANCEL__)}function yi(t,e,n){Ne.call(this,t??"canceled",Ne.ERR_CANCELED,e,n),this.name="CanceledError"}q.inherits(yi,Ne,{__CANCEL__:!0});function V1(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new Ne("Request failed with status code "+n.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function nC(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function sC(t,e){t=t||10;const n=new Array(t),s=new Array(t);let i=0,o=0,c;return e=e!==void 0?e:1e3,function(h){const m=Date.now(),p=s[o];c||(c=m),n[i]=h,s[i]=m;let g=o,y=0;for(;g!==i;)y+=n[g++],g=g%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),m-c<e)return;const N=p&&m-p;return N?Math.round(y*1e3/N):void 0}}function rC(t,e){let n=0,s=1e3/e,i,o;const c=(m,p=Date.now())=>{n=p,i=null,o&&(clearTimeout(o),o=null),t(...m)};return[(...m)=>{const p=Date.now(),g=p-n;g>=s?c(m,p):(i=m,o||(o=setTimeout(()=>{o=null,c(i)},s-g)))},()=>i&&c(i)]}const td=(t,e,n=3)=>{let s=0;const i=sC(50,250);return rC(o=>{const c=o.loaded,u=o.lengthComputable?o.total:void 0,h=c-s,m=i(h),p=c<=u;s=c;const g={loaded:c,total:u,progress:u?c/u:void 0,bytes:h,rate:m||void 0,estimated:m&&u&&p?(u-c)/m:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(g)},n)},jy=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},wy=t=>(...e)=>q.asap(()=>t(...e)),aC=Pt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Pt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Pt.origin),Pt.navigator&&/(msie|trident)/i.test(Pt.navigator.userAgent)):()=>!0,iC=Pt.hasStandardBrowserEnv?{write(t,e,n,s,i,o,c){if(typeof document>"u")return;const u=[`${t}=${encodeURIComponent(e)}`];q.isNumber(n)&&u.push(`expires=${new Date(n).toUTCString()}`),q.isString(s)&&u.push(`path=${s}`),q.isString(i)&&u.push(`domain=${i}`),o===!0&&u.push("secure"),q.isString(c)&&u.push(`SameSite=${c}`),document.cookie=u.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function lC(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function oC(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function q1(t,e,n){let s=!lC(e);return t&&(s||n==!1)?oC(t,e):e}const ky=t=>t instanceof rn?{...t}:t;function la(t,e){e=e||{};const n={};function s(m,p,g,y){return q.isPlainObject(m)&&q.isPlainObject(p)?q.merge.call({caseless:y},m,p):q.isPlainObject(p)?q.merge({},p):q.isArray(p)?p.slice():p}function i(m,p,g,y){if(q.isUndefined(p)){if(!q.isUndefined(m))return s(void 0,m,g,y)}else return s(m,p,g,y)}function o(m,p){if(!q.isUndefined(p))return s(void 0,p)}function c(m,p){if(q.isUndefined(p)){if(!q.isUndefined(m))return s(void 0,m)}else return s(void 0,p)}function u(m,p,g){if(g in e)return s(m,p);if(g in t)return s(void 0,m)}const h={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(m,p,g)=>i(ky(m),ky(p),g,!0)};return q.forEach(Object.keys({...t,...e}),function(p){const g=h[p]||i,y=g(t[p],e[p],p);q.isUndefined(y)&&g!==u||(n[p]=y)}),n}const W1=t=>{const e=la({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:o,headers:c,auth:u}=e;if(e.headers=c=rn.from(c),e.url=P1(q1(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),q.isFormData(n)){if(Pt.hasStandardBrowserEnv||Pt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(q.isFunction(n.getHeaders)){const h=n.getHeaders(),m=["content-type","content-length"];Object.entries(h).forEach(([p,g])=>{m.includes(p.toLowerCase())&&c.set(p,g)})}}if(Pt.hasStandardBrowserEnv&&(s&&q.isFunction(s)&&(s=s(e)),s||s!==!1&&aC(e.url))){const h=i&&o&&iC.read(o);h&&c.set(i,h)}return e},cC=typeof XMLHttpRequest<"u",dC=cC&&function(t){return new Promise(function(n,s){const i=W1(t);let o=i.data;const c=rn.from(i.headers).normalize();let{responseType:u,onUploadProgress:h,onDownloadProgress:m}=i,p,g,y,N,v;function k(){N&&N(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let j=new XMLHttpRequest;j.open(i.method.toUpperCase(),i.url,!0),j.timeout=i.timeout;function C(){if(!j)return;const M=rn.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),H={data:!u||u==="text"||u==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:M,config:t,request:j};V1(function(A){n(A),k()},function(A){s(A),k()},H),j=null}"onloadend"in j?j.onloadend=C:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(C)},j.onabort=function(){j&&(s(new Ne("Request aborted",Ne.ECONNABORTED,t,j)),j=null)},j.onerror=function(P){const H=P&&P.message?P.message:"Network Error",B=new Ne(H,Ne.ERR_NETWORK,t,j);B.event=P||null,s(B),j=null},j.ontimeout=function(){let P=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const H=i.transitional||I1;i.timeoutErrorMessage&&(P=i.timeoutErrorMessage),s(new Ne(P,H.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,t,j)),j=null},o===void 0&&c.setContentType(null),"setRequestHeader"in j&&q.forEach(c.toJSON(),function(P,H){j.setRequestHeader(H,P)}),q.isUndefined(i.withCredentials)||(j.withCredentials=!!i.withCredentials),u&&u!=="json"&&(j.responseType=i.responseType),m&&([y,v]=td(m,!0),j.addEventListener("progress",y)),h&&j.upload&&([g,N]=td(h),j.upload.addEventListener("progress",g),j.upload.addEventListener("loadend",N)),(i.cancelToken||i.signal)&&(p=M=>{j&&(s(!M||M.type?new yi(null,t,j):M),j.abort(),j=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const T=nC(i.url);if(T&&Pt.protocols.indexOf(T)===-1){s(new Ne("Unsupported protocol "+T+":",Ne.ERR_BAD_REQUEST,t));return}j.send(o||null)})},uC=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,i;const o=function(m){if(!i){i=!0,u();const p=m instanceof Error?m:this.reason;s.abort(p instanceof Ne?p:new yi(p instanceof Error?p.message:p))}};let c=e&&setTimeout(()=>{c=null,o(new Ne(`timeout ${e} of ms exceeded`,Ne.ETIMEDOUT))},e);const u=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),t=null)};t.forEach(m=>m.addEventListener("abort",o));const{signal:h}=s;return h.unsubscribe=()=>q.asap(u),h}},fC=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,i;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},hC=async function*(t,e){for await(const n of mC(t))yield*fC(n,e)},mC=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},Sy=(t,e,n,s)=>{const i=hC(t,e);let o=0,c,u=h=>{c||(c=!0,s&&s(h))};return new ReadableStream({async pull(h){try{const{done:m,value:p}=await i.next();if(m){u(),h.close();return}let g=p.byteLength;if(n){let y=o+=g;n(y)}h.enqueue(new Uint8Array(p))}catch(m){throw u(m),m}},cancel(h){return u(h),i.return()}},{highWaterMark:2})},Cy=64*1024,{isFunction:Tc}=q,pC=(({Request:t,Response:e})=>({Request:t,Response:e}))(q.global),{ReadableStream:Ey,TextEncoder:Ty}=q.global,Ay=(t,...e)=>{try{return!!t(...e)}catch{return!1}},xC=t=>{t=q.merge.call({skipUndefined:!0},pC,t);const{fetch:e,Request:n,Response:s}=t,i=e?Tc(e):typeof fetch=="function",o=Tc(n),c=Tc(s);if(!i)return!1;const u=i&&Tc(Ey),h=i&&(typeof Ty=="function"?(v=>k=>v.encode(k))(new Ty):async v=>new Uint8Array(await new n(v).arrayBuffer())),m=o&&u&&Ay(()=>{let v=!1;const k=new n(Pt.origin,{body:new Ey,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!k}),p=c&&u&&Ay(()=>q.isReadableStream(new s("").body)),g={stream:p&&(v=>v.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!g[v]&&(g[v]=(k,j)=>{let C=k&&k[v];if(C)return C.call(k);throw new Ne(`Response type '${v}' is not supported`,Ne.ERR_NOT_SUPPORT,j)})});const y=async v=>{if(v==null)return 0;if(q.isBlob(v))return v.size;if(q.isSpecCompliantForm(v))return(await new n(Pt.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(q.isArrayBufferView(v)||q.isArrayBuffer(v))return v.byteLength;if(q.isURLSearchParams(v)&&(v=v+""),q.isString(v))return(await h(v)).byteLength},N=async(v,k)=>{const j=q.toFiniteNumber(v.getContentLength());return j??y(k)};return async v=>{let{url:k,method:j,data:C,signal:T,cancelToken:M,timeout:P,onDownloadProgress:H,onUploadProgress:B,responseType:A,headers:D,withCredentials:_="same-origin",fetchOptions:I}=W1(v),pe=e||fetch;A=A?(A+"").toLowerCase():"text";let X=uC([T,M&&M.toAbortSignal()],P),G=null;const J=X&&X.unsubscribe&&(()=>{X.unsubscribe()});let te;try{if(B&&m&&j!=="get"&&j!=="head"&&(te=await N(D,C))!==0){let L=new n(k,{method:"POST",body:C,duplex:"half"}),Z;if(q.isFormData(C)&&(Z=L.headers.get("content-type"))&&D.setContentType(Z),L.body){const[re,le]=jy(te,td(wy(B)));C=Sy(L.body,Cy,re,le)}}q.isString(_)||(_=_?"include":"omit");const O=o&&"credentials"in n.prototype,K={...I,signal:X,method:j.toUpperCase(),headers:D.normalize().toJSON(),body:C,duplex:"half",credentials:O?_:void 0};G=o&&new n(k,K);let ae=await(o?pe(G,I):pe(k,K));const Se=p&&(A==="stream"||A==="response");if(p&&(H||Se&&J)){const L={};["status","statusText","headers"].forEach(be=>{L[be]=ae[be]});const Z=q.toFiniteNumber(ae.headers.get("content-length")),[re,le]=H&&jy(Z,td(wy(H),!0))||[];ae=new s(Sy(ae.body,Cy,re,()=>{le&&le(),J&&J()}),L)}A=A||"text";let Ee=await g[q.findKey(g,A)||"text"](ae,v);return!Se&&J&&J(),await new Promise((L,Z)=>{V1(L,Z,{data:Ee,headers:rn.from(ae.headers),status:ae.status,statusText:ae.statusText,config:v,request:G})})}catch(O){throw J&&J(),O&&O.name==="TypeError"&&/Load failed|fetch/i.test(O.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,v,G),{cause:O.cause||O}):Ne.from(O,O&&O.code,v,G)}}},gC=new Map,K1=t=>{let e=t&&t.env||{};const{fetch:n,Request:s,Response:i}=e,o=[s,i,n];let c=o.length,u=c,h,m,p=gC;for(;u--;)h=o[u],m=p.get(h),m===void 0&&p.set(h,m=u?new Map:xC(e)),p=m;return m};K1();const fp={http:L4,xhr:dC,fetch:{get:K1}};q.forEach(fp,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const My=t=>`- ${t}`,bC=t=>q.isFunction(t)||t===null||t===!1;function yC(t,e){t=q.isArray(t)?t:[t];const{length:n}=t;let s,i;const o={};for(let c=0;c<n;c++){s=t[c];let u;if(i=s,!bC(s)&&(i=fp[(u=String(s)).toLowerCase()],i===void 0))throw new Ne(`Unknown adapter '${u}'`);if(i&&(q.isFunction(i)||(i=i.get(e))))break;o[u||"#"+c]=i}if(!i){const c=Object.entries(o).map(([h,m])=>`adapter ${h} `+(m===!1?"is not supported by the environment":"is not available in the build"));let u=n?c.length>1?`since :
`+c.map(My).join(`
`):" "+My(c[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i}const G1={getAdapter:yC,adapters:fp};function qh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new yi(null,t)}function Oy(t){return qh(t),t.headers=rn.from(t.headers),t.data=Vh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),G1.getAdapter(t.adapter||to.adapter,t)(t).then(function(s){return qh(t),s.data=Vh.call(t,t.transformResponse,s),s.headers=rn.from(s.headers),s},function(s){return $1(s)||(qh(t),s&&s.response&&(s.response.data=Vh.call(t,t.transformResponse,s.response),s.response.headers=rn.from(s.response.headers))),Promise.reject(s)})}const Y1="1.13.2",Zd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Zd[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Ry={};Zd.transitional=function(e,n,s){function i(o,c){return"[Axios v"+Y1+"] Transitional option '"+o+"'"+c+(s?". "+s:"")}return(o,c,u)=>{if(e===!1)throw new Ne(i(c," has been removed"+(n?" in "+n:"")),Ne.ERR_DEPRECATED);return n&&!Ry[c]&&(Ry[c]=!0,console.warn(i(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,c,u):!0}};Zd.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function vC(t,e,n){if(typeof t!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const o=s[i],c=e[o];if(c){const u=t[o],h=u===void 0||c(u,o,t);if(h!==!0)throw new Ne("option "+o+" must be "+h,Ne.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ne("Unknown option "+o,Ne.ERR_BAD_OPTION)}}const qc={assertOptions:vC,validators:Zd},Jn=qc.validators;let ta=class{constructor(e){this.defaults=e||{},this.interceptors={request:new vy,response:new vy}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=la(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:o}=n;s!==void 0&&qc.assertOptions(s,{silentJSONParsing:Jn.transitional(Jn.boolean),forcedJSONParsing:Jn.transitional(Jn.boolean),clarifyTimeoutError:Jn.transitional(Jn.boolean)},!1),i!=null&&(q.isFunction(i)?n.paramsSerializer={serialize:i}:qc.assertOptions(i,{encode:Jn.function,serialize:Jn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),qc.assertOptions(n,{baseUrl:Jn.spelling("baseURL"),withXsrfToken:Jn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=o&&q.merge(o.common,o[n.method]);o&&q.forEach(["delete","get","head","post","put","patch","common"],v=>{delete o[v]}),n.headers=rn.concat(c,o);const u=[];let h=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(n)===!1||(h=h&&k.synchronous,u.unshift(k.fulfilled,k.rejected))});const m=[];this.interceptors.response.forEach(function(k){m.push(k.fulfilled,k.rejected)});let p,g=0,y;if(!h){const v=[Oy.bind(this),void 0];for(v.unshift(...u),v.push(...m),y=v.length,p=Promise.resolve(n);g<y;)p=p.then(v[g++],v[g++]);return p}y=u.length;let N=n;for(;g<y;){const v=u[g++],k=u[g++];try{N=v(N)}catch(j){k.call(this,j);break}}try{p=Oy.call(this,N)}catch(v){return Promise.reject(v)}for(g=0,y=m.length;g<y;)p=p.then(m[g++],m[g++]);return p}getUri(e){e=la(this.defaults,e);const n=q1(e.baseURL,e.url,e.allowAbsoluteUrls);return P1(n,e.params,e.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(e){ta.prototype[e]=function(n,s){return this.request(la(s||{},{method:e,url:n,data:(s||{}).data}))}});q.forEach(["post","put","patch"],function(e){function n(s){return function(o,c,u){return this.request(la(u||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}ta.prototype[e]=n(),ta.prototype[e+"Form"]=n(!0)});let NC=class J1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const s=this;this.promise.then(i=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](i);s._listeners=null}),this.promise.then=i=>{let o;const c=new Promise(u=>{s.subscribe(u),o=u}).then(i);return c.cancel=function(){s.unsubscribe(o)},c},e(function(o,c,u){s.reason||(s.reason=new yi(o,c,u),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new J1(function(i){e=i}),cancel:e}}};function jC(t){return function(n){return t.apply(null,n)}}function wC(t){return q.isObject(t)&&t.isAxiosError===!0}const Mm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Mm).forEach(([t,e])=>{Mm[e]=t});function X1(t){const e=new ta(t),n=T1(ta.prototype.request,e);return q.extend(n,ta.prototype,e,{allOwnKeys:!0}),q.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return X1(la(t,i))},n}const xe=X1(to);xe.Axios=ta;xe.CanceledError=yi;xe.CancelToken=NC;xe.isCancel=$1;xe.VERSION=Y1;xe.toFormData=Qd;xe.AxiosError=Ne;xe.Cancel=xe.CanceledError;xe.all=function(e){return Promise.all(e)};xe.spread=jC;xe.isAxiosError=wC;xe.mergeConfig=la;xe.AxiosHeaders=rn;xe.formToJSON=t=>F1(q.isHTMLForm(t)?new FormData(t):t);xe.getAdapter=G1.getAdapter;xe.HttpStatusCode=Mm;xe.default=xe;const{Axios:jL,AxiosError:wL,CanceledError:kL,isCancel:SL,CancelToken:CL,VERSION:EL,all:TL,Cancel:AL,isAxiosError:ML,spread:OL,toFormData:RL,AxiosHeaders:DL,HttpStatusCode:LL,formToJSON:zL,getAdapter:_L,mergeConfig:BL}=xe,kC="https://patricia-macadam.onrender.com/api",Q1=kC,We=Q1.replace("/api","/api/public");function ct(){const[t,e]=S.useState(null),[n,s]=S.useState(!1),[i,o]=S.useState([]),[c,u]=S.useState(!0),[h,m]=S.useState([]),[p,g]=S.useState([]),[y,N]=S.useState(null),[v,k]=S.useState(!0),[j,C]=S.useState([]),[T,M]=S.useState(!0);S.useEffect(()=>{P(),H(),B()},[]);const P=async()=>{try{const I=await xe.get(`${We}/topics`);o(I.data.topics||[])}catch(I){console.error("Error fetching topics:",I)}finally{u(!1)}},H=async()=>{try{k(!0);const I=await xe.get(`${We}/podcasts/series`);I.data&&(N(I.data.series||null),m((I.data.episodes||[]).slice(0,3)));const pe=await xe.get(`${We}/articles/recent/limit?limit=3`);pe.data&&g(pe.data.articles||[])}catch(I){console.error("Error fetching resources:",I)}finally{k(!1)}},B=async()=>{try{M(!0);const I=await xe.get(`${We}/courses`);C((I.data.courses||[]).slice(0,4))}catch(I){console.error("Error fetching courses:",I)}finally{M(!1)}},A=I=>{e(I)},D=()=>{e(null)},_=()=>{s(!n)};return a.jsx("section",{id:"navbar",className:"navbar w-full bg-black sticky top-0 z-50",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("nav",{className:"flex items-center justify-between py-5",children:[a.jsx("a",{href:"/",className:"flex items-center group",children:a.jsx("div",{className:"text-2xl font-bold text-white group-hover:text-gray-300 transition-colors",children:"Macadam Co."})}),a.jsxs("div",{className:"hidden lg:flex items-center space-x-6",children:[a.jsxs("div",{className:"relative",onMouseEnter:()=>A("resources"),onMouseLeave:D,children:[a.jsxs("button",{className:"flex items-center space-x-1 text-white hover:text-gray-300 py-2 transition-colors font-medium",children:[a.jsx("span",{children:"The Work"}),a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t==="resources"&&a.jsx("div",{className:"absolute top-full right-0 pt-2 w-[600px] max-w-[calc(100vw-2rem)]",children:a.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-900",children:"The Work"}),v?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"w-6 h-6 border-2 border-gray-900 border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-3",children:[y?.coverImage?a.jsx("img",{src:y.coverImage,alt:"Podcast Series",className:"w-32 h-32 rounded-lg mb-3 object-cover"}):a.jsx("div",{className:"w-32 h-32 bg-linear-to-br from-purple-400 to-pink-400 rounded-lg mb-3"}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Podcasts"}),a.jsx("a",{href:"/podcast",className:"text-sm text-gray-900 hover:underline",children:"View All"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Recent Episodes"}),h.length>0?a.jsx("div",{className:"space-y-2",children:h.map(I=>a.jsx("a",{href:`/podcasts/${I.slug}`,className:"block text-sm text-gray-900 hover:underline line-clamp-2",children:I.title},I._id))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No recent episodes"})]}),a.jsxs("div",{className:"space-y-3",children:[p.length>0&&p[0]?.featuredImage?a.jsx("img",{src:p[0].featuredImage,alt:"Recent Article",className:"w-32 h-32 rounded-lg mb-3 object-cover"}):a.jsx("div",{className:"w-32 h-32 bg-linear-to-br from-blue-400 to-cyan-400 rounded-lg mb-3"}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Articles"}),a.jsx("a",{href:"/articles",className:"text-sm text-gray-900 hover:underline",children:"View All"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Recent Articles"}),p.length>0?a.jsx("div",{className:"space-y-2",children:p.map(I=>a.jsx("a",{href:`/articles/${I.slug}`,className:"block text-sm text-gray-900 hover:underline line-clamp-2",children:I.title},I._id))}):a.jsx("p",{className:"text-sm text-gray-500",children:"No recent articles"})]})]})]})})]}),a.jsxs("div",{className:"relative",onMouseEnter:()=>A("books"),onMouseLeave:D,children:[a.jsxs("button",{className:"flex items-center space-x-1 text-white hover:text-gray-300 py-2 transition-colors font-medium",children:[a.jsx("span",{children:"Books & Resources"}),a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t==="books"&&a.jsx("div",{className:"absolute top-full right-0 pt-2 w-[800px] max-w-[calc(100vw-2rem)]",children:a.jsxs("div",{className:"bg-white shadow-2xl rounded-xl p-6 border border-gray-200",children:[a.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-900",children:"Books & Resources"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[a.jsx("h4",{className:"text-xl font-bold mb-4 text-gray-900",children:"The Guide for the Heart"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"A Somatic Field Guide for Staying Human in Motion"}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[a.jsx("span",{className:"px-3 py-1 bg-gray-200 rounded text-sm text-gray-700",children:" Book"}),a.jsx("span",{className:"px-3 py-1 bg-gray-200 rounded text-sm text-gray-700",children:" Course"}),a.jsx("span",{className:"px-3 py-1 bg-gray-200 rounded text-sm text-gray-700",children:" Workshops"}),a.jsx("span",{className:"px-3 py-1 bg-gray-200 rounded text-sm text-gray-700",children:" Certification"})]}),a.jsx("a",{href:"/books-resources",className:"inline-block px-6 py-2 bg-gray-900 text-white rounded font-semibold hover:bg-gray-800 transition-colors",children:"Explore the Framework"})]}),a.jsxs("div",{children:[a.jsx("h5",{className:"text-lg font-semibold mb-3 text-gray-900",children:"Free Resources"}),a.jsxs("ul",{className:"space-y-2 text-gray-700",children:[a.jsx("li",{children:a.jsx("a",{href:"/books-resources",className:"hover:text-gray-900 hover:underline",children:" Nervous System Regulation Guide (PDF)"})}),a.jsx("li",{children:a.jsx("a",{href:"/books-resources",className:"hover:text-gray-900 hover:underline",children:" Attachment Without Collapse Map"})}),a.jsx("li",{children:a.jsx("a",{href:"/books-resources",className:"hover:text-gray-900 hover:underline",children:" Desire vs. Attachment Cheat Sheet"})}),a.jsx("li",{children:a.jsx("a",{href:"/books-resources",className:"hover:text-gray-900 hover:underline",children:" Somatic Daily Check-In"})})]})]})]})]})})]}),a.jsxs("div",{className:"relative",onMouseEnter:()=>A("courses"),onMouseLeave:D,children:[a.jsxs("button",{className:"flex items-center space-x-1 text-white hover:text-gray-300 py-2 transition-colors font-medium",children:[a.jsx("span",{children:"Courses"}),a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t==="courses"&&a.jsx("div",{className:"absolute top-full right-0 pt-2 w-[800px] max-w-[calc(100vw-2rem)]",children:a.jsxs("div",{className:"bg-white shadow-2xl rounded-xl p-6 border border-gray-200",children:[a.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-900",children:"Courses"}),T?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx("div",{className:"w-6 h-6 border-2 border-gray-900 border-t-transparent rounded-full animate-spin"})}):j.length===0?a.jsx("p",{className:"text-gray-500 text-center py-12",children:"No courses available."}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-2 gap-4 mb-4",children:j.map(I=>a.jsx("a",{href:I.courseLink||`/courses/${I.slug}`,target:I.courseLink?"_blank":void 0,rel:I.courseLink?"noopener noreferrer":void 0,className:"group block",children:a.jsxs("div",{className:"bg-gray-100 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[I.thumbnail?a.jsx("div",{className:"h-40 bg-cover bg-center",style:{backgroundImage:`url(${I.thumbnail})`}}):a.jsx("div",{className:"h-40 bg-gradient-to-br from-gray-200 to-gray-400 flex items-center justify-center",children:a.jsx("span",{className:"text-4xl font-bold text-gray-600",children:I.name.charAt(0)})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h4",{className:"font-bold text-gray-900 mb-1 line-clamp-2 group-hover:text-gray-700 transition-colors",children:I.name}),a.jsx("p",{className:"text-sm text-gray-600",children:I.price&&I.price>0?`$${I.price.toFixed(2)}`:"Free"})]})]})},I._id))}),a.jsxs("a",{href:"/courses",className:"inline-flex items-center gap-2 mt-4 text-sm font-semibold text-gray-900 hover:text-gray-700 transition-colors",children:["View All Courses",a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})]}),a.jsxs("div",{className:"relative",onMouseEnter:()=>A("topics"),onMouseLeave:D,children:[a.jsxs("button",{className:"flex items-center space-x-1 text-white hover:text-gray-300 py-2 transition-colors font-medium",children:[a.jsx("span",{children:"Topics"}),a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t==="topics"&&a.jsx("div",{className:"absolute top-full right-0 pt-2 w-[800px] max-w-[calc(100vw-2rem)]",children:a.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-900",children:"Topics"}),c?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"w-6 h-6 border-2 border-gray-900 border-t-transparent rounded-full animate-spin"})}):i.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"No topics available."}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-4",children:i.map(I=>a.jsxs("a",{href:`/topics/${I.slug}`,className:"shrink-0 w-32 group",children:[I.image?a.jsx("div",{className:"w-32 h-32 rounded-lg mb-2 bg-cover bg-center transition-transform duration-300 group-hover:scale-105",style:{backgroundImage:`url(${I.image})`}}):a.jsx("div",{className:"w-32 h-32 rounded-lg mb-2 bg-gradient-to-br from-gray-200 to-gray-400 flex items-center justify-center",children:a.jsx("span",{className:"text-gray-600 text-2xl font-bold",children:I.name.charAt(0)})}),a.jsx("div",{className:"text-sm font-medium text-gray-900 text-center",children:I.name})]},I._id))}),a.jsx("a",{href:"/topics",className:"inline-block mt-4 text-sm text-gray-900 hover:underline",children:"View All"})]})]})})]}),a.jsx("a",{href:"/workshops",className:"text-white hover:text-gray-300 transition-colors font-medium py-2",children:"Workshops"}),a.jsx("a",{href:"/podcast",className:"text-white hover:text-gray-300 transition-colors font-medium py-2",children:"Podcast"}),a.jsx("a",{href:"/certification",className:"text-white hover:text-gray-300 transition-colors font-medium py-2",children:"Certification"}),a.jsx("a",{href:"/about",className:"text-white hover:text-gray-300 transition-colors font-medium py-2",children:"About"}),a.jsx("a",{href:"/start-here",className:"text-white hover:text-gray-300 transition-colors font-medium py-2",children:"Start Here"}),a.jsx("a",{href:"/start-here",className:"px-6 py-2 bg-white text-gray-900 rounded font-semibold hover:bg-gray-100 transition-colors",children:"Begin the Journey"})]}),a.jsx("button",{className:"lg:hidden p-2 text-white",onClick:_,"aria-label":"menu",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n?a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),n&&a.jsx("div",{className:"lg:hidden py-4 border-t border-gray-800",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("a",{href:"/start-here",className:"block text-white hover:text-gray-300 py-2 font-medium transition-colors",children:"Start Here"}),a.jsx("a",{href:"/the-work",className:"block text-white hover:text-gray-300 py-2 font-medium transition-colors",children:"The Work"}),a.jsx("a",{href:"/books-resources",className:"block text-white hover:text-gray-300 py-2 font-medium transition-colors",children:"Books & Resources"}),a.jsx("a",{href:"/courses",className:"block text-white hover:text-gray-300 py-2 font-medium transition-colors",children:"Courses"}),a.jsx("a",{href:"/topics",className:"block text-white hover:text-gray-300 py-2 font-medium transition-colors",children:"Topics"}),a.jsx("a",{href:"/workshops",className:"block text-white hover:text-gray-300 py-2 font-medium transition-colors",children:"Workshops"}),a.jsx("a",{href:"/podcast",className:"block text-white hover:text-gray-300 py-2 font-medium transition-colors",children:"Podcast"}),a.jsx("a",{href:"/certification",className:"block text-white hover:text-gray-300 py-2 font-medium transition-colors",children:"Certification"}),a.jsx("a",{href:"/about",className:"block text-white hover:text-gray-300 py-2 font-medium transition-colors",children:"About"}),a.jsx("a",{href:"/start-here",className:"block w-full text-center px-6 py-3 bg-white text-gray-900 rounded font-semibold hover:bg-gray-100 transition-colors mt-4",children:"Begin the Journey"})]})})]})})}var Dy="popstate";function SC(t={}){function e(s,i){let{pathname:o,search:c,hash:u}=s.location;return Om("",{pathname:o,search:c,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:Hl(i)}return EC(e,n,null,t)}function et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CC(){return Math.random().toString(36).substring(2,10)}function Ly(t,e){return{usr:t.state,key:t.key,idx:e}}function Om(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?vi(e):e,state:n,key:e&&e.key||s||CC()}}function Hl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function vi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function EC(t,e,n,s={}){let{window:i=document.defaultView,v5Compat:o=!1}=s,c=i.history,u="POP",h=null,m=p();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function p(){return(c.state||{idx:null}).idx}function g(){u="POP";let j=p(),C=j==null?null:j-m;m=j,h&&h({action:u,location:k.location,delta:C})}function y(j,C){u="PUSH";let T=Om(k.location,j,C);m=p()+1;let M=Ly(T,m),P=k.createHref(T);try{c.pushState(M,"",P)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;i.location.assign(P)}o&&h&&h({action:u,location:k.location,delta:1})}function N(j,C){u="REPLACE";let T=Om(k.location,j,C);m=p();let M=Ly(T,m),P=k.createHref(T);c.replaceState(M,"",P),o&&h&&h({action:u,location:k.location,delta:0})}function v(j){return TC(j)}let k={get action(){return u},get location(){return t(i,c)},listen(j){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Dy,g),h=j,()=>{i.removeEventListener(Dy,g),h=null}},createHref(j){return e(i,j)},createURL:v,encodeLocation(j){let C=v(j);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:N,go(j){return c.go(j)}};return k}function TC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),et(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Hl(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Z1(t,e,n="/"){return AC(t,e,n,!1)}function AC(t,e,n,s){let i=typeof e=="string"?vi(e):e,o=Ls(i.pathname||"/",n);if(o==null)return null;let c=eN(t);MC(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let m=IC(o);u=HC(c[h],m,s)}return u}function eN(t,e=[],n=[],s="",i=!1){let o=(c,u,h=i,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(s)&&h)return;et(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length)}let g=Os([s,p.relativePath]),y=n.concat(p);c.children&&c.children.length>0&&(et(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),eN(c.children,e,y,g,h)),!(c.path==null&&!c.index)&&e.push({path:g,score:BC(g,c.index),routesMeta:y})};return t.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))o(c,u);else for(let h of tN(c.path))o(c,u,!0,h)}),e}function tN(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return i?[o,""]:[o];let c=tN(s.join("/")),u=[];return u.push(...c.map(h=>h===""?o:[o,h].join("/"))),i&&u.push(...c),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function MC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UC(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var OC=/^:[\w-]+$/,RC=3,DC=2,LC=1,zC=10,_C=-2,zy=t=>t==="*";function BC(t,e){let n=t.split("/"),s=n.length;return n.some(zy)&&(s+=_C),e&&(s+=DC),n.filter(i=>!zy(i)).reduce((i,o)=>i+(OC.test(o)?RC:o===""?LC:zC),s)}function UC(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function HC(t,e,n=!1){let{routesMeta:s}=t,i={},o="/",c=[];for(let u=0;u<s.length;++u){let h=s[u],m=u===s.length-1,p=o==="/"?e:e.slice(o.length)||"/",g=nd({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},p),y=h.route;if(!g&&m&&n&&!s[s.length-1].route.index&&(g=nd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!g)return null;Object.assign(i,g.params),c.push({params:i,pathname:Os([o,g.pathname]),pathnameBase:qC(Os([o,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(o=Os([o,g.pathnameBase]))}return c}function nd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=PC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:s.reduce((m,{paramName:p,isOptional:g},y)=>{if(p==="*"){let v=u[y]||"";c=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const N=u[y];return g&&!N?m[p]=void 0:m[p]=(N||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:c,pattern:t}}function PC(t,e=!1,n=!0){Vn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(s.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function IC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ls(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var nN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FC=t=>nN.test(t);function $C(t,e="/"){let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?vi(t):t,o;if(n)if(FC(n))o=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Vn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?o=_y(n.substring(1),"/"):o=_y(n,e)}else o=e;return{pathname:o,search:WC(s),hash:KC(i)}}function _y(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Wh(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function sN(t){let e=VC(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function rN(t,e,n,s=!1){let i;typeof t=="string"?i=vi(t):(i={...t},et(!i.pathname||!i.pathname.includes("?"),Wh("?","pathname","search",i)),et(!i.pathname||!i.pathname.includes("#"),Wh("#","pathname","hash",i)),et(!i.search||!i.search.includes("#"),Wh("#","search","hash",i)));let o=t===""||i.pathname==="",c=o?"/":i.pathname,u;if(c==null)u=n;else{let g=e.length-1;if(!s&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}u=g>=0?e[g]:"/"}let h=$C(i,u),m=c&&c!=="/"&&c.endsWith("/"),p=(o||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||p)&&(h.pathname+="/"),h}var Os=t=>t.join("/").replace(/\/\/+/g,"/"),qC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,KC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,GC=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function YC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function JC(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var aN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function iN(t,e){let n=t;if(typeof n!="string"||!nN.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,i=!1;if(aN)try{let o=new URL(window.location.href),c=n.startsWith("//")?new URL(o.protocol+n):new URL(n),u=Ls(c.pathname,e);c.origin===o.origin&&u!=null?n=u+c.search+c.hash:i=!0}catch{Vn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var lN=["POST","PUT","PATCH","DELETE"];new Set(lN);var XC=["GET",...lN];new Set(XC);var Ni=S.createContext(null);Ni.displayName="DataRouter";var eu=S.createContext(null);eu.displayName="DataRouterState";var QC=S.createContext(!1),oN=S.createContext({isTransitioning:!1});oN.displayName="ViewTransition";var ZC=S.createContext(new Map);ZC.displayName="Fetchers";var eE=S.createContext(null);eE.displayName="Await";var Bn=S.createContext(null);Bn.displayName="Navigation";var no=S.createContext(null);no.displayName="Location";var ns=S.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var hp=S.createContext(null);hp.displayName="RouteError";var cN="REACT_ROUTER_ERROR",tE="REDIRECT",nE="ROUTE_ERROR_RESPONSE";function sE(t){if(t.startsWith(`${cN}:${tE}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function rE(t){if(t.startsWith(`${cN}:${nE}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new GC(e.status,e.statusText,e.data)}catch{}}function aE(t,{relative:e}={}){et(so(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=S.useContext(Bn),{hash:i,pathname:o,search:c}=ro(t,{relative:e}),u=o;return n!=="/"&&(u=o==="/"?n:Os([n,o])),s.createHref({pathname:u,search:c,hash:i})}function so(){return S.useContext(no)!=null}function zs(){return et(so(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(no).location}var dN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uN(t){S.useContext(Bn).static||S.useLayoutEffect(t)}function Et(){let{isDataRoute:t}=S.useContext(ns);return t?bE():iE()}function iE(){et(so(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Ni),{basename:e,navigator:n}=S.useContext(Bn),{matches:s}=S.useContext(ns),{pathname:i}=zs(),o=JSON.stringify(sN(s)),c=S.useRef(!1);return uN(()=>{c.current=!0}),S.useCallback((h,m={})=>{if(Vn(c.current,dN),!c.current)return;if(typeof h=="number"){n.go(h);return}let p=rN(h,JSON.parse(o),i,m.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Os([e,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[e,n,o,i,t])}S.createContext(null);function ss(){let{matches:t}=S.useContext(ns),e=t[t.length-1];return e?e.params:{}}function ro(t,{relative:e}={}){let{matches:n}=S.useContext(ns),{pathname:s}=zs(),i=JSON.stringify(sN(n));return S.useMemo(()=>rN(t,JSON.parse(i),s,e==="path"),[t,i,s,e])}function lE(t,e){return fN(t,e)}function fN(t,e,n,s,i){et(so(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=S.useContext(Bn),{matches:c}=S.useContext(ns),u=c[c.length-1],h=u?u.params:{},m=u?u.pathname:"/",p=u?u.pathnameBase:"/",g=u&&u.route;{let T=g&&g.path||"";mN(m,!g||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let y=zs(),N;if(e){let T=typeof e=="string"?vi(e):e;et(p==="/"||T.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${T.pathname}" was given in the \`location\` prop.`),N=T}else N=y;let v=N.pathname||"/",k=v;if(p!=="/"){let T=p.replace(/^\//,"").split("/");k="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let j=Z1(t,{pathname:k});Vn(g||j!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Vn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=fE(j&&j.map(T=>Object.assign({},T,{params:Object.assign({},h,T.params),pathname:Os([p,o.encodeLocation?o.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:Os([p,o.encodeLocation?o.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),c,n,s,i);return e&&C?S.createElement(no.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},C):C}function oE(){let t=gE(),e=YC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:o},"ErrorBoundary")," or"," ",S.createElement("code",{style:o},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,c)}var cE=S.createElement(oE,null),hN=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=rE(t.digest);n&&(t=n)}let e=t!==void 0?S.createElement(ns.Provider,{value:this.props.routeContext},S.createElement(hp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?S.createElement(dE,{error:t},e):e}};hN.contextType=QC;var Kh=new WeakMap;function dE({children:t,error:e}){let{basename:n}=S.useContext(Bn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=sE(e.digest);if(s){let i=Kh.get(e);if(i)throw i;let o=iN(s.location,n);if(aN&&!Kh.get(e))if(o.isExternal||s.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:s.replace}));throw Kh.set(e,c),c}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function uE({routeContext:t,match:e,children:n}){let s=S.useContext(Ni);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(ns.Provider,{value:t},n)}function fE(t,e=[],n=null,s=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,c=n?.errors;if(c!=null){let p=o.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);et(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,h=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:y,errors:N}=n,v=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!N||N[g.route.id]===void 0);if(g.route.lazy||v){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let m=n&&s?(p,g)=>{s(p,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:JC(n.matches),errorInfo:g})}:void 0;return o.reduceRight((p,g,y)=>{let N,v=!1,k=null,j=null;n&&(N=c&&g.route.id?c[g.route.id]:void 0,k=g.route.errorElement||cE,u&&(h<0&&y===0?(mN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,j=null):h===y&&(v=!0,j=g.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,y+1)),T=()=>{let M;return N?M=k:v?M=j:g.route.Component?M=S.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=p,S.createElement(uE,{match:g,routeContext:{outlet:p,matches:C,isDataRoute:n!=null},children:M})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?S.createElement(hN,{location:n.location,revalidation:n.revalidation,component:k,error:N,children:T(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:m}):T()},null)}function mp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hE(t){let e=S.useContext(Ni);return et(e,mp(t)),e}function mE(t){let e=S.useContext(eu);return et(e,mp(t)),e}function pE(t){let e=S.useContext(ns);return et(e,mp(t)),e}function pp(t){let e=pE(t),n=e.matches[e.matches.length-1];return et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function xE(){return pp("useRouteId")}function gE(){let t=S.useContext(hp),e=mE("useRouteError"),n=pp("useRouteError");return t!==void 0?t:e.errors?.[n]}function bE(){let{router:t}=hE("useNavigate"),e=pp("useNavigate"),n=S.useRef(!1);return uN(()=>{n.current=!0}),S.useCallback(async(i,o={})=>{Vn(n.current,dN),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var By={};function mN(t,e,n){!e&&!By[t]&&(By[t]=!0,Vn(!1,n))}S.memo(yE);function yE({routes:t,future:e,state:n,onError:s}){return fN(t,void 0,n,s,e)}function Ce(t){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vE({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:i,static:o=!1,unstable_useTransitions:c}){et(!so(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=S.useMemo(()=>({basename:u,navigator:i,static:o,unstable_useTransitions:c,future:{}}),[u,i,o,c]);typeof n=="string"&&(n=vi(n));let{pathname:m="/",search:p="",hash:g="",state:y=null,key:N="default"}=n,v=S.useMemo(()=>{let k=Ls(m,u);return k==null?null:{location:{pathname:k,search:p,hash:g,state:y,key:N},navigationType:s}},[u,m,p,g,y,N,s]);return Vn(v!=null,`<Router basename="${u}"> is not able to match the URL "${m}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:S.createElement(Bn.Provider,{value:h},S.createElement(no.Provider,{children:e,value:v}))}function NE({children:t,location:e}){return lE(Rm(t),e)}function Rm(t,e=[]){let n=[];return S.Children.forEach(t,(s,i)=>{if(!S.isValidElement(s))return;let o=[...e,i];if(s.type===S.Fragment){n.push.apply(n,Rm(s.props.children,o));return}et(s.type===Ce,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Rm(s.props.children,o)),n.push(c)}),n}var Wc="get",Kc="application/x-www-form-urlencoded";function tu(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function jE(t){return tu(t)&&t.tagName.toLowerCase()==="button"}function wE(t){return tu(t)&&t.tagName.toLowerCase()==="form"}function kE(t){return tu(t)&&t.tagName.toLowerCase()==="input"}function SE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CE(t,e){return t.button===0&&(!e||e==="_self")&&!SE(t)}var Ac=null;function EE(){if(Ac===null)try{new FormData(document.createElement("form"),0),Ac=!1}catch{Ac=!0}return Ac}var TE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gh(t){return t!=null&&!TE.has(t)?(Vn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kc}"`),null):t}function AE(t,e){let n,s,i,o,c;if(wE(t)){let u=t.getAttribute("action");s=u?Ls(u,e):null,n=t.getAttribute("method")||Wc,i=Gh(t.getAttribute("enctype"))||Kc,o=new FormData(t)}else if(jE(t)||kE(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(s=h?Ls(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Wc,i=Gh(t.getAttribute("formenctype"))||Gh(u.getAttribute("enctype"))||Kc,o=new FormData(u,t),!EE()){let{name:m,type:p,value:g}=t;if(p==="image"){let y=m?`${m}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else m&&o.append(m,g)}}else{if(tu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wc,s=null,i=Kc,c=t}return o&&i==="text/plain"&&(c=o,o=void 0),{action:s,method:n.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ME(t,e,n,s){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${s}`:i.pathname=`${i.pathname}.${s}`:i.pathname==="/"?i.pathname=`_root.${s}`:e&&Ls(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function OE(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RE(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function DE(t,e,n){let s=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let c=await OE(o,n);return c.links?c.links():[]}return[]}));return BE(s.flat(1).filter(RE).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Uy(t,e,n,s,i,o){let c=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,u=(h,m)=>n[m].pathname!==h.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==h.params["*"];return o==="assets"?e.filter((h,m)=>c(h,m)||u(h,m)):o==="data"?e.filter((h,m)=>{let p=s.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,m)||u(h,m))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function LE(t,e,{includeHydrateFallback:n}={}){return zE(t.map(s=>{let i=e.routes[s.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function zE(t){return[...new Set(t)]}function _E(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function BE(t,e){let n=new Set;return new Set(e),t.reduce((s,i)=>{let o=JSON.stringify(_E(i));return n.has(o)||(n.add(o),s.push({key:o,link:i})),s},[])}function pN(){let t=S.useContext(Ni);return xp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function UE(){let t=S.useContext(eu);return xp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var gp=S.createContext(void 0);gp.displayName="FrameworkContext";function xN(){let t=S.useContext(gp);return xp(t,"You must render this element inside a <HydratedRouter> element"),t}function HE(t,e){let n=S.useContext(gp),[s,i]=S.useState(!1),[o,c]=S.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:m,onMouseLeave:p,onTouchStart:g}=e,y=S.useRef(null);S.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let k=C=>{C.forEach(T=>{c(T.isIntersecting)})},j=new IntersectionObserver(k,{threshold:.5});return y.current&&j.observe(y.current),()=>{j.disconnect()}}},[t]),S.useEffect(()=>{if(s){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[s]);let N=()=>{i(!0)},v=()=>{i(!1),c(!1)};return n?t!=="intent"?[o,y,{}]:[o,y,{onFocus:vl(u,N),onBlur:vl(h,v),onMouseEnter:vl(m,N),onMouseLeave:vl(p,v),onTouchStart:vl(g,N)}]:[!1,y,{}]}function vl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function PE({page:t,...e}){let{router:n}=pN(),s=S.useMemo(()=>Z1(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?S.createElement(FE,{page:t,matches:s,...e}):null}function IE(t){let{manifest:e,routeModules:n}=xN(),[s,i]=S.useState([]);return S.useEffect(()=>{let o=!1;return DE(t,e,n).then(c=>{o||i(c)}),()=>{o=!0}},[t,e,n]),s}function FE({page:t,matches:e,...n}){let s=zs(),{future:i,manifest:o,routeModules:c}=xN(),{basename:u}=pN(),{loaderData:h,matches:m}=UE(),p=S.useMemo(()=>Uy(t,e,m,o,s,"data"),[t,e,m,o,s]),g=S.useMemo(()=>Uy(t,e,m,o,s,"assets"),[t,e,m,o,s]),y=S.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let k=new Set,j=!1;if(e.forEach(T=>{let M=o.routes[T.route.id];!M||!M.hasLoader||(!p.some(P=>P.route.id===T.route.id)&&T.route.id in h&&c[T.route.id]?.shouldRevalidate||M.hasClientLoader?j=!0:k.add(T.route.id))}),k.size===0)return[];let C=ME(t,u,i.unstable_trailingSlashAwareDataRequests,"data");return j&&k.size>0&&C.searchParams.set("_routes",e.filter(T=>k.has(T.route.id)).map(T=>T.route.id).join(",")),[C.pathname+C.search]},[u,i.unstable_trailingSlashAwareDataRequests,h,s,o,p,e,t,c]),N=S.useMemo(()=>LE(g,o),[g,o]),v=IE(g);return S.createElement(S.Fragment,null,y.map(k=>S.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),N.map(k=>S.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),v.map(({key:k,link:j})=>S.createElement("link",{key:k,nonce:n.nonce,...j})))}function $E(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var VE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VE&&(window.__reactRouterVersion="7.12.0")}catch{}function qE({basename:t,children:e,unstable_useTransitions:n,window:s}){let i=S.useRef();i.current==null&&(i.current=SC({window:s,v5Compat:!0}));let o=i.current,[c,u]=S.useState({action:o.action,location:o.location}),h=S.useCallback(m=>{n===!1?u(m):S.startTransition(()=>u(m))},[n]);return S.useLayoutEffect(()=>o.listen(h),[o,h]),S.createElement(vE,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:n})}var gN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=S.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:i,reloadDocument:o,replace:c,state:u,target:h,to:m,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...N},v){let{basename:k,unstable_useTransitions:j}=S.useContext(Bn),C=typeof m=="string"&&gN.test(m),T=iN(m,k);m=T.to;let M=aE(m,{relative:i}),[P,H,B]=HE(s,N),A=YE(m,{replace:c,state:u,target:h,preventScrollReset:p,relative:i,viewTransition:g,unstable_defaultShouldRevalidate:y,unstable_useTransitions:j});function D(I){e&&e(I),I.defaultPrevented||A(I)}let _=S.createElement("a",{...N,...B,href:T.absoluteURL||M,onClick:T.isExternal||o?e:D,ref:$E(v,H),target:h,"data-discover":!C&&n==="render"?"true":void 0});return P&&!C?S.createElement(S.Fragment,null,_,S.createElement(PE,{page:M})):_});Vt.displayName="Link";var WE=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:i=!1,style:o,to:c,viewTransition:u,children:h,...m},p){let g=ro(c,{relative:m.relative}),y=zs(),N=S.useContext(eu),{navigator:v,basename:k}=S.useContext(Bn),j=N!=null&&eT(g)&&u===!0,C=v.encodeLocation?v.encodeLocation(g).pathname:g.pathname,T=y.pathname,M=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(T=T.toLowerCase(),M=M?M.toLowerCase():null,C=C.toLowerCase()),M&&k&&(M=Ls(M,k)||M);const P=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let H=T===C||!i&&T.startsWith(C)&&T.charAt(P)==="/",B=M!=null&&(M===C||!i&&M.startsWith(C)&&M.charAt(C.length)==="/"),A={isActive:H,isPending:B,isTransitioning:j},D=H?e:void 0,_;typeof s=="function"?_=s(A):_=[s,H?"active":null,B?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(A):o;return S.createElement(Vt,{...m,"aria-current":D,className:_,ref:p,style:I,to:c,viewTransition:u},typeof h=="function"?h(A):h)});WE.displayName="NavLink";var KE=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:i,state:o,method:c=Wc,action:u,onSubmit:h,relative:m,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y,...N},v)=>{let{unstable_useTransitions:k}=S.useContext(Bn),j=QE(),C=ZE(u,{relative:m}),T=c.toLowerCase()==="get"?"get":"post",M=typeof u=="string"&&gN.test(u),P=H=>{if(h&&h(H),H.defaultPrevented)return;H.preventDefault();let B=H.nativeEvent.submitter,A=B?.getAttribute("formmethod")||c,D=()=>j(B||H.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:i,state:o,relative:m,preventScrollReset:p,viewTransition:g,unstable_defaultShouldRevalidate:y});k&&n!==!1?S.startTransition(()=>D()):D()};return S.createElement("form",{ref:v,method:T,action:C,onSubmit:s?h:P,...N,"data-discover":!M&&t==="render"?"true":void 0})});KE.displayName="Form";function GE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bN(t){let e=S.useContext(Ni);return et(e,GE(t)),e}function YE(t,{target:e,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:h}={}){let m=Et(),p=zs(),g=ro(t,{relative:o});return S.useCallback(y=>{if(CE(y,e)){y.preventDefault();let N=n!==void 0?n:Hl(p)===Hl(g),v=()=>m(t,{replace:N,state:s,preventScrollReset:i,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:u});h?S.startTransition(()=>v()):v()}},[p,m,g,n,s,e,t,i,o,c,u,h])}var JE=0,XE=()=>`__${String(++JE)}__`;function QE(){let{router:t}=bN("useSubmit"),{basename:e}=S.useContext(Bn),n=xE(),s=t.fetch,i=t.navigate;return S.useCallback(async(o,c={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=AE(o,e);if(c.navigate===!1){let y=c.fetcherKey||XE();await s(y,n,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:g,formMethod:c.method||h,formEncType:c.encType||m,flushSync:c.flushSync})}else await i(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:p,body:g,formMethod:c.method||h,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,i,e,n])}function ZE(t,{relative:e}={}){let{basename:n}=S.useContext(Bn),s=S.useContext(ns);et(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),o={...ro(t||".",{relative:e})},c=zs();if(t==null){o.search=c.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(p=>p==="")){u.delete("index"),h.filter(g=>g).forEach(g=>u.append("index",g));let p=u.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Os([n,o.pathname])),Hl(o)}function eT(t,{relative:e}={}){let n=S.useContext(oN);et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=bN("useViewTransitionState"),i=ro(t,{relative:e});if(!n.isTransitioning)return!1;let o=Ls(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Ls(n.nextLocation.pathname,s)||n.nextLocation.pathname;return nd(i.pathname,c)!=null||nd(i.pathname,o)!=null}var tT=E1();const nT=C1(tT),ks=[{id:"main-hero",title:"Healing happens in the body  not just the mind.",subtitle:"Somatic, attachment-informed frameworks for people ready to heal without collapsing, performing, or disappearing.",description:"",buttonText:"Start Here",buttonLink:"/start-here",backgroundColor:"#0D074D",textColor:"white"},{id:"guide",title:"The Guide for the Heart",description:"A somatic field guide for staying human in motion. Available as a book, 6-module course, workshops, and certification pathway.",buttonText:"Explore the Framework",buttonLink:"/books-resources",backgroundColor:"#E7E0D7",textColor:"#0D074D"}];function sT(){const[t,e]=S.useState(0),[n,s]=S.useState(null);S.useEffect(()=>{const u=setInterval(()=>{e(h=>(h+1)%ks.length)},4e3);return s(u),()=>{u&&clearInterval(u)}},[]);const i=u=>{e(u),n&&clearInterval(n);const h=setInterval(()=>{e(m=>(m+1)%ks.length)},4e3);s(h)},o=()=>{e(h=>(h+1)%ks.length),n&&clearInterval(n);const u=setInterval(()=>{e(h=>(h+1)%ks.length)},4e3);s(u)},c=()=>{e(h=>(h-1+ks.length)%ks.length),n&&clearInterval(n);const u=setInterval(()=>{e(h=>(h+1)%ks.length)},4e3);s(u)};return a.jsxs("section",{className:"relative w-full h-screen overflow-hidden",children:[a.jsx("div",{className:"relative w-full h-full",children:ks.map((u,h)=>a.jsxs("div",{"data-slide-id":u.id,className:`absolute inset-0 transition-opacity duration-700 ease-in-out ${h===t?"opacity-100 z-10":"opacity-0 z-0"}`,style:{backgroundColor:u.backgroundColor},children:[a.jsx("div",{className:"container mx-auto px-4 h-full flex items-center",children:a.jsxs("div",{className:`slide-content max-w-2xl transition-all duration-700 ${h===t?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[u.badge&&a.jsx("div",{className:`inline-block px-4 py-2 rounded mb-4 text-sm font-semibold transition-all duration-700 delay-100 ${h===t?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{backgroundColor:u.id==="podcast"?"#5E58A4":"rgba(255,255,255,0.2)",color:u.textColor},children:u.badge}),u.subtitle&&a.jsx("p",{className:`text-lg mb-3 transition-all duration-700 delay-100 ${h===t?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{color:u.textColor},children:u.subtitle}),a.jsx("h2",{className:`text-3xl md:text-4xl lg:text-5xl font-bold mb-6 leading-tight transition-all duration-700 delay-150 ${h===t?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{color:u.textColor},children:u.title}),u.description&&a.jsx("p",{className:`text-base md:text-lg lg:text-xl mb-8 leading-relaxed transition-all duration-700 delay-200 ${h===t?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{color:u.textColor},children:u.description}),a.jsxs("div",{className:`flex flex-col sm:flex-row gap-4 transition-all duration-700 delay-300 ${h===t?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[a.jsx("a",{href:u.buttonLink,className:`inline-block px-8 py-4 rounded font-semibold ${u.textColor==="white"?"bg-white text-gray-900 hover:bg-gray-100":"bg-gray-900 text-white hover:bg-gray-800"}`,children:u.buttonText}),u.id==="main-hero"&&a.jsx("a",{href:"/books-resources",className:`inline-block px-8 py-4 rounded font-semibold border-2 ${u.textColor==="white"?"border-white text-white hover:bg-white hover:text-gray-900":"border-gray-900 text-gray-900 hover:bg-gray-900 hover:text-white"}`,children:"Download the Free Guide: The Body Remembers"})]})]})}),a.jsx("div",{className:"absolute inset-0 pointer-events-none md:hidden",style:{background:`linear-gradient(to bottom, transparent 0%, ${u.backgroundColor} 50%)`}})]},u.id))}),a.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20 flex space-x-2",children:ks.map((u,h)=>a.jsx("button",{onClick:()=>i(h),className:`h-2 rounded-full transition-all duration-300 ${h===t?"bg-white w-8":"bg-white/50 hover:bg-white/75 w-2"}`,"aria-label":`Go to slide ${h+1}`},h))}),a.jsx("button",{onClick:c,className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-20 w-12 h-12 bg-white/90 hover:bg-white rounded-full flex items-center justify-center transition-all duration-300 shadow-lg","aria-label":"Previous slide",children:a.jsx("svg",{className:"w-6 h-6 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("button",{onClick:o,className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-20 w-12 h-12 bg-white/90 hover:bg-white rounded-full flex items-center justify-center transition-all duration-300 shadow-lg","aria-label":"Next slide",children:a.jsx("svg",{className:"w-6 h-6 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}function rT(){const t=S.useRef(null),[e,n]=S.useState(!1),[s,i]=S.useState(!0),[o,c]=S.useState([]),[u,h]=S.useState([]),[m,p]=S.useState(!0);S.useEffect(()=>{g(),y()},[]);const g=async()=>{try{const j=await xe.get(`${We}/topics`);c(j.data.topics||[])}catch(j){console.error("Error fetching topics:",j)}finally{p(!1)}},y=async()=>{try{const C=((await xe.get(`${We}/testimonials`)).data.testimonials||[]).filter(T=>T.featured).slice(0,1);h(C)}catch(j){console.error("Error fetching testimonials:",j)}},N=()=>{if(t.current){const{scrollLeft:j,scrollWidth:C,clientWidth:T}=t.current;n(j>0),i(j<C-T-10)}};S.useEffect(()=>(N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)),[o]);const v=()=>{t.current&&(t.current.scrollBy({left:-300,behavior:"smooth"}),setTimeout(N,300))},k=()=>{t.current&&(t.current.scrollBy({left:300,behavior:"smooth"}),setTimeout(N,300))};return a.jsxs("section",{className:"home-topics w-full py-16 bg-white",children:[a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-4 text-gray-900",children:"Who This Is For"}),a.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"This work is for people who:"}),a.jsx("div",{className:"max-w-3xl mb-12",children:a.jsxs("ul",{className:"space-y-4 text-lg text-gray-700",children:[a.jsxs("li",{className:"flex items-start gap-4",children:[a.jsx("span",{className:"text-gray-900 font-bold mt-1",children:""}),a.jsx("span",{children:'have done "the work"  and still feel stuck'})]}),a.jsxs("li",{className:"flex items-start gap-4",children:[a.jsx("span",{className:"text-gray-900 font-bold mt-1",children:""}),a.jsx("span",{children:"understand insight but struggle with embodiment"})]}),a.jsxs("li",{className:"flex items-start gap-4",children:[a.jsx("span",{className:"text-gray-900 font-bold mt-1",children:""}),a.jsx("span",{children:"want emotional maturity, not endless processing"})]}),a.jsxs("li",{className:"flex items-start gap-4",children:[a.jsx("span",{className:"text-gray-900 font-bold mt-1",children:""}),a.jsx("span",{children:"want intimacy without self-loss"})]}),a.jsxs("li",{className:"flex items-start gap-4",children:[a.jsx("span",{className:"text-gray-900 font-bold mt-1",children:""}),a.jsx("span",{children:"are ready for integration, not excavation"})]})]})}),m?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx("div",{className:"w-8 h-8 border-2 border-gray-900 border-t-transparent rounded-full animate-spin"})}):o.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("h4",{className:"text-2xl md:text-3xl font-bold mb-6 text-gray-900",children:"Explore Topics"}),a.jsxs("div",{className:"relative mb-8",children:[a.jsx("div",{ref:t,onScroll:N,className:"topics-container flex space-x-4 overflow-x-auto scrollbar-hide pb-4 scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:o.map(j=>a.jsxs("a",{href:`/topics/${j.slug}`,className:"topic-card shrink-0 w-32 group",children:[j.image?a.jsx("div",{className:"w-32 h-32 rounded-lg mb-3 transition-transform duration-300 group-hover:scale-105 bg-cover bg-center",style:{backgroundImage:`url(${j.image})`}}):a.jsx("div",{className:"w-32 h-32 rounded-lg mb-3 transition-transform duration-300 group-hover:scale-105 bg-gradient-to-br from-gray-200 to-gray-400 flex items-center justify-center",children:a.jsx("span",{className:"text-gray-600 text-4xl font-bold",children:j.name.charAt(0)})}),a.jsx("div",{className:"text-sm font-medium text-gray-900 text-center group-hover:text-gray-700 transition-colors",children:j.name})]},j._id))}),a.jsx("div",{className:"topics-slider_nav flex justify-end mt-4",children:a.jsxs("div",{className:"topics-slider__nav-btns flex space-x-2",children:[a.jsx("button",{onClick:v,disabled:!e,className:`slider__nav-arrow w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${e?"bg-gray-900 text-white hover:bg-gray-800 cursor-pointer":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,"aria-label":"Previous slide",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("button",{onClick:k,disabled:!s,className:`slider__nav-arrow w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${s?"bg-gray-900 text-white hover:bg-gray-800 cursor-pointer":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,"aria-label":"Next slide",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})})]})]}),a.jsx("div",{className:"mt-16 bg-gray-50 rounded-lg p-8 md:p-12",children:u.length>0?u.map(j=>a.jsxs("div",{className:"text-center",children:[j.image&&a.jsx("img",{src:j.image,alt:j.name,className:"w-16 h-16 rounded-full object-cover mx-auto mb-4"}),a.jsxs("p",{className:"text-xl md:text-2xl font-semibold text-gray-900 italic mb-4",children:['"',j.quote,'"']}),a.jsxs("p",{className:"text-sm font-semibold text-gray-700",children:[" ",j.name]}),j.role&&a.jsx("p",{className:"text-sm text-gray-600",children:j.role})]},j._id)):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xl md:text-2xl font-semibold text-gray-900 italic mb-4",children:`"This work didn't fix me  it gave me back to myself."`}),a.jsx("p",{className:"text-sm text-gray-600",children:"(Testimonials will live here)"})]})})]}),a.jsx("style",{children:`
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
      `})]})}function aT(){const[t,e]=S.useState([]),[n,s]=S.useState(null),[i,o]=S.useState(!0);S.useEffect(()=>{c()},[]);const c=async()=>{try{o(!0);const h=await xe.get(`${We}/podcasts/series`);h.data&&(s(h.data.series||null),e((h.data.episodes||[]).slice(0,6)))}catch(h){console.error("Error fetching podcast data:",h)}finally{o(!1)}},u=h=>h?new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"";return a.jsx("section",{className:"wswb-podcast w-full py-16 bg-white",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[a.jsx("div",{className:"left wswb-podcast flex-1",children:i?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"w-8 h-8 border-2 border-gray-900 border-t-transparent rounded-full animate-spin"})}):a.jsxs(a.Fragment,{children:[n?.coverImage?a.jsx("img",{src:n.coverImage,alt:n.name||"Podcast Cover",className:"w-full max-w-md mb-6",loading:"lazy"}):a.jsx("div",{className:"w-full max-w-md h-64 bg-gradient-to-br from-gray-200 to-gray-400 rounded-lg mb-6 flex items-center justify-center",children:a.jsx("span",{className:"text-gray-600 text-2xl font-bold",children:"Podcast"})}),a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-gray-900",children:n?.name||"The Regulated Heart Podcast"}),a.jsx("div",{className:"text-lg mb-6 text-gray-700 leading-relaxed",children:n?.description||"Conversations on nervous system intelligence, attachment and desire, rupture and repair, sovereignty and leadership."}),a.jsx("a",{href:"/podcast",className:"inline-block px-8 py-4 bg-gray-900 text-white rounded font-semibold hover:bg-gray-800 transition-colors duration-300",children:"Listen Now"})]})}),a.jsxs("div",{className:"right-home-podcasts flex-1",children:[a.jsx("h5",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Recent Episodes"}),i?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"w-8 h-8 border-2 border-gray-900 border-t-transparent rounded-full animate-spin"})}):t.length===0?a.jsx("p",{className:"text-gray-500 mb-8",children:"No episodes available."}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"podcast-episodes-wrapper space-y-6 mb-8",children:t.map(h=>a.jsxs("a",{href:`/podcasts/${h.slug}`,className:"podcast-ep-card flex flex-col md:flex-row gap-4 group hover:opacity-90 transition-opacity",children:[h.coverImage&&a.jsx("div",{className:"podcast-ep-card__img w-full md:w-48 h-48 shrink-0 rounded-lg bg-cover bg-center hidden md:block",style:{backgroundImage:`url(${h.coverImage})`}}),h.coverImage&&a.jsx("img",{src:h.coverImage,alt:h.title,className:"podcast-ep-card__img mobile w-full h-48 object-cover rounded-lg md:hidden mb-3",loading:"lazy"}),a.jsxs("div",{className:"podcast-ep-card__content flex-1",children:[a.jsx("div",{className:"podcast-ep-card__title mb-3",children:a.jsx("div",{className:"text-xl md:text-2xl font-bold mb-2 text-gray-900 group-hover:text-gray-700 transition-colors",children:h.title})}),h.description&&a.jsx("div",{className:"body-m mb-3 text-gray-600 leading-relaxed line-clamp-3",children:h.description}),a.jsxs("div",{className:"podcast-ep-card__details flex items-center gap-2 text-sm text-gray-500",children:[h.publishedDate&&a.jsxs(a.Fragment,{children:[a.jsx("div",{children:u(h.publishedDate)}),h.duration&&a.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"})]}),h.duration&&a.jsx("div",{className:"lowercase",children:h.duration})]})]})]},h._id))}),a.jsx("a",{href:"/podcast",className:"inline-block px-8 py-4 border-2 border-gray-900 text-gray-900 rounded font-semibold hover:bg-gray-900 hover:text-white transition-colors duration-300",children:"View All Episodes"})]})]})]})})})}const Yh=[{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b9c149647d3f4ce3ccb16b_Vector.svg",alt:"Time Logo"},{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b9c1493a8cd0fc210c8c43_Group.svg",alt:"New York Times Logo"},{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b9c1492489ffdf697e8136_Group-1.svg",alt:"TED Logo"},{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b9c1499ef53d4f4f70df06_Group-2.svg",alt:"ABC News Logo"},{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b9c1495029e853d2e95a1a_Group-3.svg",alt:"Yahoo Logo"},{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b9c149762789ac7c15a9fa_Group-4.svg",alt:"The Cut Logo"}];function iT(){const t=S.useRef(null),[e,n]=S.useState([]);S.useEffect(()=>{s()},[]);const s=async()=>{try{const o=((await xe.get(`${We}/testimonials`)).data.testimonials||[]).filter(c=>!c.featured);n(o)}catch(i){console.error("Error fetching testimonials:",i)}};return S.useEffect(()=>{const i=t.current;if(!i)return;const o=i.querySelector(".logo-set");if(!o)return;let c,u=0;const h=.5,m=()=>o.offsetWidth,p=()=>{u-=h;const v=m();Math.abs(u)>=v&&(u=0),i.style.transform=`translate3d(${u}px, 0px, 0px)`,c=requestAnimationFrame(p)},g=i.querySelectorAll("img");let y=0;const N=g.length;return N===0?c=requestAnimationFrame(p):(g.forEach(v=>{v.complete?y++:v.addEventListener("load",()=>{y++,y===N&&(c=requestAnimationFrame(p))})}),y===N&&(c=requestAnimationFrame(p))),()=>{c&&cancelAnimationFrame(c)}},[]),a.jsx("section",{className:"as-seen-on__container w-full py-16 bg-white",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-12 mb-12",children:[a.jsx("div",{className:"left as-seen-son flex-1",children:a.jsx("img",{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b9c35cf22d4224a252f799_Rectangle%205.avif",alt:"Patricia Macadam",className:"w-full h-auto rounded-lg",loading:"lazy"})}),a.jsxs("div",{className:"as-seen-on right flex-1",children:[a.jsxs("h3",{className:"text-3xl md:text-4xl font-bold mb-4 text-gray-900",children:["We don't teach coping.",a.jsx("br",{}),"We teach regulation, choice, and embodied clarity."]}),a.jsx("div",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:"Macadam Co. offers trauma-informed, somatic frameworks that help people:"}),a.jsxs("ul",{className:"text-lg text-gray-700 leading-relaxed mb-6 space-y-2",children:[a.jsx("li",{children:" understand their nervous system"}),a.jsx("li",{children:" relate without self-abandonment"}),a.jsx("li",{children:" desire without collapse"}),a.jsx("li",{children:" repair without villainy"}),a.jsx("li",{children:" move forward without armor"})]}),a.jsx("div",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:"This work is grounded in clinical training, lived experience, and relational intelligence  without diagnosis, pathology, or performance."}),a.jsx("a",{href:"/the-work",className:"hidden lg:inline-block px-8 py-4 border-2 border-gray-900 text-gray-900 rounded font-semibold hover:bg-gray-900 hover:text-white transition-colors duration-300",children:"Learn More"})]})]}),a.jsx("div",{className:"as-seen-on carousel-label mb-6",children:a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:e.length>0?"What People Are Saying":"Testimonials"})}),e.length>0?a.jsx("div",{className:"testimonials-carousel space-y-6",children:e.slice(0,3).map(i=>a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[a.jsxs("p",{className:"text-lg text-gray-900 italic mb-4",children:['"',i.quote,'"']}),a.jsxs("div",{className:"flex items-center gap-3",children:[i.image&&a.jsx("img",{src:i.image,alt:i.name,className:"w-10 h-10 rounded-full object-cover"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:i.name}),i.role&&a.jsx("p",{className:"text-sm text-gray-600",children:i.role})]})]})]},i._id))}):a.jsx("div",{className:"as-seen-on__carousel overflow-hidden relative w-full",children:a.jsxs("div",{ref:t,className:"marquee-track flex items-center gap-8 whitespace-nowrap",children:[a.jsx("div",{className:"logo-set flex items-center gap-8 shrink-0",children:Yh.map((i,o)=>a.jsx("img",{src:i.src,alt:i.alt,className:"as-seen-on-logos h-12 w-auto opacity-60 hover:opacity-100 transition-opacity shrink-0",loading:"lazy"},`first-${o}`))}),a.jsx("div",{className:"logo-set flex items-center gap-8 shrink-0",children:Yh.map((i,o)=>a.jsx("img",{src:i.src,alt:i.alt,className:"as-seen-on-logos h-12 w-auto opacity-60 hover:opacity-100 transition-opacity shrink-0",loading:"lazy"},`second-${o}`))}),a.jsx("div",{className:"logo-set flex items-center gap-8 shrink-0",children:Yh.map((i,o)=>a.jsx("img",{src:i.src,alt:i.alt,className:"as-seen-on-logos h-12 w-auto opacity-60 hover:opacity-100 transition-opacity shrink-0",loading:"lazy"},`third-${o}`))})]})}),a.jsx("div",{className:"mt-8 lg:hidden text-center",children:a.jsx("a",{href:"/the-work",className:"inline-block px-8 py-4 border-2 border-gray-900 text-gray-900 rounded font-semibold hover:bg-gray-900 hover:text-white transition-colors duration-300",children:"Learn More"})})]})})}function yN(){const[t,e]=S.useState([]),[n,s]=S.useState(!0),i=S.useRef(null),[o,c]=S.useState(!1),[u,h]=S.useState(!0);S.useEffect(()=>{m()},[]);const m=async()=>{try{s(!0);const k=((await xe.get(`${We}/courses`)).data.courses||[]).filter(j=>j.status==="active").slice(0,6);e(k)}catch(N){console.error("Error fetching courses:",N)}finally{s(!1)}},p=()=>{if(i.current){const{scrollLeft:N,scrollWidth:v,clientWidth:k}=i.current;c(N>0),h(N<v-k-10)}};S.useEffect(()=>{if(t.length>0)return p(),window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[t]);const g=()=>{i.current&&(i.current.scrollBy({left:-400,behavior:"smooth"}),setTimeout(p,300))},y=()=>{i.current&&(i.current.scrollBy({left:400,behavior:"smooth"}),setTimeout(p,300))};return n?a.jsx("section",{className:"courses-slider w-full py-16 bg-white",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-black font-semibold",children:"Loading courses..."})]})})})}):a.jsxs("section",{className:"courses-slider w-full py-16 bg-white",children:[a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-4 text-gray-900",children:"The Guide for the Heart"}),a.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"Available as a book, 6-module course, workshops, and certification pathway."}),a.jsxs("div",{className:"courses-carouse__container",children:[a.jsx("div",{ref:i,onScroll:p,className:"courses-slider__wrapper flex gap-6 overflow-x-auto scrollbar-hide pb-4 scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:t.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:a.jsx("p",{children:"No courses available at this time."})}):t.map(N=>{const v="#f3f4f6";return a.jsx("div",{className:"course-slider-slide shrink-0 w-full md:w-[500px]",children:a.jsxs("div",{className:"course-card rounded-lg overflow-hidden",style:{backgroundColor:v},children:[a.jsxs("div",{className:"course-card__img relative h-64 md:h-96 bg-cover bg-center bg-gray-200",style:{backgroundImage:N.thumbnail?`url(${N.thumbnail})`:"none"},children:[a.jsx("div",{className:"hidden md:block absolute right-0 top-0 bottom-0 w-16",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 63 746",fill:"none",className:"h-full w-auto",preserveAspectRatio:"xMidYMid meet",children:a.jsx("path",{d:"M63 0C63 0 7.73684 137.814 7.73683 373C7.73682 608.186 63 746 63 746L0 746L0 0L63 0Z",fill:v})})}),a.jsx("div",{className:"md:hidden absolute bottom-0 left-0 right-0 h-12",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 88",fill:"inherit",className:"w-full h-auto",preserveAspectRatio:"xMidYMid meet",children:a.jsx("path",{d:"M1440 87.1527C1440 87.1527 1173.98 10.703 720 10.703C266.023 10.7031 7.61913e-06 87.1528 7.61913e-06 87.1528L0 0.000125889L1440 0L1440 87.1527Z",fill:v})})})]}),a.jsx("div",{className:"course-card__body p-6",style:{backgroundColor:v},children:a.jsxs("div",{className:"course-card__body-content",children:[a.jsx("h4",{className:"text-2xl md:text-3xl font-bold mb-3 text-gray-900",children:N.name}),a.jsx("div",{className:"text-base md:text-lg mb-6 text-gray-700 opacity-70 leading-relaxed prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:N.description||""}}),a.jsx("a",{href:`/courses/${N.slug}`,className:"inline-block w-full text-center px-8 py-4 rounded font-semibold text-white hover:opacity-90 transition-opacity",style:{backgroundColor:"#000000"},children:N.price&&N.price>0?`View Details - $${N.price.toFixed(2)}`:"View Details"})]})})]})},N._id)})}),a.jsxs("div",{className:"courses-slider__nav flex flex-col md:flex-row items-center justify-between gap-4 mt-6",children:[a.jsx("a",{href:"/books-resources",className:"px-8 py-4 border-2 border-gray-900 text-gray-900 rounded font-semibold hover:bg-gray-900 hover:text-white transition-colors duration-300",children:"Explore the Framework"}),a.jsxs("div",{className:"courses-slider__nav-btns flex space-x-2",children:[a.jsx("button",{onClick:g,disabled:!o,className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${o?"bg-gray-900 text-white hover:bg-gray-800 cursor-pointer":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,"aria-label":"Previous slide",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("button",{onClick:y,disabled:!u,className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${u?"bg-gray-900 text-white hover:bg-gray-800 cursor-pointer":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,"aria-label":"Next slide",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]})]}),a.jsx("style",{children:`
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
      `})]})}function lT(){return S.useEffect(()=>{document.title="Macadam Co. - Somatic, Relational & Nervous-SystemInformed Healing"},[]),a.jsxs("div",{children:[a.jsx(sT,{}),a.jsx(rT,{}),a.jsx(aT,{}),a.jsx(iT,{}),a.jsx(yN,{})]})}const oT=[{icon:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68bf8b2db7c420a0635d1990_Vector.svg",text:"Key insights to help you build stronger relational skills."},{icon:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68bf8b2db7c420a0635d1990_Vector.svg",text:"Personal thoughts and reflections from Patricia on meaningful connection topics."},{icon:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68bf8b2db7c420a0635d1990_Vector.svg",text:"A handpicked selection of additional materials to dive deeper."}];function vN(){const[t,e]=S.useState(""),[n,s]=S.useState(!1),[i,o]=S.useState(null),c=async u=>{if(u.preventDefault(),!!t){s(!0),o(null);try{const h=await xe.post(`${We}/newsletter/subscribe`,{email:t.trim(),source:"website"});o({type:"success",text:h.data.message||"Thank you for subscribing!"}),e(""),setTimeout(()=>o(null),5e3)}catch(h){const m=h.response?.data?.message||"Failed to subscribe. Please try again later.";o({type:"error",text:m}),setTimeout(()=>o(null),5e3)}finally{s(!1)}}};return a.jsx("section",{className:"newsletter-cta w-full py-20 bg-gradient-to-br from-gray-50 via-white to-gray-50",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"newsletter-cta__section flex flex-col lg:flex-row gap-16 items-center max-w-6xl mx-auto",children:[a.jsxs("div",{className:"left img-container hidden lg:flex flex-col gap-6 flex-1 max-w-md",children:[a.jsx("div",{className:"relative group",children:a.jsx("img",{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68bf8a3b65bc806846d07e42_image%208-min.avif",alt:"A person reading in bed illustration",className:"newsletter-cta top-img w-full h-auto rounded-2xl shadow-lg group-hover:shadow-xl transition-shadow duration-300",loading:"lazy"})}),a.jsx("div",{className:"relative group",children:a.jsx("img",{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68fb2d70d3574461fa7555f7_image%207.avif",alt:"",className:"newsletter-cta btm-img w-full h-auto rounded-2xl shadow-lg group-hover:shadow-xl transition-shadow duration-300",loading:"lazy"})})]}),a.jsxs("div",{className:"newsletter-form_container flex-1 w-full lg:max-w-xl",children:[a.jsx("div",{className:"mb-8 lg:hidden",children:a.jsx("img",{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68bf8a3b65bc806846d07e42_image%208-min.avif",alt:"A person reading in bed illustration",className:"mobile-img newsletter-cta w-full h-auto rounded-2xl shadow-lg",loading:"lazy"})}),a.jsxs("div",{className:"right newsletter-cta newsletter-form-container",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-gray-900 leading-tight",children:"Enhance your connections with wisdom from Patricia."}),a.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"Join thousands of readers who receive weekly insights, exclusive content, and practical guidance delivered directly to your inbox."}),a.jsxs("form",{onSubmit:c,className:"newsletter-embed mb-10","aria-live":"polite",children:[i&&a.jsx("div",{className:`mb-4 p-4 rounded-lg ${i.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:a.jsx("p",{className:"font-medium",children:i.text})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx("input",{id:"newsletter-email",type:"email",value:t,onChange:u=>e(u.target.value),placeholder:"Enter your email",required:!0,"aria-required":"true",disabled:n,className:"flex-1 px-6 py-4 rounded-full border-2 border-gray-200 text-gray-900 text-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900 transition-all duration-300 bg-white disabled:opacity-50"}),a.jsx("button",{type:"submit",disabled:n,className:"px-8 py-4 bg-gray-900 text-white rounded-full font-bold text-lg hover:bg-gray-800 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 active:scale-95 sm:shrink-0",children:n?"Signing Up...":"Sign Up"})]})]}),a.jsxs("div",{className:"newsletter-features space-y-5 bg-white rounded-2xl p-6 shadow-sm",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-4 uppercase tracking-wide",children:"What You'll Receive"}),oT.map((u,h)=>a.jsxs("div",{className:"newsletter-feature_container flex items-start gap-4",children:[a.jsx("div",{className:"w-6 h-6 shrink-0 mt-0.5 flex items-center justify-center bg-gray-100 rounded-full",children:a.jsx("img",{src:u.icon,alt:"checkmark icon",className:"w-4 h-4",loading:"lazy"})}),a.jsx("div",{className:"newsletter-feature text-base text-gray-700 leading-relaxed",children:u.text})]},h))]}),a.jsx("div",{className:"mt-8 lg:hidden",children:a.jsx("img",{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68bf8a3f45ab2b387a455c13_image%207-min.avif",alt:"",className:"mobile-img newsletter-cta w-full h-auto rounded-2xl shadow-lg",loading:"lazy"})})]})]})]})})})}const cT=[{name:"Facebook",href:"https://www.facebook.com/patriciamacadam/",icon:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b9280e0ae49a22c63b3409_Facebook.svg"},{name:"TikTok",href:"https://www.tiktok.com/@patriciamacadam?lang=en",icon:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68c8721244079222ed107f5e_Vector.svg"},{name:"Instagram",href:"https://www.instagram.com/patriciamacadam/?hl=en",icon:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b927f7ea9da4a5ce5aba06_Instagram.svg"},{name:"LinkedIn",href:"https://www.linkedin.com/in/patriciamacadam",icon:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b927f7248f983b426a76db_Vector.svg"},{name:"Substack",href:"https://patriciamacadam.substack.com/",icon:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68c871ee6a552c0fe8ec11dc_Vector.svg"}];function dT(){const[t,e]=S.useState(""),[n,s]=S.useState(!1),[i,o]=S.useState([]),[c,u]=S.useState([]),[h,m]=S.useState([]),[p,g]=S.useState([]),[y,N]=S.useState(!0);S.useEffect(()=>{v()},[]);const v=async()=>{try{N(!0);const j=await xe.get(`${We}/topics`);o((j.data.topics||[]).slice(0,5));const C=await xe.get(`${We}/courses`);u((C.data.courses||[]).slice(0,5));const T=await xe.get(`${We}/articles/recent/limit?limit=5`);m(T.data.articles||[]);const M=await xe.get(`${We}/podcasts/series`);M.data?.episodes&&g((M.data.episodes||[]).slice(0,5))}catch(j){console.error("Error fetching footer data:",j)}finally{N(!1)}},k=async j=>{if(j.preventDefault(),!!t){s(!0);try{await xe.post(`${We}/newsletter/subscribe`,{email:t.trim(),source:"footer"}),e(""),alert("Thank you for subscribing!")}catch(C){const T=C.response?.data?.message||"Failed to subscribe. Please try again.";alert(T)}finally{s(!1)}}};return a.jsx("section",{className:"footer w-full py-16 bg-gray-50",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"footer-container flex flex-col lg:flex-row gap-12",children:[a.jsx("div",{className:"footer-left flex-1",children:a.jsxs("div",{className:"footer-links grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8",children:[a.jsxs("div",{className:"footer-links__col",children:[a.jsx("div",{className:"footer-links__col-label text-sm font-semibold text-gray-900 mb-4",children:"Topics"}),y?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(j=>a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"},j))}):i.length>0?a.jsxs("div",{className:"footer-links__collection-wrapper space-y-2",children:[i.map(j=>a.jsx("a",{href:`/topics/${j.slug}`,className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors",children:j.name},j._id)),a.jsx("a",{href:"/topics",className:"footer-links__col-link block text-sm font-semibold text-gray-900 hover:underline transition-colors mt-2",children:"View All"})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"No topics available"})]}),a.jsxs("div",{className:"footer-links__col",children:[a.jsx("div",{className:"footer-links__col-label text-sm font-semibold text-gray-900 mb-4",children:"Courses"}),y?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(j=>a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"},j))}):c.length>0?a.jsxs("div",{className:"footer-links__collection-wrapper space-y-2",children:[c.map(j=>a.jsx("a",{href:j.courseLink||`/courses/${j.slug}`,target:j.courseLink?"_blank":void 0,rel:j.courseLink?"noopener noreferrer":void 0,className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors",children:j.name},j._id)),a.jsx("a",{href:"/courses",className:"footer-links__col-link view-all-courses block text-sm font-semibold text-gray-900 hover:underline transition-colors mt-2",children:"View All Courses"})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"No courses available"})]}),a.jsxs("div",{className:"footer-links__col",children:[a.jsx("div",{className:"footer-links__col-label text-sm font-semibold text-gray-900 mb-4",children:"Podcast"}),y?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(j=>a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"},j))}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"footer-links__collection-wrapper space-y-2 mb-2",children:p.length>0?p.map(j=>a.jsx("a",{href:`/podcasts/${j.slug}`,className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors line-clamp-1",children:j.title},j._id)):a.jsxs(a.Fragment,{children:[a.jsx("a",{href:"https://open.spotify.com/show/3fKOTwtnX5oZLaiNntKWAV",target:"_blank",rel:"noopener noreferrer",className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors",children:"Spotify"}),a.jsx("a",{href:"https://podcasts.apple.com/gb/channel/patricias-office-hours/id6450481836",target:"_blank",rel:"noopener noreferrer",className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors",children:"Apple Podcasts"}),a.jsx("a",{href:"https://www.youtube.com/@patriciamacadam/podcasts",target:"_blank",rel:"noopener noreferrer",className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors",children:"Youtube"})]})}),a.jsx("a",{href:"/podcast",className:"footer-links__col-link view-all-courses block text-sm font-semibold text-gray-900 hover:underline transition-colors",children:"View Episodes"})]})]}),a.jsxs("div",{className:"footer-links__col",children:[a.jsx("div",{className:"footer-links__col-label text-sm font-semibold text-gray-900 mb-4",children:"Articles"}),y?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(j=>a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"},j))}):h.length>0?a.jsxs("div",{className:"footer-links__collection-wrapper space-y-2",children:[h.map(j=>a.jsx("a",{href:`/articles/${j.slug}`,className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors line-clamp-1",children:j.title},j._id)),a.jsx("a",{href:"/articles",className:"footer-links__col-link block text-sm font-semibold text-gray-900 hover:underline transition-colors mt-2",children:"View All"})]}):a.jsx("p",{className:"text-sm text-gray-500",children:"No articles available"})]}),a.jsxs("div",{className:"footer-links__col",children:[a.jsx("div",{className:"footer-links__col-label text-sm font-semibold text-gray-900 mb-4",children:"Macadam Co."}),a.jsxs("div",{className:"footer-links__collection-wrapper space-y-2",children:[a.jsx("a",{href:"/about",className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors",children:"About"}),a.jsx("a",{href:"/the-work",className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors",children:"The Work"}),a.jsx("a",{href:"/start-here",className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors",children:"Start Here"}),a.jsx("a",{href:"/contact",className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors",children:"Contact"})]})]}),a.jsxs("div",{className:"footer-links__col",children:[a.jsx("div",{className:"footer-links__col-label text-sm font-semibold text-gray-900 mb-4",children:"Social Links"}),a.jsx("div",{className:"footer-social-links flex flex-wrap gap-3",children:cT.map(j=>a.jsx("a",{href:j.href,target:"_blank",rel:"noopener noreferrer",className:"social-link w-8 h-8 flex items-center justify-center hover:opacity-70 transition-opacity","aria-label":j.name,children:a.jsx("img",{src:j.icon,alt:j.name,className:"social-link-image w-full h-full",loading:"lazy"})},j.name))})]})]})}),a.jsx("div",{className:"footer-right lg:w-96",children:a.jsxs("div",{className:"footer-newsletter-cta",children:[a.jsx("div",{className:"mb-6",children:a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Macadam Co."})}),a.jsxs("div",{className:"footer-newsletter_left",children:[a.jsxs("p",{className:"text-xl font-semibold mb-4 text-gray-900",children:["You are not unfinished.",a.jsx("br",{}),"You are in motion."]}),a.jsx("a",{href:"/start-here",className:"inline-block w-full text-center px-8 py-4 bg-gray-900 text-white rounded font-semibold hover:bg-gray-800 transition-colors duration-300 mb-6",children:"Begin the Journey"}),a.jsx("p",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Stay connected with somatic insights and resources."}),a.jsxs("form",{onSubmit:k,className:"space-y-3","aria-live":"polite",children:[a.jsx("input",{id:"footer-email",type:"email",value:t,onChange:j=>e(j.target.value),placeholder:"Email",required:!0,"aria-required":"true",className:"w-full px-4 py-3 rounded-xl border border-gray-300 text-gray-900 text-base focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent placeholder:text-gray-500"}),a.jsx("button",{type:"submit",disabled:n,className:"w-full px-8 py-3 bg-gray-900 text-white rounded-full font-bold text-base hover:opacity-80 transition-opacity duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Signing Up...":"Sign Up"})]})]})]})})]})})})}var NN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Hy=nn.createContext&&nn.createContext(NN),uT=["attr","size","title"];function fT(t,e){if(t==null)return{};var n=hT(t,e),s,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)s=o[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function hT(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},sd.apply(this,arguments)}function Py(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function rd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Py(Object(n),!0).forEach(function(s){mT(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Py(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function mT(t,e,n){return e=pT(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pT(t){var e=xT(t,"string");return typeof e=="symbol"?e:e+""}function xT(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jN(t){return t&&t.map((e,n)=>nn.createElement(e.tag,rd({key:n},e.attr),jN(e.child)))}function Le(t){return e=>nn.createElement(gT,sd({attr:rd({},t.attr)},e),jN(t.child))}function gT(t){var e=n=>{var{attr:s,size:i,title:o}=t,c=fT(t,uT),u=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),nn.createElement("svg",sd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:h,style:rd(rd({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&nn.createElement("title",null,o),t.children)};return Hy!==void 0?nn.createElement(Hy.Consumer,null,n=>e(n)):e(NN)}function wN(t){return Le({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.34 0A5.328 5.328 0 000 5.34v13.32A5.328 5.328 0 005.34 24h13.32A5.328 5.328 0 0024 18.66V5.34A5.328 5.328 0 0018.66 0zm6.525 2.568c2.336 0 4.448.902 6.056 2.587 1.224 1.272 1.912 2.619 2.264 4.392.12.59.12 2.2.007 2.864a8.506 8.506 0 01-3.24 5.296c-.608.46-2.096 1.261-2.336 1.261-.088 0-.096-.091-.056-.46.072-.592.144-.715.48-.856.536-.224 1.448-.874 2.008-1.435a7.644 7.644 0 002.008-3.536c.208-.824.184-2.656-.048-3.504-.728-2.696-2.928-4.792-5.624-5.352-.784-.16-2.208-.16-3 0-2.728.56-4.984 2.76-5.672 5.528-.184.752-.184 2.584 0 3.336.456 1.832 1.64 3.512 3.192 4.512.304.2.672.408.824.472.336.144.408.264.472.856.04.36.03.464-.056.464-.056 0-.464-.176-.896-.384l-.04-.03c-2.472-1.216-4.056-3.274-4.632-6.012-.144-.706-.168-2.392-.03-3.04.36-1.74 1.048-3.1 2.192-4.304 1.648-1.737 3.768-2.656 6.128-2.656zm.134 2.81c.409.004.803.04 1.106.106 2.784.62 4.76 3.408 4.376 6.174-.152 1.114-.536 2.03-1.216 2.88-.336.43-1.152 1.15-1.296 1.15-.023 0-.048-.272-.048-.603v-.605l.416-.496c1.568-1.878 1.456-4.502-.256-6.224-.664-.67-1.432-1.064-2.424-1.246-.64-.118-.776-.118-1.448-.008-1.02.167-1.81.562-2.512 1.256-1.72 1.704-1.832 4.342-.264 6.222l.413.496v.608c0 .336-.027.608-.06.608-.03 0-.264-.16-.512-.36l-.034-.011c-.832-.664-1.568-1.842-1.872-2.997-.184-.698-.184-2.024.008-2.72.504-1.878 1.888-3.335 3.808-4.019.41-.145 1.133-.22 1.814-.211zm-.13 2.99c.31 0 .62.06.844.178.488.253.888.745 1.04 1.259.464 1.578-1.208 2.96-2.72 2.254h-.015c-.712-.331-1.096-.956-1.104-1.77 0-.733.408-1.371 1.112-1.745.224-.117.534-.176.844-.176zm-.011 4.728c.988-.004 1.706.349 1.97.97.198.464.124 1.932-.218 4.302-.232 1.656-.36 2.074-.68 2.356-.44.39-1.064.498-1.656.288h-.003c-.716-.257-.87-.605-1.164-2.644-.341-2.37-.416-3.838-.218-4.302.262-.616.974-.966 1.97-.97z"},child:[]}]})(t)}function Gc(t){return Le({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"},child:[]}]})(t)}function kN(t){return Le({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22.539 8.242H1.46V5.406h21.08v2.836zM1.46 10.812V24L12 18.11 22.54 24V10.812H1.46zM22.54 0H1.46v2.836h21.08V0z"},child:[]}]})(t)}function Yc(t){return Le({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"},child:[]}]})(t)}function bT(){const t=S.useRef(null),[e,n]=S.useState(0),[s,i]=S.useState(null),[o,c]=S.useState([]),[u,h]=S.useState(!0);S.useEffect(()=>{m()},[]),S.useEffect(()=>{const y=t.current;if(!y)return;const N=()=>{const v=y.scrollLeft,k=y.scrollWidth-y.clientWidth,j=k>0?v/k*100:0;n(j)};return y.addEventListener("scroll",N),N(),()=>y.removeEventListener("scroll",N)},[o]);const m=async()=>{try{h(!0);const y=await xe.get(`${We}/podcasts/series`);y.data&&(i(y.data.series||null),c(y.data.episodes||[]))}catch(y){console.error("Error fetching podcast data:",y)}finally{h(!1)}},p=()=>{t.current&&t.current.scrollBy({left:-400,behavior:"smooth"})},g=()=>{t.current&&t.current.scrollBy({left:400,behavior:"smooth"})};return a.jsxs("div",{className:"podcasts-hero-page",children:[a.jsx(ct,{}),a.jsx("section",{className:"podcasts-hero bg-white py-12 md:py-16 lg:py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-12 lg:gap-16 items-start",children:[s?.coverImage&&a.jsx("div",{className:"shrink-0 w-full lg:w-96 lg:sticky lg:top-24",children:a.jsx("img",{src:s.coverImage,alt:s.name,className:"w-full h-auto rounded-2xl shadow-2xl",loading:"eager"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"inline-block px-4 py-2 bg-blue-900 text-white rounded-full mb-6 text-sm font-semibold",children:"Fresh Content Every Week"}),a.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6 text-gray-900 leading-tight",children:u?"Loading...":s?.name||"The Regulated Heart Podcast"}),a.jsx("p",{className:"text-xl md:text-2xl text-gray-700 leading-relaxed mb-8",children:u?"Loading...":s?.description||"Every Monday, step into Patricia's practice and hear authentic conversations as individuals seeking support open up about the most personal and meaningful moments of their lives."}),s?.platformLinks&&Object.keys(s.platformLinks).some(y=>s.platformLinks?.[y])&&a.jsxs("div",{className:"space-y-6 mb-12",children:[(s.platformLinks.spotify||s.platformLinks.apple)&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-gray-600 mb-4 uppercase tracking-wide",children:"Listen On"}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.platformLinks.spotify&&a.jsxs("a",{href:s.platformLinks.spotify,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-6 py-4 bg-white border-2 border-gray-200 text-gray-900 rounded-full font-semibold hover:border-gray-900 hover:shadow-lg transition-all duration-300",children:[a.jsx(Gc,{className:"w-5 h-5 text-green-500"}),a.jsx("span",{children:"Spotify"})]}),s.platformLinks.apple&&a.jsxs("a",{href:s.platformLinks.apple,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-6 py-4 bg-white border-2 border-gray-200 text-gray-900 rounded-full font-semibold hover:border-gray-900 hover:shadow-lg transition-all duration-300",children:[a.jsx(wN,{className:"w-5 h-5 text-gray-900"}),a.jsx("span",{children:"Apple Podcasts"})]})]})]}),s.platformLinks.youtube&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-gray-600 mb-4 uppercase tracking-wide",children:"Watch On"}),a.jsx("div",{children:a.jsxs("a",{href:s.platformLinks.youtube,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 px-6 py-4 bg-white border-2 border-gray-200 text-gray-900 rounded-full font-semibold hover:border-gray-900 hover:shadow-lg transition-all duration-300",children:[a.jsx(Yc,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{children:"YouTube"})]})})]}),s.platformLinks.substack&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-gray-600 mb-4 uppercase tracking-wide",children:"Subscribe On"}),a.jsx("div",{children:a.jsxs("a",{href:s.platformLinks.substack,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 px-6 py-4 bg-white border-2 border-gray-200 text-gray-900 rounded-full font-semibold hover:border-gray-900 hover:shadow-lg transition-all duration-300",children:[a.jsx(kN,{className:"w-5 h-5 text-orange-600"}),a.jsx("span",{children:"Substack"})]})})]})]})]})]})})})}),o.length>0&&a.jsx("section",{className:"recent-episodes bg-gray-50 py-12 md:py-16",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Recent Episodes"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:p,className:"p-3 bg-white border-2 border-gray-200 rounded-full hover:border-gray-900 hover:shadow-lg transition-all","aria-label":"Scroll left",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("button",{onClick:g,className:"p-3 bg-white border-2 border-gray-200 rounded-full hover:border-gray-900 hover:shadow-lg transition-all","aria-label":"Scroll right",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),a.jsx("div",{className:"relative mb-6",children:a.jsx("div",{className:"h-1 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gray-900 transition-all duration-300",style:{width:`${e}%`}})})}),a.jsx("div",{ref:t,className:"flex gap-6 overflow-x-auto scrollbar-hide scroll-smooth pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:o.slice(0,10).map(y=>a.jsx(Vt,{to:`/podcasts/${y.slug}`,className:"shrink-0 w-80 group",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden h-full",children:[y.coverImage?a.jsx("div",{className:"w-full h-48 bg-cover bg-center",style:{backgroundImage:`url(${y.coverImage})`}}):a.jsx("div",{className:"w-full h-48 bg-gray-200 flex items-center justify-center",children:a.jsx("span",{className:"text-4xl font-bold text-gray-400",children:y.title.charAt(0)})}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2 group-hover:text-gray-700 transition-colors",children:y.title}),y.description&&a.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4 line-clamp-3",children:y.description}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[y.publishedDate&&a.jsx("span",{children:new Date(y.publishedDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),y.duration&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsx("span",{children:y.duration})]})]})]})]})},y._id))}),o.length>10&&a.jsx("div",{className:"mt-8 text-center",children:a.jsxs(Vt,{to:"/podcast#search",className:"inline-flex items-center gap-2 px-8 py-4 bg-white border-2 border-gray-900 text-gray-900 rounded-full font-semibold hover:bg-gray-900 hover:text-white transition-all duration-300",children:["View All Episodes",a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})})})]})}function yT(){return a.jsx("section",{className:"office-hours w-full py-16 bg-gray-900",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"office-hours-container text-center",children:[a.jsx("h4",{className:"office-hours-heading text-3xl md:text-4xl font-bold mb-4 text-white",children:"Patricia's Office Hours"}),a.jsx("div",{className:"office-hours-subheading text-lg mb-8 text-gray-300 leading-relaxed max-w-2xl mx-auto",children:"Access new episodes first, special content only for subscribers, and uninterrupted listening to Patricia's perspectives."}),a.jsxs("div",{className:"office-hours-btns flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx("a",{href:"https://estherperel.substack.com/",target:"_blank",rel:"noopener noreferrer",className:"button lg on-dark substack px-8 py-4 bg-white text-gray-900 rounded-full font-semibold hover:bg-gray-100 transition-colors inline-block text-center",children:"Listen on Substack"}),a.jsx("a",{href:"https://podcasts.apple.com/gb/channel/esthers-office-hours/id6450481836",target:"_blank",rel:"noopener noreferrer",className:"button lg on-dark apple-podcast office-hours px-8 py-4 bg-white text-gray-900 rounded-full font-semibold hover:bg-gray-100 transition-colors inline-block text-center",children:"Listen on Apple Podcasts"})]})]})})})}function vT(){const[t,e]=S.useState(""),[n,s]=S.useState(8),[i,o]=S.useState([]),[c,u]=S.useState(!0);S.useEffect(()=>{h()},[]);const h=async()=>{try{u(!0);const v=await xe.get(`${We}/podcasts/series`);v.data.episodes&&o(v.data.episodes||[])}catch(v){console.error("Error fetching episodes:",v)}finally{u(!1)}},m=S.useMemo(()=>{if(!t.trim())return i;const v=t.toLowerCase();return i.filter(k=>k.title.toLowerCase().includes(v)||k.description&&k.description.toLowerCase().includes(v))},[t,i]),p=m.slice(0,n),g=m.length>n,y=v=>{v.preventDefault()},N=()=>{s(v=>v+8)};return a.jsx("section",{className:"podcast-search w-full py-16 bg-white",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"podcast-search-form mb-12",children:[a.jsx("div",{className:"search-label text-lg font-semibold mb-4 text-gray-900",children:"All Episodes"}),a.jsxs("form",{onSubmit:y,className:"search-input flex gap-3","aria-label":"Search Episodes",children:[a.jsx("input",{type:"text",value:t,onChange:v=>{e(v.target.value),s(8)},placeholder:"Search",className:"search-text-input flex-1 px-4 py-3 border border-gray-300 rounded-lg text-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",maxLength:256}),a.jsx("button",{type:"submit",className:"submit-search w-12 h-12 bg-gray-900 text-white rounded-lg flex items-center justify-center hover:bg-gray-800 transition-colors","aria-label":"Search",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),a.jsx("div",{className:"podcast-search-grid__wrapper",children:c?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-8 h-8 border-4 border-gray-900 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading episodes..."})]}):p.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"search-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(v=>a.jsxs("a",{href:`/podcasts/${v.slug}`,className:"podcast-search-item podcast-ep-card group hover:opacity-90 transition-opacity",children:[a.jsxs("div",{className:"top podcast-search-item mb-4",children:[a.jsx("div",{className:"podcast-image podcast-search-result w-full h-48 rounded-lg bg-cover bg-center mb-3",style:{backgroundImage:v.coverImage?`url(${v.coverImage})`:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}}),a.jsx("div",{className:"display-xs podcast-search-result text-xl font-bold text-gray-900 group-hover:text-gray-700 transition-colors",children:v.title})]}),v.description&&a.jsx("p",{className:"body-m opacity-70 podcast-search-result podcast-line-clamp text-gray-600 leading-relaxed mb-4 line-clamp-3",children:v.description}),a.jsxs("div",{className:"podcast-details podcast-search-result flex items-center gap-2 text-sm text-gray-500",children:[v.duration&&a.jsx("div",{className:"lowercase",children:v.duration}),v.duration&&v.publishedDate&&a.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"}),v.publishedDate&&a.jsx("div",{children:new Date(v.publishedDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]},v._id))}),g&&a.jsx("div",{className:"mt-8 text-center",children:a.jsx("button",{onClick:N,className:"button show-more px-8 py-4 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors",children:"Show More"})})]}):a.jsx("div",{className:"podcast-search-empty text-center py-12",children:a.jsx("div",{className:"text-lg text-gray-600",children:"No results found"})})})]})})}function NT(){return a.jsx("div",{className:"substack-cta__container w-full py-16 bg-white",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-start",children:[a.jsx("div",{className:"w-full md:w-96 shrink-0",children:a.jsx("img",{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68c7b185876c240bfde01b40_Rectangle%202-min.avif",alt:"Substack",className:"topics-substack-cta__img w-full h-auto rounded-lg",loading:"lazy"})}),a.jsxs("div",{className:"cta-right flex-1",children:[a.jsx("div",{className:"text-3xl md:text-4xl font-bold mb-4 text-gray-900",children:"Discover more from Patricia on Substack."}),a.jsx("div",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:"Explore articles and resources to help you find energy and vibrancy in your relationships."}),a.jsx("a",{href:"https://estherperel.substack.com/",target:"_blank",rel:"noopener noreferrer",className:"inline-block px-8 py-4 border-2 border-gray-900 text-gray-900 rounded-full font-semibold hover:bg-gray-900 hover:text-white transition-colors duration-300",children:"Subscribe on Substack"})]})]})})})}function jT(){return S.useEffect(()=>{document.title="Patricia Macadam - Podcasts"},[]),a.jsxs("div",{children:[a.jsx(bT,{}),a.jsx(yT,{}),a.jsx(vT,{}),a.jsx(NT,{}),a.jsx(yN,{})]})}const wT=`${We}/podcasts`;function Iy(t){if(!t)return;const e=t.match(/episode\/([a-zA-Z0-9]+)/);if(e)return`https://open.spotify.com/embed/episode/${e[1]}`}function Fy(t){if(!t)return;const e=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]+)/,/youtube\.com\/watch\?.*v=([a-zA-Z0-9_-]+)/];for(const n of e){const s=t.match(n);if(s&&s[1])return`https://www.youtube.com/embed/${s[1]}`}}function kT(){const{slug:t}=ss(),e=Et(),[n,s]=S.useState(null),[i,o]=S.useState(!0),[c,u]=S.useState(null);S.useEffect(()=>{t&&h()},[t]),S.useEffect(()=>{n?document.title=`${n.title} - Patricia Macadam`:c?document.title="Podcast Not Found - Patricia Macadam":document.title="Loading Podcast - Patricia Macadam"},[n,c]);const h=async()=>{try{o(!0),u(null);const m=await xe.get(`${wT}/${t}`);s(m.data.podcast)}catch(m){console.error("Error fetching podcast:",m),m.response?.status===404?u("Podcast not found"):u("Failed to load podcast")}finally{o(!1)}};return i?a.jsxs("div",{children:[a.jsx(ct,{}),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-gray-900 border-t-transparent rounded-full animate-spin mx-auto mb-6"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:"Loading podcast..."}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Please wait while we fetch the episode details"})]})})]}):c||!n?a.jsxs("div",{children:[a.jsx(ct,{}),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:a.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Podcast Not Found"}),a.jsx("p",{className:"text-gray-600 mb-8",children:c||"The podcast you are looking for does not exist."}),a.jsx("button",{onClick:()=>e("/podcast"),className:"px-6 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors",children:"Back to Podcasts"})]})})]}):a.jsxs("div",{className:"podcast-detail-page bg-white",children:[a.jsx(ct,{}),a.jsx("section",{className:"podcast-header bg-white py-12 md:py-16",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("button",{onClick:()=>e("/podcast"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-8 transition-colors group",children:[a.jsx("svg",{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),a.jsx("span",{className:"font-medium",children:"Back to Podcasts"})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 lg:gap-12",children:[n.coverImage&&a.jsx("div",{className:"flex-shrink-0 lg:w-80",children:a.jsx("img",{src:n.coverImage,alt:n.title,className:"w-full h-auto rounded-2xl shadow-xl",loading:"eager"})}),a.jsxs("div",{className:"flex-1",children:[n.topic&&a.jsx("div",{className:"inline-block px-4 py-2 bg-blue-900 text-white rounded-full mb-4 text-sm font-semibold",children:n.topic.name}),n.episodeNumber&&a.jsxs("div",{className:"text-sm font-semibold text-gray-600 mb-3",children:["Episode #",n.episodeNumber]}),a.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-6 leading-tight",children:n.title}),n.description&&a.jsx("p",{className:"text-lg md:text-xl text-gray-700 leading-relaxed mb-8",children:n.description}),a.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-gray-600 border-t border-gray-200 pt-6",children:[n.duration&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("span",{className:"font-medium",children:n.duration})]}),n.publishedDate&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("span",{className:"font-medium",children:new Date(n.publishedDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),a.jsxs("span",{className:"font-medium",children:[n.views||0," views"]})]})]})]})]})]})})}),n.audioUrl&&a.jsx("section",{className:"podcast-audio bg-gray-50 py-12",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Listen Now"}),a.jsxs("audio",{controls:!0,className:"w-full",children:[a.jsx("source",{src:n.audioUrl}),"Your browser does not support the audio element."]})]})})})}),(n.platformLinks?.spotify||n.platformLinks?.youtube)&&a.jsx("section",{className:"podcast-embedded-players bg-white py-12",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Watch & Listen"}),a.jsxs("div",{className:"space-y-8",children:[n.platformLinks?.spotify&&a.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Gc,{className:"w-6 h-6 text-green-500"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Spotify"})]}),Iy(n.platformLinks.spotify)?a.jsx("iframe",{src:Iy(n.platformLinks.spotify),width:"100%",height:"352",frameBorder:"0",allowTransparency:!0,allow:"encrypted-media",className:"rounded-lg",style:{minHeight:"352px"}}):a.jsxs("a",{href:n.platformLinks.spotify,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-white border-2 border-gray-200 text-gray-900 rounded-full font-semibold hover:border-gray-900 hover:shadow-lg transition-all",children:[a.jsx(Gc,{className:"w-5 h-5 text-green-500"}),"Listen on Spotify"]})]}),n.platformLinks?.youtube&&a.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 shadow-lg",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Yc,{className:"w-6 h-6 text-red-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"YouTube"})]}),Fy(n.platformLinks.youtube)?a.jsx("div",{className:"relative w-full",style:{paddingBottom:"56.25%"},children:a.jsx("iframe",{src:Fy(n.platformLinks.youtube),width:"100%",height:"100%",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"absolute top-0 left-0 rounded-lg"})}):a.jsxs("a",{href:n.platformLinks.youtube,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-white border-2 border-gray-200 text-gray-900 rounded-full font-semibold hover:border-gray-900 hover:shadow-lg transition-all",children:[a.jsx(Yc,{className:"w-5 h-5 text-red-600"}),"Watch on YouTube"]})]})]})]})})}),n.platformLinks&&Object.keys(n.platformLinks).some(m=>n.platformLinks?.[m])&&a.jsx("section",{className:"podcast-platform-links bg-white py-12",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Listen on Your Platform"}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[n.platformLinks.spotify&&a.jsxs("a",{href:n.platformLinks.spotify,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-6 py-4 bg-white border-2 border-gray-200 text-gray-900 rounded-full font-semibold hover:border-gray-900 hover:shadow-lg transition-all duration-300",children:[a.jsx(Gc,{className:"w-6 h-6 text-green-500"}),a.jsx("span",{children:"Spotify"})]}),n.platformLinks.apple&&a.jsxs("a",{href:n.platformLinks.apple,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-6 py-4 bg-white border-2 border-gray-200 text-gray-900 rounded-full font-semibold hover:border-gray-900 hover:shadow-lg transition-all duration-300",children:[a.jsx(wN,{className:"w-6 h-6 text-gray-900"}),a.jsx("span",{children:"Apple Podcasts"})]}),n.platformLinks.youtube&&a.jsxs("a",{href:n.platformLinks.youtube,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-6 py-4 bg-white border-2 border-gray-200 text-gray-900 rounded-full font-semibold hover:border-gray-900 hover:shadow-lg transition-all duration-300",children:[a.jsx(Yc,{className:"w-6 h-6 text-red-600"}),a.jsx("span",{children:"YouTube"})]}),n.platformLinks.substack&&a.jsxs("a",{href:n.platformLinks.substack,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-6 py-4 bg-white border-2 border-gray-200 text-gray-900 rounded-full font-semibold hover:border-gray-900 hover:shadow-lg transition-all duration-300",children:[a.jsx(kN,{className:"w-6 h-6 text-orange-600"}),a.jsx("span",{children:"Substack"})]})]})]})})}),a.jsx("section",{className:"podcast-footer bg-gray-50 py-12",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-8",children:[a.jsxs("button",{onClick:()=>e("/podcast"),className:"flex items-center gap-2 px-6 py-3 bg-white border-2 border-gray-900 text-gray-900 rounded-full font-semibold hover:bg-gray-900 hover:text-white transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Podcasts"]}),n.topic&&a.jsxs("a",{href:`/topics/${n.topic.slug}`,className:"flex items-center gap-2 px-6 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors",children:["More from ",n.topic.name,a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})})})]})}const ST=`${We}/articles`;function CT(){const t=S.useRef(null),[e,n]=S.useState(0),[s,i]=S.useState([]),[o,c]=S.useState(!0);S.useEffect(()=>{u()},[]);const u=async()=>{try{const h=await xe.get(`${ST}/recent/limit?limit=6`);i(h.data.articles||[])}catch(h){console.error("Error fetching recent articles:",h)}finally{c(!1)}};return S.useEffect(()=>{const h=t.current;if(!h)return;const m=()=>{const{scrollLeft:p,scrollWidth:g,clientWidth:y}=h,N=p/(g-y)*100;n(N)};return h.addEventListener("scroll",m),m(),()=>h.removeEventListener("scroll",m)},[s]),a.jsxs("section",{className:"articles-hero w-full bg-white",children:[a.jsx("div",{className:"top articles",children:a.jsx(ct,{})}),a.jsx("div",{className:"bottom articles bg-gradient-to-b from-gray-50 to-white",children:a.jsx("div",{className:"container mx-auto px-4 py-20",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"flex justify-center mb-12",children:a.jsx("img",{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68c9c69bb59101106f930e9d_Rectangle%2020.avif",alt:"Patricia Macadam",className:"w-full max-w-md h-auto rounded-2xl shadow-xl",loading:"lazy"})}),a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("div",{className:"inline-block px-4 py-2 bg-blue-900 text-white rounded-full mb-6 text-sm font-semibold",children:"Latest Insights"}),a.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold mb-6 text-gray-900 leading-tight",children:"Articles by Patricia Macadam"}),a.jsx("p",{className:"text-xl md:text-2xl text-gray-700 leading-relaxed max-w-3xl mx-auto mb-8",children:"Explore thought-provoking articles on relationships, communication, and personal growth. Discover insights that help you navigate life's complexities with wisdom and understanding."})]}),o?a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"inline-block w-8 h-8 border-4 border-gray-900 border-t-transparent rounded-full animate-spin"})}):s.length>0?a.jsxs("div",{className:"recent-articles-section",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Recent Articles"}),a.jsx("div",{className:"w-full h-1 bg-gray-200 rounded-full mb-6 overflow-hidden",children:a.jsx("div",{className:"h-full bg-gray-900 transition-all duration-150",style:{width:`${e}%`}})}),a.jsx("div",{ref:t,className:"flex gap-6 overflow-x-auto scroll-smooth scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:s.map(h=>a.jsxs(Vt,{to:`/articles/${h.slug}`,className:"article-card flex-shrink-0 w-80 bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 group border border-gray-100",children:[h.featuredImage?a.jsx("div",{className:"article-image-wrapper h-56 overflow-hidden bg-gray-100",children:a.jsx("img",{src:h.featuredImage,alt:h.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"})}):h.topic?.image?a.jsx("div",{className:"article-image-wrapper h-56 overflow-hidden bg-gray-100",children:a.jsx("img",{src:h.topic.image,alt:h.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"})}):a.jsx("div",{className:"article-image-wrapper h-56 bg-gradient-to-br from-gray-200 via-gray-300 to-gray-400 flex items-center justify-center",children:a.jsx("span",{className:"text-gray-600 text-6xl font-bold",children:h.title.charAt(0)})}),a.jsxs("div",{className:"article-content p-6",children:[h.topic&&a.jsx("div",{className:"article-topic text-xs font-bold text-blue-900 mb-3 uppercase tracking-wider",children:h.topic.name}),a.jsx("h3",{className:"article-title text-xl font-bold text-gray-900 mb-3 line-clamp-2 group-hover:text-blue-900 transition-colors leading-tight",children:h.title}),h.excerpt&&a.jsx("p",{className:"article-excerpt text-gray-600 text-sm mb-4 line-clamp-3 leading-relaxed",children:h.excerpt}),a.jsxs("div",{className:"article-meta flex items-center justify-between text-xs text-gray-500 pt-4 border-t border-gray-200",children:[a.jsx("span",{className:"font-semibold",children:h.writtenBy||h.author}),a.jsx("span",{children:new Date(h.publishedAt||h._id).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})]},h._id))})]}):a.jsx("div",{className:"text-center py-12 text-gray-500",children:a.jsx("p",{className:"text-lg",children:"No articles available yet."})})]})})})]})}const ET=`${We}/articles`;function TT(){const[t,e]=S.useState([]),[n,s]=S.useState(""),[i,o]=S.useState(""),[c,u]=S.useState(1),[h,m]=S.useState(1),[p,g]=S.useState(!0),[y,N]=S.useState(!1);S.useEffect(()=>{v(),k()},[]),S.useEffect(()=>{k()},[n,i,c]);const v=async()=>{},k=async()=>{try{c===1?g(!0):N(!0);const T={page:c,limit:12};n&&(T.search=n),i&&(T.topic=i);const P=(await xe.get(ET,{params:T})).data;e(c===1?P.articles||[]:H=>[...H,...P.articles||[]]),m(P.pagination?.totalPages||1)}catch(T){console.error("Error fetching articles:",T)}finally{g(!1),N(!1)}},j=T=>{T.preventDefault(),u(1),k()},C=()=>{c<h&&!y&&u(T=>T+1)};return a.jsx("section",{className:"articles-search w-full py-16 bg-white",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"articles-search-form mb-12",children:[a.jsx("div",{className:"search-label text-lg font-semibold mb-4 text-gray-900",children:"All Articles"}),a.jsxs("form",{onSubmit:j,className:"search-input flex gap-3","aria-label":"Search Articles",children:[a.jsx("input",{type:"text",value:n,onChange:T=>{s(T.target.value),u(1)},placeholder:"Search articles...",className:"search-text-input flex-1 px-4 py-3 border border-gray-300 rounded-lg text-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",maxLength:256}),a.jsx("button",{type:"submit",className:"submit-search w-12 h-12 bg-gray-900 text-white rounded-lg flex items-center justify-center hover:bg-gray-800 transition-colors","aria-label":"Search",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),p&&t.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"inline-block w-8 h-8 border-4 border-gray-900 border-t-transparent rounded-full animate-spin"})}):t.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:a.jsx("p",{children:"No articles found."})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"articles-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:t.map(T=>a.jsxs(Vt,{to:`/articles/${T.slug}`,className:"article-card bg-white rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow duration-300 group",children:[T.featuredImage?a.jsx("div",{className:"article-image-wrapper h-56 overflow-hidden",children:a.jsx("img",{src:T.featuredImage,alt:T.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"})}):T.topic?.image?a.jsx("div",{className:"article-image-wrapper h-56 overflow-hidden",children:a.jsx("img",{src:T.topic.image,alt:T.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"})}):a.jsx("div",{className:"article-image-wrapper h-56 bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center",children:a.jsx("span",{className:"text-gray-500 text-5xl font-bold",children:T.title.charAt(0)})}),a.jsxs("div",{className:"article-content p-6",children:[T.topic&&a.jsx("div",{className:"article-topic text-xs font-semibold text-blue-900 mb-2 uppercase tracking-wide",children:T.topic.name}),a.jsx("h3",{className:"article-title text-2xl font-bold text-gray-900 mb-3 line-clamp-2 group-hover:text-blue-900 transition-colors",children:T.title}),T.excerpt&&a.jsx("p",{className:"article-excerpt text-gray-600 mb-4 line-clamp-3",children:T.excerpt}),a.jsxs("div",{className:"article-meta flex items-center justify-between text-sm text-gray-500 pt-4 border-t border-gray-200",children:[a.jsx("span",{className:"font-medium",children:T.writtenBy||T.author}),a.jsx("span",{children:new Date(T.publishedAt||T._id).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),a.jsxs("div",{className:"article-views text-xs text-gray-400 mt-2",children:[T.views," views"]})]})]},T._id))}),c<h&&a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:C,disabled:y,className:"px-8 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Loading...":"Load More Articles"})})]})]})})}function AT(){return S.useEffect(()=>{document.title="Patricia Macadam - Articles"},[]),a.jsxs("div",{children:[a.jsx(CT,{}),a.jsx(TT,{})]})}const MT=`${We}/articles`;function OT(){const{slug:t}=ss(),e=Et(),[n,s]=S.useState(null),[i,o]=S.useState(!0),[c,u]=S.useState(null);S.useEffect(()=>{t&&h()},[t]),S.useEffect(()=>{n?document.title=`${n.title} - Patricia Macadam`:c?document.title="Article Not Found - Patricia Macadam":document.title="Loading Article - Patricia Macadam"},[n,c]);const h=async()=>{try{o(!0),u(null);const m=await xe.get(`${MT}/${t}`);s(m.data.article)}catch(m){console.error("Error fetching article:",m),m.response?.status===404?u("Article not found"):u("Failed to load article")}finally{o(!1)}};return i?a.jsxs("div",{children:[a.jsx(ct,{}),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-gray-900 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading article..."})]})})]}):c||!n?a.jsxs("div",{children:[a.jsx(ct,{}),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:a.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Article Not Found"}),a.jsx("p",{className:"text-gray-600 mb-8",children:c||"The article you are looking for does not exist."}),a.jsx("button",{onClick:()=>e("/articles"),className:"px-6 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors",children:"Back to Articles"})]})})]}):a.jsxs("div",{className:"article-detail-page",children:[a.jsx(ct,{}),a.jsx("section",{className:"article-header bg-gradient-to-b from-gray-50 to-white py-16",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("button",{onClick:()=>e("/articles"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-8 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),a.jsx("span",{children:"Back to Articles"})]}),n.topic&&a.jsx("div",{className:"inline-block px-4 py-2 bg-blue-900 text-white rounded-full mb-6 text-sm font-semibold",children:n.topic.name}),a.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:n.title}),n.excerpt&&a.jsx("p",{className:"text-xl md:text-2xl text-gray-700 leading-relaxed mb-8",children:n.excerpt}),a.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-gray-600 border-t border-b border-gray-200 py-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-semibold",children:"By"}),a.jsx("span",{children:n.writtenBy||n.author})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("span",{children:new Date(n.publishedAt||n._id).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),a.jsxs("span",{children:[n.views," views"]})]})]})]})})}),n.featuredImage&&a.jsx("section",{className:"article-featured-image py-8 bg-white",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsx("img",{src:n.featuredImage,alt:n.title,className:"w-full h-auto rounded-2xl shadow-xl",loading:"lazy"})})})}),a.jsx("section",{className:"article-content bg-white py-12",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsx("div",{className:"prose prose-lg max-w-none article-body",dangerouslySetInnerHTML:{__html:n.content},style:{fontFamily:"inherit"}}),a.jsx("style",{children:`
              .article-body {
                color: #1f2937;
                line-height: 1.75;
              }
              .article-body h1,
              .article-body h2,
              .article-body h3,
              .article-body h4 {
                font-weight: 700;
                margin-top: 2rem;
                margin-bottom: 1rem;
                color: #111827;
              }
              .article-body h1 {
                font-size: 2.5rem;
              }
              .article-body h2 {
                font-size: 2rem;
              }
              .article-body h3 {
                font-size: 1.5rem;
              }
              .article-body p {
                margin-bottom: 1.5rem;
                font-size: 1.125rem;
              }
              .article-body ul,
              .article-body ol {
                margin-bottom: 1.5rem;
                padding-left: 1.5rem;
              }
              .article-body li {
                margin-bottom: 0.5rem;
              }
              .article-body a {
                color: #2563eb;
                text-decoration: underline;
              }
              .article-body a:hover {
                color: #1d4ed8;
              }
              .article-body img {
                max-width: 100%;
                height: auto;
                border-radius: 0.5rem;
                margin: 2rem 0;
              }
              .article-body strong {
                font-weight: 700;
              }
              .article-body em {
                font-style: italic;
              }
              .article-body blockquote {
                border-left: 4px solid #e5e7eb;
                padding-left: 1.5rem;
                margin: 2rem 0;
                font-style: italic;
                color: #6b7280;
              }
            `})]})})}),a.jsx("section",{className:"article-footer bg-gray-50 py-12",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"max-w-3xl mx-auto",children:a.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-8",children:[a.jsxs("button",{onClick:()=>e("/articles"),className:"flex items-center gap-2 px-6 py-3 bg-white border-2 border-gray-900 text-gray-900 rounded-full font-semibold hover:bg-gray-900 hover:text-white transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Articles"]}),n.topic&&a.jsxs("a",{href:`/topics/${n.topic.slug}`,className:"flex items-center gap-2 px-6 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors",children:["More from ",n.topic.name,a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})})})]})}const RT=`${We}/topics`;function DT(){const[t,e]=S.useState([]),[n,s]=S.useState(!0);S.useEffect(()=>{document.title="Topics - Patricia Macadam"},[]),S.useEffect(()=>{i()},[]);const i=async()=>{try{const o=await xe.get(RT);e(o.data.topics||[])}catch(o){console.error("Error fetching topics:",o)}finally{s(!1)}};return a.jsxs("div",{children:[a.jsx(ct,{}),a.jsx("section",{className:"topics-page w-full py-20 bg-gradient-to-b from-gray-50 to-white",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:"Topics"}),a.jsx("p",{className:"text-xl text-gray-700 max-w-2xl mx-auto",children:"Explore articles organized by topics that matter to you"})]}),n?a.jsx("div",{className:"text-center py-12",children:a.jsx("div",{className:"inline-block w-8 h-8 border-4 border-gray-900 border-t-transparent rounded-full animate-spin"})}):t.length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:a.jsx("p",{children:"No topics available."})}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(o=>a.jsxs(Vt,{to:`/topics/${o.slug}`,className:"topic-card group bg-white rounded-xl overflow-hidden shadow-md hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[o.image?a.jsx("div",{className:"topic-image-wrapper h-48 overflow-hidden bg-gray-100",children:a.jsx("img",{src:o.image,alt:o.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"})}):a.jsx("div",{className:"topic-image-wrapper h-48 bg-gradient-to-br from-gray-200 via-gray-300 to-gray-400 flex items-center justify-center",children:a.jsx("span",{className:"text-gray-600 text-5xl font-bold",children:o.name.charAt(0)})}),a.jsx("div",{className:"topic-content p-6",children:a.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-900 transition-colors text-center",children:o.name})})]},o._id))})]})})})]})}const $y=We;function LT(){const{slug:t}=ss(),e=Et(),[n,s]=S.useState(null),[i,o]=S.useState([]),[c,u]=S.useState(!0),[h,m]=S.useState(!1),[p,g]=S.useState(1),[y,N]=S.useState(1),[v,k]=S.useState(null);S.useEffect(()=>{t&&j()},[t]),S.useEffect(()=>{t&&p>1&&C()},[p]),S.useEffect(()=>{n?document.title=`${n.name} - Topics - Patricia Macadam`:v?document.title="Topic Not Found - Patricia Macadam":c&&(document.title="Loading Topic - Patricia Macadam")},[n,v,c]);const j=async()=>{try{u(!0),k(null);const M=await xe.get(`${$y}/topics/${t}?page=1&limit=12`);s(M.data.topic),o(M.data.articles||[]),N(M.data.pagination?.totalPages||1)}catch(M){console.error("Error fetching topic:",M),M.response?.status===404?k("Topic not found"):k("Failed to load topic")}finally{u(!1)}},C=async()=>{try{m(!0);const M=await xe.get(`${$y}/topics/${t}?page=${p}&limit=12`);o(P=>[...P,...M.data.articles||[]])}catch(M){console.error("Error loading more articles:",M)}finally{m(!1)}},T=()=>{p<y&&!h&&g(M=>M+1)};return c?a.jsxs("div",{children:[a.jsx(ct,{}),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-gray-900 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading topic..."})]})})]}):v||!n?a.jsxs("div",{children:[a.jsx(ct,{}),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:a.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Topic Not Found"}),a.jsx("p",{className:"text-gray-600 mb-8",children:v||"The topic you are looking for does not exist."}),a.jsx("button",{onClick:()=>e("/topics"),className:"px-6 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors",children:"Back to Topics"})]})})]}):a.jsxs("div",{className:"topic-detail-page",children:[a.jsx(ct,{}),a.jsx("section",{className:"topic-header bg-gradient-to-b from-gray-50 to-white py-16",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("button",{onClick:()=>e("/topics"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-8 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),a.jsx("span",{children:"Back to Topics"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-start mb-12",children:[n.image?a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:n.image,alt:n.name,className:"w-48 h-48 md:w-64 md:h-64 rounded-2xl object-cover shadow-xl",loading:"lazy"})}):a.jsx("div",{className:"flex-shrink-0 w-48 h-48 md:w-64 md:h-64 bg-gradient-to-br from-gray-200 via-gray-300 to-gray-400 rounded-2xl flex items-center justify-center shadow-xl",children:a.jsx("span",{className:"text-gray-600 text-7xl font-bold",children:n.name.charAt(0)})}),a.jsxs("div",{className:"flex-1 text-center md:text-left",children:[a.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-4",children:n.name}),a.jsxs("p",{className:"text-lg text-gray-600",children:["Explore articles about ",n.name.toLowerCase()]})]})]})]})})}),a.jsx("section",{className:"topic-articles bg-white py-12",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:i.length===0?a.jsxs("div",{className:"text-center py-12 text-gray-500",children:[a.jsx("p",{className:"text-lg",children:"No articles available for this topic yet."}),a.jsx(Vt,{to:"/articles",className:"inline-block mt-4 px-6 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors",children:"Browse All Articles"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:["Articles (",i.length," ",i.length===1?"article":"articles",")"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:i.map(M=>a.jsxs(Vt,{to:`/articles/${M.slug}`,className:"article-card bg-white rounded-xl overflow-hidden shadow-md hover:shadow-2xl transition-all duration-300 group border border-gray-100",children:[M.featuredImage?a.jsx("div",{className:"article-image-wrapper h-56 overflow-hidden bg-gray-100",children:a.jsx("img",{src:M.featuredImage,alt:M.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"})}):a.jsx("div",{className:"article-image-wrapper h-56 bg-gradient-to-br from-gray-200 via-gray-300 to-gray-400 flex items-center justify-center",children:a.jsx("span",{className:"text-gray-600 text-5xl font-bold",children:M.title.charAt(0)})}),a.jsxs("div",{className:"article-content p-6",children:[a.jsx("h3",{className:"article-title text-xl font-bold text-gray-900 mb-3 line-clamp-2 group-hover:text-blue-900 transition-colors leading-tight",children:M.title}),M.excerpt&&a.jsx("p",{className:"article-excerpt text-gray-600 text-sm mb-4 line-clamp-3 leading-relaxed",children:M.excerpt}),a.jsxs("div",{className:"article-meta flex items-center justify-between text-xs text-gray-500 pt-4 border-t border-gray-200",children:[a.jsx("span",{className:"font-semibold",children:M.writtenBy||M.author}),a.jsx("span",{children:new Date(M.publishedAt||M._id).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),a.jsxs("div",{className:"article-views text-xs text-gray-400 mt-2",children:[M.views," views"]})]})]},M._id))}),p<y&&a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:T,disabled:h,className:"px-8 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Loading...":"Load More Articles"})})]})})})})]})}function zT(){return S.useEffect(()=>{document.title="About - Macadam Co."},[]),a.jsxs("div",{className:"about-page min-h-screen bg-white",children:[a.jsx("section",{className:"about-hero bg-gradient-to-b from-gray-50 to-white py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"mb-12 max-w-2xl mx-auto",children:a.jsx("img",{src:"https://substackcdn.com/image/fetch/$s_!e4rC!,f_auto,q_auto:best,fl_progressive:steep/https%3A%2F%2Fpmacadam.substack.com%2Fapi%2Fv1%2Fpress_kit%2Fasset%2F185212681%2Foverlay%2Fcomposed%3FaspectRatio%3Dgrid",alt:"Patricia Macadam",className:"w-full h-auto rounded-2xl shadow-lg max-h-[600px] object-cover",loading:"eager"})}),a.jsx("div",{className:"text-center",children:a.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-gray-900 mb-6 leading-tight",children:"About Macadam Co."})})]})})}),a.jsx("section",{className:"about-content bg-white py-16",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"prose prose-lg max-w-none mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-8",children:"About Macadam Co."}),a.jsx("p",{className:"text-lg md:text-xl text-gray-700 leading-relaxed mb-8",children:"Macadam Co. exists to restore embodied authority, relational maturity, and nervous-system leadership."}),a.jsx("p",{className:"text-lg md:text-xl text-gray-700 leading-relaxed mb-8",children:"This work sits at the intersection of:"}),a.jsxs("ul",{className:"space-y-3 mb-8 text-lg text-gray-700",children:[a.jsx("li",{children:" somatic psychology"}),a.jsx("li",{children:" attachment theory"}),a.jsx("li",{children:" relational neuroscience"}),a.jsx("li",{children:" lived human experience"})]}),a.jsx("p",{className:"text-xl md:text-2xl font-semibold text-gray-900 leading-relaxed",children:"We believe healing should make life larger  not smaller."})]}),a.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8 md:p-12 mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Founder Bio"}),a.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700",children:[a.jsx("p",{className:"text-lg leading-relaxed mb-4",children:"[Founder bio content - Clinical training, somatic specialization, relational frameworks, teaching & facilitation background]"}),a.jsx("p",{className:"text-lg leading-relaxed",children:"Written in first person, grounded, non-performative."})]})]}),a.jsxs("div",{className:"bg-gray-900 text-white rounded-2xl p-8 md:p-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Contact / Work With Us"}),a.jsx("p",{className:"text-lg mb-6 opacity-90",children:"Options:"}),a.jsxs("ul",{className:"space-y-3 mb-8 text-lg",children:[a.jsx("li",{children:" Courses"}),a.jsx("li",{children:" Workshops"}),a.jsx("li",{children:" Speaking"}),a.jsx("li",{children:" Consulting"}),a.jsx("li",{children:" Certification"})]}),a.jsx("a",{href:"/contact",className:"inline-block px-8 py-4 bg-white text-gray-900 rounded font-semibold hover:bg-gray-100 transition-colors",children:"Reach Out"})]})]})})})]})}function _T(){const[t,e]=S.useState([]),[n,s]=S.useState(!0),[i,o]=S.useState("");S.useEffect(()=>{document.title="Courses - Macadam Co.",c()},[]);const c=async()=>{try{s(!0);const h=await xe.get(`${We}/courses`);e(h.data.courses||[])}catch(h){console.error("Error fetching courses:",h)}finally{s(!1)}},u=t.filter(h=>h.name.toLowerCase().includes(i.toLowerCase())||h.description&&h.description.toLowerCase().includes(i.toLowerCase()));return n?a.jsxs("div",{children:[a.jsx(ct,{}),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-gray-900 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading courses..."})]})})]}):a.jsxs("div",{className:"courses-page min-h-screen bg-white",children:[a.jsx(ct,{}),a.jsx("section",{className:"courses-hero bg-gradient-to-b from-gray-50 to-white py-16",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-4 text-center",children:"Courses Taught by Patricia"}),a.jsx("p",{className:"text-xl text-gray-600 text-center mb-8",children:"Discover transformative courses designed to help you build stronger connections and navigate life's complexities."}),a.jsx("div",{className:"max-w-2xl mx-auto",children:a.jsx("input",{type:"text",placeholder:"Search courses...",value:i,onChange:h=>o(h.target.value),className:"w-full px-6 py-4 border-2 border-gray-300 rounded-full focus:outline-none focus:border-gray-900 text-lg"})})]})})}),a.jsx("section",{className:"courses-grid bg-white py-16",children:a.jsx("div",{className:"container mx-auto px-4",children:u.length===0?a.jsx("div",{className:"text-center py-20",children:a.jsx("p",{className:"text-xl text-gray-600",children:t.length===0?"No courses available at the moment.":"No courses match your search."})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:u.map(h=>a.jsxs("div",{className:"course-card bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[a.jsxs("div",{className:"course-thumbnail h-64 bg-gray-200 relative overflow-hidden",children:[h.thumbnail?a.jsx("img",{src:h.thumbnail,alt:h.name,className:"w-full h-full object-cover",loading:"lazy"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx("span",{className:"text-4xl font-bold text-gray-400",children:h.name.charAt(0)})}),h.youtubeLink&&a.jsx("div",{className:"absolute top-4 right-4 bg-red-600 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"Video"})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:h.name}),a.jsx("div",{className:"text-gray-700 mb-4 line-clamp-3 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:h.description||""}}),a.jsxs("div",{className:"flex items-center justify-between mt-6 gap-3",children:[a.jsx("div",{className:"text-xl font-bold text-gray-900",children:h.price&&h.price>0?`$${h.price.toFixed(2)}`:"Free"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("a",{href:`/courses/${h.slug}`,className:"px-6 py-2 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors",children:"View Details"}),h.courseLink&&a.jsx("a",{href:h.courseLink,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-2 border-2 border-gray-900 text-gray-900 rounded-full font-semibold hover:bg-gray-900 hover:text-white transition-colors",children:"Enroll"})]})]})]})]},h._id))})})})]})}function BT(t){if(!t)return;const e=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]+)/,/youtube\.com\/watch\?.*v=([a-zA-Z0-9_-]+)/];for(const n of e){const s=t.match(n);if(s&&s[1])return`https://www.youtube.com/embed/${s[1]}`}}function UT(){const{slug:t}=ss(),e=Et(),[n,s]=S.useState(null),[i,o]=S.useState(!0),[c,u]=S.useState(null),h=S.useMemo(()=>BT(n?.youtubeLink),[n?.youtubeLink]);S.useEffect(()=>{t&&m(t)},[t]),S.useEffect(()=>{n?document.title=`${n.name} - Macadam Co.`:c?document.title="Course Not Found - Macadam Co.":document.title="Loading Course - Macadam Co."},[n,c]);const m=async p=>{try{o(!0),u(null);const g=await xe.get(`${We}/courses/${p}`);s(g.data.course)}catch(g){console.error("Error fetching course:",g),g.response?.status===404?u("Course not found"):u("Failed to load course")}finally{o(!1)}};return i?a.jsxs("div",{children:[a.jsx(ct,{}),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-gray-900 border-t-transparent rounded-full animate-spin mx-auto mb-6"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:"Loading course..."}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Please wait while we fetch the course details"})]})})]}):c||!n?a.jsxs("div",{children:[a.jsx(ct,{}),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:a.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Course Not Found"}),a.jsx("p",{className:"text-gray-600 mb-8",children:c||"The course you are looking for does not exist."}),a.jsx("button",{onClick:()=>e("/courses"),className:"px-6 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors",children:"Back to Courses"})]})})]}):a.jsxs("div",{className:"course-detail-page bg-white",children:[a.jsx(ct,{}),a.jsx("section",{className:"bg-gradient-to-b from-gray-50 to-white py-14",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("button",{onClick:()=>e("/courses"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-8 transition-colors group",children:[a.jsx("svg",{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),a.jsx("span",{className:"font-medium",children:"Back to Courses"})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-10",children:[n.thumbnail&&a.jsx("div",{className:"flex-shrink-0 lg:w-96",children:a.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-full h-auto rounded-2xl shadow-xl",loading:"eager"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6 leading-tight",children:n.name}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-8",children:[a.jsx("div",{className:"text-xl font-bold text-gray-900",children:n.price&&n.price>0?`$${n.price.toFixed(2)}`:"Free"}),n.courseLink?a.jsx("a",{href:n.courseLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center px-6 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors",children:"Enroll / View Course"}):null]}),n.description?a.jsx("div",{className:"prose prose-lg max-w-none text-gray-800",dangerouslySetInnerHTML:{__html:n.description}}):a.jsx("p",{className:"text-gray-600",children:"No description available."})]})]})]})})}),h&&a.jsx("section",{className:"bg-white py-12",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-6",children:"Preview"}),a.jsx("div",{className:"relative w-full overflow-hidden rounded-2xl shadow-xl",style:{paddingTop:"56.25%"},children:a.jsx("iframe",{src:h,title:`${n.name} - YouTube Preview`,className:"absolute inset-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]})})})]})}function HT(){return S.useEffect(()=>{document.title="Start Here - Macadam Co."},[]),a.jsxs("div",{className:"start-here-page min-h-screen bg-white",children:[a.jsx("section",{className:"start-here-hero bg-gradient-to-b from-gray-50 to-white py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-gray-900 mb-6 leading-tight text-center",children:"How to engage this work"})})})}),a.jsx("section",{className:"start-here-orientation bg-white py-16",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"prose prose-lg max-w-none mb-16",children:[a.jsxs("p",{className:"text-xl md:text-2xl text-gray-800 leading-relaxed mb-8",children:["This is not a linear self-help system.",a.jsx("br",{}),"It is a somatic, relational framework."]}),a.jsx("p",{className:"text-lg md:text-xl text-gray-700 leading-relaxed mb-8",children:"You are invited to:"}),a.jsxs("ul",{className:"space-y-4 mb-12 text-lg text-gray-700",children:[a.jsxs("li",{className:"flex items-start gap-4",children:[a.jsx("span",{className:"text-gray-900 font-bold mt-1",children:""}),a.jsx("span",{children:"move slowly"})]}),a.jsxs("li",{className:"flex items-start gap-4",children:[a.jsx("span",{className:"text-gray-900 font-bold mt-1",children:""}),a.jsx("span",{children:"listen to your body"})]}),a.jsxs("li",{className:"flex items-start gap-4",children:[a.jsx("span",{className:"text-gray-900 font-bold mt-1",children:""}),a.jsx("span",{children:"pause when needed"})]}),a.jsxs("li",{className:"flex items-start gap-4",children:[a.jsx("span",{className:"text-gray-900 font-bold mt-1",children:""}),a.jsx("span",{children:"seek licensed support when appropriate"})]})]}),a.jsx("p",{className:"text-lg md:text-xl text-gray-700 leading-relaxed mb-8",children:"This work increases clarity, regulation, and choice  not diagnosis or treatment."})]}),a.jsxs("div",{className:"path-options space-y-12 mb-16",children:[a.jsxs("div",{className:"path-option bg-gray-50 rounded-2xl p-8 md:p-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Option 1  New to Somatic Work"}),a.jsxs("ul",{className:"space-y-4 mb-8 text-lg text-gray-700",children:[a.jsxs("li",{className:"flex items-start gap-4",children:[a.jsx("span",{className:"text-gray-900 font-bold mt-1",children:""}),a.jsx("span",{children:"Start with the free guide"})]}),a.jsxs("li",{className:"flex items-start gap-4",children:[a.jsx("span",{className:"text-gray-900 font-bold mt-1",children:""}),a.jsx("span",{children:"Read the book"})]}),a.jsxs("li",{className:"flex items-start gap-4",children:[a.jsx("span",{className:"text-gray-900 font-bold mt-1",children:""}),a.jsx("span",{children:"Join the course"})]})]}),a.jsx("a",{href:"/books-resources",className:"inline-block px-8 py-4 bg-gray-900 text-white rounded font-semibold hover:bg-gray-800 transition-colors duration-300",children:"Get Started"})]}),a.jsxs("div",{className:"path-option bg-gray-50 rounded-2xl p-8 md:p-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Option 2  Ready for Depth"}),a.jsxs("ul",{className:"space-y-4 mb-8 text-lg text-gray-700",children:[a.jsxs("li",{className:"flex items-start gap-4",children:[a.jsx("span",{className:"text-gray-900 font-bold mt-1",children:""}),a.jsx("span",{children:"Enroll in the full course"})]}),a.jsxs("li",{className:"flex items-start gap-4",children:[a.jsx("span",{className:"text-gray-900 font-bold mt-1",children:""}),a.jsx("span",{children:"Attend a live workshop"})]})]}),a.jsx("a",{href:"/courses",className:"inline-block px-8 py-4 bg-gray-900 text-white rounded font-semibold hover:bg-gray-800 transition-colors duration-300",children:"Explore Courses"})]}),a.jsxs("div",{className:"path-option bg-gray-50 rounded-2xl p-8 md:p-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"Option 3  Practitioners & Leaders"}),a.jsx("ul",{className:"space-y-4 mb-8 text-lg text-gray-700",children:a.jsxs("li",{className:"flex items-start gap-4",children:[a.jsx("span",{className:"text-gray-900 font-bold mt-1",children:""}),a.jsx("span",{children:"Explore certification"})]})}),a.jsx("a",{href:"/certification",className:"inline-block px-8 py-4 bg-gray-900 text-white rounded font-semibold hover:bg-gray-800 transition-colors duration-300",children:"Learn More"})]})]})]})})})]})}function PT(){return S.useEffect(()=>{document.title="The Work - Macadam Co."},[]),a.jsxs("div",{className:"the-work-page min-h-screen bg-white",children:[a.jsx("section",{className:"the-work-hero bg-gradient-to-b from-gray-50 to-white py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-gray-900 mb-6 leading-tight",children:"The Work"}),a.jsx("p",{className:"text-xl md:text-2xl text-gray-600 leading-relaxed max-w-3xl mx-auto",children:"Somatic, Relational & Nervous-SystemInformed Healing"})]})})})}),a.jsx("section",{className:"the-work-content bg-white py-16",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"prose prose-lg max-w-none mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-8",children:"Core Philosophy"}),a.jsxs("p",{className:"text-xl md:text-2xl text-gray-800 leading-relaxed mb-8",children:["Healing does not begin with understanding.",a.jsx("br",{}),"It begins with sensation."]}),a.jsxs("p",{className:"text-lg md:text-xl text-gray-700 leading-relaxed mb-8",children:["The body remembers what the mind tries to move past.",a.jsx("br",{}),"Our work restores relationship with the nervous system so insight can land  and stay."]})]}),a.jsxs("div",{className:"mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-8",children:"Foundational Principles"}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 md:p-8",children:[a.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:"1. The Body Is an Archive"}),a.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Experience is stored as sensation, not story."})]}),a.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 md:p-8",children:[a.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:"2. Attachment Is Strategy, Not Pathology"}),a.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"You adapted. Nothing about you is broken."})]}),a.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 md:p-8",children:[a.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:"3. Desire Is Information, Not Obligation"}),a.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"You can want without disappearing."})]}),a.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 md:p-8",children:[a.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:"4. Rupture Is Inevitable  Repair Is a Skill"}),a.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Maturity lives in how we metabolize disappointment."})]}),a.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 md:p-8",children:[a.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:"5. Healing Must Integrate"}),a.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Endless processing is not integration."})]})]})]})]})})})]})}function IT(){const[t,e]=S.useState(""),[n,s]=S.useState(!1);S.useEffect(()=>{document.title="Books & Resources - Macadam Co."},[]);const i=async o=>{if(o.preventDefault(),!!t){s(!0);try{await xe.post(`${We}/newsletter/subscribe`,{email:t.trim(),source:"books-resources"}),e(""),alert("Thank you for subscribing!")}catch(c){const u=c.response?.data?.message||"Failed to subscribe. Please try again.";alert(u)}finally{s(!1)}}};return a.jsxs("div",{className:"books-resources-page min-h-screen bg-white",children:[a.jsx("section",{className:"books-hero bg-gradient-to-b from-gray-50 to-white py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"max-w-4xl mx-auto text-center",children:a.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-gray-900 mb-6 leading-tight",children:"Books & Resources"})})})}),a.jsx("section",{className:"books-content bg-white py-16",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8 md:p-12 mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"The Guide for the Heart"}),a.jsx("p",{className:"text-xl md:text-2xl text-gray-800 mb-6",children:"A Somatic Field Guide for Staying Human in Motion"}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"What This Book Is"}),a.jsxs("ul",{className:"space-y-2 text-lg text-gray-700 mb-6",children:[a.jsx("li",{children:" A lived case study of embodiment"}),a.jsx("li",{children:" A somatic companion, not a textbook"}),a.jsx("li",{children:" A guide for grief, desire, rupture, and belonging"})]}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"What This Book Is Not"}),a.jsxs("ul",{className:"space-y-2 text-lg text-gray-700 mb-6",children:[a.jsx("li",{children:" A dating book"}),a.jsx("li",{children:" A travel memoir"}),a.jsx("li",{children:" A love story"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Formats"}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsx("span",{className:"px-4 py-2 bg-gray-200 rounded text-gray-700",children:"Print"}),a.jsx("span",{className:"px-4 py-2 bg-gray-200 rounded text-gray-700",children:"Ebook"}),a.jsx("span",{className:"px-4 py-2 bg-gray-200 rounded text-gray-700",children:"Audiobook"}),a.jsx("span",{className:"px-4 py-2 bg-gray-200 rounded text-gray-700",children:"Companion Workbook (PDF)"})]})]}),a.jsx("a",{href:"#",className:"inline-block px-8 py-4 bg-gray-900 text-white rounded font-semibold hover:bg-gray-800 transition-colors",children:"Get the Book"})]}),a.jsxs("div",{className:"mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-8",children:"Free Resources"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Nervous System Regulation Guide"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"A comprehensive PDF guide to understanding and regulating your nervous system."}),a.jsx("a",{href:"#",className:"text-gray-900 font-semibold hover:underline",children:"Download PDF "})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Attachment Without Collapse Map"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Navigate attachment patterns without losing yourself."}),a.jsx("a",{href:"#",className:"text-gray-900 font-semibold hover:underline",children:"Download PDF "})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Desire vs. Attachment Cheat Sheet"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Distinguish between healthy desire and attachment patterns."}),a.jsx("a",{href:"#",className:"text-gray-900 font-semibold hover:underline",children:"Download PDF "})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Somatic Daily Check-In"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"A daily practice guide for body awareness and regulation."}),a.jsx("a",{href:"#",className:"text-gray-900 font-semibold hover:underline",children:"Download PDF "})]})]}),a.jsxs("div",{className:"bg-gray-900 text-white rounded-2xl p-8 md:p-12",children:[a.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Get Free Resources Delivered to Your Inbox"}),a.jsx("p",{className:"text-lg mb-6 opacity-90",children:"Subscribe to receive all free resources and updates."}),a.jsxs("form",{onSubmit:i,className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("input",{type:"email",value:t,onChange:o=>e(o.target.value),placeholder:"Enter your email",required:!0,className:"flex-1 px-6 py-4 rounded-lg text-gray-900 text-base focus:outline-none focus:ring-2 focus:ring-white"}),a.jsx("button",{type:"submit",disabled:n,className:"px-8 py-4 bg-white text-gray-900 rounded-lg font-semibold hover:bg-gray-100 transition-colors disabled:opacity-50",children:n?"Subscribing...":"Subscribe"})]})]})]})]})})})]})}function bp(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function FT(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(t)}function $T(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(t)}function nu(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function VT(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function qT(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function yn(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function WT(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function KT(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function SN(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(t)}function GT(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 18v-6a9 9 0 0 1 18 0v6"},child:[]},{tag:"path",attr:{d:"M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"},child:[]}]})(t)}function YT(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function JT(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"3",y1:"9",x2:"21",y2:"9"},child:[]},{tag:"line",attr:{x1:"9",y1:"21",x2:"9",y2:"9"},child:[]}]})(t)}function XT(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function kl(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function yp(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function QT(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(t)}function kr(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function vp(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function ha(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function ZT(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(t)}function e3(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function t3(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(t)}function n3(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(t)}function s3(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}function rs(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function Sr(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function CN(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function _t(t){return Le({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function r3(){const[t,e]=S.useState([]),[n,s]=S.useState(!0),[i,o]=S.useState(!1);S.useEffect(()=>{document.title="Workshops - Macadam Co.",c()},[]);const c=async()=>{try{const p=((await xe.get(`${We}/workshops`)).data.workshops||[]).sort((g,y)=>new Date(g.date).getTime()-new Date(y.date).getTime());e(p)}catch(m){console.error("Error fetching workshops:",m)}finally{s(!1)}},u=m=>new Date(m).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),h=m=>{switch(m){case"one-day":return"1-Day Somatic Immersion";case"two-day":return"2-Day Premium Intensive";case"retreat":return"Retreat Experience";default:return"Workshop"}};return a.jsxs("div",{className:"workshops-page min-h-screen bg-white",children:[a.jsx("section",{className:"workshops-hero bg-gradient-to-b from-[#0D074D] to-[#1a1166] text-white py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold mb-6 leading-tight",children:"Workshops & Events"}),a.jsx("p",{className:"text-xl md:text-2xl opacity-90 leading-relaxed max-w-3xl mx-auto mb-8",children:"Live experiences for embodied transformation. Join us for immersive workshops designed to restore regulation, presence, and somatic clarity."})]})})}),a.jsx("section",{className:"workshops-content bg-white py-16",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4 text-center",children:"The Regulated Heart Intensive"}),a.jsx("p",{className:"text-lg text-gray-700 text-center mb-12 max-w-3xl mx-auto",children:"A somatic framework for staying present through rupture, desire, and transformation. Available in multiple formats to meet you where you are."}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-12",children:[a.jsxs("div",{className:"bg-gradient-to-br from-[#E7E0D7] to-[#d4cdc4] rounded-2xl p-8 hover:shadow-xl transition-shadow",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"1-Day Somatic Immersion"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"A full day of embodied practice and integration. Experience movement, breath work, and nervous system regulation in community."}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[a.jsx("li",{children:" 6-8 hours of facilitated practice"}),a.jsx("li",{children:" Small group setting (12-20 participants)"}),a.jsx("li",{children:" Integration materials included"})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[#0D074D] to-[#1a1166] text-white rounded-2xl p-8 hover:shadow-xl transition-shadow",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-xl font-bold mb-3",children:"2-Day Premium Intensive"}),a.jsx("p",{className:"opacity-90 mb-4",children:"Deep dive into somatic frameworks over two days. More time for integration, personal reflection, and relational practice."}),a.jsxs("ul",{className:"text-sm opacity-80 space-y-2",children:[a.jsx("li",{children:" 12-16 hours across two days"}),a.jsx("li",{children:" Intimate cohort (8-12 participants)"}),a.jsx("li",{children:" Extended Q&A and coaching"})]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[#E7E0D7] to-[#d4cdc4] rounded-2xl p-8 hover:shadow-xl transition-shadow",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Retreat Experiences"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Extended immersive experiences in nature. Multi-day retreats with accommodation, meals, and full somatic curriculum."}),a.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[a.jsx("li",{children:" 3-5 day immersive format"}),a.jsx("li",{children:" Curated locations in nature"}),a.jsx("li",{children:" All-inclusive experience"})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8 md:p-12 mb-12",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"What to Expect"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3 text-lg",children:"Somatic Practices"}),a.jsxs("ul",{className:"space-y-2 text-gray-700",children:[a.jsx("li",{children:" Movement and body-based practices"}),a.jsx("li",{children:" Breath work and regulation techniques"}),a.jsx("li",{children:" Sound and vocal expression"}),a.jsx("li",{children:" Guided nervous system regulation"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3 text-lg",children:"Integration & Community"}),a.jsxs("ul",{className:"space-y-2 text-gray-700",children:[a.jsx("li",{children:" Group reflection and sharing"}),a.jsx("li",{children:" Integration rituals and practices"}),a.jsx("li",{children:" Relational exercises in dyads and triads"}),a.jsx("li",{children:" Take-home resources and frameworks"})]})]})]})]})]}),a.jsxs("div",{className:"mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-8 text-center",children:"Events"}),n?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-gray-900 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading workshops..."})]})}):t.length===0?a.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8 md:p-12 text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"New workshop dates are being finalized."}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Join the newsletter to be the first to know when registration opens."}),a.jsx("button",{onClick:()=>o(!0),className:"inline-block px-8 py-4 bg-gray-900 text-white rounded font-semibold hover:bg-gray-800 transition-colors",children:"Stay Updated"})]}):a.jsx("div",{className:"space-y-6",children:t.map(m=>a.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-2xl overflow-hidden hover:border-gray-900 transition-all hover:shadow-xl",children:a.jsxs("div",{className:"md:flex",children:[m.image&&a.jsx("div",{className:"md:w-1/3",children:a.jsx("img",{src:m.image,alt:m.title,className:"w-full h-64 md:h-full object-cover"})}),a.jsxs("div",{className:`flex-1 p-8 ${m.image?"":"md:p-12"}`,children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"inline-block px-3 py-1 bg-gray-900 text-white text-xs font-semibold rounded mb-3",children:h(m.type)}),a.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:m.title})]})}),a.jsx("p",{className:"text-lg text-gray-700 mb-6 leading-relaxed",children:m.description}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(nu,{className:"w-5 h-5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold",children:"Date"}),a.jsxs("div",{className:"text-sm",children:[u(m.date),m.endDate&&a.jsxs(a.Fragment,{children:[a.jsx("br",{}),"- ",u(m.endDate)]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(yp,{className:"w-5 h-5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold",children:"Location"}),a.jsx("div",{className:"text-sm",children:m.location})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(CN,{className:"w-5 h-5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold",children:"Investment"}),a.jsxs("div",{className:"text-sm",children:[m.price," ",m.currency]})]})]})]}),m.maxAttendees&&m.maxAttendees>0&&a.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Limited to ",m.maxAttendees," participants"]}),m.registrationLink?a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("a",{href:`/workshops/${m._id}`,className:"inline-flex items-center gap-2 px-8 py-4 bg-gray-900 text-white rounded font-semibold hover:bg-gray-800 transition-colors",children:["View Details",a.jsx(FT,{className:"w-5 h-5"})]}),a.jsx("a",{href:m.registrationLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-8 py-4 border-2 border-gray-900 text-gray-900 rounded font-semibold hover:bg-gray-900 hover:text-white transition-colors",children:"Register"})]}):a.jsx("button",{disabled:!0,className:"inline-flex items-center gap-2 px-8 py-4 bg-gray-300 text-gray-600 rounded font-semibold cursor-not-allowed",children:"Registration Opens Soon"})]})]})},m._id))})]}),a.jsxs("div",{className:"bg-gradient-to-br from-[#0D074D] to-[#1a1166] text-white rounded-2xl p-8 md:p-12 text-center",children:[a.jsx("h3",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Bring The Regulated Heart to Your Community"}),a.jsx("p",{className:"text-lg opacity-90 mb-8 max-w-2xl mx-auto",children:"Interested in hosting a workshop or intensive at your organization, retreat center, or community space?"}),a.jsx("a",{href:"/contact",className:"inline-block px-8 py-4 bg-white text-gray-900 rounded font-semibold hover:bg-gray-100 transition-colors",children:"Get in Touch"})]})]})})}),i&&a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl relative",children:[a.jsx("button",{onClick:()=>o(!1),className:"absolute top-4 right-4 p-2 text-gray-500 hover:text-gray-900 transition-colors z-10","aria-label":"Close",children:a.jsx(_t,{className:"w-6 h-6"})}),a.jsx("div",{className:"p-8",children:a.jsx(vN,{})})]})})]})}function Vy(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function a3(t){switch(t){case"one-day":return"1-Day Somatic Immersion";case"two-day":return"2-Day Premium Intensive";case"retreat":return"Retreat Experience";default:return"Workshop"}}function i3(){const{id:t}=ss(),e=Et(),[n,s]=S.useState(null),[i,o]=S.useState(!0),[c,u]=S.useState(null);S.useEffect(()=>{t&&h(t)},[t]),S.useEffect(()=>{n?document.title=`${n.title} - Macadam Co.`:c?document.title="Workshop Not Found - Macadam Co.":document.title="Loading Workshop - Macadam Co."},[n,c]);const h=async m=>{try{o(!0),u(null);const p=await xe.get(`${We}/workshops/${m}`);s(p.data.workshop)}catch(p){console.error("Error fetching workshop:",p),p.response?.status===404?u("Workshop not found"):u("Failed to load workshop")}finally{o(!1)}};return i?a.jsxs("div",{children:[a.jsx(ct,{}),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-gray-900 border-t-transparent rounded-full animate-spin mx-auto mb-6"}),a.jsx("p",{className:"text-xl font-semibold text-gray-900",children:"Loading workshop..."}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Please wait while we fetch the event details"})]})})]}):c||!n?a.jsxs("div",{children:[a.jsx(ct,{}),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:a.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Workshop Not Found"}),a.jsx("p",{className:"text-gray-600 mb-8",children:c||"The workshop you are looking for does not exist."}),a.jsx("button",{onClick:()=>e("/workshops"),className:"px-6 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors",children:"Back to Workshops"})]})})]}):a.jsxs("div",{className:"workshop-detail-page bg-white",children:[a.jsx(ct,{}),a.jsx("section",{className:"bg-gradient-to-b from-gray-50 to-white py-14",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("button",{onClick:()=>e("/workshops"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-8 transition-colors group",children:[a.jsx("svg",{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),a.jsx("span",{className:"font-medium",children:"Back to Workshops"})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-10",children:[n.image&&a.jsx("div",{className:"flex-shrink-0 lg:w-96",children:a.jsx("img",{src:n.image,alt:n.title,className:"w-full h-auto rounded-2xl shadow-xl",loading:"eager"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"inline-block px-3 py-1 bg-gray-900 text-white text-xs font-semibold rounded mb-4",children:a3(n.type)}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6 leading-tight",children:n.title}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-8",children:[a.jsx("div",{className:"text-xl font-bold text-gray-900",children:n.price&&n.price>0?`${n.price} ${n.currency}`:"Free"}),n.registrationLink?a.jsx("a",{href:n.registrationLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center px-6 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors",children:"Register"}):a.jsx("span",{className:"px-5 py-3 bg-gray-100 text-gray-700 rounded-full font-semibold",children:"Registration Opens Soon"})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(nu,{className:"w-5 h-5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold",children:"Date"}),a.jsxs("div",{className:"text-sm",children:[Vy(n.date),n.endDate?`  ${Vy(n.endDate)}`:null]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(yp,{className:"w-5 h-5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold",children:"Location"}),a.jsx("div",{className:"text-sm",children:n.location})]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-gray-700",children:[a.jsx(CN,{className:"w-5 h-5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold",children:"Capacity"}),a.jsx("div",{className:"text-sm",children:(n.maxAttendees??0)>0?`${n.maxAttendees} seats`:"Varies"})]})]})]}),a.jsx("p",{className:"text-lg text-gray-700 leading-relaxed whitespace-pre-line",children:n.description})]})]})]})})})]})}function l3(){return S.useEffect(()=>{document.title="Certification - Macadam Co."},[]),a.jsxs("div",{className:"certification-page min-h-screen bg-white",children:[a.jsx("section",{className:"certification-hero bg-gradient-to-b from-gray-50 to-white py-20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-gray-900 mb-6 leading-tight",children:"Certification"}),a.jsx("p",{className:"text-xl md:text-2xl text-gray-600 leading-relaxed max-w-3xl mx-auto",children:"Guide for the Heart Facilitator Pathway"})]})})}),a.jsx("section",{className:"certification-content bg-white py-16",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"space-y-8 mb-16",children:[a.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8 md:p-12",children:[a.jsx("div",{className:"flex items-start justify-between mb-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"LEVEL 1  Practitioner"}),a.jsx("p",{className:"text-xl text-gray-700",children:"Foundational somatic & relational literacy"})]})}),a.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Build foundational understanding of somatic frameworks, nervous system regulation, and relational intelligence. This level prepares you to work with individuals using embodied approaches."})]}),a.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8 md:p-12",children:[a.jsx("div",{className:"flex items-start justify-between mb-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"LEVEL 2  Facilitator"}),a.jsx("p",{className:"text-xl text-gray-700",children:"Live teaching & group leadership"})]})}),a.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Develop skills for facilitating groups, leading workshops, and teaching somatic practices. Learn to hold space for collective regulation and group integration."})]}),a.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8 md:p-12",children:[a.jsx("div",{className:"flex items-start justify-between mb-6",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"LEVEL 3  Senior / Trainer"}),a.jsx("p",{className:"text-xl text-gray-700",children:"Licensing, supervision, curriculum authority"})]})}),a.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:"Advanced certification for those ready to train others, provide supervision, and contribute to curriculum development. This level includes licensing and authorization to teach the framework."})]})]}),a.jsxs("div",{className:"bg-gray-900 text-white rounded-2xl p-8 md:p-12 text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Begin Your Certification Journey?"}),a.jsx("p",{className:"text-lg mb-8 opacity-90",children:"Applications are reviewed on a rolling basis. Start with Level 1 and progress at your own pace."}),a.jsx("a",{href:"#",className:"inline-block px-8 py-4 bg-white text-gray-900 rounded font-semibold hover:bg-gray-100 transition-colors",children:"Apply for Certification"})]})]})})})]})}function o3(){return S.useEffect(()=>{document.title="404 - Page Not Found - Macadam Co."},[]),a.jsx("div",{className:"min-h-screen bg-white",children:a.jsx("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center px-4",children:a.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("h1",{className:"text-9xl md:text-[12rem] font-bold text-gray-900 mb-2",children:["4",a.jsx("span",{className:"text-gray-400",children:"0"}),"4"]})}),a.jsxs("div",{className:"mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Page Not Found"}),a.jsx("p",{className:"text-lg md:text-xl text-gray-600 max-w-md mx-auto leading-relaxed",children:"The page you're looking for doesn't exist or has been moved."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[a.jsxs(Vt,{to:"/",className:"inline-flex items-center gap-2 px-8 py-4 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-all shadow-lg hover:shadow-xl",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Go Home"]}),a.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center gap-2 px-8 py-4 bg-white text-gray-900 border-2 border-gray-300 rounded-full font-semibold hover:bg-gray-50 hover:border-gray-400 transition-all shadow-lg hover:shadow-xl",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Go Back"]})]}),a.jsxs("div",{className:"mt-16 pt-8 border-t border-gray-200",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"You might be looking for:"}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[a.jsx(Vt,{to:"/articles",className:"text-gray-700 hover:text-gray-900 hover:underline transition-colors",children:"Articles"}),a.jsx(Vt,{to:"/podcast",className:"text-gray-700 hover:text-gray-900 hover:underline transition-colors",children:"Podcasts"}),a.jsx(Vt,{to:"/topics",className:"text-gray-700 hover:text-gray-900 hover:underline transition-colors",children:"Topics"}),a.jsx(Vt,{to:"/courses",className:"text-gray-700 hover:text-gray-900 hover:underline transition-colors",children:"Courses"}),a.jsx(Vt,{to:"/about",className:"text-gray-700 hover:text-gray-900 hover:underline transition-colors",children:"About"})]})]})]})})})}const ce=xe.create({baseURL:Q1,headers:{"Content-Type":"application/json"},withCredentials:!0});ce.interceptors.request.use(t=>{const e=localStorage.getItem("adminToken");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));ce.interceptors.response.use(t=>t,t=>(t.response?.status===401&&localStorage.removeItem("adminToken"),Promise.reject(t)));const EN=S.createContext(void 0);function ji(){const t=S.useContext(EN);if(t===void 0)throw new Error("useAdmin must be used within an AdminProvider");return t}function c3({children:t}){const[e,n]=S.useState(null),[s,i]=S.useState(!0),o=async()=>{try{const u=await ce.get("/auth/me");n(u.data.admin)}catch(u){console.error("Error fetching admin:",u),localStorage.removeItem("adminToken"),n(null)}finally{i(!1)}},c=async()=>{try{await ce.post("/auth/logout")}catch(u){console.error("Error during logout:",u)}finally{localStorage.removeItem("adminToken"),n(null)}};return S.useEffect(()=>{o()},[]),a.jsx(EN.Provider,{value:{admin:e,loading:s,setAdmin:n,fetchAdmin:o,logout:c},children:t})}function d3(){S.useEffect(()=>{document.title="Admin Sign In - Patricia Macadam",T()},[]);const[t,e]=S.useState(!0),[n,s]=S.useState(!1),[i,o]=S.useState(!1),[c,u]=S.useState({name:"",email:"",password:"",confirmPassword:"",secretKey:""}),[h,m]=S.useState(""),[p,g]=S.useState(!1),[y,N]=S.useState(""),[v,k]=S.useState(!1),j=Et(),{setAdmin:C}=ji(),T=async()=>{s(!1),e(!0),o(!1)},M=H=>{u({...c,[H.target.name]:H.target.value}),m("")},P=async H=>{H.preventDefault(),m(""),g(!0);try{if(t){const B=navigator.userAgent;try{const A=await ce.post("/auth/login",{email:c.email,password:c.password,device:B,secretKey:c.secretKey||void 0});A.data.admin&&C(A.data.admin),j("/admin")}catch(A){const D=A.response?.data||{};D.requiresSecretKey?(k(!0),m(D.message||"New device detected. Please enter your secret key.")):m(D.message||"Login failed")}}else{if(!n){m("Admin signup is currently disabled. Please contact an existing administrator."),g(!1);return}if(c.password!==c.confirmPassword){m("Passwords do not match"),g(!1);return}const B=navigator.userAgent;try{const A=await ce.post("/auth/register",{name:c.name,email:c.email,password:c.password,device:B});A.data.admin&&C(A.data.admin),A.data.secretKey?N(A.data.secretKey):j("/admin")}catch(A){const D=A.response?.data||{};m(D.message||"Registration failed")}}}catch(B){m("An error occurred. Please try again."),console.error(B)}finally{g(!1)}};return a.jsx("div",{className:"min-h-screen bg-linear-to-br from-gray-50 to-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:t?"Admin Sign In":"Admin Sign Up"}),a.jsx("p",{className:"text-gray-600",children:t?"Sign in to access the admin dashboard":"Create a new admin account"})]}),n&&a.jsxs("div",{className:"flex gap-2 p-1 bg-gray-100 rounded-lg",children:[a.jsx("button",{type:"button",onClick:()=>{e(!0),m(""),k(!1),N(""),u({name:"",email:"",password:"",confirmPassword:"",secretKey:""})},className:`flex-1 py-2 px-4 rounded-md font-semibold transition-all duration-300 ${t?"bg-gray-900 text-white shadow-md":"text-gray-600 hover:text-gray-900"}`,children:"Sign In"}),a.jsx("button",{type:"button",onClick:()=>{e(!1),m(""),k(!1),N(""),u({name:"",email:"",password:"",confirmPassword:"",secretKey:""})},className:`flex-1 py-2 px-4 rounded-md font-semibold transition-all duration-300 ${t?"text-gray-600 hover:text-gray-900":"bg-gray-900 text-white shadow-md"}`,children:"Sign Up"})]}),!i&&!n&&!t&&a.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("svg",{className:"w-5 h-5 text-yellow-600 shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-yellow-800",children:"Admin signup is currently disabled. Please contact an existing administrator to create an account."}),a.jsx("button",{type:"button",onClick:()=>e(!0),className:"mt-2 text-sm text-yellow-900 hover:text-yellow-700 underline",children:"Go to Sign In"})]})]})}),y&&a.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-6 space-y-4",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("svg",{className:"w-6 h-6 text-yellow-600 shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-bold text-yellow-900 mb-2",children:"Save Your Secret Key!"}),a.jsx("p",{className:"text-sm text-yellow-800 mb-3",children:"This is your secret key for device verification. Save it securely - you'll need it when logging in from a new device."}),a.jsx("div",{className:"bg-white p-3 rounded border border-yellow-300 mb-3",children:a.jsx("code",{className:"text-sm font-mono text-gray-900 break-all",children:y})}),a.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(y),alert("Secret key copied to clipboard!")},className:"text-sm text-yellow-900 hover:text-yellow-700 underline",children:"Copy to Clipboard"})]})]}),a.jsx("button",{type:"button",onClick:()=>{N(""),j("/admin")},className:"w-full py-2 bg-yellow-600 text-white rounded-lg font-semibold hover:bg-yellow-700 transition-all",children:"I've Saved My Secret Key - Continue"})]}),h&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:h}),a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[!t&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),a.jsx("input",{id:"name",name:"name",type:"text",required:!t,value:c.name,onChange:M,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Enter your full name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:c.email,onChange:M,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Enter your email"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),a.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:c.password,onChange:M,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Enter your password"})]}),!t&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!t,value:c.confirmPassword,onChange:M,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Confirm your password"})]}),t&&v&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"secretKey",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Secret Key (Required for New Device)"}),a.jsx("input",{id:"secretKey",name:"secretKey",type:"text",required:v,value:c.secretKey,onChange:M,className:"w-full px-4 py-3 border-2 border-yellow-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Enter your secret key"}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"This device is not recognized. Please enter the secret key you received during registration."})]}),a.jsx("button",{type:"submit",disabled:p,className:"w-full py-3 bg-gray-900 text-white rounded-lg font-semibold hover:bg-gray-800 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-[1.02] active:scale-[0.98]",children:p?"Processing...":t?"Sign In":"Sign Up"})]})]})})}function u3(){const t=Et(),e=zs(),{admin:n,logout:s}=ji(),i=()=>{s(),window.location.href="/"},o=[{name:"Dashboard",path:"/admin",icon:JT},{name:"Articles",path:"/admin/articles",icon:KT},{name:"Topics",path:"/admin/topics",icon:s3},{name:"Podcasts",path:"/admin/podcasts",icon:GT},{name:"Courses",path:"/admin/courses",icon:$T},{name:"Workshops",path:"/admin/workshops",icon:nu},{name:"Products",path:"/admin/products",icon:t3},{name:"Testimonials",path:"/admin/testimonials",icon:QT},{name:"Newsletter",path:"/admin/newsletter",icon:kl},{name:"Settings",path:"/admin/settings",icon:e3}];return a.jsxs("div",{className:"w-64 bg-black text-white min-h-screen flex flex-col border-r border-gray-800 fixed left-0 top-0 overflow-y-auto",children:[a.jsxs("div",{className:"p-6 border-b border-gray-800",children:[a.jsx("h1",{className:"text-xl font-bold text-white",children:"Patricia Macadam"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Admin Panel"})]}),n&&a.jsx("div",{className:"p-4 border-b border-gray-800",children:a.jsxs("div",{className:"bg-white rounded p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.profilePic?a.jsx("img",{src:n.profilePic,alt:n.name,className:"w-10 h-10 rounded-full object-cover"}):a.jsx("div",{className:"w-10 h-10 bg-black rounded-full flex items-center justify-center text-sm font-bold text-white",children:n.name.charAt(0).toUpperCase()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-semibold text-black text-sm truncate",children:n.name}),a.jsx("p",{className:"text-xs text-gray-600 truncate",children:n.email})]})]}),a.jsx("button",{onClick:()=>t("/admin/profile"),className:"w-full mt-3 px-3 py-2 text-xs font-semibold bg-black text-white rounded hover:bg-gray-900 transition-colors",children:"Edit Profile"})]})}),a.jsx("nav",{className:"flex-1 p-4",children:a.jsx("ul",{className:"space-y-1",children:o.map(c=>{const u=c.icon,h=e.pathname===c.path;return a.jsx("li",{children:a.jsxs("button",{onClick:()=>t(c.path),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded transition-colors text-sm font-medium ${h?"bg-white text-black":"text-gray-300 hover:bg-gray-900 hover:text-white"}`,children:[a.jsx(u,{className:"text-lg"}),a.jsx("span",{children:c.name})]})},c.path)})})}),a.jsx("div",{className:"p-4 border-t border-gray-800",children:a.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded bg-white text-black text-sm font-semibold hover:bg-gray-100 transition-colors",children:[a.jsx(XT,{className:"w-4 h-4"}),a.jsx("span",{children:"Logout"})]})})]})}function Be({children:t}){return a.jsxs("div",{className:"flex min-h-screen bg-white",children:[a.jsx("title",{children:"Patricia Macadam - Admin"}),a.jsx(u3,{}),a.jsx("main",{className:"flex-1 p-8 bg-white ml-64",children:t})]})}function f3(){const{admin:t,loading:e,fetchAdmin:n}=ji();return S.useEffect(()=>{document.title="Admin Dashboard - Patricia Macadam"},[]),S.useEffect(()=>{!t&&!e&&n()},[t,e,n]),e?a.jsx(Be,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):a.jsx(Be,{children:a.jsxs("div",{className:"space-y-6 max-w-7xl",children:[a.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Dashboard"}),a.jsxs("p",{className:"text-gray-600",children:["Welcome",t?`, ${t.name}`:""]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-black text-white p-6 rounded border border-gray-800",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Admins"}),a.jsx("p",{className:"text-2xl font-bold",children:"-"})]}),a.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active Sessions"}),a.jsx("p",{className:"text-2xl font-bold text-black",children:"-"})]}),a.jsxs("div",{className:"bg-black text-white p-6 rounded border border-gray-800",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"System Status"}),a.jsx("p",{className:"text-2xl font-bold",children:"Online"})]})]}),a.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("h2",{className:"text-xl font-semibold text-black",children:"Recent Activity"})}),a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded",children:[a.jsx("div",{className:"w-2 h-2 bg-black rounded-full"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"No recent activity to display."})]})})]})]})})}function h3(){const{admin:t,loading:e}=ji(),[n,s]=S.useState(null),[i,o]=S.useState(!0),[c,u]=S.useState(!1),[h,m]=S.useState(null);S.useEffect(()=>{document.title="Settings - Admin - Patricia Macadam"},[]),S.useEffect(()=>{p()},[]);const p=async()=>{try{const y=await ce.get("/settings");s(y.data.settings)}catch(y){console.error("Error fetching settings:",y),m({type:"error",text:"Failed to load settings"})}finally{o(!1)}},g=async y=>{u(!0),m(null);try{const N=await ce.put("/settings",{allowAdminSignup:y});s(N.data.settings),m({type:"success",text:`Admin signup has been ${y?"enabled":"disabled"}`}),setTimeout(()=>m(null),3e3)}catch(N){console.error("Error updating settings:",N),m({type:"error",text:N.response?.data?.message||"Failed to update settings"})}finally{u(!1)}};return e||i?a.jsx(Be,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-black font-semibold",children:"Loading settings..."})]})})}):a.jsx(Be,{children:a.jsxs("div",{className:"space-y-6 max-w-4xl",children:[a.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage your admin panel settings"})]}),h&&a.jsx("div",{className:`p-4 rounded border ${h.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:a.jsx("p",{className:"text-sm font-medium",children:h.text})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white border border-gray-200 p-6 rounded",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Admin Signup"}),a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:n?.allowAdminSignup?"New admins can currently register accounts":"Admin registration is currently disabled"}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Control whether new administrators can create accounts"})]}),a.jsx("div",{className:"ml-6",children:a.jsx("button",{onClick:()=>g(!n?.allowAdminSignup),disabled:c,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-black transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-black/20 ${n?.allowAdminSignup?"bg-black":"bg-white"} ${c?"opacity-50 cursor-not-allowed":""}`,role:"switch","aria-checked":n?.allowAdminSignup,children:a.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white border-2 border-black shadow transition duration-200 ease-in-out ${n?.allowAdminSignup?"translate-x-5":"translate-x-0"}`})})})]})}),a.jsx("div",{className:"bg-black text-white p-6 rounded border border-gray-800",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("svg",{className:"w-5 h-5 text-white mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-base mb-2",children:"About Admin Signup"}),a.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:"When disabled, new administrators cannot register accounts. Only existing admins can access the admin panel. This helps secure your system from unauthorized access. You can always re-enable signup later if needed."})]})]})})]})]})})}function m3(){const t=Et(),[e,n]=S.useState([]),[s,i]=S.useState(!0),[o,c]=S.useState(""),[u,h]=S.useState("all"),[m,p]=S.useState(1),[g]=S.useState(10),[y,N]=S.useState(null),[v,k]=S.useState(null),[j,C]=S.useState(!1),[T,M]=S.useState(!1);S.useEffect(()=>{document.title="Articles - Admin - Patricia Macadam"},[]),S.useEffect(()=>{P()},[]);const P=async()=>{try{i(!0);const J=await ce.get("/articles");n(J.data.articles||[])}catch(J){console.error("Error fetching articles:",J),N({type:"error",text:"Failed to load articles"})}finally{i(!1)}},H=e.filter(J=>{const te=J.title.toLowerCase().includes(o.toLowerCase())||J.author.toLowerCase().includes(o.toLowerCase()),O=u==="all"||J.status===u;return te&&O}),B=Math.ceil(H.length/g),A=(m-1)*g,D=A+g,_=H.slice(A,D),I=J=>{p(J),window.scrollTo({top:0,behavior:"smooth"})},pe=async J=>{if(confirm("Are you sure you want to delete this article?"))try{await ce.delete(`/articles/${J}`),N({type:"success",text:"Article deleted successfully!"}),await P(),setTimeout(()=>N(null),2e3)}catch(te){N({type:"error",text:te.response?.data?.message||"Failed to delete article"})}},X=async(J,te)=>{if(!te.target.closest("button"))try{M(!0);const K=await ce.get(`/articles/${J}`);k(K.data.article),C(!0)}catch(K){console.error("Error fetching article:",K),N({type:"error",text:K.response?.data?.message||"Failed to load article details"})}finally{M(!1)}},G=()=>{C(!1),k(null)};return s?a.jsx(Be,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):a.jsx(Be,{children:a.jsxs("div",{className:"space-y-6 max-w-7xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Articles"}),a.jsx("p",{className:"text-gray-600",children:"Manage your articles and content"})]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs("button",{onClick:()=>t("/admin/articles/new"),className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:[a.jsx(kr,{className:"w-4 h-4"}),"Add New Article"]})})]}),y&&a.jsx("div",{className:`p-4 rounded border ${y.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:a.jsx("p",{className:"font-medium",children:y.text})}),a.jsxs("div",{className:"bg-white border border-gray-200 p-4 rounded",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search articles...",value:o,onChange:J=>{c(J.target.value),p(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(SN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsxs("select",{value:u,onChange:J=>{h(J.target.value),p(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black appearance-none bg-white",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"published",children:"Published"}),a.jsx("option",{value:"draft",children:"Draft"})]})]})]}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",A+1,"-",Math.min(D,H.length)," of ",H.length," articles"]})]}),a.jsx("div",{className:"bg-white border border-gray-200 rounded overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-black text-white",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Author"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Views"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:_.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No articles found"})}):_.map(J=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:te=>X(J._id,te),children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-black",children:J.title})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-600",children:J.author})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${J.status==="published"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:J.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-600",children:new Date(J.createdAt).toLocaleDateString()})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-600",children:J.views.toLocaleString()})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[a.jsx("button",{onClick:()=>t(`/admin/articles/edit/${J._id}`),className:"text-black hover:text-gray-600 transition-colors",children:a.jsx(yn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>pe(J._id),className:"text-black hover:text-red-600 transition-colors",children:a.jsx(rs,{className:"w-4 h-4"})})]})})]},J._id))})]})})}),B>1&&a.jsxs("div",{className:"flex items-center justify-between bg-white border border-gray-200 p-4 rounded",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",m," of ",B]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>I(m-1),disabled:m===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),[...Array(B)].map((J,te)=>{const O=te+1;return O===1||O===B||O>=m-1&&O<=m+1?a.jsx("button",{onClick:()=>I(O),className:`px-4 py-2 border rounded transition-colors ${m===O?"bg-black text-white border-black":"border-gray-300 hover:bg-gray-50"}`,children:O},O):O===m-2||O===m+2?a.jsx("span",{className:"px-2 text-gray-400",children:"..."},O):null}),a.jsx("button",{onClick:()=>I(m+1),disabled:m===B,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),j&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto relative",children:[a.jsx("button",{onClick:G,className:"absolute top-4 right-4 text-gray-400 hover:text-black transition-colors z-10",children:a.jsx(_t,{className:"w-6 h-6"})}),T?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx("div",{className:"w-8 h-8 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading article details..."})]}):v?a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6 pr-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-black mb-4",children:v.title}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[v.topic&&a.jsxs("span",{className:"px-3 py-1 bg-gray-100 rounded",children:["Topic: ",typeof v.topic=="object"?v.topic.name:v.topic]}),a.jsx("span",{className:`px-3 py-1 rounded font-semibold ${v.status==="published"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:v.status}),a.jsxs("span",{children:["Views: ",v.views.toLocaleString()]})]})]}),v.featuredImage&&a.jsx("div",{className:"mb-6",children:a.jsx("img",{src:v.featuredImage,alt:v.title,className:"w-full h-64 object-cover rounded border border-gray-200"})}),a.jsx("div",{className:"mb-6 pb-6 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Author:"})," ",a.jsx("span",{className:"font-semibold text-black",children:typeof v.writtenBy=="object"?v.writtenBy.name:v.writtenBy||v.author})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Created:"})," ",a.jsx("span",{className:"font-semibold text-black",children:new Date(v.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),v.publishedAt&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Published:"})," ",a.jsx("span",{className:"font-semibold text-black",children:new Date(v.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Slug:"})," ",a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:v.slug})]})]})}),v.excerpt&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Excerpt"}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:v.excerpt})]}),v.content&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-black mb-4",children:"Content"}),a.jsx("div",{className:"prose prose-sm max-w-none text-gray-700 article-content-preview",dangerouslySetInnerHTML:{__html:v.content.length>500?v.content.substring(0,500)+"...":v.content},style:{maxHeight:"300px",overflow:"hidden"}})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[a.jsxs("button",{onClick:()=>{G(),t(`/admin/articles/edit/${v._id}`)},className:"flex items-center gap-2 px-6 py-3 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:[a.jsx(yn,{className:"w-4 h-4"}),"Edit Article"]}),a.jsx("button",{onClick:G,className:"flex items-center gap-2 px-6 py-3 border-2 border-gray-300 text-black rounded hover:bg-gray-50 transition-colors font-semibold",children:"Close"})]})]}):null]})}),a.jsx("style",{children:`
          .article-content-preview h1,
          .article-content-preview h2,
          .article-content-preview h3 {
            font-weight: 700;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
          }
          .article-content-preview p {
            margin-bottom: 1rem;
          }
          .article-content-preview ul,
          .article-content-preview ol {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
          }
        `})]})})}var Jh={exports:{}},Xh={};var qy;function p3(){if(qy)return Xh;qy=1;var t=Xl();function e(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,i=t.useEffect,o=t.useLayoutEffect,c=t.useDebugValue;function u(g,y){var N=y(),v=s({inst:{value:N,getSnapshot:y}}),k=v[0].inst,j=v[1];return o(function(){k.value=N,k.getSnapshot=y,h(k)&&j({inst:k})},[g,N,y]),i(function(){return h(k)&&j({inst:k}),g(function(){h(k)&&j({inst:k})})},[g]),c(N),N}function h(g){var y=g.getSnapshot;g=g.value;try{var N=y();return!n(g,N)}catch{return!0}}function m(g,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return Xh.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Xh}var Wy;function TN(){return Wy||(Wy=1,Jh.exports=p3()),Jh.exports}var AN=TN();function Dt(t){this.content=t}Dt.prototype={constructor:Dt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var s=n&&n!=t?this.remove(n):this,i=s.find(t),o=s.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Dt(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Dt(n)},addToStart:function(t,e){return new Dt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Dt(n)},addBefore:function(t,e,n){var s=this.remove(e),i=s.content.slice(),o=s.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Dt(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Dt.from(t),t.size?new Dt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Dt.from(t),t.size?new Dt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Dt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Dt.from=function(t){if(t instanceof Dt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Dt(e)};function MN(t,e,n){for(let s=0;;s++){if(s==t.childCount||s==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(s),o=e.child(s);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let c=0;i.text[c]==o.text[c];c++)n++;return n}if(i.content.size||o.content.size){let c=MN(i.content,o.content,n+1);if(c!=null)return c}n+=i.nodeSize}}function ON(t,e,n,s){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:s};let c=t.child(--i),u=e.child(--o),h=c.nodeSize;if(c==u){n-=h,s-=h;continue}if(!c.sameMarkup(u))return{a:n,b:s};if(c.isText&&c.text!=u.text){let m=0,p=Math.min(c.text.length,u.text.length);for(;m<p&&c.text[c.text.length-m-1]==u.text[u.text.length-m-1];)m++,n--,s--;return{a:n,b:s}}if(c.content.size||u.content.size){let m=ON(c.content,u.content,n-1,s-1);if(m)return m}n-=h,s-=h}}class ne{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let s=0;s<e.length;s++)this.size+=e[s].nodeSize}nodesBetween(e,n,s,i=0,o){for(let c=0,u=0;u<n;c++){let h=this.content[c],m=u+h.nodeSize;if(m>e&&s(h,i+u,o||null,c)!==!1&&h.content.size){let p=u+1;h.nodesBetween(Math.max(0,e-p),Math.min(h.content.size,n-p),s,i+p)}u=m}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,s,i){let o="",c=!0;return this.nodesBetween(e,n,(u,h)=>{let m=u.isText?u.text.slice(Math.max(e,h)-h,n-h):u.isLeaf?i?typeof i=="function"?i(u):i:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&m||u.isTextblock)&&s&&(c?c=!1:o+=s),o+=m},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,s=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(s)&&(i[i.length-1]=n.withText(n.text+s.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new ne(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let s=[],i=0;if(n>e)for(let o=0,c=0;c<n;o++){let u=this.content[o],h=c+u.nodeSize;h>e&&((c<e||h>n)&&(u.isText?u=u.cut(Math.max(0,e-c),Math.min(u.text.length,n-c)):u=u.cut(Math.max(0,e-c-1),Math.min(u.content.size,n-c-1))),s.push(u),i+=u.nodeSize),c=h}return new ne(s,i)}cutByIndex(e,n){return e==n?ne.empty:e==0&&n==this.content.length?this:new ne(this.content.slice(e,n))}replaceChild(e,n){let s=this.content[e];if(s==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-s.nodeSize;return i[e]=n,new ne(i,o)}addToStart(e){return new ne([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ne(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,s=0;n<this.content.length;n++){let i=this.content[n];e(i,s,n),s+=i.nodeSize}}findDiffStart(e,n=0){return MN(this,e,n)}findDiffEnd(e,n=this.size,s=e.size){return ON(this,e,n,s)}findIndex(e){if(e==0)return Mc(0,e);if(e==this.size)return Mc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,s=0;;n++){let i=this.child(n),o=s+i.nodeSize;if(o>=e)return o==e?Mc(n+1,o):Mc(n,s);s=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ne.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ne(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ne.empty;let n,s=0;for(let i=0;i<e.length;i++){let o=e[i];s+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new ne(n||e,s)}static from(e){if(!e)return ne.empty;if(e instanceof ne)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ne([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ne.empty=new ne([],0);const Qh={index:0,offset:0};function Mc(t,e){return Qh.index=t,Qh.offset=e,Qh}function ad(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let s=0;s<t.length;s++)if(!ad(t[s],e[s]))return!1}else{for(let s in t)if(!(s in e)||!ad(t[s],e[s]))return!1;for(let s in e)if(!(s in t))return!1}return!0}let Ge=class Dm{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,s=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!s&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),s=!0),n&&n.push(o)}}return n||(n=e.slice()),s||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ad(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let s=e.marks[n.type];if(!s)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=s.create(n.attrs);return s.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let s=0;s<e.length;s++)if(!e[s].eq(n[s]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Dm.none;if(e instanceof Dm)return[e];let n=e.slice();return n.sort((s,i)=>s.type.rank-i.type.rank),n}};Ge.none=[];class id extends Error{}class ie{constructor(e,n,s){this.content=e,this.openStart=n,this.openEnd=s}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let s=DN(this.content,e+this.openStart,n);return s&&new ie(s,this.openStart,this.openEnd)}removeBetween(e,n){return new ie(RN(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ie.empty;let s=n.openStart||0,i=n.openEnd||0;if(typeof s!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ie(ne.fromJSON(e,n.content),s,i)}static maxOpen(e,n=!0){let s=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)s++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new ie(e,s,i)}}ie.empty=new ie(ne.empty,0,0);function RN(t,e,n){let{index:s,offset:i}=t.findIndex(e),o=t.maybeChild(s),{index:c,offset:u}=t.findIndex(n);if(i==e||o.isText){if(u!=n&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(s!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(s,o.copy(RN(o.content,e-i-1,n-i-1)))}function DN(t,e,n,s){let{index:i,offset:o}=t.findIndex(e),c=t.maybeChild(i);if(o==e||c.isText)return s&&!s.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let u=DN(c.content,e-o-1,n,c);return u&&t.replaceChild(i,c.copy(u))}function x3(t,e,n){if(n.openStart>t.depth)throw new id("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new id("Inconsistent open depths");return LN(t,e,n,0)}function LN(t,e,n,s){let i=t.index(s),o=t.node(s);if(i==e.index(s)&&s<t.depth-n.openStart){let c=LN(t,e,n,s+1);return o.copy(o.content.replaceChild(i,c))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==s&&e.depth==s){let c=t.parent,u=c.content;return sa(c,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}else{let{start:c,end:u}=g3(n,t);return sa(o,_N(t,c,u,e,s))}else return sa(o,ld(t,e,s))}function zN(t,e){if(!e.type.compatibleContent(t.type))throw new id("Cannot join "+e.type.name+" onto "+t.type.name)}function Lm(t,e,n){let s=t.node(n);return zN(s,e.node(n)),s}function na(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Al(t,e,n,s){let i=(e||t).node(n),o=0,c=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(na(t.nodeAfter,s),o++));for(let u=o;u<c;u++)na(i.child(u),s);e&&e.depth==n&&e.textOffset&&na(e.nodeBefore,s)}function sa(t,e){return t.type.checkContent(e),t.copy(e)}function _N(t,e,n,s,i){let o=t.depth>i&&Lm(t,e,i+1),c=s.depth>i&&Lm(n,s,i+1),u=[];return Al(null,t,i,u),o&&c&&e.index(i)==n.index(i)?(zN(o,c),na(sa(o,_N(t,e,n,s,i+1)),u)):(o&&na(sa(o,ld(t,e,i+1)),u),Al(e,n,i,u),c&&na(sa(c,ld(n,s,i+1)),u)),Al(s,null,i,u),new ne(u)}function ld(t,e,n){let s=[];if(Al(null,t,n,s),t.depth>n){let i=Lm(t,e,n+1);na(sa(i,ld(t,e,n+1)),s)}return Al(e,null,n,s),new ne(s)}function g3(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(ne.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Pl{constructor(e,n,s){this.pos=e,this.path=n,this.parentOffset=s,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let s=this.pos-this.path[this.path.length-1],i=e.child(n);return s?e.child(n).cut(s):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let s=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=s.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Ge.none;if(this.textOffset)return e.child(n).marks;let s=e.maybeChild(n-1),i=e.maybeChild(n);if(!s){let u=s;s=i,i=u}let o=s.marks;for(var c=0;c<o.length;c++)o[c].type.spec.inclusive===!1&&(!i||!o[c].isInSet(i.marks))&&(o=o[c--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let s=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let s=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);s>=0;s--)if(e.pos<=this.end(s)&&(!n||n(this.node(s))))return new od(this,e,s);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let s=[],i=0,o=n;for(let c=e;;){let{index:u,offset:h}=c.content.findIndex(o),m=o-h;if(s.push(c,u,i+h),!m||(c=c.child(u),c.isText))break;o=m-1,i+=h+1}return new Pl(n,s,o)}static resolveCached(e,n){let s=Ky.get(e);if(s)for(let o=0;o<s.elts.length;o++){let c=s.elts[o];if(c.pos==n)return c}else Ky.set(e,s=new b3);let i=s.elts[s.i]=Pl.resolve(e,n);return s.i=(s.i+1)%y3,i}}class b3{constructor(){this.elts=[],this.i=0}}const y3=12,Ky=new WeakMap;class od{constructor(e,n,s){this.$from=e,this.$to=n,this.depth=s}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const v3=Object.create(null);class $n{constructor(e,n,s,i=Ge.none){this.type=e,this.attrs=n,this.marks=i,this.content=s||ne.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,s,i=0){this.content.nodesBetween(e,n,s,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,s,i){return this.content.textBetween(e,n,s,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,s){return this.type==e&&ad(this.attrs,n||e.defaultAttrs||v3)&&Ge.sameSet(this.marks,s||Ge.none)}copy(e=null){return e==this.content?this:new $n(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new $n(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,s=!1){if(e==n)return ie.empty;let i=this.resolve(e),o=this.resolve(n),c=s?0:i.sharedDepth(n),u=i.start(c),m=i.node(c).content.cut(i.pos-u,o.pos-u);return new ie(m,i.depth-c,o.depth-c)}replace(e,n,s){return x3(this.resolve(e),this.resolve(n),s)}nodeAt(e){for(let n=this;;){let{index:s,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(s),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:s}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:s}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:s}=this.content.findIndex(e);if(s<e)return{node:this.content.child(n),index:n,offset:s};let i=this.content.child(n-1);return{node:i,index:n-1,offset:s-i.nodeSize}}resolve(e){return Pl.resolveCached(this,e)}resolveNoCache(e){return Pl.resolve(this,e)}rangeHasMark(e,n,s){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(s.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),BN(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,s=ne.empty,i=0,o=s.childCount){let c=this.contentMatchAt(e).matchFragment(s,i,o),u=c&&c.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let h=i;h<o;h++)if(!this.type.allowsMarks(s.child(h).marks))return!1;return!0}canReplaceWith(e,n,s,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(s),c=o&&o.matchFragment(this.content,n);return c?c.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ge.none;for(let n=0;n<this.marks.length;n++){let s=this.marks[n];s.type.checkAttrs(s.attrs),e=s.addToSet(e)}if(!Ge.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let s;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");s=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,s)}let i=ne.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,i,s);return o.type.checkAttrs(o.attrs),o}}$n.prototype.text=void 0;class cd extends $n{constructor(e,n,s,i){if(super(e,n,null,i),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):BN(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new cd(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new cd(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function BN(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class oa{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let s=new N3(e,n);if(s.next==null)return oa.empty;let i=UN(s);s.next&&s.err("Unexpected trailing text");let o=T3(E3(i));return A3(o,s),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,s=e.childCount){let i=this;for(let o=n;i&&o<s;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let s=0;s<e.next.length;s++)if(this.next[n].type==e.next[s].type)return!0;return!1}fillBefore(e,n=!1,s=0){let i=[this];function o(c,u){let h=c.matchFragment(e,s);if(h&&(!n||h.validEnd))return ne.from(u.map(m=>m.createAndFill()));for(let m=0;m<c.next.length;m++){let{type:p,next:g}=c.next[m];if(!(p.isText||p.hasRequiredAttrs())&&i.indexOf(g)==-1){i.push(g);let y=o(g,u.concat(p));if(y)return y}}return null}return o(this,[])}findWrapping(e){for(let s=0;s<this.wrapCache.length;s+=2)if(this.wrapCache[s]==e)return this.wrapCache[s+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),s=[{match:this,type:null,via:null}];for(;s.length;){let i=s.shift(),o=i.match;if(o.matchType(e)){let c=[];for(let u=i;u.type;u=u.via)c.push(u.type);return c.reverse()}for(let c=0;c<o.next.length;c++){let{type:u,next:h}=o.next[c];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!i.type||h.validEnd)&&(s.push({match:u.contentMatch,type:u,via:i}),n[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(s){e.push(s);for(let i=0;i<s.next.length;i++)e.indexOf(s.next[i].next)==-1&&n(s.next[i].next)}return n(this),e.map((s,i)=>{let o=i+(s.validEnd?"*":" ")+" ";for(let c=0;c<s.next.length;c++)o+=(c?", ":"")+s.next[c].type.name+"->"+e.indexOf(s.next[c].next);return o}).join(`
`)}}oa.empty=new oa(!0);class N3{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function UN(t){let e=[];do e.push(j3(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function j3(t){let e=[];do e.push(w3(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function w3(t){let e=C3(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=k3(t,e);else break;return e}function Gy(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function k3(t,e){let n=Gy(t),s=n;return t.eat(",")&&(t.next!="}"?s=Gy(t):s=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:s,expr:e}}function S3(t,e){let n=t.nodeTypes,s=n[e];if(s)return[s];let i=[];for(let o in n){let c=n[o];c.isInGroup(e)&&i.push(c)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function C3(t){if(t.eat("(")){let e=UN(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=S3(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function E3(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function s(c,u,h){let m={term:h,to:u};return e[c].push(m),m}function i(c,u){c.forEach(h=>h.to=u)}function o(c,u){if(c.type=="choice")return c.exprs.reduce((h,m)=>h.concat(o(m,u)),[]);if(c.type=="seq")for(let h=0;;h++){let m=o(c.exprs[h],u);if(h==c.exprs.length-1)return m;i(m,u=n())}else if(c.type=="star"){let h=n();return s(u,h),i(o(c.expr,h),h),[s(h)]}else if(c.type=="plus"){let h=n();return i(o(c.expr,u),h),i(o(c.expr,h),h),[s(h)]}else{if(c.type=="opt")return[s(u)].concat(o(c.expr,u));if(c.type=="range"){let h=u;for(let m=0;m<c.min;m++){let p=n();i(o(c.expr,h),p),h=p}if(c.max==-1)i(o(c.expr,h),h);else for(let m=c.min;m<c.max;m++){let p=n();s(h,p),i(o(c.expr,h),p),h=p}return[s(h)]}else{if(c.type=="name")return[s(u,void 0,c.value)];throw new Error("Unknown expr type")}}}}function HN(t,e){return e-t}function Yy(t,e){let n=[];return s(e),n.sort(HN);function s(i){let o=t[i];if(o.length==1&&!o[0].term)return s(o[0].to);n.push(i);for(let c=0;c<o.length;c++){let{term:u,to:h}=o[c];!u&&n.indexOf(h)==-1&&s(h)}}}function T3(t){let e=Object.create(null);return n(Yy(t,0));function n(s){let i=[];s.forEach(c=>{t[c].forEach(({term:u,to:h})=>{if(!u)return;let m;for(let p=0;p<i.length;p++)i[p][0]==u&&(m=i[p][1]);Yy(t,h).forEach(p=>{m||i.push([u,m=[]]),m.indexOf(p)==-1&&m.push(p)})})});let o=e[s.join(",")]=new oa(s.indexOf(t.length-1)>-1);for(let c=0;c<i.length;c++){let u=i[c][1].sort(HN);o.next.push({type:i[c][0],next:e[u.join(",")]||n(u)})}return o}}function A3(t,e){for(let n=0,s=[t];n<s.length;n++){let i=s[n],o=!i.validEnd,c=[];for(let u=0;u<i.next.length;u++){let{type:h,next:m}=i.next[u];c.push(h.name),o&&!(h.isText||h.hasRequiredAttrs())&&(o=!1),s.indexOf(m)==-1&&s.push(m)}o&&e.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function PN(t){let e=Object.create(null);for(let n in t){let s=t[n];if(!s.hasDefault)return null;e[n]=s.default}return e}function IN(t,e){let n=Object.create(null);for(let s in t){let i=e&&e[s];if(i===void 0){let o=t[s];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+s)}n[s]=i}return n}function FN(t,e,n,s){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function $N(t,e){let n=Object.create(null);if(e)for(let s in e)n[s]=new O3(t,s,e[s]);return n}let Jy=class VN{constructor(e,n,s){this.name=e,this.schema=n,this.spec=s,this.markSet=null,this.groups=s.group?s.group.split(" "):[],this.attrs=$N(e,s.attrs),this.defaultAttrs=PN(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(s.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==oa.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:IN(this.attrs,e)}create(e=null,n,s){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new $n(this,this.computeAttrs(e),ne.from(n),Ge.setFrom(s))}createChecked(e=null,n,s){return n=ne.from(n),this.checkContent(n),new $n(this,this.computeAttrs(e),n,Ge.setFrom(s))}createAndFill(e=null,n,s){if(e=this.computeAttrs(e),n=ne.from(n),n.size){let c=this.contentMatch.fillBefore(n);if(!c)return null;n=c.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(ne.empty,!0);return o?new $n(this,e,n.append(o),Ge.setFrom(s)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let s=0;s<e.childCount;s++)if(!this.allowsMarks(e.child(s).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){FN(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let s=0;s<e.length;s++)this.allowsMarkType(e[s].type)?n&&n.push(e[s]):n||(n=e.slice(0,s));return n?n.length?n:Ge.none:e}static compile(e,n){let s=Object.create(null);e.forEach((o,c)=>s[o]=new VN(o,n,c));let i=n.spec.topNode||"doc";if(!s[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!s.text)throw new RangeError("Every schema needs a 'text' type");for(let o in s.text.attrs)throw new RangeError("The text node type should not have attributes");return s}};function M3(t,e,n){let s=n.split("|");return i=>{let o=i===null?"null":typeof i;if(s.indexOf(o)<0)throw new RangeError(`Expected value of type ${s} for attribute ${e} on type ${t}, got ${o}`)}}class O3{constructor(e,n,s){this.hasDefault=Object.prototype.hasOwnProperty.call(s,"default"),this.default=s.default,this.validate=typeof s.validate=="string"?M3(e,n,s.validate):s.validate}get isRequired(){return!this.hasDefault}}class su{constructor(e,n,s,i){this.name=e,this.rank=n,this.schema=s,this.spec=i,this.attrs=$N(e,i.attrs),this.excluded=null;let o=PN(this.attrs);this.instance=o?new Ge(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Ge(this,IN(this.attrs,e))}static compile(e,n){let s=Object.create(null),i=0;return e.forEach((o,c)=>s[o]=new su(o,i++,n,c)),s}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){FN(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class qN{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Dt.from(e.nodes),n.marks=Dt.from(e.marks||{}),this.nodes=Jy.compile(this.spec.nodes,this),this.marks=su.compile(this.spec.marks,this);let s=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],c=o.spec.content||"",u=o.spec.marks;if(o.contentMatch=s[c]||(s[c]=oa.parse(c,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=u=="_"?null:u?Xy(this,u.split(" ")):u==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],c=o.spec.excludes;o.excluded=c==null?[o]:c==""?[]:Xy(this,c.split(" "))}this.nodeFromJSON=i=>$n.fromJSON(this,i),this.markFromJSON=i=>Ge.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,s,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Jy){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,s,i)}text(e,n){let s=this.nodes.text;return new cd(s,s.defaultAttrs,e,Ge.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Xy(t,e){let n=[];for(let s=0;s<e.length;s++){let i=e[s],o=t.marks[i],c=o;if(o)n.push(o);else for(let u in t.marks){let h=t.marks[u];(i=="_"||h.spec.group&&h.spec.group.split(" ").indexOf(i)>-1)&&n.push(c=h)}if(!c)throw new SyntaxError("Unknown mark type: '"+e[s]+"'")}return n}function R3(t){return t.tag!=null}function D3(t){return t.style!=null}class br{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let s=this.matchedStyles=[];n.forEach(i=>{if(R3(i))this.tags.push(i);else if(D3(i)){let o=/[^=]*/.exec(i.style)[0];s.indexOf(o)<0&&s.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let s=new Zy(this,n,!1);return s.addAll(e,Ge.none,n.from,n.to),s.finish()}parseSlice(e,n={}){let s=new Zy(this,n,!0);return s.addAll(e,Ge.none,n.from,n.to),ie.maxOpen(s.finish())}matchTag(e,n,s){for(let i=s?this.tags.indexOf(s)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(_3(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let c=o.getAttrs(e);if(c===!1)continue;o.attrs=c||void 0}return o}}}matchStyle(e,n,s,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let c=this.styles[o],u=c.style;if(!(u.indexOf(e)!=0||c.context&&!s.matchesContext(c.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=n))){if(c.getAttrs){let h=c.getAttrs(n);if(h===!1)continue;c.attrs=h||void 0}return c}}}static schemaRules(e){let n=[];function s(i){let o=i.priority==null?50:i.priority,c=0;for(;c<n.length;c++){let u=n[c];if((u.priority==null?50:u.priority)<o)break}n.splice(c,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(c=>{s(c=ev(c)),c.mark||c.ignore||c.clearMark||(c.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(c=>{s(c=ev(c)),c.node||c.ignore||c.mark||(c.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new br(e,br.schemaRules(e)))}}const WN={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},L3={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},KN={ol:!0,ul:!0},Il=1,zm=2,Ml=4;function Qy(t,e,n){return e!=null?(e?Il:0)|(e==="full"?zm:0):t&&t.whitespace=="pre"?Il|zm:n&~Ml}class Oc{constructor(e,n,s,i,o,c){this.type=e,this.attrs=n,this.marks=s,this.solid=i,this.options=c,this.content=[],this.activeMarks=Ge.none,this.match=o||(c&Ml?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ne.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let s=this.type.contentMatch,i;return(i=s.findWrapping(e.type))?(this.match=s,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Il)){let s=this.content[this.content.length-1],i;if(s&&s.isText&&(i=/[ \t\r\n\u000c]+$/.exec(s.text))){let o=s;s.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=ne.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ne.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!WN.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Zy{constructor(e,n,s){this.parser=e,this.options=n,this.isOpen=s,this.open=0,this.localPreserveWS=!1;let i=n.topNode,o,c=Qy(null,n.preserveWhitespace,0)|(s?Ml:0);i?o=new Oc(i.type,i.attrs,Ge.none,!0,n.topMatch||i.type.contentMatch,c):s?o=new Oc(null,null,Ge.none,!0,null,c):o=new Oc(e.schema.topNodeType,null,Ge.none,!0,null,c),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let s=e.nodeValue,i=this.top,o=i.options&zm?"full":this.localPreserveWS||(i.options&Il)>0,{schema:c}=this.parser;if(o==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(s)){if(o)if(o==="full")s=s.replace(/\r\n?/g,`
`);else if(c.linebreakReplacement&&/[\r\n]/.test(s)&&this.top.findWrapping(c.linebreakReplacement.create())){let u=s.split(/\r?\n|\r/);for(let h=0;h<u.length;h++)h&&this.insertNode(c.linebreakReplacement.create(),n,!0),u[h]&&this.insertNode(c.text(u[h]),n,!/\S/.test(u[h]));s=""}else s=s.replace(/\r?\n|\r/g," ");else if(s=s.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(s)&&this.open==this.nodes.length-1){let u=i.content[i.content.length-1],h=e.previousSibling;(!u||h&&h.nodeName=="BR"||u.isText&&/[ \t\r\n\u000c]$/.test(u.text))&&(s=s.slice(1))}s&&this.insertNode(c.text(s),n,!/\S/.test(s)),this.findInText(e)}else this.findInside(e)}addElement(e,n,s){let i=this.localPreserveWS,o=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let c=e.nodeName.toLowerCase(),u;KN.hasOwnProperty(c)&&this.parser.normalizeLists&&z3(e);let h=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,s));e:if(h?h.ignore:L3.hasOwnProperty(c))this.findInside(e),this.ignoreFallback(e,n);else if(!h||h.skip||h.closeParent){h&&h.closeParent?this.open=Math.max(0,this.open-1):h&&h.skip.nodeType&&(e=h.skip);let m,p=this.needsBlock;if(WN.hasOwnProperty(c))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),m=!0,o.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let g=h&&h.skip?n:this.readStyles(e,n);g&&this.addAll(e,g),m&&this.sync(o),this.needsBlock=p}else{let m=this.readStyles(e,n);m&&this.addElementByRule(e,h,m,h.consuming===!1?u:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let s=e.style;if(s&&s.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],c=s.getPropertyValue(o);if(c)for(let u=void 0;;){let h=this.parser.matchStyle(o,c,this,u);if(!h)break;if(h.ignore)return null;if(h.clearMark?n=n.filter(m=>!h.clearMark(m)):n=n.concat(this.parser.schema.marks[h.mark].create(h.attrs)),h.consuming===!1)u=h;else break}}return n}addElementByRule(e,n,s,i){let o,c;if(n.node)if(c=this.parser.schema.nodes[n.node],c.isLeaf)this.insertNode(c.create(n.attrs),s,e.nodeName=="BR")||this.leafFallback(e,s);else{let h=this.enter(c,n.attrs||null,s,n.preserveWhitespace);h&&(o=!0,s=h)}else{let h=this.parser.schema.marks[n.mark];s=s.concat(h.create(n.attrs))}let u=this.top;if(c&&c.isLeaf)this.findInside(e);else if(i)this.addElement(e,s,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(h=>this.insertNode(h,s,!1));else{let h=e;typeof n.contentElement=="string"?h=e.querySelector(n.contentElement):typeof n.contentElement=="function"?h=n.contentElement(e):n.contentElement&&(h=n.contentElement),this.findAround(e,h,!0),this.addAll(h,s),this.findAround(e,h,!1)}o&&this.sync(u)&&this.open--}addAll(e,n,s,i){let o=s||0;for(let c=s?e.childNodes[s]:e.firstChild,u=i==null?null:e.childNodes[i];c!=u;c=c.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(c,n);this.findAtPoint(e,o)}findPlace(e,n,s){let i,o;for(let c=this.open,u=0;c>=0;c--){let h=this.nodes[c],m=h.findWrapping(e);if(m&&(!i||i.length>m.length+u)&&(i=m,o=h,!m.length))break;if(h.solid){if(s)break;u+=2}}if(!i)return null;this.sync(o);for(let c=0;c<i.length;c++)n=this.enterInner(i[c],null,n,!1);return n}insertNode(e,n,s){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let i=this.findPlace(e,n,s);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let c=Ge.none;for(let u of i.concat(e.marks))(o.type?o.type.allowsMarkType(u.type):tv(u.type,e.type))&&(c=u.addToSet(c));return o.content.push(e.mark(c)),!0}return!1}enter(e,n,s,i){let o=this.findPlace(e.create(n),s,!1);return o&&(o=this.enterInner(e,n,s,!0,i)),o}enterInner(e,n,s,i=!1,o){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(e);let u=Qy(e,o,c.options);c.options&Ml&&c.content.length==0&&(u|=Ml);let h=Ge.none;return s=s.filter(m=>(c.type?c.type.allowsMarkType(m.type):tv(m.type,e))?(h=m.addToSet(h),!1):!0),this.nodes.push(new Oc(e,n,h,i,null,u)),this.open++,s}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Il)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let s=this.nodes[n].content;for(let i=s.length-1;i>=0;i--)e+=s[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==e&&this.find[s].offset==n&&(this.find[s].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,s){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(s?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),s=this.options.context,i=!this.isOpen&&(!s||s.parent.type==this.nodes[0].type),o=-(s?s.depth+1:0)+(i?0:1),c=(u,h)=>{for(;u>=0;u--){let m=n[u];if(m==""){if(u==n.length-1||u==0)continue;for(;h>=o;h--)if(c(u-1,h))return!0;return!1}else{let p=h>0||h==0&&i?this.nodes[h].type:s&&h>=o?s.node(h-o).type:null;if(!p||p.name!=m&&!p.isInGroup(m))return!1;h--}}return!0};return c(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(s&&s.isTextblock&&s.defaultAttrs)return s}for(let n in this.parser.schema.nodes){let s=this.parser.schema.nodes[n];if(s.isTextblock&&s.defaultAttrs)return s}}}function z3(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let s=e.nodeType==1?e.nodeName.toLowerCase():null;s&&KN.hasOwnProperty(s)&&n?(n.appendChild(e),e=n):s=="li"?n=e:s&&(n=null)}}function _3(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function ev(t){let e={};for(let n in t)e[n]=t[n];return e}function tv(t,e){let n=e.schema.nodes;for(let s in n){let i=n[s];if(!i.allowsMarkType(t))continue;let o=[],c=u=>{o.push(u);for(let h=0;h<u.edgeCount;h++){let{type:m,next:p}=u.edge(h);if(m==e||o.indexOf(p)<0&&c(p))return!0}};if(c(i.contentMatch))return!0}}class ma{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},s){s||(s=Zh(n).createDocumentFragment());let i=s,o=[];return e.forEach(c=>{if(o.length||c.marks.length){let u=0,h=0;for(;u<o.length&&h<c.marks.length;){let m=c.marks[h];if(!this.marks[m.type.name]){h++;continue}if(!m.eq(o[u][0])||m.type.spec.spanning===!1)break;u++,h++}for(;u<o.length;)i=o.pop()[1];for(;h<c.marks.length;){let m=c.marks[h++],p=this.serializeMark(m,c.isInline,n);p&&(o.push([m,i]),i.appendChild(p.dom),i=p.contentDOM||p.dom)}}i.appendChild(this.serializeNodeInner(c,n))}),s}serializeNodeInner(e,n){let{dom:s,contentDOM:i}=Jc(Zh(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return s}serializeNode(e,n={}){let s=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(s),s=o.dom)}return s}serializeMark(e,n,s={}){let i=this.marks[e.type.name];return i&&Jc(Zh(s),i(e,n),null,e.attrs)}static renderSpec(e,n,s=null,i){return Jc(e,n,s,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ma(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=nv(e.nodes);return n.text||(n.text=s=>s.text),n}static marksFromSchema(e){return nv(e.marks)}}function nv(t){let e={};for(let n in t){let s=t[n].spec.toDOM;s&&(e[n]=s)}return e}function Zh(t){return t.document||window.document}const sv=new WeakMap;function B3(t){let e=sv.get(t);return e===void 0&&sv.set(t,e=U3(t)),e}function U3(t){let e=null;function n(s){if(s&&typeof s=="object")if(Array.isArray(s))if(typeof s[0]=="string")e||(e=[]),e.push(s);else for(let i=0;i<s.length;i++)n(s[i]);else for(let i in s)n(s[i])}return n(t),e}function Jc(t,e,n,s){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(s&&(o=B3(s))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=i.indexOf(" ");c>0&&(n=i.slice(0,c),i=i.slice(c+1));let u,h=n?t.createElementNS(n,i):t.createElement(i),m=e[1],p=1;if(m&&typeof m=="object"&&m.nodeType==null&&!Array.isArray(m)){p=2;for(let g in m)if(m[g]!=null){let y=g.indexOf(" ");y>0?h.setAttributeNS(g.slice(0,y),g.slice(y+1),m[g]):g=="style"&&h.style?h.style.cssText=m[g]:h.setAttribute(g,m[g])}}for(let g=p;g<e.length;g++){let y=e[g];if(y===0){if(g<e.length-1||g>p)throw new RangeError("Content hole must be the only child of its parent node");return{dom:h,contentDOM:h}}else{let{dom:N,contentDOM:v}=Jc(t,y,n,s);if(h.appendChild(N),v){if(u)throw new RangeError("Multiple content holes");u=v}}}return{dom:h,contentDOM:u}}const GN=65535,YN=Math.pow(2,16);function H3(t,e){return t+e*YN}function rv(t){return t&GN}function P3(t){return(t-(t&GN))/YN}const JN=1,XN=2,Xc=4,QN=8;class _m{constructor(e,n,s){this.pos=e,this.delInfo=n,this.recover=s}get deleted(){return(this.delInfo&QN)>0}get deletedBefore(){return(this.delInfo&(JN|Xc))>0}get deletedAfter(){return(this.delInfo&(XN|Xc))>0}get deletedAcross(){return(this.delInfo&Xc)>0}}class bn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&bn.empty)return bn.empty}recover(e){let n=0,s=rv(e);if(!this.inverted)for(let i=0;i<s;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[s*3]+n+P3(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,s){let i=0,o=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let h=this.ranges[u]-(this.inverted?i:0);if(h>e)break;let m=this.ranges[u+o],p=this.ranges[u+c],g=h+m;if(e<=g){let y=m?e==h?-1:e==g?1:n:n,N=h+i+(y<0?0:p);if(s)return N;let v=e==(n<0?h:g)?null:H3(u/3,e-h),k=e==h?XN:e==g?JN:Xc;return(n<0?e!=h:e!=g)&&(k|=QN),new _m(N,k,v)}i+=p-m}return s?e+i:new _m(e+i,0,null)}touches(e,n){let s=0,i=rv(n),o=this.inverted?2:1,c=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let h=this.ranges[u]-(this.inverted?s:0);if(h>e)break;let m=this.ranges[u+o],p=h+m;if(e<=p&&u==i*3)return!0;s+=this.ranges[u+c]-m}return!1}forEach(e){let n=this.inverted?2:1,s=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let c=this.ranges[i],u=c-(this.inverted?o:0),h=c+(this.inverted?0:o),m=this.ranges[i+n],p=this.ranges[i+s];e(u,u+m,h,h+p),o+=p-m}}invert(){return new bn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?bn.empty:new bn(e<0?[0,-e,0]:[0,0,e])}}bn.empty=new bn([]);class Fl{constructor(e,n,s=0,i=e?e.length:0){this.mirror=n,this.from=s,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Fl(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,s=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?s+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,s=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?s-i-1:void 0)}}invert(){let e=new Fl;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let s=this.from;s<this.to;s++)e=this._maps[s].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,s){let i=0;for(let o=this.from;o<this.to;o++){let c=this._maps[o],u=c.mapResult(e,n);if(u.recover!=null){let h=this.getMirror(o);if(h!=null&&h>o&&h<this.to){o=h,e=this._maps[h].recover(u.recover);continue}}i|=u.delInfo,e=u.pos}return s?e:new _m(e,i,null)}}const em=Object.create(null);class It{getMap(){return bn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let s=em[n.stepType];if(!s)throw new RangeError(`No step type ${n.stepType} defined`);return s.fromJSON(e,n)}static jsonID(e,n){if(e in em)throw new RangeError("Duplicate use of step JSON ID "+e);return em[e]=n,n.prototype.jsonID=e,n}}class xt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new xt(e,null)}static fail(e){return new xt(null,e)}static fromReplace(e,n,s,i){try{return xt.ok(e.replace(n,s,i))}catch(o){if(o instanceof id)return xt.fail(o.message);throw o}}}function Np(t,e,n){let s=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Np(o.content,e,o))),o.isInline&&(o=e(o,n,i)),s.push(o)}return ne.fromArray(s)}class pr extends It{constructor(e,n,s){super(),this.from=e,this.to=n,this.mark=s}apply(e){let n=e.slice(this.from,this.to),s=e.resolve(this.from),i=s.node(s.sharedDepth(this.to)),o=new ie(Np(n.content,(c,u)=>!c.isAtom||!u.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),i),n.openStart,n.openEnd);return xt.fromReplace(e,this.from,this.to,o)}invert(){return new Fn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deleted&&s.deleted||n.pos>=s.pos?null:new pr(n.pos,s.pos,this.mark)}merge(e){return e instanceof pr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new pr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new pr(n.from,n.to,e.markFromJSON(n.mark))}}It.jsonID("addMark",pr);class Fn extends It{constructor(e,n,s){super(),this.from=e,this.to=n,this.mark=s}apply(e){let n=e.slice(this.from,this.to),s=new ie(Np(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return xt.fromReplace(e,this.from,this.to,s)}invert(){return new pr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deleted&&s.deleted||n.pos>=s.pos?null:new Fn(n.pos,s.pos,this.mark)}merge(e){return e instanceof Fn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Fn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Fn(n.from,n.to,e.markFromJSON(n.mark))}}It.jsonID("removeMark",Fn);class xr extends It{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return xt.fail("No node at mark step's position");let s=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return xt.fromReplace(e,this.pos,this.pos+1,new ie(ne.from(s),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let s=this.mark.addToSet(n.marks);if(s.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(s))return new xr(this.pos,n.marks[i]);return new xr(this.pos,this.mark)}}return new ca(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new xr(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new xr(n.pos,e.markFromJSON(n.mark))}}It.jsonID("addNodeMark",xr);class ca extends It{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return xt.fail("No node at mark step's position");let s=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return xt.fromReplace(e,this.pos,this.pos+1,new ie(ne.from(s),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new xr(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ca(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ca(n.pos,e.markFromJSON(n.mark))}}It.jsonID("removeNodeMark",ca);class wt extends It{constructor(e,n,s,i=!1){super(),this.from=e,this.to=n,this.slice=s,this.structure=i}apply(e){return this.structure&&Bm(e,this.from,this.to)?xt.fail("Structure replace would overwrite content"):xt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new bn([this.from,this.to-this.from,this.slice.size])}invert(e){return new wt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deletedAcross&&s.deletedAcross?null:new wt(n.pos,Math.max(n.pos,s.pos),this.slice,this.structure)}merge(e){if(!(e instanceof wt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ie.empty:new ie(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new wt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ie.empty:new ie(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new wt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new wt(n.from,n.to,ie.fromJSON(e,n.slice),!!n.structure)}}It.jsonID("replace",wt);class St extends It{constructor(e,n,s,i,o,c,u=!1){super(),this.from=e,this.to=n,this.gapFrom=s,this.gapTo=i,this.slice=o,this.insert=c,this.structure=u}apply(e){if(this.structure&&(Bm(e,this.from,this.gapFrom)||Bm(e,this.gapTo,this.to)))return xt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return xt.fail("Gap is not a flat range");let s=this.slice.insertAt(this.insert,n.content);return s?xt.fromReplace(e,this.from,this.to,s):xt.fail("Content does not fit in gap")}getMap(){return new bn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new St(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?s.pos:e.map(this.gapTo,1);return n.deletedAcross&&s.deletedAcross||i<n.pos||o>s.pos?null:new St(n.pos,s.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new St(n.from,n.to,n.gapFrom,n.gapTo,ie.fromJSON(e,n.slice),n.insert,!!n.structure)}}It.jsonID("replaceAround",St);function Bm(t,e,n){let s=t.resolve(e),i=n-e,o=s.depth;for(;i>0&&o>0&&s.indexAfter(o)==s.node(o).childCount;)o--,i--;if(i>0){let c=s.node(o).maybeChild(s.indexAfter(o));for(;i>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,i--}}return!1}function I3(t,e,n,s){let i=[],o=[],c,u;t.doc.nodesBetween(e,n,(h,m,p)=>{if(!h.isInline)return;let g=h.marks;if(!s.isInSet(g)&&p.type.allowsMarkType(s.type)){let y=Math.max(m,e),N=Math.min(m+h.nodeSize,n),v=s.addToSet(g);for(let k=0;k<g.length;k++)g[k].isInSet(v)||(c&&c.to==y&&c.mark.eq(g[k])?c.to=N:i.push(c=new Fn(y,N,g[k])));u&&u.to==y?u.to=N:o.push(u=new pr(y,N,s))}}),i.forEach(h=>t.step(h)),o.forEach(h=>t.step(h))}function F3(t,e,n,s){let i=[],o=0;t.doc.nodesBetween(e,n,(c,u)=>{if(!c.isInline)return;o++;let h=null;if(s instanceof su){let m=c.marks,p;for(;p=s.isInSet(m);)(h||(h=[])).push(p),m=p.removeFromSet(m)}else s?s.isInSet(c.marks)&&(h=[s]):h=c.marks;if(h&&h.length){let m=Math.min(u+c.nodeSize,n);for(let p=0;p<h.length;p++){let g=h[p],y;for(let N=0;N<i.length;N++){let v=i[N];v.step==o-1&&g.eq(i[N].style)&&(y=v)}y?(y.to=m,y.step=o):i.push({style:g,from:Math.max(u,e),to:m,step:o})}}}),i.forEach(c=>t.step(new Fn(c.from,c.to,c.style)))}function jp(t,e,n,s=n.contentMatch,i=!0){let o=t.doc.nodeAt(e),c=[],u=e+1;for(let h=0;h<o.childCount;h++){let m=o.child(h),p=u+m.nodeSize,g=s.matchType(m.type);if(!g)c.push(new wt(u,p,ie.empty));else{s=g;for(let y=0;y<m.marks.length;y++)n.allowsMarkType(m.marks[y].type)||t.step(new Fn(u,p,m.marks[y]));if(i&&m.isText&&n.whitespace!="pre"){let y,N=/\r?\n|\r/g,v;for(;y=N.exec(m.text);)v||(v=new ie(ne.from(n.schema.text(" ",n.allowedMarks(m.marks))),0,0)),c.push(new wt(u+y.index,u+y.index+y[0].length,v))}}u=p}if(!s.validEnd){let h=s.fillBefore(ne.empty,!0);t.replace(u,u,new ie(h,0,0))}for(let h=c.length-1;h>=0;h--)t.step(c[h])}function $3(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function wi(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let s=t.depth,i=0,o=0;;--s){let c=t.$from.node(s),u=t.$from.index(s)+i,h=t.$to.indexAfter(s)-o;if(s<t.depth&&c.canReplace(u,h,n))return s;if(s==0||c.type.spec.isolating||!$3(c,u,h))break;u&&(i=1),h<c.childCount&&(o=1)}return null}function V3(t,e,n){let{$from:s,$to:i,depth:o}=e,c=s.before(o+1),u=i.after(o+1),h=c,m=u,p=ne.empty,g=0;for(let v=o,k=!1;v>n;v--)k||s.index(v)>0?(k=!0,p=ne.from(s.node(v).copy(p)),g++):h--;let y=ne.empty,N=0;for(let v=o,k=!1;v>n;v--)k||i.after(v+1)<i.end(v)?(k=!0,y=ne.from(i.node(v).copy(y)),N++):m++;t.step(new St(h,m,c,u,new ie(p.append(y),g,N),p.size-g,!0))}function wp(t,e,n=null,s=t){let i=q3(t,e),o=i&&W3(s,e);return o?i.map(av).concat({type:e,attrs:n}).concat(o.map(av)):null}function av(t){return{type:t,attrs:null}}function q3(t,e){let{parent:n,startIndex:s,endIndex:i}=t,o=n.contentMatchAt(s).findWrapping(e);if(!o)return null;let c=o.length?o[0]:e;return n.canReplaceWith(s,i,c)?o:null}function W3(t,e){let{parent:n,startIndex:s,endIndex:i}=t,o=n.child(s),c=e.contentMatch.findWrapping(o.type);if(!c)return null;let h=(c.length?c[c.length-1]:e).contentMatch;for(let m=s;h&&m<i;m++)h=h.matchType(n.child(m).type);return!h||!h.validEnd?null:c}function K3(t,e,n){let s=ne.empty;for(let c=n.length-1;c>=0;c--){if(s.size){let u=n[c].type.contentMatch.matchFragment(s);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}s=ne.from(n[c].type.create(n[c].attrs,s))}let i=e.start,o=e.end;t.step(new St(i,o,i,o,new ie(s,0,0),n.length,!0))}function G3(t,e,n,s,i){if(!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(c,u)=>{let h=typeof i=="function"?i(c):i;if(c.isTextblock&&!c.hasMarkup(s,h)&&Y3(t.doc,t.mapping.slice(o).map(u),s)){let m=null;if(s.schema.linebreakReplacement){let N=s.whitespace=="pre",v=!!s.contentMatch.matchType(s.schema.linebreakReplacement);N&&!v?m=!1:!N&&v&&(m=!0)}m===!1&&ej(t,c,u,o),jp(t,t.mapping.slice(o).map(u,1),s,void 0,m===null);let p=t.mapping.slice(o),g=p.map(u,1),y=p.map(u+c.nodeSize,1);return t.step(new St(g,y,g+1,y-1,new ie(ne.from(s.create(h,null,c.marks)),0,0),1,!0)),m===!0&&ZN(t,c,u,o),!1}})}function ZN(t,e,n,s){e.forEach((i,o)=>{if(i.isText){let c,u=/\r?\n|\r/g;for(;c=u.exec(i.text);){let h=t.mapping.slice(s).map(n+1+o+c.index);t.replaceWith(h,h+1,e.type.schema.linebreakReplacement.create())}}})}function ej(t,e,n,s){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let c=t.mapping.slice(s).map(n+1+o);t.replaceWith(c,c+1,e.type.schema.text(`
`))}})}function Y3(t,e,n){let s=t.resolve(e),i=s.index();return s.parent.canReplaceWith(i,i+1,n)}function J3(t,e,n,s,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let c=n.create(s,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,c);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new St(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new ie(ne.from(c),0,0),1,!0))}function Rs(t,e,n=1,s){let i=t.resolve(e),o=i.depth-n,c=s&&s[s.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!c.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let m=i.depth-1,p=n-2;m>o;m--,p--){let g=i.node(m),y=i.index(m);if(g.type.spec.isolating)return!1;let N=g.content.cutByIndex(y,g.childCount),v=s&&s[p+1];v&&(N=N.replaceChild(0,v.type.create(v.attrs)));let k=s&&s[p]||g;if(!g.canReplace(y+1,g.childCount)||!k.type.validContent(N))return!1}let u=i.indexAfter(o),h=s&&s[0];return i.node(o).canReplaceWith(u,u,h?h.type:i.node(o+1).type)}function X3(t,e,n=1,s){let i=t.doc.resolve(e),o=ne.empty,c=ne.empty;for(let u=i.depth,h=i.depth-n,m=n-1;u>h;u--,m--){o=ne.from(i.node(u).copy(o));let p=s&&s[m];c=ne.from(p?p.type.create(p.attrs,c):i.node(u).copy(c))}t.step(new wt(e,e,new ie(o.append(c),n,n),!0))}function Cr(t,e){let n=t.resolve(e),s=n.index();return tj(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(s,s+1)}function Q3(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:s}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),c=o.type==s?t.type.schema.nodes.text:o.type;if(n=n.matchType(c),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function tj(t,e){return!!(t&&e&&!t.isLeaf&&Q3(t,e))}function ru(t,e,n=-1){let s=t.resolve(e);for(let i=s.depth;;i--){let o,c,u=s.index(i);if(i==s.depth?(o=s.nodeBefore,c=s.nodeAfter):n>0?(o=s.node(i+1),u++,c=s.node(i).maybeChild(u)):(o=s.node(i).maybeChild(u-1),c=s.node(i+1)),o&&!o.isTextblock&&tj(o,c)&&s.node(i).canReplace(u,u+1))return e;if(i==0)break;e=n<0?s.before(i):s.after(i)}}function Z3(t,e,n){let s=null,{linebreakReplacement:i}=t.doc.type.schema,o=t.doc.resolve(e-n),c=o.node().type;if(i&&c.inlineContent){let p=c.whitespace=="pre",g=!!c.contentMatch.matchType(i);p&&!g?s=!1:!p&&g&&(s=!0)}let u=t.steps.length;if(s===!1){let p=t.doc.resolve(e+n);ej(t,p.node(),p.before(),u)}c.inlineContent&&jp(t,e+n-1,c,o.node().contentMatchAt(o.index()),s==null);let h=t.mapping.slice(u),m=h.map(e-n);if(t.step(new wt(m,h.map(e+n,-1),ie.empty,!0)),s===!0){let p=t.doc.resolve(m);ZN(t,p.node(),p.before(),t.steps.length)}return t}function eA(t,e,n){let s=t.resolve(e);if(s.parent.canReplaceWith(s.index(),s.index(),n))return e;if(s.parentOffset==0)for(let i=s.depth-1;i>=0;i--){let o=s.index(i);if(s.node(i).canReplaceWith(o,o,n))return s.before(i+1);if(o>0)return null}if(s.parentOffset==s.parent.content.size)for(let i=s.depth-1;i>=0;i--){let o=s.indexAfter(i);if(s.node(i).canReplaceWith(o,o,n))return s.after(i+1);if(o<s.node(i).childCount)return null}return null}function nj(t,e,n){let s=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let c=s.depth;c>=0;c--){let u=c==s.depth?0:s.pos<=(s.start(c+1)+s.end(c+1))/2?-1:1,h=s.index(c)+(u>0?1:0),m=s.node(c),p=!1;if(o==1)p=m.canReplace(h,h,i);else{let g=m.contentMatchAt(h).findWrapping(i.firstChild.type);p=g&&m.canReplaceWith(h,h,g[0])}if(p)return u==0?s.pos:u<0?s.before(c+1):s.after(c+1)}return null}function au(t,e,n=e,s=ie.empty){if(e==n&&!s.size)return null;let i=t.resolve(e),o=t.resolve(n);return sj(i,o,s)?new wt(e,n,s):new tA(i,o,s).fit()}function sj(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class tA{constructor(e,n,s){this.$from=e,this.$to=n,this.unplaced=s,this.frontier=[],this.placed=ne.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ne.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let m=this.findFittable();m?this.placeNodes(m):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,s=this.$from,i=this.close(e<0?this.$to:s.doc.resolve(e));if(!i)return null;let o=this.placed,c=s.depth,u=i.depth;for(;c&&u&&o.childCount==1;)o=o.firstChild.content,c--,u--;let h=new ie(o,c,u);return e>-1?new St(s.pos,e,this.$to.pos,this.$to.end(),h,n):h.size||s.pos!=this.$to.pos?new wt(s.pos,i.pos,h):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,s=0,i=this.unplaced.openEnd;s<e;s++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=s){e=s;break}n=o.content}for(let n=1;n<=2;n++)for(let s=n==1?e:this.unplaced.openStart;s>=0;s--){let i,o=null;s?(o=tm(this.unplaced.content,s-1).firstChild,i=o.content):i=this.unplaced.content;let c=i.firstChild;for(let u=this.depth;u>=0;u--){let{type:h,match:m}=this.frontier[u],p,g=null;if(n==1&&(c?m.matchType(c.type)||(g=m.fillBefore(ne.from(c),!1)):o&&h.compatibleContent(o.type)))return{sliceDepth:s,frontierDepth:u,parent:o,inject:g};if(n==2&&c&&(p=m.findWrapping(c.type)))return{sliceDepth:s,frontierDepth:u,parent:o,wrap:p};if(o&&m.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:s}=this.unplaced,i=tm(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ie(e,n+1,Math.max(s,i.size+n>=e.size-s?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:s}=this.unplaced,i=tm(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new ie(Sl(e,n-1,1),n-1,o?n-1:s)}else this.unplaced=new ie(Sl(e,n,1),n,s)}placeNodes({sliceDepth:e,frontierDepth:n,parent:s,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let k=0;k<o.length;k++)this.openFrontierNode(o[k]);let c=this.unplaced,u=s?s.content:c.content,h=c.openStart-e,m=0,p=[],{match:g,type:y}=this.frontier[n];if(i){for(let k=0;k<i.childCount;k++)p.push(i.child(k));g=g.matchFragment(i)}let N=u.size+e-(c.content.size-c.openEnd);for(;m<u.childCount;){let k=u.child(m),j=g.matchType(k.type);if(!j)break;m++,(m>1||h==0||k.content.size)&&(g=j,p.push(rj(k.mark(y.allowedMarks(k.marks)),m==1?h:0,m==u.childCount?N:-1)))}let v=m==u.childCount;v||(N=-1),this.placed=Cl(this.placed,n,ne.from(p)),this.frontier[n].match=g,v&&N<0&&s&&s.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,j=u;k<N;k++){let C=j.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),j=C.content}this.unplaced=v?e==0?ie.empty:new ie(Sl(c.content,e-1,1),e-1,N<0?c.openEnd:e-1):new ie(Sl(c.content,e,m),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!nm(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:s}=this.$to,i=this.$to.after(s);for(;s>1&&i==this.$to.end(--s);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:s,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),c=nm(e,n,i,s,o);if(c){for(let u=n-1;u>=0;u--){let{match:h,type:m}=this.frontier[u],p=nm(e,u,m,h,!0);if(!p||p.childCount)continue e}return{depth:n,fit:c,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Cl(this.placed,n.depth,n.fit)),e=n.move;for(let s=n.depth+1;s<=e.depth;s++){let i=e.node(s),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(s));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,s){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Cl(this.placed,this.depth,ne.from(e.create(n,s))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ne.empty,!0);n.childCount&&(this.placed=Cl(this.placed,this.frontier.length,n))}}function Sl(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Sl(t.firstChild.content,e-1,n)))}function Cl(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Cl(t.lastChild.content,e-1,n)))}function tm(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function rj(t,e,n){if(e<=0)return t;let s=t.content;return e>1&&(s=s.replaceChild(0,rj(s.firstChild,e-1,s.childCount==1?n-1:0))),e>0&&(s=t.type.contentMatch.fillBefore(s).append(s),n<=0&&(s=s.append(t.type.contentMatch.matchFragment(s).fillBefore(ne.empty,!0)))),t.copy(s)}function nm(t,e,n,s,i){let o=t.node(e),c=i?t.indexAfter(e):t.index(e);if(c==o.childCount&&!n.compatibleContent(o.type))return null;let u=s.fillBefore(o.content,!0,c);return u&&!nA(n,o.content,c)?u:null}function nA(t,e,n){for(let s=n;s<e.childCount;s++)if(!t.allowsMarks(e.child(s).marks))return!0;return!1}function sA(t){return t.spec.defining||t.spec.definingForContent}function rA(t,e,n,s){if(!s.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(sj(i,o,s))return t.step(new wt(e,n,s));let c=ij(i,o);c[c.length-1]==0&&c.pop();let u=-(i.depth+1);c.unshift(u);for(let y=i.depth,N=i.pos-1;y>0;y--,N--){let v=i.node(y).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;c.indexOf(y)>-1?u=y:i.before(y)==N&&c.splice(1,0,-y)}let h=c.indexOf(u),m=[],p=s.openStart;for(let y=s.content,N=0;;N++){let v=y.firstChild;if(m.push(v),N==s.openStart)break;y=v.content}for(let y=p-1;y>=0;y--){let N=m[y],v=sA(N.type);if(v&&!N.sameMarkup(i.node(Math.abs(u)-1)))p=y;else if(v||!N.type.isTextblock)break}for(let y=s.openStart;y>=0;y--){let N=(y+p+1)%(s.openStart+1),v=m[N];if(v)for(let k=0;k<c.length;k++){let j=c[(k+h)%c.length],C=!0;j<0&&(C=!1,j=-j);let T=i.node(j-1),M=i.index(j-1);if(T.canReplaceWith(M,M,v.type,v.marks))return t.replace(i.before(j),C?o.after(j):n,new ie(aj(s.content,0,s.openStart,N),N,s.openEnd))}}let g=t.steps.length;for(let y=c.length-1;y>=0&&(t.replace(e,n,s),!(t.steps.length>g));y--){let N=c[y];N<0||(e=i.before(N),n=o.after(N))}}function aj(t,e,n,s,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(aj(o.content,e+1,n,s,o)))}if(e>s){let o=i.contentMatchAt(0),c=o.fillBefore(t).append(t);t=c.append(o.matchFragment(c).fillBefore(ne.empty,!0))}return t}function aA(t,e,n,s){if(!s.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=eA(t.doc,e,s.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new ie(ne.from(s),0,0))}function iA(t,e,n){let s=t.doc.resolve(e),i=t.doc.resolve(n),o=ij(s,i);for(let c=0;c<o.length;c++){let u=o[c],h=c==o.length-1;if(h&&u==0||s.node(u).type.contentMatch.validEnd)return t.delete(s.start(u),i.end(u));if(u>0&&(h||s.node(u-1).canReplace(s.index(u-1),i.indexAfter(u-1))))return t.delete(s.before(u),i.after(u))}for(let c=1;c<=s.depth&&c<=i.depth;c++)if(e-s.start(c)==s.depth-c&&n>s.end(c)&&i.end(c)-n!=i.depth-c&&s.start(c-1)==i.start(c-1)&&s.node(c-1).canReplace(s.index(c-1),i.index(c-1)))return t.delete(s.before(c),n);t.delete(e,n)}function ij(t,e){let n=[],s=Math.min(t.depth,e.depth);for(let i=s;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class oi extends It{constructor(e,n,s){super(),this.pos=e,this.attr=n,this.value=s}apply(e){let n=e.nodeAt(this.pos);if(!n)return xt.fail("No node at attribute step's position");let s=Object.create(null);for(let o in n.attrs)s[o]=n.attrs[o];s[this.attr]=this.value;let i=n.type.create(s,null,n.marks);return xt.fromReplace(e,this.pos,this.pos+1,new ie(ne.from(i),0,n.isLeaf?0:1))}getMap(){return bn.empty}invert(e){return new oi(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new oi(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new oi(n.pos,n.attr,n.value)}}It.jsonID("attr",oi);class $l extends It{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let s=e.type.create(n,e.content,e.marks);return xt.ok(s)}getMap(){return bn.empty}invert(e){return new $l(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new $l(n.attr,n.value)}}It.jsonID("docAttr",$l);let ui=class extends Error{};ui=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};ui.prototype=Object.create(Error.prototype);ui.prototype.constructor=ui;ui.prototype.name="TransformError";class lj{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Fl}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new ui(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,s=ie.empty){let i=au(this.doc,e,n,s);return i&&this.step(i),this}replaceWith(e,n,s){return this.replace(e,n,new ie(ne.from(s),0,0))}delete(e,n){return this.replace(e,n,ie.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,s){return rA(this,e,n,s),this}replaceRangeWith(e,n,s){return aA(this,e,n,s),this}deleteRange(e,n){return iA(this,e,n),this}lift(e,n){return V3(this,e,n),this}join(e,n=1){return Z3(this,e,n),this}wrap(e,n){return K3(this,e,n),this}setBlockType(e,n=e,s,i=null){return G3(this,e,n,s,i),this}setNodeMarkup(e,n,s=null,i){return J3(this,e,n,s,i),this}setNodeAttribute(e,n,s){return this.step(new oi(e,n,s)),this}setDocAttribute(e,n){return this.step(new $l(e,n)),this}addNodeMark(e,n){return this.step(new xr(e,n)),this}removeNodeMark(e,n){let s=this.doc.nodeAt(e);if(!s)throw new RangeError("No node at position "+e);if(n instanceof Ge)n.isInSet(s.marks)&&this.step(new ca(e,n));else{let i=s.marks,o,c=[];for(;o=n.isInSet(i);)c.push(new ca(e,o)),i=o.removeFromSet(i);for(let u=c.length-1;u>=0;u--)this.step(c[u])}return this}split(e,n=1,s){return X3(this,e,n,s),this}addMark(e,n,s){return I3(this,e,n,s),this}removeMark(e,n,s){return F3(this,e,n,s),this}clearIncompatible(e,n,s){return jp(this,e,n,s),this}}const sm=Object.create(null);class ke{constructor(e,n,s){this.$anchor=e,this.$head=n,this.ranges=s||[new lA(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ie.empty){let s=n.content.lastChild,i=null;for(let u=0;u<n.openEnd;u++)i=s,s=s.lastChild;let o=e.steps.length,c=this.ranges;for(let u=0;u<c.length;u++){let{$from:h,$to:m}=c[u],p=e.mapping.slice(o);e.replaceRange(p.map(h.pos),p.map(m.pos),u?ie.empty:n),u==0&&ov(e,o,(s?s.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let s=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:c,$to:u}=i[o],h=e.mapping.slice(s),m=h.map(c.pos),p=h.map(u.pos);o?e.deleteRange(m,p):(e.replaceRangeWith(m,p,n),ov(e,s,n.isInline?-1:1))}}static findFrom(e,n,s=!1){let i=e.parent.inlineContent?new ge(e):si(e.node(0),e.parent,e.pos,e.index(),n,s);if(i)return i;for(let o=e.depth-1;o>=0;o--){let c=n<0?si(e.node(0),e.node(o),e.before(o+1),e.index(o),n,s):si(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,s);if(c)return c}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new vn(e.node(0))}static atStart(e){return si(e,e,0,0,1)||new vn(e)}static atEnd(e){return si(e,e,e.content.size,e.childCount,-1)||new vn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let s=sm[n.type];if(!s)throw new RangeError(`No selection type ${n.type} defined`);return s.fromJSON(e,n)}static jsonID(e,n){if(e in sm)throw new RangeError("Duplicate use of selection JSON ID "+e);return sm[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ge.between(this.$anchor,this.$head).getBookmark()}}ke.prototype.visible=!0;class lA{constructor(e,n){this.$from=e,this.$to=n}}let iv=!1;function lv(t){!iv&&!t.parent.inlineContent&&(iv=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ge extends ke{constructor(e,n=e){lv(e),lv(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let s=e.resolve(n.map(this.head));if(!s.parent.inlineContent)return ke.near(s);let i=e.resolve(n.map(this.anchor));return new ge(i.parent.inlineContent?i:s,s)}replace(e,n=ie.empty){if(super.replace(e,n),n==ie.empty){let s=this.$from.marksAcross(this.$to);s&&e.ensureMarks(s)}}eq(e){return e instanceof ge&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new iu(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ge(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,s=n){let i=e.resolve(n);return new this(i,s==n?i:e.resolve(s))}static between(e,n,s){let i=e.pos-n.pos;if((!s||i)&&(s=i>=0?1:-1),!n.parent.inlineContent){let o=ke.findFrom(n,s,!0)||ke.findFrom(n,-s,!0);if(o)n=o.$head;else return ke.near(n,s)}return e.parent.inlineContent||(i==0?e=n:(e=(ke.findFrom(e,-s,!0)||ke.findFrom(e,s,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new ge(e,n)}}ke.jsonID("text",ge);class iu{constructor(e,n){this.anchor=e,this.head=n}map(e){return new iu(e.map(this.anchor),e.map(this.head))}resolve(e){return ge.between(e.resolve(this.anchor),e.resolve(this.head))}}class he extends ke{constructor(e){let n=e.nodeAfter,s=e.node(0).resolve(e.pos+n.nodeSize);super(e,s),this.node=n}map(e,n){let{deleted:s,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return s?ke.near(o):new he(o)}content(){return new ie(ne.from(this.node),0,0)}eq(e){return e instanceof he&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new kp(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new he(e.resolve(n.anchor))}static create(e,n){return new he(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}he.prototype.visible=!1;ke.jsonID("node",he);class kp{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:s}=e.mapResult(this.anchor);return n?new iu(s,s):new kp(s)}resolve(e){let n=e.resolve(this.anchor),s=n.nodeAfter;return s&&he.isSelectable(s)?new he(n):ke.near(n)}}class vn extends ke{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ie.empty){if(n==ie.empty){e.delete(0,e.doc.content.size);let s=ke.atStart(e.doc);s.eq(e.selection)||e.setSelection(s)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new vn(e)}map(e){return new vn(e)}eq(e){return e instanceof vn}getBookmark(){return oA}}ke.jsonID("all",vn);const oA={map(){return this},resolve(t){return new vn(t)}};function si(t,e,n,s,i,o=!1){if(e.inlineContent)return ge.create(t,n);for(let c=s-(i>0?0:1);i>0?c<e.childCount:c>=0;c+=i){let u=e.child(c);if(u.isAtom){if(!o&&he.isSelectable(u))return he.create(t,n-(i<0?u.nodeSize:0))}else{let h=si(t,u,n+i,i<0?u.childCount:0,i,o);if(h)return h}n+=u.nodeSize*i}return null}function ov(t,e,n){let s=t.steps.length-1;if(s<e)return;let i=t.steps[s];if(!(i instanceof wt||i instanceof St))return;let o=t.mapping.maps[s],c;o.forEach((u,h,m,p)=>{c==null&&(c=p)}),t.setSelection(ke.near(t.doc.resolve(c),n))}const cv=1,Rc=2,dv=4;class cA extends lj{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|cv)&~Rc,this.storedMarks=null,this}get selectionSet(){return(this.updated&cv)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Rc,this}ensureMarks(e){return Ge.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Rc)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Rc,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let s=this.selection;return n&&(e=e.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||Ge.none))),s.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,s){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(s==null&&(s=n),!e)return this.deleteRange(n,s);let o=this.storedMarks;if(!o){let c=this.doc.resolve(n);o=s==n?c.marks():c.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(n,s,i.text(e,o)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(ke.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=dv,this}get scrolledIntoView(){return(this.updated&dv)>0}}function uv(t,e){return!e||!t?t:t.bind(e)}class El{constructor(e,n,s){this.name=e,this.init=uv(n.init,s),this.apply=uv(n.apply,s)}}const dA=[new El("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new El("selection",{init(t,e){return t.selection||ke.atStart(e.doc)},apply(t){return t.selection}}),new El("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,s){return s.selection.$cursor?t.storedMarks:null}}),new El("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class rm{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=dA.slice(),n&&n.forEach(s=>{if(this.pluginsByKey[s.key])throw new RangeError("Adding different instances of a keyed plugin ("+s.key+")");this.plugins.push(s),this.pluginsByKey[s.key]=s,s.spec.state&&this.fields.push(new El(s.key,s.spec.state,s))})}}class li{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let s=0;s<this.config.plugins.length;s++)if(s!=n){let i=this.config.plugins[s];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],s=this.applyInner(e),i=null;for(;;){let o=!1;for(let c=0;c<this.config.plugins.length;c++){let u=this.config.plugins[c];if(u.spec.appendTransaction){let h=i?i[c].n:0,m=i?i[c].state:this,p=h<n.length&&u.spec.appendTransaction.call(u,h?n.slice(h):n,m,s);if(p&&s.filterTransaction(p,c)){if(p.setMeta("appendedTransaction",e),!i){i=[];for(let g=0;g<this.config.plugins.length;g++)i.push(g<c?{state:s,n:n.length}:{state:this,n:0})}n.push(p),s=s.applyInner(p),o=!0}i&&(i[c]={state:s,n:n.length})}}if(!o)return{state:s,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new li(this.config),s=this.config.fields;for(let i=0;i<s.length;i++){let o=s[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new cA(this)}static create(e){let n=new rm(e.doc?e.doc.type.schema:e.schema,e.plugins),s=new li(n);for(let i=0;i<n.fields.length;i++)s[n.fields[i].name]=n.fields[i].init(e,s);return s}reconfigure(e){let n=new rm(this.schema,e.plugins),s=n.fields,i=new li(n);for(let o=0;o<s.length;o++){let c=s[o].name;i[c]=this.hasOwnProperty(c)?this[c]:s[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(s=>s.toJSON())),e&&typeof e=="object")for(let s in e){if(s=="doc"||s=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[s],o=i.spec.state;o&&o.toJSON&&(n[s]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,s){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new rm(e.schema,e.plugins),o=new li(i);return i.fields.forEach(c=>{if(c.name=="doc")o.doc=$n.fromJSON(e.schema,n.doc);else if(c.name=="selection")o.selection=ke.fromJSON(o.doc,n.selection);else if(c.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(s)for(let u in s){let h=s[u],m=h.spec.state;if(h.key==c.name&&m&&m.fromJSON&&Object.prototype.hasOwnProperty.call(n,u)){o[c.name]=m.fromJSON.call(h,e,n[u],o);return}}o[c.name]=c.init(e,o)}}),o}}function oj(t,e,n){for(let s in t){let i=t[s];i instanceof Function?i=i.bind(e):s=="handleDOMEvents"&&(i=oj(i,e,{})),n[s]=i}return n}class tt{constructor(e){this.spec=e,this.props={},e.props&&oj(e.props,this,this.props),this.key=e.key?e.key.key:cj("plugin")}getState(e){return e[this.key]}}const am=Object.create(null);function cj(t){return t in am?t+"$"+ ++am[t]:(am[t]=0,t+"$")}class vt{constructor(e="key"){this.key=cj(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Sp=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function dj(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const uj=(t,e,n)=>{let s=dj(t,n);if(!s)return!1;let i=Cp(s);if(!i){let c=s.blockRange(),u=c&&wi(c);return u==null?!1:(e&&e(t.tr.lift(c,u).scrollIntoView()),!0)}let o=i.nodeBefore;if(vj(t,i,e,-1))return!0;if(s.parent.content.size==0&&(fi(o,"end")||he.isSelectable(o)))for(let c=s.depth;;c--){let u=au(t.doc,s.before(c),s.after(c),ie.empty);if(u&&u.slice.size<u.to-u.from){if(e){let h=t.tr.step(u);h.setSelection(fi(o,"end")?ke.findFrom(h.doc.resolve(h.mapping.map(i.pos,-1)),-1):he.create(h.doc,i.pos-o.nodeSize)),e(h.scrollIntoView())}return!0}if(c==1||s.node(c-1).childCount>1)break}return o.isAtom&&i.depth==s.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},uA=(t,e,n)=>{let s=dj(t,n);if(!s)return!1;let i=Cp(s);return i?fj(t,i,e):!1},fA=(t,e,n)=>{let s=mj(t,n);if(!s)return!1;let i=Ep(s);return i?fj(t,i,e):!1};function fj(t,e,n){let s=e.nodeBefore,i=s,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let p=i.lastChild;if(!p)return!1;i=p}let c=e.nodeAfter,u=c,h=e.pos+1;for(;!u.isTextblock;h++){if(u.type.spec.isolating)return!1;let p=u.firstChild;if(!p)return!1;u=p}let m=au(t.doc,o,h,ie.empty);if(!m||m.from!=o||m instanceof wt&&m.slice.size>=h-o)return!1;if(n){let p=t.tr.step(m);p.setSelection(ge.create(p.doc,o)),n(p.scrollIntoView())}return!0}function fi(t,e,n=!1){for(let s=t;s;s=e=="start"?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(n&&s.childCount!=1)return!1}return!1}const hj=(t,e,n)=>{let{$head:s,empty:i}=t.selection,o=s;if(!i)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):s.parentOffset>0)return!1;o=Cp(s)}let c=o&&o.nodeBefore;return!c||!he.isSelectable(c)?!1:(e&&e(t.tr.setSelection(he.create(t.doc,o.pos-c.nodeSize)).scrollIntoView()),!0)};function Cp(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function mj(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const pj=(t,e,n)=>{let s=mj(t,n);if(!s)return!1;let i=Ep(s);if(!i)return!1;let o=i.nodeAfter;if(vj(t,i,e,1))return!0;if(s.parent.content.size==0&&(fi(o,"start")||he.isSelectable(o))){let c=au(t.doc,s.before(),s.after(),ie.empty);if(c&&c.slice.size<c.to-c.from){if(e){let u=t.tr.step(c);u.setSelection(fi(o,"start")?ke.findFrom(u.doc.resolve(u.mapping.map(i.pos)),1):he.create(u.doc,u.mapping.map(i.pos))),e(u.scrollIntoView())}return!0}}return o.isAtom&&i.depth==s.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},xj=(t,e,n)=>{let{$head:s,empty:i}=t.selection,o=s;if(!i)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):s.parentOffset<s.parent.content.size)return!1;o=Ep(s)}let c=o&&o.nodeAfter;return!c||!he.isSelectable(c)?!1:(e&&e(t.tr.setSelection(he.create(t.doc,o.pos)).scrollIntoView()),!0)};function Ep(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const hA=(t,e)=>{let n=t.selection,s=n instanceof he,i;if(s){if(n.node.isTextblock||!Cr(t.doc,n.from))return!1;i=n.from}else if(i=ru(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);s&&o.setSelection(he.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},mA=(t,e)=>{let n=t.selection,s;if(n instanceof he){if(n.node.isTextblock||!Cr(t.doc,n.to))return!1;s=n.to}else if(s=ru(t.doc,n.to,1),s==null)return!1;return e&&e(t.tr.join(s).scrollIntoView()),!0},pA=(t,e)=>{let{$from:n,$to:s}=t.selection,i=n.blockRange(s),o=i&&wi(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},gj=(t,e)=>{let{$head:n,$anchor:s}=t.selection;return!n.parent.type.spec.code||!n.sameParent(s)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Tp(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const xA=(t,e)=>{let{$head:n,$anchor:s}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(s))return!1;let i=n.node(-1),o=n.indexAfter(-1),c=Tp(i.contentMatchAt(o));if(!c||!i.canReplaceWith(o,o,c))return!1;if(e){let u=n.after(),h=t.tr.replaceWith(u,u,c.createAndFill());h.setSelection(ke.near(h.doc.resolve(u),1)),e(h.scrollIntoView())}return!0},bj=(t,e)=>{let n=t.selection,{$from:s,$to:i}=n;if(n instanceof vn||s.parent.inlineContent||i.parent.inlineContent)return!1;let o=Tp(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let c=(!s.parentOffset&&i.index()<i.parent.childCount?s:i).pos,u=t.tr.insert(c,o.createAndFill());u.setSelection(ge.create(u.doc,c+1)),e(u.scrollIntoView())}return!0},yj=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Rs(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let s=n.blockRange(),i=s&&wi(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)};function gA(t){return(e,n)=>{let{$from:s,$to:i}=e.selection;if(e.selection instanceof he&&e.selection.node.isBlock)return!s.parentOffset||!Rs(e.doc,s.pos)?!1:(n&&n(e.tr.split(s.pos).scrollIntoView()),!0);if(!s.depth)return!1;let o=[],c,u,h=!1,m=!1;for(let N=s.depth;;N--)if(s.node(N).isBlock){h=s.end(N)==s.pos+(s.depth-N),m=s.start(N)==s.pos-(s.depth-N),u=Tp(s.node(N-1).contentMatchAt(s.indexAfter(N-1))),o.unshift(h&&u?{type:u}:null),c=N;break}else{if(N==1)return!1;o.unshift(null)}let p=e.tr;(e.selection instanceof ge||e.selection instanceof vn)&&p.deleteSelection();let g=p.mapping.map(s.pos),y=Rs(p.doc,g,o.length,o);if(y||(o[0]=u?{type:u}:null,y=Rs(p.doc,g,o.length,o)),!y)return!1;if(p.split(g,o.length,o),!h&&m&&s.node(c).type!=u){let N=p.mapping.map(s.before(c)),v=p.doc.resolve(N);u&&s.node(c-1).canReplaceWith(v.index(),v.index()+1,u)&&p.setNodeMarkup(p.mapping.map(s.before(c)),u)}return n&&n(p.scrollIntoView()),!0}}const bA=gA(),yA=(t,e)=>{let{$from:n,to:s}=t.selection,i,o=n.sharedDepth(s);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(he.create(t.doc,i))),!0)};function vA(t,e,n){let s=e.nodeBefore,i=e.nodeAfter,o=e.index();return!s||!i||!s.type.compatibleContent(i.type)?!1:!s.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-s.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Cr(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function vj(t,e,n,s){let i=e.nodeBefore,o=e.nodeAfter,c,u,h=i.type.spec.isolating||o.type.spec.isolating;if(!h&&vA(t,e,n))return!0;let m=!h&&e.parent.canReplace(e.index(),e.index()+1);if(m&&(c=(u=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&u.matchType(c[0]||o.type).validEnd){if(n){let N=e.pos+o.nodeSize,v=ne.empty;for(let C=c.length-1;C>=0;C--)v=ne.from(c[C].create(null,v));v=ne.from(i.copy(v));let k=t.tr.step(new St(e.pos-1,N,e.pos,N,new ie(v,1,0),c.length,!0)),j=k.doc.resolve(N+2*c.length);j.nodeAfter&&j.nodeAfter.type==i.type&&Cr(k.doc,j.pos)&&k.join(j.pos),n(k.scrollIntoView())}return!0}let p=o.type.spec.isolating||s>0&&h?null:ke.findFrom(e,1),g=p&&p.$from.blockRange(p.$to),y=g&&wi(g);if(y!=null&&y>=e.depth)return n&&n(t.tr.lift(g,y).scrollIntoView()),!0;if(m&&fi(o,"start",!0)&&fi(i,"end")){let N=i,v=[];for(;v.push(N),!N.isTextblock;)N=N.lastChild;let k=o,j=1;for(;!k.isTextblock;k=k.firstChild)j++;if(N.canReplace(N.childCount,N.childCount,k.content)){if(n){let C=ne.empty;for(let M=v.length-1;M>=0;M--)C=ne.from(v[M].copy(C));let T=t.tr.step(new St(e.pos-v.length,e.pos+o.nodeSize,e.pos+j,e.pos+o.nodeSize-j,new ie(C,v.length,0),0,!0));n(T.scrollIntoView())}return!0}}return!1}function Nj(t){return function(e,n){let s=e.selection,i=t<0?s.$from:s.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(ge.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const NA=Nj(-1),jA=Nj(1);function wA(t,e=null){return function(n,s){let{$from:i,$to:o}=n.selection,c=i.blockRange(o),u=c&&wp(c,t,e);return u?(s&&s(n.tr.wrap(c,u).scrollIntoView()),!0):!1}}function fv(t,e=null){return function(n,s){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:c},$to:{pos:u}}=n.selection.ranges[o];n.doc.nodesBetween(c,u,(h,m)=>{if(i)return!1;if(!(!h.isTextblock||h.hasMarkup(t,e)))if(h.type==t)i=!0;else{let p=n.doc.resolve(m),g=p.index();i=p.parent.canReplaceWith(g,g+1,t)}})}if(!i)return!1;if(s){let o=n.tr;for(let c=0;c<n.selection.ranges.length;c++){let{$from:{pos:u},$to:{pos:h}}=n.selection.ranges[c];o.setBlockType(u,h,t,e)}s(o.scrollIntoView())}return!0}}function Ap(...t){return function(e,n,s){for(let i=0;i<t.length;i++)if(t[i](e,n,s))return!0;return!1}}Ap(Sp,uj,hj);Ap(Sp,pj,xj);Ap(gj,bj,yj,bA);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function kA(t,e=null){return function(n,s){let{$from:i,$to:o}=n.selection,c=i.blockRange(o);if(!c)return!1;let u=s?n.tr:null;return SA(u,c,t,e)?(s&&s(u.scrollIntoView()),!0):!1}}function SA(t,e,n,s=null){let i=!1,o=e,c=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let h=c.resolve(e.start-2);o=new od(h,h,e.depth),e.endIndex<e.parent.childCount&&(e=new od(e.$from,c.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let u=wp(o,n,s,e);return u?(t&&CA(t,e,u,i,n),!0):!1}function CA(t,e,n,s,i){let o=ne.empty;for(let p=n.length-1;p>=0;p--)o=ne.from(n[p].type.create(n[p].attrs,o));t.step(new St(e.start-(s?2:0),e.end,e.start,e.end,new ie(o,0,0),n.length,!0));let c=0;for(let p=0;p<n.length;p++)n[p].type==i&&(c=p+1);let u=n.length-c,h=e.start+n.length-(s?2:0),m=e.parent;for(let p=e.startIndex,g=e.endIndex,y=!0;p<g;p++,y=!1)!y&&Rs(t.doc,h,u)&&(t.split(h,u),h+=2*u),h+=m.child(p).nodeSize;return t}function EA(t){return function(e,n){let{$from:s,$to:i}=e.selection,o=s.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);return o?n?s.node(o.depth-1).type==t?TA(e,n,t,o):AA(e,n,o):!0:!1}}function TA(t,e,n,s){let i=t.tr,o=s.end,c=s.$to.end(s.depth);o<c&&(i.step(new St(o-1,c,o,c,new ie(ne.from(n.create(null,s.parent.copy())),1,0),1,!0)),s=new od(i.doc.resolve(s.$from.pos),i.doc.resolve(c),s.depth));const u=wi(s);if(u==null)return!1;i.lift(s,u);let h=i.doc.resolve(i.mapping.map(o,-1)-1);return Cr(i.doc,h.pos)&&h.nodeBefore.type==h.nodeAfter.type&&i.join(h.pos),e(i.scrollIntoView()),!0}function AA(t,e,n){let s=t.tr,i=n.parent;for(let N=n.end,v=n.endIndex-1,k=n.startIndex;v>k;v--)N-=i.child(v).nodeSize,s.delete(N-1,N+1);let o=s.doc.resolve(n.start),c=o.nodeAfter;if(s.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,h=n.endIndex==i.childCount,m=o.node(-1),p=o.index(-1);if(!m.canReplace(p+(u?0:1),p+1,c.content.append(h?ne.empty:ne.from(i))))return!1;let g=o.pos,y=g+c.nodeSize;return s.step(new St(g-(u?1:0),y+(h?1:0),g+1,y-1,new ie((u?ne.empty:ne.from(i.copy(ne.empty))).append(h?ne.empty:ne.from(i.copy(ne.empty))),u?0:1,h?0:1),u?0:1)),e(s.scrollIntoView()),!0}function MA(t){return function(e,n){let{$from:s,$to:i}=e.selection,o=s.blockRange(i,m=>m.childCount>0&&m.firstChild.type==t);if(!o)return!1;let c=o.startIndex;if(c==0)return!1;let u=o.parent,h=u.child(c-1);if(h.type!=t)return!1;if(n){let m=h.lastChild&&h.lastChild.type==u.type,p=ne.from(m?t.create():null),g=new ie(ne.from(t.create(null,ne.from(u.type.create(null,p)))),m?3:1,0),y=o.start,N=o.end;n(e.tr.step(new St(y-(m?3:1),N,y,N,g,1,!0)).scrollIntoView())}return!0}}const Lt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},hi=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Um=null;const As=function(t,e,n){let s=Um||(Um=document.createRange());return s.setEnd(t,n??t.nodeValue.length),s.setStart(t,e||0),s},OA=function(){Um=null},da=function(t,e,n,s){return n&&(hv(t,e,n,s,-1)||hv(t,e,n,s,1))},RA=/^(img|br|input|textarea|hr)$/i;function hv(t,e,n,s,i){for(var o;;){if(t==n&&e==s)return!0;if(e==(i<0?0:Ln(t))){let c=t.parentNode;if(!c||c.nodeType!=1||ao(t)||RA.test(t.nodeName)||t.contentEditable=="false")return!1;e=Lt(t)+(i<0?0:1),t=c}else if(t.nodeType==1){let c=t.childNodes[e+(i<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((o=c.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)e+=i;else return!1;else t=c,e=i<0?Ln(t):0}else return!1}}function Ln(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function DA(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ln(t)}else if(t.parentNode&&!ao(t))e=Lt(t),t=t.parentNode;else return null}}function LA(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!ao(t))e=Lt(t)+1,t=t.parentNode;else return null}}function zA(t,e,n){for(let s=e==0,i=e==Ln(t);s||i;){if(t==n)return!0;let o=Lt(t);if(t=t.parentNode,!t)return!1;s=s&&o==0,i=i&&o==Ln(t)}}function ao(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const lu=function(t){return t.focusNode&&da(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Yr(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function _A(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function BA(t,e,n){if(t.caretPositionFromPoint)try{let s=t.caretPositionFromPoint(e,n);if(s)return{node:s.offsetNode,offset:Math.min(Ln(s.offsetNode),s.offset)}}catch{}if(t.caretRangeFromPoint){let s=t.caretRangeFromPoint(e,n);if(s)return{node:s.startContainer,offset:Math.min(Ln(s.startContainer),s.startOffset)}}}const es=typeof navigator<"u"?navigator:null,mv=typeof document<"u"?document:null,Er=es&&es.userAgent||"",Hm=/Edge\/(\d+)/.exec(Er),jj=/MSIE \d/.exec(Er),Pm=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Er),an=!!(jj||Pm||Hm),yr=jj?document.documentMode:Pm?+Pm[1]:Hm?+Hm[1]:0,zn=!an&&/gecko\/(\d+)/i.test(Er);zn&&+(/Firefox\/(\d+)/.exec(Er)||[0,0])[1];const Im=!an&&/Chrome\/(\d+)/.exec(Er),kt=!!Im,wj=Im?+Im[1]:0,Bt=!an&&!!es&&/Apple Computer/.test(es.vendor),mi=Bt&&(/Mobile\/\w+/.test(Er)||!!es&&es.maxTouchPoints>2),Dn=mi||(es?/Mac/.test(es.platform):!1),kj=es?/Win/.test(es.platform):!1,Ms=/Android \d/.test(Er),io=!!mv&&"webkitFontSmoothing"in mv.documentElement.style,UA=io?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function HA(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Ss(t,e){return typeof t=="number"?t:t[e]}function PA(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,s=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*s}}function pv(t,e,n){let s=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let c=n||t.dom;c;){if(c.nodeType!=1){c=hi(c);continue}let u=c,h=u==o.body,m=h?HA(o):PA(u),p=0,g=0;if(e.top<m.top+Ss(s,"top")?g=-(m.top-e.top+Ss(i,"top")):e.bottom>m.bottom-Ss(s,"bottom")&&(g=e.bottom-e.top>m.bottom-m.top?e.top+Ss(i,"top")-m.top:e.bottom-m.bottom+Ss(i,"bottom")),e.left<m.left+Ss(s,"left")?p=-(m.left-e.left+Ss(i,"left")):e.right>m.right-Ss(s,"right")&&(p=e.right-m.right+Ss(i,"right")),p||g)if(h)o.defaultView.scrollBy(p,g);else{let N=u.scrollLeft,v=u.scrollTop;g&&(u.scrollTop+=g),p&&(u.scrollLeft+=p);let k=u.scrollLeft-N,j=u.scrollTop-v;e={left:e.left-k,top:e.top-j,right:e.right-k,bottom:e.bottom-j}}let y=h?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(y))break;c=y=="absolute"?c.offsetParent:hi(c)}}function IA(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),s,i;for(let o=(e.left+e.right)/2,c=n+1;c<Math.min(innerHeight,e.bottom);c+=5){let u=t.root.elementFromPoint(o,c);if(!u||u==t.dom||!t.dom.contains(u))continue;let h=u.getBoundingClientRect();if(h.top>=n-20){s=u,i=h.top;break}}return{refDOM:s,refTop:i,stack:Sj(t.dom)}}function Sj(t){let e=[],n=t.ownerDocument;for(let s=t;s&&(e.push({dom:s,top:s.scrollTop,left:s.scrollLeft}),t!=n);s=hi(s));return e}function FA({refDOM:t,refTop:e,stack:n}){let s=t?t.getBoundingClientRect().top:0;Cj(n,s==0?0:s-e)}function Cj(t,e){for(let n=0;n<t.length;n++){let{dom:s,top:i,left:o}=t[n];s.scrollTop!=i+e&&(s.scrollTop=i+e),s.scrollLeft!=o&&(s.scrollLeft=o)}}let ti=null;function $A(t){if(t.setActive)return t.setActive();if(ti)return t.focus(ti);let e=Sj(t);t.focus(ti==null?{get preventScroll(){return ti={preventScroll:!0},!0}}:void 0),ti||(ti=!1,Cj(e,0))}function Ej(t,e){let n,s=2e8,i,o=0,c=e.top,u=e.top,h,m;for(let p=t.firstChild,g=0;p;p=p.nextSibling,g++){let y;if(p.nodeType==1)y=p.getClientRects();else if(p.nodeType==3)y=As(p).getClientRects();else continue;for(let N=0;N<y.length;N++){let v=y[N];if(v.top<=c&&v.bottom>=u){c=Math.max(v.bottom,c),u=Math.min(v.top,u);let k=v.left>e.left?v.left-e.left:v.right<e.left?e.left-v.right:0;if(k<s){n=p,s=k,i=k&&n.nodeType==3?{left:v.right<e.left?v.right:v.left,top:e.top}:e,p.nodeType==1&&k&&(o=g+(e.left>=(v.left+v.right)/2?1:0));continue}}else v.top>e.top&&!h&&v.left<=e.left&&v.right>=e.left&&(h=p,m={left:Math.max(v.left,Math.min(v.right,e.left)),top:v.top});!n&&(e.left>=v.right&&e.top>=v.top||e.left>=v.left&&e.top>=v.bottom)&&(o=g+1)}}return!n&&h&&(n=h,i=m,s=0),n&&n.nodeType==3?VA(n,i):!n||s&&n.nodeType==1?{node:t,offset:o}:Ej(n,i)}function VA(t,e){let n=t.nodeValue.length,s=document.createRange(),i;for(let o=0;o<n;o++){s.setEnd(t,o+1),s.setStart(t,o);let c=cr(s,1);if(c.top!=c.bottom&&Mp(e,c)){i={node:t,offset:o+(e.left>=(c.left+c.right)/2?1:0)};break}}return s.detach(),i||{node:t,offset:0}}function Mp(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function qA(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function WA(t,e,n){let{node:s,offset:i}=Ej(e,n),o=-1;if(s.nodeType==1&&!s.firstChild){let c=s.getBoundingClientRect();o=c.left!=c.right&&n.left>(c.left+c.right)/2?1:-1}return t.docView.posFromDOM(s,i,o)}function KA(t,e,n,s){let i=-1;for(let o=e,c=!1;o!=t.dom;){let u=t.docView.nearestDesc(o,!0),h;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((h=u.dom.getBoundingClientRect()).width||h.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!c&&h.left>s.left||h.top>s.top?i=u.posBefore:(!c&&h.right<s.left||h.bottom<s.top)&&(i=u.posAfter),c=!0),!u.contentDOM&&i<0&&!u.node.isText))return(u.node.isBlock?s.top<(h.top+h.bottom)/2:s.left<(h.left+h.right)/2)?u.posBefore:u.posAfter;o=u.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function Tj(t,e,n){let s=t.childNodes.length;if(s&&n.top<n.bottom)for(let i=Math.max(0,Math.min(s-1,Math.floor(s*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let c=t.childNodes[o];if(c.nodeType==1){let u=c.getClientRects();for(let h=0;h<u.length;h++){let m=u[h];if(Mp(e,m))return Tj(c,e,m)}}if((o=(o+1)%s)==i)break}return t}function GA(t,e){let n=t.dom.ownerDocument,s,i=0,o=BA(n,e.left,e.top);o&&({node:s,offset:i}=o);let c=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),u;if(!c||!t.dom.contains(c.nodeType!=1?c.parentNode:c)){let m=t.dom.getBoundingClientRect();if(!Mp(e,m)||(c=Tj(t.dom,e,m),!c))return null}if(Bt)for(let m=c;s&&m;m=hi(m))m.draggable&&(s=void 0);if(c=qA(c,e),s){if(zn&&s.nodeType==1&&(i=Math.min(i,s.childNodes.length),i<s.childNodes.length)){let p=s.childNodes[i],g;p.nodeName=="IMG"&&(g=p.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&i++}let m;io&&i&&s.nodeType==1&&(m=s.childNodes[i-1]).nodeType==1&&m.contentEditable=="false"&&m.getBoundingClientRect().top>=e.top&&i--,s==t.dom&&i==s.childNodes.length-1&&s.lastChild.nodeType==1&&e.top>s.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(i==0||s.nodeType!=1||s.childNodes[i-1].nodeName!="BR")&&(u=KA(t,s,i,e))}u==null&&(u=WA(t,c,e));let h=t.docView.nearestDesc(c,!0);return{pos:u,inside:h?h.posAtStart-h.border:-1}}function xv(t){return t.top<t.bottom||t.left<t.right}function cr(t,e){let n=t.getClientRects();if(n.length){let s=n[e<0?0:n.length-1];if(xv(s))return s}return Array.prototype.find.call(n,xv)||t.getBoundingClientRect()}const YA=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Aj(t,e,n){let{node:s,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),c=io||zn;if(s.nodeType==3)if(c&&(YA.test(s.nodeValue)||(n<0?!i:i==s.nodeValue.length))){let h=cr(As(s,i,i),n);if(zn&&i&&/\s/.test(s.nodeValue[i-1])&&i<s.nodeValue.length){let m=cr(As(s,i-1,i-1),-1);if(m.top==h.top){let p=cr(As(s,i,i+1),-1);if(p.top!=h.top)return Nl(p,p.left<m.left)}}return h}else{let h=i,m=i,p=n<0?1:-1;return n<0&&!i?(m++,p=-1):n>=0&&i==s.nodeValue.length?(h--,p=1):n<0?h--:m++,Nl(cr(As(s,h,m),p),p<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==Ln(s))){let h=s.childNodes[i-1];if(h.nodeType==1)return im(h.getBoundingClientRect(),!1)}if(o==null&&i<Ln(s)){let h=s.childNodes[i];if(h.nodeType==1)return im(h.getBoundingClientRect(),!0)}return im(s.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==Ln(s))){let h=s.childNodes[i-1],m=h.nodeType==3?As(h,Ln(h)-(c?0:1)):h.nodeType==1&&(h.nodeName!="BR"||!h.nextSibling)?h:null;if(m)return Nl(cr(m,1),!1)}if(o==null&&i<Ln(s)){let h=s.childNodes[i];for(;h.pmViewDesc&&h.pmViewDesc.ignoreForCoords;)h=h.nextSibling;let m=h?h.nodeType==3?As(h,0,c?0:1):h.nodeType==1?h:null:null;if(m)return Nl(cr(m,-1),!0)}return Nl(cr(s.nodeType==3?As(s):s,-n),n>=0)}function Nl(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function im(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Mj(t,e,n){let s=t.state,i=t.root.activeElement;s!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{s!=e&&t.updateState(s),i!=t.dom&&i&&i.focus()}}function JA(t,e,n){let s=e.selection,i=n=="up"?s.$from:s.$to;return Mj(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(o,!0);if(!u)break;if(u.node.isBlock){o=u.contentDOM||u.dom;break}o=u.dom.parentNode}let c=Aj(t,i.pos,1);for(let u=o.firstChild;u;u=u.nextSibling){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=As(u,0,u.nodeValue.length).getClientRects();else continue;for(let m=0;m<h.length;m++){let p=h[m];if(p.bottom>p.top+1&&(n=="up"?c.top-p.top>(p.bottom-c.top)*2:p.bottom-c.bottom>(c.bottom-p.top)*2))return!1}}return!0})}const XA=/[\u0590-\u08ac]/;function QA(t,e,n){let{$head:s}=e.selection;if(!s.parent.isTextblock)return!1;let i=s.parentOffset,o=!i,c=i==s.parent.content.size,u=t.domSelection();return u?!XA.test(s.parent.textContent)||!u.modify?n=="left"||n=="backward"?o:c:Mj(t,e,()=>{let{focusNode:h,focusOffset:m,anchorNode:p,anchorOffset:g}=t.domSelectionRange(),y=u.caretBidiLevel;u.modify("move",n,"character");let N=s.depth?t.docView.domAfterPos(s.before()):t.dom,{focusNode:v,focusOffset:k}=t.domSelectionRange(),j=v&&!N.contains(v.nodeType==1?v:v.parentNode)||h==v&&m==k;try{u.collapse(p,g),h&&(h!=p||m!=g)&&u.extend&&u.extend(h,m)}catch{}return y!=null&&(u.caretBidiLevel=y),j}):s.pos==s.start()||s.pos==s.end()}let gv=null,bv=null,yv=!1;function ZA(t,e,n){return gv==e&&bv==n?yv:(gv=e,bv=n,yv=n=="up"||n=="down"?JA(t,e,n):QA(t,e,n))}const _n=0,vv=1,Xr=2,ts=3;class lo{constructor(e,n,s,i){this.parent=e,this.children=n,this.dom=s,this.contentDOM=i,this.dirty=_n,s.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,s){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,s=this.posAtStart;;n++){let i=this.children[n];if(i==e)return s;s+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,s){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(s<0){let o,c;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((c=o.pmViewDesc)&&c.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(c)+c.size:this.posAtStart}else{let o,c;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((c=o.pmViewDesc)&&c.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(c):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Lt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??s>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let s=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),c;if(o&&(!n||o.node))if(s&&(c=o.nodeDOM)&&!(c.nodeType==1?c.contains(e.nodeType==1?e:e.parentNode):c==e))s=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let s=n;s;s=s.parent)if(s==this)return n}posFromDOM(e,n,s){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,s)}return-1}descAt(e){for(let n=0,s=0;n<this.children.length;n++){let i=this.children[n],o=s+i.size;if(s==e&&o!=s){for(;!i.border&&i.children.length;)for(let c=0;c<i.children.length;c++){let u=i.children[c];if(u.size){i=u;break}}return i}if(e<o)return i.descAt(e-s-i.border);s=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let s=0,i=0;for(let o=0;s<this.children.length;s++){let c=this.children[s],u=o+c.size;if(u>e||c instanceof Rj){i=e-o;break}o=u}if(i)return this.children[s].domFromPos(i-this.children[s].border,n);for(let o;s&&!(o=this.children[s-1]).size&&o instanceof Oj&&o.side>=0;s--);if(n<=0){let o,c=!0;for(;o=s?this.children[s-1]:null,!(!o||o.dom.parentNode==this.contentDOM);s--,c=!1);return o&&n&&c&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Lt(o.dom)+1:0}}else{let o,c=!0;for(;o=s<this.children.length?this.children[s]:null,!(!o||o.dom.parentNode==this.contentDOM);s++,c=!1);return o&&c&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Lt(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,s=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let c=s,u=0;;u++){let h=this.children[u],m=c+h.size;if(i==-1&&e<=m){let p=c+h.border;if(e>=p&&n<=m-h.border&&h.node&&h.contentDOM&&this.contentDOM.contains(h.contentDOM))return h.parseRange(e,n,p);e=c;for(let g=u;g>0;g--){let y=this.children[g-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){i=Lt(y.dom)+1;break}e-=y.size}i==-1&&(i=0)}if(i>-1&&(m>n||u==this.children.length-1)){n=m;for(let p=u+1;p<this.children.length;p++){let g=this.children[p];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){o=Lt(g.dom);break}n+=g.size}o==-1&&(o=this.contentDOM.childNodes.length);break}c=m}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:s}=this.domFromPos(e,0);if(n.nodeType!=1||s==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[s]}setSelection(e,n,s,i=!1){let o=Math.min(e,n),c=Math.max(e,n);for(let N=0,v=0;N<this.children.length;N++){let k=this.children[N],j=v+k.size;if(o>v&&c<j)return k.setSelection(e-v-k.border,n-v-k.border,s,i);v=j}let u=this.domFromPos(e,e?-1:1),h=n==e?u:this.domFromPos(n,n?-1:1),m=s.root.getSelection(),p=s.domSelectionRange(),g=!1;if((zn||Bt)&&e==n){let{node:N,offset:v}=u;if(N.nodeType==3){if(g=!!(v&&N.nodeValue[v-1]==`
`),g&&v==N.nodeValue.length)for(let k=N,j;k;k=k.parentNode){if(j=k.nextSibling){j.nodeName=="BR"&&(u=h={node:j.parentNode,offset:Lt(j)+1});break}let C=k.pmViewDesc;if(C&&C.node&&C.node.isBlock)break}}else{let k=N.childNodes[v-1];g=k&&(k.nodeName=="BR"||k.contentEditable=="false")}}if(zn&&p.focusNode&&p.focusNode!=h.node&&p.focusNode.nodeType==1){let N=p.focusNode.childNodes[p.focusOffset];N&&N.contentEditable=="false"&&(i=!0)}if(!(i||g&&Bt)&&da(u.node,u.offset,p.anchorNode,p.anchorOffset)&&da(h.node,h.offset,p.focusNode,p.focusOffset))return;let y=!1;if((m.extend||e==n)&&!(g&&zn)){m.collapse(u.node,u.offset);try{e!=n&&m.extend(h.node,h.offset),y=!0}catch{}}if(!y){if(e>n){let v=u;u=h,h=v}let N=document.createRange();N.setEnd(h.node,h.offset),N.setStart(u.node,u.offset),m.removeAllRanges(),m.addRange(N)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let s=0,i=0;i<this.children.length;i++){let o=this.children[i],c=s+o.size;if(s==c?e<=c&&n>=s:e<c&&n>s){let u=s+o.border,h=c-o.border;if(e>=u&&n<=h){this.dirty=e==s||n==c?Xr:vv,e==u&&n==h&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=ts:o.markDirty(e-u,n-u);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Xr:ts}s=c}this.dirty=Xr}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let s=e==1?Xr:vv;n.dirty<s&&(n.dirty=s)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class Oj extends lo{constructor(e,n,s,i){let o,c=n.type.toDOM;if(typeof c=="function"&&(c=c(s,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(c.nodeType!=1){let u=document.createElement("span");u.appendChild(c),c=u}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(e,[],c,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==_n&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class eM extends lo{constructor(e,n,s,i){super(e,[],n,null),this.textDOM=s,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ua extends lo{constructor(e,n,s,i,o){super(e,[],s,i),this.mark=n,this.spec=o}static create(e,n,s,i){let o=i.nodeViews[n.type.name],c=o&&o(n,i,s);return(!c||!c.dom)&&(c=ma.renderSpec(document,n.type.spec.toDOM(n,s),null,n.attrs)),new ua(e,n,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&ts||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ts&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=_n){let s=this.parent;for(;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=_n}}slice(e,n,s){let i=ua.create(this.parent,this.mark,!0,s),o=this.children,c=this.size;n<c&&(o=$m(o,n,c,s)),e>0&&(o=$m(o,0,e,s));for(let u=0;u<o.length;u++)o[u].parent=i;return i.children=o,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class vr extends lo{constructor(e,n,s,i,o,c,u,h,m){super(e,[],o,c),this.node=n,this.outerDeco=s,this.innerDeco=i,this.nodeDOM=u}static create(e,n,s,i,o,c){let u=o.nodeViews[n.type.name],h,m=u&&u(n,o,()=>{if(!h)return c;if(h.parent)return h.parent.posBeforeChild(h)},s,i),p=m&&m.dom,g=m&&m.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:g}=ma.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!g&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let y=p;return p=zj(p,s,n),m?h=new tM(e,n,s,i,p,g||null,y,m,o,c+1):n.isText?new ou(e,n,s,i,p,y,o):new vr(e,n,s,i,p,g||null,y,o,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let s=this.children[n];if(this.dom.contains(s.dom.parentNode)){e.contentElement=s.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ne.empty)}return e}matchesNode(e,n,s){return this.dirty==_n&&e.eq(this.node)&&dd(n,this.outerDeco)&&s.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let s=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,c=o&&o.pos>-1?o:null,u=o&&o.pos<0,h=new sM(this,c&&c.node,e);iM(this.node,this.innerDeco,(m,p,g)=>{m.spec.marks?h.syncToMarks(m.spec.marks,s,e,p):m.type.side>=0&&!g&&h.syncToMarks(p==this.node.childCount?Ge.none:this.node.child(p).marks,s,e,p),h.placeWidget(m,e,i)},(m,p,g,y)=>{h.syncToMarks(m.marks,s,e,y);let N;h.findNodeMatch(m,p,g,y)||u&&e.state.selection.from>i&&e.state.selection.to<i+m.nodeSize&&(N=h.findIndexWithChild(o.node))>-1&&h.updateNodeAt(m,p,g,N,e)||h.updateNextNode(m,p,g,e,y,i)||h.addNode(m,p,g,e,i),i+=m.nodeSize}),h.syncToMarks([],s,e,0),this.node.isTextblock&&h.addTextblockHacks(),h.destroyRest(),(h.changed||this.dirty==Xr)&&(c&&this.protectLocalComposition(e,c),Dj(this.contentDOM,this.children,e),mi&&lM(this.dom))}localCompositionInfo(e,n){let{from:s,to:i}=e.state.selection;if(!(e.state.selection instanceof ge)||s<n||i>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let c=o.nodeValue,u=oM(this.node.content,c,s-n,i-n);return u<0?null:{node:o,pos:u,text:c}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:s,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let c=new eM(this,o,n,i);e.input.compositionNodes.push(c),this.children=$m(this.children,s,s+i.length,e,c)}update(e,n,s,i){return this.dirty==ts||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,s,i),!0)}updateInner(e,n,s,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=s,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=_n}updateOuterDeco(e){if(dd(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,s=this.dom;this.dom=Lj(this.dom,this.nodeDOM,Fm(this.outerDeco,this.node,n),Fm(e,this.node,n)),this.dom!=s&&(s.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Nv(t,e,n,s,i){zj(s,e,t);let o=new vr(void 0,t,e,n,s,s,s,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class ou extends vr{constructor(e,n,s,i,o,c,u){super(e,n,s,i,o,null,c,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,s,i){return this.dirty==ts||this.dirty!=_n&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=_n||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=_n,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,s){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,s)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,s){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new ou(this.parent,i,this.outerDeco,this.innerDeco,o,o,s)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ts)}get domAtom(){return!1}isText(e){return this.node.text==e}}class Rj extends lo{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==_n&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class tM extends vr{constructor(e,n,s,i,o,c,u,h,m,p){super(e,n,s,i,o,c,u,m,p),this.spec=h}update(e,n,s,i){if(this.dirty==ts)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,s);return o&&this.updateInner(e,n,s,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,s,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,s,i){this.spec.setSelection?this.spec.setSelection(e,n,s.root):super.setSelection(e,n,s,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Dj(t,e,n){let s=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let c=e[o],u=c.dom;if(u.parentNode==t){for(;u!=s;)s=jv(s),i=!0;s=s.nextSibling}else i=!0,t.insertBefore(u,s);if(c instanceof ua){let h=s?s.previousSibling:t.lastChild;Dj(c.contentDOM,c.children,n),s=h?h.nextSibling:t.firstChild}}for(;s;)s=jv(s),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Ol=function(t){t&&(this.nodeName=t)};Ol.prototype=Object.create(null);const Qr=[new Ol];function Fm(t,e,n){if(t.length==0)return Qr;let s=n?Qr[0]:new Ol,i=[s];for(let o=0;o<t.length;o++){let c=t[o].type.attrs;if(c){c.nodeName&&i.push(s=new Ol(c.nodeName));for(let u in c){let h=c[u];h!=null&&(n&&i.length==1&&i.push(s=new Ol(e.isInline?"span":"div")),u=="class"?s.class=(s.class?s.class+" ":"")+h:u=="style"?s.style=(s.style?s.style+";":"")+h:u!="nodeName"&&(s[u]=h))}}}return i}function Lj(t,e,n,s){if(n==Qr&&s==Qr)return e;let i=e;for(let o=0;o<s.length;o++){let c=s[o],u=n[o];if(o){let h;u&&u.nodeName==c.nodeName&&i!=t&&(h=i.parentNode)&&h.nodeName.toLowerCase()==c.nodeName||(h=document.createElement(c.nodeName),h.pmIsDeco=!0,h.appendChild(i),u=Qr[0]),i=h}nM(i,u||Qr[0],c)}return i}function nM(t,e,n){for(let s in e)s!="class"&&s!="style"&&s!="nodeName"&&!(s in n)&&t.removeAttribute(s);for(let s in n)s!="class"&&s!="style"&&s!="nodeName"&&n[s]!=e[s]&&t.setAttribute(s,n[s]);if(e.class!=n.class){let s=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<s.length;o++)i.indexOf(s[o])==-1&&t.classList.remove(s[o]);for(let o=0;o<i.length;o++)s.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let s=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=s.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function zj(t,e,n){return Lj(t,t,Qr,Fm(e,n,t.nodeType!=1))}function dd(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function jv(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class sM{constructor(e,n,s){this.lock=n,this.view=s,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=rM(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let s=e;s<n;s++)this.top.children[s].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,s,i){let o=0,c=this.stack.length>>1,u=Math.min(c,e.length);for(;o<u&&(o==c-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<c;)this.destroyRest(),this.top.dirty=_n,this.index=this.stack.pop(),this.top=this.stack.pop(),c--;for(;c<e.length;){this.stack.push(this.top,this.index+1);let h=-1,m=this.top.children.length;i<this.preMatch.index&&(m=Math.min(this.index+3,m));for(let p=this.index;p<m;p++){let g=this.top.children[p];if(g.matchesMark(e[c])&&!this.isLocked(g.dom)){h=p;break}}if(h>-1)h>this.index&&(this.changed=!0,this.destroyBetween(this.index,h)),this.top=this.top.children[this.index];else{let p=ua.create(this.top,e[c],n,s);this.top.children.splice(this.index,0,p),this.top=p,this.changed=!0}this.index=0,c++}}findNodeMatch(e,n,s,i){let o=-1,c;if(i>=this.preMatch.index&&(c=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&c.matchesNode(e,n,s))o=this.top.children.indexOf(c,this.index);else for(let u=this.index,h=Math.min(this.top.children.length,u+5);u<h;u++){let m=this.top.children[u];if(m.matchesNode(e,n,s)&&!this.preMatch.matched.has(m)){o=u;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,s,i,o){let c=this.top.children[i];return c.dirty==ts&&c.dom==c.contentDOM&&(c.dirty=Xr),c.update(e,n,s,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let s=e.pmViewDesc;if(s){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==s)return i}return-1}e=n}}updateNextNode(e,n,s,i,o,c){for(let u=this.index;u<this.top.children.length;u++){let h=this.top.children[u];if(h instanceof vr){let m=this.preMatch.matched.get(h);if(m!=null&&m!=o)return!1;let p=h.dom,g,y=this.isLocked(p)&&!(e.isText&&h.node&&h.node.isText&&h.nodeDOM.nodeValue==e.text&&h.dirty!=ts&&dd(n,h.outerDeco));if(!y&&h.update(e,n,s,i))return this.destroyBetween(this.index,u),h.dom!=p&&(this.changed=!0),this.index++,!0;if(!y&&(g=this.recreateWrapper(h,e,n,s,i,c)))return this.destroyBetween(this.index,u),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=Xr,g.updateChildren(i,c+1),g.dirty=_n),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,s,i,o,c){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!dd(s,e.outerDeco)||!i.eq(e.innerDeco))return null;let u=vr.create(this.top,n,s,i,o,c);if(u.contentDOM){u.children=e.children,e.children=[];for(let h of u.children)h.parent=u}return e.destroy(),u}addNode(e,n,s,i,o){let c=vr.create(this.top,e,n,s,i,o);c.contentDOM&&c.updateChildren(i,o+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(e,n,s){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new Oj(this.top,e,n,s);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof ua;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof ou)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Bt||kt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let s=document.createElement(e);e=="IMG"&&(s.className="ProseMirror-separator",s.alt=""),e=="BR"&&(s.className="ProseMirror-trailingBreak");let i=new Rj(this.top,[],s,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function rM(t,e){let n=e,s=n.children.length,i=t.childCount,o=new Map,c=[];e:for(;i>0;){let u;for(;;)if(s){let m=n.children[s-1];if(m instanceof ua)n=m,s=m.children.length;else{u=m,s--;break}}else{if(n==e)break e;s=n.parent.children.indexOf(n),n=n.parent}let h=u.node;if(h){if(h!=t.child(i-1))break;--i,o.set(u,i),c.push(u)}}return{index:i,matched:o,matches:c.reverse()}}function aM(t,e){return t.type.side-e.type.side}function iM(t,e,n,s){let i=e.locals(t),o=0;if(i.length==0){for(let m=0;m<t.childCount;m++){let p=t.child(m);s(p,i,e.forChild(o,p),m),o+=p.nodeSize}return}let c=0,u=[],h=null;for(let m=0;;){let p,g;for(;c<i.length&&i[c].to==o;){let j=i[c++];j.widget&&(p?(g||(g=[p])).push(j):p=j)}if(p)if(g){g.sort(aM);for(let j=0;j<g.length;j++)n(g[j],m,!!h)}else n(p,m,!!h);let y,N;if(h)N=-1,y=h,h=null;else if(m<t.childCount)N=m,y=t.child(m++);else break;for(let j=0;j<u.length;j++)u[j].to<=o&&u.splice(j--,1);for(;c<i.length&&i[c].from<=o&&i[c].to>o;)u.push(i[c++]);let v=o+y.nodeSize;if(y.isText){let j=v;c<i.length&&i[c].from<j&&(j=i[c].from);for(let C=0;C<u.length;C++)u[C].to<j&&(j=u[C].to);j<v&&(h=y.cut(j-o),y=y.cut(0,j-o),v=j,N=-1)}else for(;c<i.length&&i[c].to<v;)c++;let k=y.isInline&&!y.isLeaf?u.filter(j=>!j.inline):u.slice();s(y,k,e.forChild(o,y),N),o=v}}function lM(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function oM(t,e,n,s){for(let i=0,o=0;i<t.childCount&&o<=s;){let c=t.child(i++),u=o;if(o+=c.nodeSize,!c.isText)continue;let h=c.text;for(;i<t.childCount;){let m=t.child(i++);if(o+=m.nodeSize,!m.isText)break;h+=m.text}if(o>=n){if(o>=s&&h.slice(s-e.length-u,s-u)==e)return s-e.length;let m=u<s?h.lastIndexOf(e,s-u-1):-1;if(m>=0&&m+e.length+u>=n)return u+m;if(n==s&&h.length>=s+e.length-u&&h.slice(s-u,s-u+e.length)==e)return s}}return-1}function $m(t,e,n,s,i){let o=[];for(let c=0,u=0;c<t.length;c++){let h=t[c],m=u,p=u+=h.size;m>=n||p<=e?o.push(h):(m<e&&o.push(h.slice(0,e-m,s)),i&&(o.push(i),i=void 0),p>n&&o.push(h.slice(n-m,h.size,s)))}return o}function Op(t,e=null){let n=t.domSelectionRange(),s=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,c=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(c<0)return null;let u=s.resolve(c),h,m;if(lu(n)){for(h=c;i&&!i.node;)i=i.parent;let g=i.node;if(i&&g.isAtom&&he.isSelectable(g)&&i.parent&&!(g.isInline&&zA(n.focusNode,n.focusOffset,i.dom))){let y=i.posBefore;m=new he(c==y?u:s.resolve(y))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let g=c,y=c;for(let N=0;N<n.rangeCount;N++){let v=n.getRangeAt(N);g=Math.min(g,t.docView.posFromDOM(v.startContainer,v.startOffset,1)),y=Math.max(y,t.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(g<0)return null;[h,c]=y==t.state.selection.anchor?[y,g]:[g,y],u=s.resolve(c)}else h=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(h<0)return null}let p=s.resolve(h);if(!m){let g=e=="pointer"||t.state.selection.head<u.pos&&!o?1:-1;m=Rp(t,p,u,g)}return m}function _j(t){return t.editable?t.hasFocus():Uj(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ds(t,e=!1){let n=t.state.selection;if(Bj(t,n),!!_j(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&kt){let s=t.domSelectionRange(),i=t.domObserver.currentSelection;if(s.anchorNode&&i.anchorNode&&da(s.anchorNode,s.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)dM(t);else{let{anchor:s,head:i}=n,o,c;wv&&!(n instanceof ge)&&(n.$from.parent.inlineContent||(o=kv(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(c=kv(t,n.to))),t.docView.setSelection(s,i,t,e),wv&&(o&&Sv(o),c&&Sv(c)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&cM(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const wv=Bt||kt&&wj<63;function kv(t,e){let{node:n,offset:s}=t.docView.domFromPos(e,0),i=s<n.childNodes.length?n.childNodes[s]:null,o=s?n.childNodes[s-1]:null;if(Bt&&i&&i.contentEditable=="false")return lm(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return lm(i);if(o)return lm(o)}}function lm(t){return t.contentEditable="true",Bt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Sv(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function cM(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),s=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=s||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!_j(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function dM(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,s=n.nodeName=="IMG";s?e.collapse(n.parentNode,Lt(n)+1):e.collapse(n,0),!s&&!t.state.selection.visible&&an&&yr<=11&&(n.disabled=!0,n.disabled=!1)}function Bj(t,e){if(e instanceof he){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Cv(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Cv(t)}function Cv(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Rp(t,e,n,s){return t.someProp("createSelectionBetween",i=>i(t,e,n))||ge.between(e,n,s)}function Ev(t){return t.editable&&!t.hasFocus()?!1:Uj(t)}function Uj(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function uM(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return da(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Vm(t,e){let{$anchor:n,$head:s}=t.selection,i=e>0?n.max(s):n.min(s),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&ke.findFrom(o,e)}function dr(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Tv(t,e,n){let s=t.state.selection;if(s instanceof ge)if(n.indexOf("s")>-1){let{$head:i}=s,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let c=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return dr(t,new ge(s.$anchor,c))}else if(s.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Vm(t.state,e);return i&&i instanceof he?dr(t,i):!1}else if(!(Dn&&n.indexOf("m")>-1)){let i=s.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,c;if(!o||o.isText)return!1;let u=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(c=t.docView.descAt(u))&&!c.contentDOM?he.isSelectable(o)?dr(t,new he(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):io?dr(t,new ge(t.state.doc.resolve(e<0?u:u+o.nodeSize))):!1:!1}}else return!1;else{if(s instanceof he&&s.node.isInline)return dr(t,new ge(e>0?s.$to:s.$from));{let i=Vm(t.state,e);return i?dr(t,i):!1}}}function ud(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Rl(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ni(t,e){return e<0?fM(t):hM(t)}function fM(t){let e=t.domSelectionRange(),n=e.focusNode,s=e.focusOffset;if(!n)return;let i,o,c=!1;for(zn&&n.nodeType==1&&s<ud(n)&&Rl(n.childNodes[s],-1)&&(c=!0);;)if(s>0){if(n.nodeType!=1)break;{let u=n.childNodes[s-1];if(Rl(u,-1))i=n,o=--s;else if(u.nodeType==3)n=u,s=n.nodeValue.length;else break}}else{if(Hj(n))break;{let u=n.previousSibling;for(;u&&Rl(u,-1);)i=n.parentNode,o=Lt(u),u=u.previousSibling;if(u)n=u,s=ud(n);else{if(n=n.parentNode,n==t.dom)break;s=0}}}c?qm(t,n,s):i&&qm(t,i,o)}function hM(t){let e=t.domSelectionRange(),n=e.focusNode,s=e.focusOffset;if(!n)return;let i=ud(n),o,c;for(;;)if(s<i){if(n.nodeType!=1)break;let u=n.childNodes[s];if(Rl(u,1))o=n,c=++s;else break}else{if(Hj(n))break;{let u=n.nextSibling;for(;u&&Rl(u,1);)o=u.parentNode,c=Lt(u)+1,u=u.nextSibling;if(u)n=u,s=0,i=ud(n);else{if(n=n.parentNode,n==t.dom)break;s=i=0}}}o&&qm(t,o,c)}function Hj(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function mM(t,e){for(;t&&e==t.childNodes.length&&!ao(t);)e=Lt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function pM(t,e){for(;t&&!e&&!ao(t);)e=Lt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function qm(t,e,n){if(e.nodeType!=3){let o,c;(c=mM(e,n))?(e=c,n=0):(o=pM(e,n))&&(e=o,n=o.nodeValue.length)}let s=t.domSelection();if(!s)return;if(lu(s)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),s.removeAllRanges(),s.addRange(o)}else s.extend&&s.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Ds(t)},50)}function Av(t,e){let n=t.state.doc.resolve(e);if(!(kt||kj)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),c=(o.top+o.bottom)/2;if(c>i.top&&c<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),c=(o.top+o.bottom)/2;if(c>i.top&&c<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Mv(t,e,n){let s=t.state.selection;if(s instanceof ge&&!s.empty||n.indexOf("s")>-1||Dn&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=s;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let c=Vm(t.state,e);if(c&&c instanceof he)return dr(t,c)}if(!i.parent.inlineContent){let c=e<0?i:o,u=s instanceof vn?ke.near(c,e):ke.findFrom(c,e);return u?dr(t,u):!1}return!1}function Ov(t,e){if(!(t.state.selection instanceof ge))return!0;let{$head:n,$anchor:s,empty:i}=t.state.selection;if(!n.sameParent(s))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let c=t.state.tr;return e<0?c.delete(n.pos-o.nodeSize,n.pos):c.delete(n.pos,n.pos+o.nodeSize),t.dispatch(c),!0}return!1}function Rv(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function xM(t){if(!Bt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let s=e.firstChild;Rv(t,s,"true"),setTimeout(()=>Rv(t,s,"false"),20)}return!1}function gM(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function bM(t,e){let n=e.keyCode,s=gM(e);if(n==8||Dn&&n==72&&s=="c")return Ov(t,-1)||ni(t,-1);if(n==46&&!e.shiftKey||Dn&&n==68&&s=="c")return Ov(t,1)||ni(t,1);if(n==13||n==27)return!0;if(n==37||Dn&&n==66&&s=="c"){let i=n==37?Av(t,t.state.selection.from)=="ltr"?-1:1:-1;return Tv(t,i,s)||ni(t,i)}else if(n==39||Dn&&n==70&&s=="c"){let i=n==39?Av(t,t.state.selection.from)=="ltr"?1:-1:1;return Tv(t,i,s)||ni(t,i)}else{if(n==38||Dn&&n==80&&s=="c")return Mv(t,-1,s)||ni(t,-1);if(n==40||Dn&&n==78&&s=="c")return xM(t)||Mv(t,1,s)||ni(t,1);if(s==(Dn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Dp(t,e){t.someProp("transformCopied",N=>{e=N(e,t)});let n=[],{content:s,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&s.childCount==1&&s.firstChild.childCount==1;){i--,o--;let N=s.firstChild;n.push(N.type.name,N.attrs!=N.type.defaultAttrs?N.attrs:null),s=N.content}let c=t.someProp("clipboardSerializer")||ma.fromSchema(t.state.schema),u=qj(),h=u.createElement("div");h.appendChild(c.serializeFragment(s,{document:u}));let m=h.firstChild,p,g=0;for(;m&&m.nodeType==1&&(p=Vj[m.nodeName.toLowerCase()]);){for(let N=p.length-1;N>=0;N--){let v=u.createElement(p[N]);for(;h.firstChild;)v.appendChild(h.firstChild);h.appendChild(v),g++}m=h.firstChild}m&&m.nodeType==1&&m.setAttribute("data-pm-slice",`${i} ${o}${g?` -${g}`:""} ${JSON.stringify(n)}`);let y=t.someProp("clipboardTextSerializer",N=>N(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:h,text:y,slice:e}}function Pj(t,e,n,s,i){let o=i.parent.type.spec.code,c,u;if(!n&&!e)return null;let h=!!e&&(s||o||!n);if(h){if(t.someProp("transformPastedText",y=>{e=y(e,o||s,t)}),o)return u=new ie(ne.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",y=>{u=y(u,t,!0)}),u;let g=t.someProp("clipboardTextParser",y=>y(e,i,s,t));if(g)u=g;else{let y=i.marks(),{schema:N}=t.state,v=ma.fromSchema(N);c=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(k=>{let j=c.appendChild(document.createElement("p"));k&&j.appendChild(v.serializeNode(N.text(k,y)))})}}else t.someProp("transformPastedHTML",g=>{n=g(n,t)}),c=jM(n),io&&wM(c);let m=c&&c.querySelector("[data-pm-slice]"),p=m&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(m.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let g=+p[3];g>0;g--){let y=c.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;c=y}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||br.fromSchema(t.state.schema)).parseSlice(c,{preserveWhitespace:!!(h||p),context:i,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!yM.test(y.parentNode.nodeName)?{ignore:!0}:null}})),p)u=kM(Dv(u,+p[1],+p[2]),p[4]);else if(u=ie.maxOpen(vM(u.content,i),!0),u.openStart||u.openEnd){let g=0,y=0;for(let N=u.content.firstChild;g<u.openStart&&!N.type.spec.isolating;g++,N=N.firstChild);for(let N=u.content.lastChild;y<u.openEnd&&!N.type.spec.isolating;y++,N=N.lastChild);u=Dv(u,g,y)}return t.someProp("transformPasted",g=>{u=g(u,t,h)}),u}const yM=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function vM(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,c=[];if(t.forEach(u=>{if(!c)return;let h=i.findWrapping(u.type),m;if(!h)return c=null;if(m=c.length&&o.length&&Fj(h,o,u,c[c.length-1],0))c[c.length-1]=m;else{c.length&&(c[c.length-1]=$j(c[c.length-1],o.length));let p=Ij(u,h);c.push(p),i=i.matchType(p.type),o=h}}),c)return ne.from(c)}return t}function Ij(t,e,n=0){for(let s=e.length-1;s>=n;s--)t=e[s].create(null,ne.from(t));return t}function Fj(t,e,n,s,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=Fj(t,e,n,s.lastChild,i+1);if(o)return s.copy(s.content.replaceChild(s.childCount-1,o));if(s.contentMatchAt(s.childCount).matchType(i==t.length-1?n.type:t[i+1]))return s.copy(s.content.append(ne.from(Ij(n,t,i+1))))}}function $j(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,$j(t.lastChild,e-1)),s=t.contentMatchAt(t.childCount).fillBefore(ne.empty,!0);return t.copy(n.append(s))}function Wm(t,e,n,s,i,o){let c=e<0?t.firstChild:t.lastChild,u=c.content;return t.childCount>1&&(o=0),i<s-1&&(u=Wm(u,e,n,s,i+1,o)),i>=n&&(u=e<0?c.contentMatchAt(0).fillBefore(u,o<=i).append(u):u.append(c.contentMatchAt(c.childCount).fillBefore(ne.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,c.copy(u))}function Dv(t,e,n){return e<t.openStart&&(t=new ie(Wm(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ie(Wm(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Vj={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Lv=null;function qj(){return Lv||(Lv=document.implementation.createHTMLDocument("title"))}let om=null;function NM(t){let e=window.trustedTypes;return e?(om||(om=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),om.createHTML(t)):t}function jM(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=qj().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(t),i;if((i=s&&Vj[s[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=NM(t),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function wM(t){let e=t.querySelectorAll(kt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let s=e[n];s.childNodes.length==1&&s.textContent==""&&s.parentNode&&s.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),s)}}function kM(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,s;try{s=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:c}=t;for(let u=s.length-2;u>=0;u-=2){let h=n.nodes[s[u]];if(!h||h.hasRequiredAttrs())break;i=ne.from(h.create(s[u+1],i)),o++,c++}return new ie(i,o,c)}const Wt={},Kt={},SM={touchstart:!0,touchmove:!0};class CM{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function EM(t){for(let e in Wt){let n=Wt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=s=>{AM(t,s)&&!Lp(t,s)&&(t.editable||!(s.type in Kt))&&n(t,s)},SM[e]?{passive:!0}:void 0)}Bt&&t.dom.addEventListener("input",()=>null),Km(t)}function gr(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function TM(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Km(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=s=>Lp(t,s))})}function Lp(t,e){return t.someProp("handleDOMEvents",n=>{let s=n[e.type];return s?s(t,e)||e.defaultPrevented:!1})}function AM(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function MM(t,e){!Lp(t,e)&&Wt[e.type]&&(t.editable||!(e.type in Kt))&&Wt[e.type](t,e)}Kt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!Kj(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ms&&kt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),mi&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let s=Date.now();t.input.lastIOSEnter=s,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==s&&(t.someProp("handleKeyDown",i=>i(t,Yr(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",s=>s(t,n))||bM(t,n)?n.preventDefault():gr(t,"key")};Kt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Kt.keypress=(t,e)=>{let n=e;if(Kj(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Dn&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let s=t.state.selection;if(!(s instanceof ge)||!s.$from.sameParent(s.$to)){let i=String.fromCharCode(n.charCode),o=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",c=>c(t,s.$from.pos,s.$to.pos,i,o))&&t.dispatch(o()),n.preventDefault()}};function cu(t){return{left:t.clientX,top:t.clientY}}function OM(t,e){let n=e.x-t.clientX,s=e.y-t.clientY;return n*n+s*s<100}function zp(t,e,n,s,i){if(s==-1)return!1;let o=t.state.doc.resolve(s);for(let c=o.depth+1;c>0;c--)if(t.someProp(e,u=>c>o.depth?u(t,n,o.nodeAfter,o.before(c),i,!0):u(t,n,o.node(c),o.before(c),i,!1)))return!0;return!1}function ci(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let s=t.state.tr.setSelection(e);s.setMeta("pointer",!0),t.dispatch(s)}function RM(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),s=n.nodeAfter;return s&&s.isAtom&&he.isSelectable(s)?(ci(t,new he(n)),!0):!1}function DM(t,e){if(e==-1)return!1;let n=t.state.selection,s,i;n instanceof he&&(s=n.node);let o=t.state.doc.resolve(e);for(let c=o.depth+1;c>0;c--){let u=c>o.depth?o.nodeAfter:o.node(c);if(he.isSelectable(u)){s&&n.$from.depth>0&&c>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(c);break}}return i!=null?(ci(t,he.create(t.state.doc,i)),!0):!1}function LM(t,e,n,s,i){return zp(t,"handleClickOn",e,n,s)||t.someProp("handleClick",o=>o(t,e,s))||(i?DM(t,n):RM(t,n))}function zM(t,e,n,s){return zp(t,"handleDoubleClickOn",e,n,s)||t.someProp("handleDoubleClick",i=>i(t,e,s))}function _M(t,e,n,s){return zp(t,"handleTripleClickOn",e,n,s)||t.someProp("handleTripleClick",i=>i(t,e,s))||BM(t,n,s)}function BM(t,e,n){if(n.button!=0)return!1;let s=t.state.doc;if(e==-1)return s.inlineContent?(ci(t,ge.create(s,0,s.content.size)),!0):!1;let i=s.resolve(e);for(let o=i.depth+1;o>0;o--){let c=o>i.depth?i.nodeAfter:i.node(o),u=i.before(o);if(c.inlineContent)ci(t,ge.create(s,u+1,u+1+c.content.size));else if(he.isSelectable(c))ci(t,he.create(s,u));else continue;return!0}}function _p(t){return fd(t)}const Wj=Dn?"metaKey":"ctrlKey";Wt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let s=_p(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&OM(n,t.input.lastClick)&&!n[Wj]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o,button:n.button};let c=t.posAtCoords(cu(n));c&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new UM(t,c,n,!!s)):(o=="doubleClick"?zM:_M)(t,c.pos,c.inside,n)?n.preventDefault():gr(t,"pointer"))};class UM{constructor(e,n,s,i){this.view=e,this.pos=n,this.event=s,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!s[Wj],this.allowDefault=s.shiftKey;let o,c;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),c=n.inside;else{let p=e.state.doc.resolve(n.pos);o=p.parent,c=p.depth?p.before():0}const u=i?null:s.target,h=u?e.docView.nearestDesc(u,!0):null;this.target=h&&h.nodeDOM.nodeType==1?h.nodeDOM:null;let{selection:m}=e.state;(s.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||m instanceof he&&m.from<=c&&m.to>c)&&(this.mightDrag={node:o,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&zn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),gr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ds(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(cu(e))),this.updateAllowDefault(e),this.allowDefault||!n?gr(this.view,"pointer"):LM(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Bt&&this.mightDrag&&!this.mightDrag.node.isAtom||kt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ci(this.view,ke.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):gr(this.view,"pointer")}move(e){this.updateAllowDefault(e),gr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Wt.touchstart=t=>{t.input.lastTouch=Date.now(),_p(t),gr(t,"pointer")};Wt.touchmove=t=>{t.input.lastTouch=Date.now(),gr(t,"pointer")};Wt.contextmenu=t=>_p(t);function Kj(t,e){return t.composing?!0:Bt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const HM=Ms?5e3:-1;Kt.compositionstart=Kt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof ge&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(s=>s.type.spec.inclusive===!1)||kt&&kj&&PM(t)))t.markCursor=t.state.storedMarks||n.marks(),fd(t,!0),t.markCursor=null;else if(fd(t,!e.selection.empty),zn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let s=t.domSelectionRange();for(let i=s.focusNode,o=s.focusOffset;i&&i.nodeType==1&&o!=0;){let c=o<0?i.lastChild:i.childNodes[o-1];if(!c)break;if(c.nodeType==3){let u=t.domSelection();u&&u.collapse(c,c.nodeValue.length);break}else i=c,o=-1}}t.input.composing=!0}Gj(t,HM)};function PM(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let s=e.childNodes[n];return s.nodeType==1&&s.contentEditable=="false"}Kt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Gj(t,20))};function Gj(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>fd(t),e))}function Yj(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=FM());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function IM(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=DA(e.focusNode,e.focusOffset),s=LA(e.focusNode,e.focusOffset);if(n&&s&&n!=s){let i=s.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||s==o)return o;if(!i||!i.isText(s.nodeValue))return s;if(t.input.compositionNode==s){let c=n.pmViewDesc;if(!(!c||!c.isText(n.nodeValue)))return s}}return n||s}function FM(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function fd(t,e=!1){if(!(Ms&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Yj(t),e||t.docView&&t.docView.dirty){let n=Op(t),s=t.state.selection;return n&&!n.eq(s)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!s.$from.node(s.$from.sharedDepth(s.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function $M(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let s=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),s.removeAllRanges(),s.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Vl=an&&yr<15||mi&&UA<604;Wt.copy=Kt.cut=(t,e)=>{let n=e,s=t.state.selection,i=n.type=="cut";if(s.empty)return;let o=Vl?null:n.clipboardData,c=s.content(),{dom:u,text:h}=Dp(t,c);o?(n.preventDefault(),o.clearData(),o.setData("text/html",u.innerHTML),o.setData("text/plain",h)):$M(t,u),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function VM(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function qM(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,s=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),s.parentNode&&s.parentNode.removeChild(s),n?ql(t,s.value,null,i,e):ql(t,s.textContent,s.innerHTML,i,e)},50)}function ql(t,e,n,s,i){let o=Pj(t,e,n,s,t.state.selection.$from);if(t.someProp("handlePaste",h=>h(t,i,o||ie.empty)))return!0;if(!o)return!1;let c=VM(o),u=c?t.state.tr.replaceSelectionWith(c,s):t.state.tr.replaceSelection(o);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Jj(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Kt.paste=(t,e)=>{let n=e;if(t.composing&&!Ms)return;let s=Vl?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;s&&ql(t,Jj(s),s.getData("text/html"),i,n)?n.preventDefault():qM(t,n)};class Xj{constructor(e,n,s){this.slice=e,this.move=n,this.node=s}}const WM=Dn?"altKey":"ctrlKey";function Qj(t,e){let n=t.someProp("dragCopies",s=>!s(e));return n??!e[WM]}Wt.dragstart=(t,e)=>{let n=e,s=t.input.mouseDown;if(s&&s.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(cu(n)),c;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof he?i.to-1:i.to))){if(s&&s.mightDrag)c=he.create(t.state.doc,s.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let g=t.docView.nearestDesc(n.target,!0);g&&g.node.type.spec.draggable&&g!=t.docView&&(c=he.create(t.state.doc,g.posBefore))}}let u=(c||t.state.selection).content(),{dom:h,text:m,slice:p}=Dp(t,u);(!n.dataTransfer.files.length||!kt||wj>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Vl?"Text":"text/html",h.innerHTML),n.dataTransfer.effectAllowed="copyMove",Vl||n.dataTransfer.setData("text/plain",m),t.dragging=new Xj(p,Qj(t,n),c)};Wt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Kt.dragover=Kt.dragenter=(t,e)=>e.preventDefault();Kt.drop=(t,e)=>{try{KM(t,e,t.dragging)}finally{t.dragging=null}};function KM(t,e,n){if(!e.dataTransfer)return;let s=t.posAtCoords(cu(e));if(!s)return;let i=t.state.doc.resolve(s.pos),o=n&&n.slice;o?t.someProp("transformPasted",N=>{o=N(o,t,!1)}):o=Pj(t,Jj(e.dataTransfer),Vl?null:e.dataTransfer.getData("text/html"),!1,i);let c=!!(n&&Qj(t,e));if(t.someProp("handleDrop",N=>N(t,e,o||ie.empty,c))){e.preventDefault();return}if(!o)return;e.preventDefault();let u=o?nj(t.state.doc,i.pos,o):i.pos;u==null&&(u=i.pos);let h=t.state.tr;if(c){let{node:N}=n;N?N.replace(h):h.deleteSelection()}let m=h.mapping.map(u),p=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,g=h.doc;if(p?h.replaceRangeWith(m,m,o.content.firstChild):h.replaceRange(m,m,o),h.doc.eq(g))return;let y=h.doc.resolve(m);if(p&&he.isSelectable(o.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(o.content.firstChild))h.setSelection(new he(y));else{let N=h.mapping.map(u);h.mapping.maps[h.mapping.maps.length-1].forEach((v,k,j,C)=>N=C),h.setSelection(Rp(t,y,h.doc.resolve(N)))}t.focus(),t.dispatch(h.setMeta("uiEvent","drop"))}Wt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ds(t)},20))};Wt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Wt.beforeinput=(t,e)=>{if(kt&&Ms&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:s}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=s||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Yr(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Kt)Wt[t]=Kt[t];function Wl(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class hd{constructor(e,n){this.toDOM=e,this.spec=n||ra,this.side=this.spec.side||0}map(e,n,s,i){let{pos:o,deleted:c}=e.mapResult(n.from+i,this.side<0?-1:1);return c?null:new qt(o-s,o-s,this)}valid(){return!0}eq(e){return this==e||e instanceof hd&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Wl(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Nr{constructor(e,n){this.attrs=e,this.spec=n||ra}map(e,n,s,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-s,c=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-s;return o>=c?null:new qt(o,c,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Nr&&Wl(this.attrs,e.attrs)&&Wl(this.spec,e.spec)}static is(e){return e.type instanceof Nr}destroy(){}}class Bp{constructor(e,n){this.attrs=e,this.spec=n||ra}map(e,n,s,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let c=e.mapResult(n.to+i,-1);return c.deleted||c.pos<=o.pos?null:new qt(o.pos-s,c.pos-s,this)}valid(e,n){let{index:s,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(s)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof Bp&&Wl(this.attrs,e.attrs)&&Wl(this.spec,e.spec)}destroy(){}}class qt{constructor(e,n,s){this.from=e,this.to=n,this.type=s}copy(e,n){return new qt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,s){return this.type.map(e,this,n,s)}static widget(e,n,s){return new qt(e,e,new hd(n,s))}static inline(e,n,s,i){return new qt(e,n,new Nr(s,i))}static node(e,n,s,i){return new qt(e,n,new Bp(s,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Nr}get widget(){return this.type instanceof hd}}const ri=[],ra={};class Ze{constructor(e,n){this.local=e.length?e:ri,this.children=n.length?n:ri}static create(e,n){return n.length?md(n,e,0,ra):Ht}find(e,n,s){let i=[];return this.findInner(e??0,n??1e9,i,0,s),i}findInner(e,n,s,i,o){for(let c=0;c<this.local.length;c++){let u=this.local[c];u.from<=n&&u.to>=e&&(!o||o(u.spec))&&s.push(u.copy(u.from+i,u.to+i))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<n&&this.children[c+1]>e){let u=this.children[c]+1;this.children[c+2].findInner(e-u,n-u,s,i+u,o)}}map(e,n,s){return this==Ht||e.maps.length==0?this:this.mapInner(e,n,0,0,s||ra)}mapInner(e,n,s,i,o){let c;for(let u=0;u<this.local.length;u++){let h=this.local[u].map(e,s,i);h&&h.type.valid(n,h)?(c||(c=[])).push(h):o.onRemove&&o.onRemove(this.local[u].spec)}return this.children.length?GM(this.children,c||[],e,n,s,i,o):c?new Ze(c.sort(aa),ri):Ht}add(e,n){return n.length?this==Ht?Ze.create(e,n):this.addInner(e,n,0):this}addInner(e,n,s){let i,o=0;e.forEach((u,h)=>{let m=h+s,p;if(p=ew(n,u,m)){for(i||(i=this.children.slice());o<i.length&&i[o]<h;)o+=3;i[o]==h?i[o+2]=i[o+2].addInner(u,p,m+1):i.splice(o,0,h,h+u.nodeSize,md(p,u,m+1,ra)),o+=3}});let c=Zj(o?tw(n):n,-s);for(let u=0;u<c.length;u++)c[u].type.valid(e,c[u])||c.splice(u--,1);return new Ze(c.length?this.local.concat(c).sort(aa):this.local,i||this.children)}remove(e){return e.length==0||this==Ht?this:this.removeInner(e,0)}removeInner(e,n){let s=this.children,i=this.local;for(let o=0;o<s.length;o+=3){let c,u=s[o]+n,h=s[o+1]+n;for(let p=0,g;p<e.length;p++)(g=e[p])&&g.from>u&&g.to<h&&(e[p]=null,(c||(c=[])).push(g));if(!c)continue;s==this.children&&(s=this.children.slice());let m=s[o+2].removeInner(c,u+1);m!=Ht?s[o+2]=m:(s.splice(o,3),o-=3)}if(i.length){for(let o=0,c;o<e.length;o++)if(c=e[o])for(let u=0;u<i.length;u++)i[u].eq(c,n)&&(i==this.local&&(i=this.local.slice()),i.splice(u--,1))}return s==this.children&&i==this.local?this:i.length||s.length?new Ze(i,s):Ht}forChild(e,n){if(this==Ht)return this;if(n.isLeaf)return Ze.empty;let s,i;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(s=this.children[u+2]);break}let o=e+1,c=o+n.content.size;for(let u=0;u<this.local.length;u++){let h=this.local[u];if(h.from<c&&h.to>o&&h.type instanceof Nr){let m=Math.max(o,h.from)-o,p=Math.min(c,h.to)-o;m<p&&(i||(i=[])).push(h.copy(m,p))}}if(i){let u=new Ze(i.sort(aa),ri);return s?new hr([u,s]):u}return s||Ht}eq(e){if(this==e)return!0;if(!(e instanceof Ze)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Up(this.localsInner(e))}localsInner(e){if(this==Ht)return ri;if(e.inlineContent||!this.local.some(Nr.is))return this.local;let n=[];for(let s=0;s<this.local.length;s++)this.local[s].type instanceof Nr||n.push(this.local[s]);return n}forEachSet(e){e(this)}}Ze.empty=new Ze([],[]);Ze.removeOverlap=Up;const Ht=Ze.empty;class hr{constructor(e){this.members=e}map(e,n){const s=this.members.map(i=>i.map(e,n,ra));return hr.from(s)}forChild(e,n){if(n.isLeaf)return Ze.empty;let s=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=Ht&&(o instanceof hr?s=s.concat(o.members):s.push(o))}return hr.from(s)}eq(e){if(!(e instanceof hr)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,s=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{s&&(n=n.slice(),s=!1);for(let c=0;c<o.length;c++)n.push(o[c])}}return n?Up(s?n:n.sort(aa)):ri}static from(e){switch(e.length){case 0:return Ht;case 1:return e[0];default:return new hr(e.every(n=>n instanceof Ze)?e:e.reduce((n,s)=>n.concat(s instanceof Ze?s:s.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function GM(t,e,n,s,i,o,c){let u=t.slice();for(let m=0,p=o;m<n.maps.length;m++){let g=0;n.maps[m].forEach((y,N,v,k)=>{let j=k-v-(N-y);for(let C=0;C<u.length;C+=3){let T=u[C+1];if(T<0||y>T+p-g)continue;let M=u[C]+p-g;N>=M?u[C+1]=y<=M?-2:-1:y>=p&&j&&(u[C]+=j,u[C+1]+=j)}g+=j}),p=n.maps[m].map(p,-1)}let h=!1;for(let m=0;m<u.length;m+=3)if(u[m+1]<0){if(u[m+1]==-2){h=!0,u[m+1]=-1;continue}let p=n.map(t[m]+o),g=p-i;if(g<0||g>=s.content.size){h=!0;continue}let y=n.map(t[m+1]+o,-1),N=y-i,{index:v,offset:k}=s.content.findIndex(g),j=s.maybeChild(v);if(j&&k==g&&k+j.nodeSize==N){let C=u[m+2].mapInner(n,j,p+1,t[m]+o+1,c);C!=Ht?(u[m]=g,u[m+1]=N,u[m+2]=C):(u[m+1]=-2,h=!0)}else h=!0}if(h){let m=YM(u,t,e,n,i,o,c),p=md(m,s,0,c);e=p.local;for(let g=0;g<u.length;g+=3)u[g+1]<0&&(u.splice(g,3),g-=3);for(let g=0,y=0;g<p.children.length;g+=3){let N=p.children[g];for(;y<u.length&&u[y]<N;)y+=3;u.splice(y,0,p.children[g],p.children[g+1],p.children[g+2])}}return new Ze(e.sort(aa),u)}function Zj(t,e){if(!e||!t.length)return t;let n=[];for(let s=0;s<t.length;s++){let i=t[s];n.push(new qt(i.from+e,i.to+e,i.type))}return n}function YM(t,e,n,s,i,o,c){function u(h,m){for(let p=0;p<h.local.length;p++){let g=h.local[p].map(s,i,m);g?n.push(g):c.onRemove&&c.onRemove(h.local[p].spec)}for(let p=0;p<h.children.length;p+=3)u(h.children[p+2],h.children[p]+m+1)}for(let h=0;h<t.length;h+=3)t[h+1]==-1&&u(t[h+2],e[h]+o+1);return n}function ew(t,e,n){if(e.isLeaf)return null;let s=n+e.nodeSize,i=null;for(let o=0,c;o<t.length;o++)(c=t[o])&&c.from>n&&c.to<s&&((i||(i=[])).push(c),t[o]=null);return i}function tw(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function md(t,e,n,s){let i=[],o=!1;e.forEach((u,h)=>{let m=ew(t,u,h+n);if(m){o=!0;let p=md(m,u,n+h+1,s);p!=Ht&&i.push(h,h+u.nodeSize,p)}});let c=Zj(o?tw(t):t,-n).sort(aa);for(let u=0;u<c.length;u++)c[u].type.valid(e,c[u])||(s.onRemove&&s.onRemove(c[u].spec),c.splice(u--,1));return c.length||i.length?new Ze(c,i):Ht}function aa(t,e){return t.from-e.from||t.to-e.to}function Up(t){let e=t;for(let n=0;n<e.length-1;n++){let s=e[n];if(s.from!=s.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==s.from){o.to!=s.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,s.to),zv(e,i+1,o.copy(s.to,o.to)));continue}else{o.from<s.to&&(e==t&&(e=t.slice()),e[n]=s.copy(s.from,o.from),zv(e,i,s.copy(o.from,s.to)));break}}}return e}function zv(t,e,n){for(;e<t.length&&aa(n,t[e])>0;)e++;t.splice(e,0,n)}function cm(t){let e=[];return t.someProp("decorations",n=>{let s=n(t.state);s&&s!=Ht&&e.push(s)}),t.cursorWrapper&&e.push(Ze.create(t.state.doc,[t.cursorWrapper.deco])),hr.from(e)}const JM={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},XM=an&&yr<=11;class QM{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class ZM{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new QM,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(s=>{for(let i=0;i<s.length;i++)this.queue.push(s[i]);an&&yr<=11&&s.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():Bt&&e.composing&&s.some(i=>i.type=="childList"&&i.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),XM&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,JM)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Ev(this.view)){if(this.suppressingSelectionUpdates)return Ds(this.view);if(an&&yr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&da(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,s;for(let o=e.focusNode;o;o=hi(o))n.add(o);for(let o=e.anchorNode;o;o=hi(o))if(n.has(o)){s=o;break}let i=s&&this.view.docView.nearestDesc(s);if(i&&i.ignoreMutation({type:"selection",target:s.nodeType==3?s.parentNode:s}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let s=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(s)&&Ev(e)&&!this.ignoreSelectionChange(s),o=-1,c=-1,u=!1,h=[];if(e.editable)for(let p=0;p<n.length;p++){let g=this.registerMutation(n[p],h);g&&(o=o<0?g.from:Math.min(g.from,o),c=c<0?g.to:Math.max(g.to,c),g.typeOver&&(u=!0))}if(zn&&h.length){let p=h.filter(g=>g.nodeName=="BR");if(p.length==2){let[g,y]=p;g.parentNode&&g.parentNode.parentNode==y.parentNode?y.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let y of p){let N=y.parentNode;N&&N.nodeName=="LI"&&(!g||n6(e,g)!=N)&&y.remove()}}}else if((kt||Bt)&&h.some(p=>p.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let p of h)if(p.nodeName=="BR"&&p.parentNode){let g=p.nextSibling;g&&g.nodeType==1&&g.contentEditable=="false"&&p.parentNode.removeChild(p)}}let m=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&lu(s)&&(m=Op(e))&&m.eq(ke.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ds(e),this.currentSelection.set(s),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,c),e6(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,s6(e,h)),this.handleDOMChange(o,c,u,h),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(s)||Ds(e),this.currentSelection.set(s))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let s=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(s==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!s||s.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++){let g=e.addedNodes[p];n.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(e.target))return{from:s.posBefore,to:s.posAfter};let i=e.previousSibling,o=e.nextSibling;if(an&&yr<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:g,nextSibling:y}=e.addedNodes[p];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(i=g),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(o=y)}let c=i&&i.parentNode==e.target?Lt(i)+1:0,u=s.localPosFromDOM(e.target,c,-1),h=o&&o.parentNode==e.target?Lt(o):e.target.childNodes.length,m=s.localPosFromDOM(e.target,h,1);return{from:u,to:m}}else return e.type=="attributes"?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:(this.lastChangedTextNode=e.target,{from:s.posAtStart,to:s.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let _v=new WeakMap,Bv=!1;function e6(t){if(!_v.has(t)&&(_v.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=zn,Bv)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Bv=!0}}function Uv(t,e){let n=e.startContainer,s=e.startOffset,i=e.endContainer,o=e.endOffset,c=t.domAtPos(t.state.selection.anchor);return da(c.node,c.offset,i,o)&&([n,s,i,o]=[i,o,n,s]),{anchorNode:n,anchorOffset:s,focusNode:i,focusOffset:o}}function t6(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return Uv(t,i)}let n;function s(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",s,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",s,!0),n?Uv(t,n):null}function n6(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let s=t.docView.nearestDesc(n,!0);if(s&&s.node.isBlock)return n}return null}function s6(t,e){var n;let{focusNode:s,focusOffset:i}=t.domSelectionRange();for(let o of e)if(((n=o.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let c=o.nextSibling;for(;c&&c.nodeName!="TD"&&c.nodeName!="TH";)c=c.nextSibling;if(c){let u=c;for(;;){let h=u.firstChild;if(!h||h.nodeType!=1||h.contentEditable=="false"||/^(BR|IMG)$/.test(h.nodeName))break;u=h}u.insertBefore(o,u.firstChild),s==o&&t.domSelection().collapse(o,i)}else o.parentNode.removeChild(o)}}function r6(t,e,n){let{node:s,fromOffset:i,toOffset:o,from:c,to:u}=t.docView.parseRange(e,n),h=t.domSelectionRange(),m,p=h.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(m=[{node:p,offset:h.anchorOffset}],lu(h)||m.push({node:h.focusNode,offset:h.focusOffset})),kt&&t.input.lastKeyCode===8)for(let j=o;j>i;j--){let C=s.childNodes[j-1],T=C.pmViewDesc;if(C.nodeName=="BR"&&!T){o=j;break}if(!T||T.size)break}let g=t.state.doc,y=t.someProp("domParser")||br.fromSchema(t.state.schema),N=g.resolve(c),v=null,k=y.parse(s,{topNode:N.parent,topMatch:N.parent.contentMatchAt(N.index()),topOpen:!0,from:i,to:o,preserveWhitespace:N.parent.type.whitespace=="pre"?"full":!0,findPositions:m,ruleFromNode:a6,context:N});if(m&&m[0].pos!=null){let j=m[0].pos,C=m[1]&&m[1].pos;C==null&&(C=j),v={anchor:j+c,head:C+c}}return{doc:k,sel:v,from:c,to:u}}function a6(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Bt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Bt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const i6=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function l6(t,e,n,s,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let A=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,D=Op(t,A);if(D&&!t.state.selection.eq(D)){if(kt&&Ms&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",I=>I(t,Yr(13,"Enter"))))return;let _=t.state.tr.setSelection(D);A=="pointer"?_.setMeta("pointer",!0):A=="key"&&_.scrollIntoView(),o&&_.setMeta("composition",o),t.dispatch(_)}return}let c=t.state.doc.resolve(e),u=c.sharedDepth(n);e=c.before(u+1),n=t.state.doc.resolve(n).after(u+1);let h=t.state.selection,m=r6(t,e,n),p=t.state.doc,g=p.slice(m.from,m.to),y,N;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(y=t.state.selection.to,N="end"):(y=t.state.selection.from,N="start"),t.input.lastKeyCode=null;let v=d6(g.content,m.doc.content,m.from,y,N);if(v&&t.input.domChangeCount++,(mi&&t.input.lastIOSEnter>Date.now()-225||Ms)&&i.some(A=>A.nodeType==1&&!i6.test(A.nodeName))&&(!v||v.endA>=v.endB)&&t.someProp("handleKeyDown",A=>A(t,Yr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!v)if(s&&h instanceof ge&&!h.empty&&h.$head.sameParent(h.$anchor)&&!t.composing&&!(m.sel&&m.sel.anchor!=m.sel.head))v={start:h.from,endA:h.to,endB:h.to};else{if(m.sel){let A=Hv(t,t.state.doc,m.sel);if(A&&!A.eq(t.state.selection)){let D=t.state.tr.setSelection(A);o&&D.setMeta("composition",o),t.dispatch(D)}}return}t.state.selection.from<t.state.selection.to&&v.start==v.endB&&t.state.selection instanceof ge&&(v.start>t.state.selection.from&&v.start<=t.state.selection.from+2&&t.state.selection.from>=m.from?v.start=t.state.selection.from:v.endA<t.state.selection.to&&v.endA>=t.state.selection.to-2&&t.state.selection.to<=m.to&&(v.endB+=t.state.selection.to-v.endA,v.endA=t.state.selection.to)),an&&yr<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>m.from&&m.doc.textBetween(v.start-m.from-1,v.start-m.from+1)==" "&&(v.start--,v.endA--,v.endB--);let k=m.doc.resolveNoCache(v.start-m.from),j=m.doc.resolveNoCache(v.endB-m.from),C=p.resolve(v.start),T=k.sameParent(j)&&k.parent.inlineContent&&C.end()>=v.endA;if((mi&&t.input.lastIOSEnter>Date.now()-225&&(!T||i.some(A=>A.nodeName=="DIV"||A.nodeName=="P"))||!T&&k.pos<m.doc.content.size&&(!k.sameParent(j)||!k.parent.inlineContent)&&k.pos<j.pos&&!/\S/.test(m.doc.textBetween(k.pos,j.pos,"","")))&&t.someProp("handleKeyDown",A=>A(t,Yr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>v.start&&c6(p,v.start,v.endA,k,j)&&t.someProp("handleKeyDown",A=>A(t,Yr(8,"Backspace")))){Ms&&kt&&t.domObserver.suppressSelectionUpdates();return}kt&&v.endB==v.start&&(t.input.lastChromeDelete=Date.now()),Ms&&!T&&k.start()!=j.start()&&j.parentOffset==0&&k.depth==j.depth&&m.sel&&m.sel.anchor==m.sel.head&&m.sel.head==v.endA&&(v.endB-=2,j=m.doc.resolveNoCache(v.endB-m.from),setTimeout(()=>{t.someProp("handleKeyDown",function(A){return A(t,Yr(13,"Enter"))})},20));let M=v.start,P=v.endA,H=A=>{let D=A||t.state.tr.replace(M,P,m.doc.slice(v.start-m.from,v.endB-m.from));if(m.sel){let _=Hv(t,D.doc,m.sel);_&&!(kt&&t.composing&&_.empty&&(v.start!=v.endB||t.input.lastChromeDelete<Date.now()-100)&&(_.head==M||_.head==D.mapping.map(P)-1)||an&&_.empty&&_.head==M)&&D.setSelection(_)}return o&&D.setMeta("composition",o),D.scrollIntoView()},B;if(T)if(k.pos==j.pos){an&&yr<=11&&k.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ds(t),20));let A=H(t.state.tr.delete(M,P)),D=p.resolve(v.start).marksAcross(p.resolve(v.endA));D&&A.ensureMarks(D),t.dispatch(A)}else if(v.endA==v.endB&&(B=o6(k.parent.content.cut(k.parentOffset,j.parentOffset),C.parent.content.cut(C.parentOffset,v.endA-C.start())))){let A=H(t.state.tr);B.type=="add"?A.addMark(M,P,B.mark):A.removeMark(M,P,B.mark),t.dispatch(A)}else if(k.parent.child(k.index()).isText&&k.index()==j.index()-(j.textOffset?0:1)){let A=k.parent.textBetween(k.parentOffset,j.parentOffset),D=()=>H(t.state.tr.insertText(A,M,P));t.someProp("handleTextInput",_=>_(t,M,P,A,D))||t.dispatch(D())}else t.dispatch(H());else t.dispatch(H())}function Hv(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Rp(t,e.resolve(n.anchor),e.resolve(n.head))}function o6(t,e){let n=t.firstChild.marks,s=e.firstChild.marks,i=n,o=s,c,u,h;for(let p=0;p<s.length;p++)i=s[p].removeFromSet(i);for(let p=0;p<n.length;p++)o=n[p].removeFromSet(o);if(i.length==1&&o.length==0)u=i[0],c="add",h=p=>p.mark(u.addToSet(p.marks));else if(i.length==0&&o.length==1)u=o[0],c="remove",h=p=>p.mark(u.removeFromSet(p.marks));else return null;let m=[];for(let p=0;p<e.childCount;p++)m.push(h(e.child(p)));if(ne.from(m).eq(t))return{mark:u,type:c}}function c6(t,e,n,s,i){if(n-e<=i.pos-s.pos||dm(s,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!s.parent.isTextblock){let u=o.nodeAfter;return u!=null&&n==e+u.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let c=t.resolve(dm(o,!0,!0));return!c.parent.isTextblock||c.pos>n||dm(c,!0,!1)<n?!1:s.parent.content.cut(s.parentOffset).eq(c.parent.content)}function dm(t,e,n){let s=t.depth,i=e?t.end():t.pos;for(;s>0&&(e||t.indexAfter(s)==t.node(s).childCount);)s--,i++,e=!1;if(n){let o=t.node(s).maybeChild(t.indexAfter(s));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function d6(t,e,n,s,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:c,b:u}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let h=Math.max(0,o-Math.min(c,u));s-=c+h-o}if(c<o&&t.size<e.size){let h=s<=o&&s>=c?o-s:0;o-=h,o&&o<e.size&&Pv(e.textBetween(o-1,o+1))&&(o+=h?1:-1),u=o+(u-c),c=o}else if(u<o){let h=s<=o&&s>=u?o-s:0;o-=h,o&&o<t.size&&Pv(t.textBetween(o-1,o+1))&&(o+=h?1:-1),c=o+(c-u),u=o}return{start:o,endA:c,endB:u}}function Pv(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class nw{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new CM,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(qv),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=$v(this),Fv(this),this.nodeViews=Vv(this),this.docView=Nv(this.state.doc,Iv(this),cm(this),this.dom,this),this.domObserver=new ZM(this,(s,i,o,c)=>l6(this,s,i,o,c)),this.domObserver.start(),EM(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Km(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(qv),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let s in this._props)n[s]=this._props[s];n.state=this.state;for(let s in e)n[s]=e[s];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var s;let i=this.state,o=!1,c=!1;e.storedMarks&&this.composing&&(Yj(this),c=!0),this.state=e;let u=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(u||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let N=Vv(this);f6(N,this.nodeViews)&&(this.nodeViews=N,o=!0)}(u||n.handleDOMEvents!=this._props.handleDOMEvents)&&Km(this),this.editable=$v(this),Fv(this);let h=cm(this),m=Iv(this),p=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",g=o||!this.docView.matchesNode(e.doc,m,h);(g||!e.selection.eq(i.selection))&&(c=!0);let y=p=="preserve"&&c&&this.dom.style.overflowAnchor==null&&IA(this);if(c){this.domObserver.stop();let N=g&&(an||kt)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&u6(i.selection,e.selection);if(g){let v=kt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=IM(this)),(o||!this.docView.update(e.doc,m,h,this))&&(this.docView.updateOuterDeco(m),this.docView.destroy(),this.docView=Nv(e.doc,m,h,this.dom,this)),v&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(N=!0)}N||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&uM(this))?Ds(this,N):(Bj(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((s=this.dragging)===null||s===void 0)&&s.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():y&&FA(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof he){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&pv(this,n.getBoundingClientRect(),e)}else pv(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let s=this.directPlugins[n];s.spec.view&&this.pluginViews.push(s.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let s=this.state.plugins[n];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let s=this.pluginViews[n];s.update&&s.update(this,e)}}updateDraggedNode(e,n){let s=e.node,i=-1;if(this.state.doc.nodeAt(s.from)==s.node)i=s.from;else{let o=s.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==s.node&&(i=o)}this.dragging=new Xj(e.slice,e.move,i<0?void 0:he.create(this.state.doc,i))}someProp(e,n){let s=this._props&&this._props[e],i;if(s!=null&&(i=n?n(s):s))return i;for(let c=0;c<this.directPlugins.length;c++){let u=this.directPlugins[c].props[e];if(u!=null&&(i=n?n(u):u))return i}let o=this.state.plugins;if(o)for(let c=0;c<o.length;c++){let u=o[c].props[e];if(u!=null&&(i=n?n(u):u))return i}}hasFocus(){if(an){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&$A(this.dom),Ds(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return GA(this,e)}coordsAtPos(e,n=1){return Aj(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,s=-1){let i=this.docView.posFromDOM(e,n,s);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return ZA(this,n||this.state,e)}pasteHTML(e,n){return ql(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return ql(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Dp(this,e)}destroy(){this.docView&&(TM(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],cm(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,OA())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return MM(this,e)}domSelectionRange(){let e=this.domSelection();return e?Bt&&this.root.nodeType===11&&_A(this.dom.ownerDocument)==this.dom&&t6(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}nw.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function Iv(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let s in n)s=="class"?e.class+=" "+n[s]:s=="style"?e.style=(e.style?e.style+";":"")+n[s]:!e[s]&&s!="contenteditable"&&s!="nodeName"&&(e[s]=String(n[s]))}),e.translate||(e.translate="no"),[qt.node(0,t.state.doc.content.size,e)]}function Fv(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:qt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function $v(t){return!t.someProp("editable",e=>e(t.state)===!1)}function u6(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Vv(t){let e=Object.create(null);function n(s){for(let i in s)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=s[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function f6(t,e){let n=0,s=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)s++;return n!=s}function qv(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var jr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},pd={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},h6=typeof navigator<"u"&&/Mac/.test(navigator.platform),m6=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var zt=0;zt<10;zt++)jr[48+zt]=jr[96+zt]=String(zt);for(var zt=1;zt<=24;zt++)jr[zt+111]="F"+zt;for(var zt=65;zt<=90;zt++)jr[zt]=String.fromCharCode(zt+32),pd[zt]=String.fromCharCode(zt);for(var um in jr)pd.hasOwnProperty(um)||(pd[um]=jr[um]);function p6(t){var e=h6&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||m6&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?pd:jr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const x6=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),g6=typeof navigator<"u"&&/Win/.test(navigator.platform);function b6(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let s,i,o,c;for(let u=0;u<e.length-1;u++){let h=e[u];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))s=!0;else if(/^(c|ctrl|control)$/i.test(h))i=!0;else if(/^s(hift)?$/i.test(h))o=!0;else if(/^mod$/i.test(h))x6?c=!0:i=!0;else throw new Error("Unrecognized modifier name: "+h)}return s&&(n="Alt-"+n),i&&(n="Ctrl-"+n),c&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function y6(t){let e=Object.create(null);for(let n in t)e[b6(n)]=t[n];return e}function fm(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function v6(t){return new tt({props:{handleKeyDown:sw(t)}})}function sw(t){let e=y6(t);return function(n,s){let i=p6(s),o,c=e[fm(i,s)];if(c&&c(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(s.shiftKey){let u=e[fm(i,s,!1)];if(u&&u(n.state,n.dispatch,n))return!0}if((s.altKey||s.metaKey||s.ctrlKey)&&!(g6&&s.ctrlKey&&s.altKey)&&(o=jr[s.keyCode])&&o!=i){let u=e[fm(o,s)];if(u&&u(n.state,n.dispatch,n))return!0}}return!1}}var N6=Object.defineProperty,Hp=(t,e)=>{for(var n in e)N6(t,n,{get:e[n],enumerable:!0})};function du(t){const{state:e,transaction:n}=t;let{selection:s}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return s},get doc(){return i},get tr(){return s=n.selection,i=n.doc,o=n.storedMarks,n}}}var uu=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:s}=e,{tr:i}=n,o=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([c,u])=>[c,(...m)=>{const p=u(...m)(o);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:s,state:i}=this,{view:o}=s,c=[],u=!!t,h=t||i.tr,m=()=>(!u&&e&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(h),c.every(g=>g===!0)),p={...Object.fromEntries(Object.entries(n).map(([g,y])=>[g,(...v)=>{const k=this.buildProps(h,e),j=y(...v)(k);return c.push(j),p}])),run:m};return p}createCan(t){const{rawCommands:e,state:n}=this,s=!1,i=t||n.tr,o=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(e).map(([u,h])=>[u,(...m)=>h(...m)({...o,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(t,e=!0){const{rawCommands:n,editor:s,state:i}=this,{view:o}=s,c={tr:t,editor:s,view:o,state:du({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([u,h])=>[u,(...m)=>h(...m)(c)]))}};return c}},rw={};Hp(rw,{blur:()=>j6,clearContent:()=>w6,clearNodes:()=>k6,command:()=>S6,createParagraphNear:()=>C6,cut:()=>E6,deleteCurrentNode:()=>T6,deleteNode:()=>A6,deleteRange:()=>M6,deleteSelection:()=>O6,enter:()=>R6,exitCode:()=>D6,extendMarkRange:()=>L6,first:()=>z6,focus:()=>B6,forEach:()=>U6,insertContent:()=>H6,insertContentAt:()=>F6,joinBackward:()=>q6,joinDown:()=>V6,joinForward:()=>W6,joinItemBackward:()=>K6,joinItemForward:()=>G6,joinTextblockBackward:()=>Y6,joinTextblockForward:()=>J6,joinUp:()=>$6,keyboardShortcut:()=>Q6,lift:()=>Z6,liftEmptyBlock:()=>eO,liftListItem:()=>tO,newlineInCode:()=>nO,resetAttributes:()=>sO,scrollIntoView:()=>rO,selectAll:()=>aO,selectNodeBackward:()=>iO,selectNodeForward:()=>lO,selectParentNode:()=>oO,selectTextblockEnd:()=>cO,selectTextblockStart:()=>dO,setContent:()=>uO,setMark:()=>OO,setMeta:()=>RO,setNode:()=>DO,setNodeSelection:()=>LO,setTextDirection:()=>zO,setTextSelection:()=>_O,sinkListItem:()=>BO,splitBlock:()=>UO,splitListItem:()=>HO,toggleList:()=>PO,toggleMark:()=>IO,toggleNode:()=>FO,toggleWrap:()=>$O,undoInputRule:()=>VO,unsetAllMarks:()=>qO,unsetMark:()=>WO,unsetTextDirection:()=>KO,updateAttributes:()=>GO,wrapIn:()=>YO,wrapInList:()=>JO});var j6=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),w6=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),k6=()=>({state:t,tr:e,dispatch:n})=>{const{selection:s}=e,{ranges:i}=s;return n&&i.forEach(({$from:o,$to:c})=>{t.doc.nodesBetween(o.pos,c.pos,(u,h)=>{if(u.type.isText)return;const{doc:m,mapping:p}=e,g=m.resolve(p.map(h)),y=m.resolve(p.map(h+u.nodeSize)),N=g.blockRange(y);if(!N)return;const v=wi(N);if(u.type.isTextblock){const{defaultType:k}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(N.start,k)}(v||v===0)&&e.lift(N,v)})}),!0},S6=t=>e=>t(e),C6=()=>({state:t,dispatch:e})=>bj(t,e),E6=(t,e)=>({editor:n,tr:s})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);s.deleteRange(t.from,t.to);const c=s.mapping.map(e);return s.insert(c,o.content),s.setSelection(new ge(s.doc.resolve(Math.max(c-1,0)))),!0},T6=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,s=n.$anchor.node();if(s.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s.type){if(e){const u=i.before(o),h=i.after(o);t.delete(u,h).scrollIntoView()}return!0}return!1};function gt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var A6=t=>({tr:e,state:n,dispatch:s})=>{const i=gt(t,n.schema),o=e.selection.$anchor;for(let c=o.depth;c>0;c-=1)if(o.node(c).type===i){if(s){const h=o.before(c),m=o.after(c);e.delete(h,m).scrollIntoView()}return!0}return!1},M6=t=>({tr:e,dispatch:n})=>{const{from:s,to:i}=t;return n&&e.delete(s,i),!0},O6=()=>({state:t,dispatch:e})=>Sp(t,e),R6=()=>({commands:t})=>t.keyboardShortcut("Enter"),D6=()=>({state:t,dispatch:e})=>xA(t,e);function Pp(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function xd(t,e,n={strict:!0}){const s=Object.keys(e);return s.length?s.every(i=>n.strict?e[i]===t[i]:Pp(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function aw(t,e,n={}){return t.find(s=>s.type===e&&xd(Object.fromEntries(Object.keys(n).map(i=>[i,s.attrs[i]])),n))}function Wv(t,e,n={}){return!!aw(t,e,n)}function Ip(t,e,n){var s;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(p=>p.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(p=>p.type===e)||(n=n||((s=i.node.marks[0])==null?void 0:s.attrs),!aw([...i.node.marks],e,n)))return;let c=i.index,u=t.start()+i.offset,h=c+1,m=u+i.node.nodeSize;for(;c>0&&Wv([...t.parent.child(c-1).marks],e,n);)c-=1,u-=t.parent.child(c).nodeSize;for(;h<t.parent.childCount&&Wv([...t.parent.child(h).marks],e,n);)m+=t.parent.child(h).nodeSize,h+=1;return{from:u,to:m}}function _s(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var L6=(t,e={})=>({tr:n,state:s,dispatch:i})=>{const o=_s(t,s.schema),{doc:c,selection:u}=n,{$from:h,from:m,to:p}=u;if(i){const g=Ip(h,o,e);if(g&&g.from<=m&&g.to>=p){const y=ge.create(c,g.from,g.to);n.setSelection(y)}}return!0},z6=t=>e=>{const n=typeof t=="function"?t(e):t;for(let s=0;s<n.length;s+=1)if(n[s](e))return!0;return!1};function iw(t){return t instanceof ge}function Zr(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function lw(t,e=null){if(!e)return null;const n=ke.atStart(t),s=ke.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return s;const i=n.from,o=s.to;return e==="all"?ge.create(t,Zr(0,i,o),Zr(t.content.size,i,o)):ge.create(t,Zr(e,i,o),Zr(e,i,o))}function Kv(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function gd(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function _6(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var B6=(t=null,e={})=>({editor:n,view:s,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const c=()=>{(gd()||Kv())&&s.dom.focus(),_6()&&!gd()&&!Kv()&&s.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(s.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(s.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!iw(n.state.selection))return c(),!0;const u=lw(i.doc,t)||n.state.selection,h=n.state.selection.eq(u);return o&&(h||i.setSelection(u),h&&i.storedMarks&&i.setStoredMarks(i.storedMarks),c()),!0},U6=(t,e)=>n=>t.every((s,i)=>e(s,{...n,index:i})),H6=(t,e)=>({tr:n,commands:s})=>s.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),ow=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const s=e[n];s.nodeType===3&&s.nodeValue&&/^(\n\s\s|\n)$/.test(s.nodeValue)?t.removeChild(s):s.nodeType===1&&ow(s)}return t};function Dc(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return ow(n)}function Kl(t,e,n){if(t instanceof $n||t instanceof ne)return t;n={slice:!0,parseOptions:{},...n};const s=typeof t=="object"&&t!==null,i=typeof t=="string";if(s)try{if(Array.isArray(t)&&t.length>0)return ne.fromArray(t.map(u=>e.nodeFromJSON(u)));const c=e.nodeFromJSON(t);return n.errorOnInvalidContent&&c.check(),c}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),Kl("",e,n)}if(i){if(n.errorOnInvalidContent){let c=!1,u="";const h=new qN({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:m=>(c=!0,u=typeof m=="string"?m:m.outerHTML,null)}]}})});if(n.slice?br.fromSchema(h).parseSlice(Dc(t),n.parseOptions):br.fromSchema(h).parse(Dc(t),n.parseOptions),n.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const o=br.fromSchema(e);return n.slice?o.parseSlice(Dc(t),n.parseOptions).content:o.parse(Dc(t),n.parseOptions)}return Kl("",e,n)}function P6(t,e,n){const s=t.steps.length-1;if(s<e)return;const i=t.steps[s];if(!(i instanceof wt||i instanceof St))return;const o=t.mapping.maps[s];let c=0;o.forEach((u,h,m,p)=>{c===0&&(c=p)}),t.setSelection(ke.near(t.doc.resolve(c),n))}var I6=t=>!("type"in t),F6=(t,e,n)=>({tr:s,dispatch:i,editor:o})=>{var c;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let u;const h=j=>{o.emit("contentError",{editor:o,error:j,disableCollaboration:()=>{"collaboration"in o.storage&&typeof o.storage.collaboration=="object"&&o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},m={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{Kl(e,o.schema,{parseOptions:m,errorOnInvalidContent:!0})}catch(j){h(j)}try{u=Kl(e,o.schema,{parseOptions:m,errorOnInvalidContent:(c=n.errorOnInvalidContent)!=null?c:o.options.enableContentCheck})}catch(j){return h(j),!1}let{from:p,to:g}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},y=!0,N=!0;if((I6(u)?u:[u]).forEach(j=>{j.check(),y=y?j.isText&&j.marks.length===0:!1,N=N?j.isBlock:!1}),p===g&&N){const{parent:j}=s.doc.resolve(p);j.isTextblock&&!j.type.spec.code&&!j.childCount&&(p-=1,g+=1)}let k;if(y){if(Array.isArray(e))k=e.map(j=>j.text||"").join("");else if(e instanceof ne){let j="";e.forEach(C=>{C.text&&(j+=C.text)}),k=j}else typeof e=="object"&&e&&e.text?k=e.text:k=e;s.insertText(k,p,g)}else{k=u;const j=s.doc.resolve(p),C=j.node(),T=j.parentOffset===0,M=C.isText||C.isTextblock,P=C.content.size>0;T&&M&&P&&(p=Math.max(0,p-1)),s.replaceWith(p,g,k)}n.updateSelection&&P6(s,s.steps.length-1,-1),n.applyInputRules&&s.setMeta("applyInputRules",{from:p,text:k}),n.applyPasteRules&&s.setMeta("applyPasteRules",{from:p,text:k})}return!0},$6=()=>({state:t,dispatch:e})=>hA(t,e),V6=()=>({state:t,dispatch:e})=>mA(t,e),q6=()=>({state:t,dispatch:e})=>uj(t,e),W6=()=>({state:t,dispatch:e})=>pj(t,e),K6=()=>({state:t,dispatch:e,tr:n})=>{try{const s=ru(t.doc,t.selection.$from.pos,-1);return s==null?!1:(n.join(s,2),e&&e(n),!0)}catch{return!1}},G6=()=>({state:t,dispatch:e,tr:n})=>{try{const s=ru(t.doc,t.selection.$from.pos,1);return s==null?!1:(n.join(s,2),e&&e(n),!0)}catch{return!1}},Y6=()=>({state:t,dispatch:e})=>uA(t,e),J6=()=>({state:t,dispatch:e})=>fA(t,e);function cw(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function X6(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let s,i,o,c;for(let u=0;u<e.length-1;u+=1){const h=e[u];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))s=!0;else if(/^(c|ctrl|control)$/i.test(h))i=!0;else if(/^s(hift)?$/i.test(h))o=!0;else if(/^mod$/i.test(h))gd()||cw()?c=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${h}`)}return s&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),c&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}var Q6=t=>({editor:e,view:n,tr:s,dispatch:i})=>{const o=X6(t).split(/-(?!$)/),c=o.find(m=>!["Alt","Ctrl","Meta","Shift"].includes(m)),u=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),h=e.captureTransaction(()=>{n.someProp("handleKeyDown",m=>m(n,u))});return h?.steps.forEach(m=>{const p=m.map(s.mapping);p&&i&&s.maybeStep(p)}),!0};function wr(t,e,n={}){const{from:s,to:i,empty:o}=t.selection,c=e?gt(e,t.schema):null,u=[];t.doc.nodesBetween(s,i,(g,y)=>{if(g.isText)return;const N=Math.max(s,y),v=Math.min(i,y+g.nodeSize);u.push({node:g,from:N,to:v})});const h=i-s,m=u.filter(g=>c?c.name===g.node.type.name:!0).filter(g=>xd(g.node.attrs,n,{strict:!1}));return o?!!m.length:m.reduce((g,y)=>g+y.to-y.from,0)>=h}var Z6=(t,e={})=>({state:n,dispatch:s})=>{const i=gt(t,n.schema);return wr(n,i,e)?pA(n,s):!1},eO=()=>({state:t,dispatch:e})=>yj(t,e),tO=t=>({state:e,dispatch:n})=>{const s=gt(t,e.schema);return EA(s)(e,n)},nO=()=>({state:t,dispatch:e})=>gj(t,e);function fu(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Gv(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((s,i)=>(n.includes(i)||(s[i]=t[i]),s),{})}var sO=(t,e)=>({tr:n,state:s,dispatch:i})=>{let o=null,c=null;const u=fu(typeof t=="string"?t:t.name,s.schema);if(!u)return!1;u==="node"&&(o=gt(t,s.schema)),u==="mark"&&(c=_s(t,s.schema));let h=!1;return n.selection.ranges.forEach(m=>{s.doc.nodesBetween(m.$from.pos,m.$to.pos,(p,g)=>{o&&o===p.type&&(h=!0,i&&n.setNodeMarkup(g,void 0,Gv(p.attrs,e))),c&&p.marks.length&&p.marks.forEach(y=>{c===y.type&&(h=!0,i&&n.addMark(g,g+p.nodeSize,c.create(Gv(y.attrs,e))))})})}),h},rO=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),aO=()=>({tr:t,dispatch:e})=>{if(e){const n=new vn(t.doc);t.setSelection(n)}return!0},iO=()=>({state:t,dispatch:e})=>hj(t,e),lO=()=>({state:t,dispatch:e})=>xj(t,e),oO=()=>({state:t,dispatch:e})=>yA(t,e),cO=()=>({state:t,dispatch:e})=>jA(t,e),dO=()=>({state:t,dispatch:e})=>NA(t,e);function Gm(t,e,n={},s={}){return Kl(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:s.errorOnInvalidContent})}var uO=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:s={}}={})=>({editor:i,tr:o,dispatch:c,commands:u})=>{const{doc:h}=o;if(s.preserveWhitespace!=="full"){const m=Gm(t,i.schema,s,{errorOnInvalidContent:e??i.options.enableContentCheck});return c&&o.replaceWith(0,h.content.size,m).setMeta("preventUpdate",!n),!0}return c&&o.setMeta("preventUpdate",!n),u.insertContentAt({from:0,to:h.content.size},t,{parseOptions:s,errorOnInvalidContent:e??i.options.enableContentCheck})};function dw(t,e){const n=_s(e,t.schema),{from:s,to:i,empty:o}=t.selection,c=[];o?(t.storedMarks&&c.push(...t.storedMarks),c.push(...t.selection.$head.marks())):t.doc.nodesBetween(s,i,h=>{c.push(...h.marks)});const u=c.find(h=>h.type.name===n.name);return u?{...u.attrs}:{}}function uw(t,e){const n=new lj(t);return e.forEach(s=>{s.steps.forEach(i=>{n.step(i)})}),n}function fO(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function hO(t,e,n){const s=[];return t.nodesBetween(e.from,e.to,(i,o)=>{n(i)&&s.push({node:i,pos:o})}),s}function mO(t,e){for(let n=t.depth;n>0;n-=1){const s=t.node(n);if(e(s))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:s}}}function hu(t){return e=>mO(e.$from,t)}function ue(t,e,n){return t.config[e]===void 0&&t.parent?ue(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ue(t.parent,e,n):null}):t.config[e]}function Fp(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},s=ue(e,"addExtensions",n);return s?[e,...Fp(s())]:e}).flat(10)}function $p(t,e){const n=ma.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function fw(t){return typeof t=="function"}function Fe(t,e=void 0,...n){return fw(t)?e?t.bind(e)(...n):t(...n):t}function pO(t={}){return Object.keys(t).length===0&&t.constructor===Object}function pi(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),s=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:s}}function hw(t){const e=[],{nodeExtensions:n,markExtensions:s}=pi(t),i=[...n,...s],o={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage,extensions:i},h=ue(c,"addGlobalAttributes",u);if(!h)return;h().forEach(p=>{p.types.forEach(g=>{Object.entries(p.attributes).forEach(([y,N])=>{e.push({type:g,name:y,attribute:{...o,...N}})})})})}),i.forEach(c=>{const u={name:c.name,options:c.options,storage:c.storage},h=ue(c,"addAttributes",u);if(!h)return;const m=h();Object.entries(m).forEach(([p,g])=>{const y={...o,...g};typeof y?.default=="function"&&(y.default=y.default()),y?.isRequired&&y?.default===void 0&&delete y.default,e.push({type:c.name,name:p,attribute:y})})}),e}function dt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const s={...e};return Object.entries(n).forEach(([i,o])=>{if(!s[i]){s[i]=o;return}if(i==="class"){const u=o?String(o).split(" "):[],h=s[i]?s[i].split(" "):[],m=u.filter(p=>!h.includes(p));s[i]=[...h,...m].join(" ")}else if(i==="style"){const u=o?o.split(";").map(p=>p.trim()).filter(Boolean):[],h=s[i]?s[i].split(";").map(p=>p.trim()).filter(Boolean):[],m=new Map;h.forEach(p=>{const[g,y]=p.split(":").map(N=>N.trim());m.set(g,y)}),u.forEach(p=>{const[g,y]=p.split(":").map(N=>N.trim());m.set(g,y)}),s[i]=Array.from(m.entries()).map(([p,g])=>`${p}: ${g}`).join("; ")}else s[i]=o}),s},{})}function Gl(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,s)=>dt(n,s),{})}function xO(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Yv(t,e){return"style"in t?t:{...t,getAttrs:n=>{const s=t.getAttrs?t.getAttrs(n):t.attrs;if(s===!1)return!1;const i=e.reduce((o,c)=>{const u=c.attribute.parseHTML?c.attribute.parseHTML(n):xO(n.getAttribute(c.name));return u==null?o:{...o,[c.name]:u}},{});return{...s,...i}}}}function Jv(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&pO(n)?!1:n!=null))}function Xv(t){var e,n;const s={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(s.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(s.validate=t.attribute.validate),[t.name,s]}function gO(t,e){var n;const s=hw(t),{nodeExtensions:i,markExtensions:o}=pi(t),c=(n=i.find(m=>ue(m,"topNode")))==null?void 0:n.name,u=Object.fromEntries(i.map(m=>{const p=s.filter(C=>C.type===m.name),g={name:m.name,options:m.options,storage:m.storage,editor:e},y=t.reduce((C,T)=>{const M=ue(T,"extendNodeSchema",g);return{...C,...M?M(m):{}}},{}),N=Jv({...y,content:Fe(ue(m,"content",g)),marks:Fe(ue(m,"marks",g)),group:Fe(ue(m,"group",g)),inline:Fe(ue(m,"inline",g)),atom:Fe(ue(m,"atom",g)),selectable:Fe(ue(m,"selectable",g)),draggable:Fe(ue(m,"draggable",g)),code:Fe(ue(m,"code",g)),whitespace:Fe(ue(m,"whitespace",g)),linebreakReplacement:Fe(ue(m,"linebreakReplacement",g)),defining:Fe(ue(m,"defining",g)),isolating:Fe(ue(m,"isolating",g)),attrs:Object.fromEntries(p.map(Xv))}),v=Fe(ue(m,"parseHTML",g));v&&(N.parseDOM=v.map(C=>Yv(C,p)));const k=ue(m,"renderHTML",g);k&&(N.toDOM=C=>k({node:C,HTMLAttributes:Gl(C,p)}));const j=ue(m,"renderText",g);return j&&(N.toText=j),[m.name,N]})),h=Object.fromEntries(o.map(m=>{const p=s.filter(j=>j.type===m.name),g={name:m.name,options:m.options,storage:m.storage,editor:e},y=t.reduce((j,C)=>{const T=ue(C,"extendMarkSchema",g);return{...j,...T?T(m):{}}},{}),N=Jv({...y,inclusive:Fe(ue(m,"inclusive",g)),excludes:Fe(ue(m,"excludes",g)),group:Fe(ue(m,"group",g)),spanning:Fe(ue(m,"spanning",g)),code:Fe(ue(m,"code",g)),attrs:Object.fromEntries(p.map(Xv))}),v=Fe(ue(m,"parseHTML",g));v&&(N.parseDOM=v.map(j=>Yv(j,p)));const k=ue(m,"renderHTML",g);return k&&(N.toDOM=j=>k({mark:j,HTMLAttributes:Gl(j,p)})),[m.name,N]}));return new qN({topNode:c,nodes:u,marks:h})}function bO(t){const e=t.filter((n,s)=>t.indexOf(n)!==s);return Array.from(new Set(e))}function bd(t){return t.sort((n,s)=>{const i=ue(n,"priority")||100,o=ue(s,"priority")||100;return i>o?-1:i<o?1:0})}function mw(t){const e=bd(Fp(t)),n=bO(e.map(s=>s.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),e}function pw(t,e,n){const{from:s,to:i}=e,{blockSeparator:o=`

`,textSerializers:c={}}=n||{};let u="";return t.nodesBetween(s,i,(h,m,p,g)=>{var y;h.isBlock&&m>s&&(u+=o);const N=c?.[h.type.name];if(N)return p&&(u+=N({node:h,pos:m,parent:p,index:g,range:e})),!1;h.isText&&(u+=(y=h?.text)==null?void 0:y.slice(Math.max(s,m)-m,i-m))}),u}function yO(t,e){const n={from:0,to:t.content.size};return pw(t,n,e)}function xw(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function vO(t,e){const n=gt(e,t.schema),{from:s,to:i}=t.selection,o=[];t.doc.nodesBetween(s,i,u=>{o.push(u)});const c=o.reverse().find(u=>u.type.name===n.name);return c?{...c.attrs}:{}}function gw(t,e){const n=fu(typeof e=="string"?e:e.name,t.schema);return n==="node"?vO(t,e):n==="mark"?dw(t,e):{}}function NO(t,e=JSON.stringify){const n={};return t.filter(s=>{const i=e(s);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function jO(t){const e=NO(t);return e.length===1?e:e.filter((n,s)=>!e.filter((o,c)=>c!==s).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function bw(t){const{mapping:e,steps:n}=t,s=[];return e.maps.forEach((i,o)=>{const c=[];if(i.ranges.length)i.forEach((u,h)=>{c.push({from:u,to:h})});else{const{from:u,to:h}=n[o];if(u===void 0||h===void 0)return;c.push({from:u,to:h})}c.forEach(({from:u,to:h})=>{const m=e.slice(o).map(u,-1),p=e.slice(o).map(h),g=e.invert().map(m,-1),y=e.invert().map(p);s.push({oldRange:{from:g,to:y},newRange:{from:m,to:p}})})}),jO(s)}function Vp(t,e,n){const s=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t),c=Ip(o,i.type);c&&s.push({mark:i,...c})}):n.nodesBetween(t,e,(i,o)=>{!i||i?.nodeSize===void 0||s.push(...i.marks.map(c=>({from:o,to:o+i.nodeSize,mark:c})))}),s}var wO=(t,e,n,s=20)=>{const i=t.doc.resolve(n);let o=s,c=null;for(;o>0&&c===null;){const u=i.node(o);u?.type.name===e?c=u:o-=1}return[c,o]};function Lc(t,e){return e.nodes[t]||e.marks[t]||null}function Qc(t,e,n){return Object.fromEntries(Object.entries(n).filter(([s])=>{const i=t.find(o=>o.type===e&&o.name===s);return i?i.attribute.keepOnSplit:!1}))}var kO=(t,e=500)=>{let n="";const s=t.parentOffset;return t.parent.nodesBetween(Math.max(0,s-e),s,(i,o,c,u)=>{var h,m;const p=((m=(h=i.type.spec).toText)==null?void 0:m.call(h,{node:i,pos:o,parent:c,index:u}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?p:p.slice(0,Math.max(0,s-o))}),n};function Ym(t,e,n={}){const{empty:s,ranges:i}=t.selection,o=e?_s(e,t.schema):null;if(s)return!!(t.storedMarks||t.selection.$from.marks()).filter(g=>o?o.name===g.type.name:!0).find(g=>xd(g.attrs,n,{strict:!1}));let c=0;const u=[];if(i.forEach(({$from:g,$to:y})=>{const N=g.pos,v=y.pos;t.doc.nodesBetween(N,v,(k,j)=>{if(!k.isText&&!k.marks.length)return;const C=Math.max(N,j),T=Math.min(v,j+k.nodeSize),M=T-C;c+=M,u.push(...k.marks.map(P=>({mark:P,from:C,to:T})))})}),c===0)return!1;const h=u.filter(g=>o?o.name===g.mark.type.name:!0).filter(g=>xd(g.mark.attrs,n,{strict:!1})).reduce((g,y)=>g+y.to-y.from,0),m=u.filter(g=>o?g.mark.type!==o&&g.mark.type.excludes(o):!0).reduce((g,y)=>g+y.to-y.from,0);return(h>0?h+m:h)>=c}function SO(t,e,n={}){if(!e)return wr(t,null,n)||Ym(t,null,n);const s=fu(e,t.schema);return s==="node"?wr(t,e,n):s==="mark"?Ym(t,e,n):!1}var CO=(t,e)=>{const{$from:n,$to:s,$anchor:i}=t.selection;if(e){const o=hu(u=>u.type.name===e)(t.selection);if(!o)return!1;const c=t.doc.resolve(o.pos+1);return i.pos+1===c.end()}return!(s.parentOffset<s.parent.nodeSize-2||n.pos!==s.pos)},EO=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function Qv(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function Zv(t,e){const{nodeExtensions:n}=pi(e),s=n.find(c=>c.name===t);if(!s)return!1;const i={name:s.name,options:s.options,storage:s.storage},o=Fe(ue(s,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function mu(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var s;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((s=t.text)!=null?s:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(o=>{i!==!1&&(mu(o,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function yw(t){return t instanceof he}var vw=class Nw{constructor(e){this.position=e}static fromJSON(e){return new Nw(e.position)}toJSON(){return{position:this.position}}};function TO(t,e){const n=e.mapping.mapResult(t.position);return{position:new vw(n.pos),mapResult:n}}function AO(t){return new vw(t)}function MO(t,e,n){var s;const{selection:i}=e;let o=null;if(iw(i)&&(o=i.$cursor),o){const u=(s=t.storedMarks)!=null?s:o.marks();return o.parent.type.allowsMarkType(n)&&(!!n.isInSet(u)||!u.some(m=>m.type.excludes(n)))}const{ranges:c}=i;return c.some(({$from:u,$to:h})=>{let m=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(u.pos,h.pos,(p,g,y)=>{if(m)return!1;if(p.isInline){const N=!y||y.type.allowsMarkType(n),v=!!n.isInSet(p.marks)||!p.marks.some(k=>k.type.excludes(n));m=N&&v}return!m}),m})}var OO=(t,e={})=>({tr:n,state:s,dispatch:i})=>{const{selection:o}=n,{empty:c,ranges:u}=o,h=_s(t,s.schema);if(i)if(c){const m=dw(s,h);n.addStoredMark(h.create({...m,...e}))}else u.forEach(m=>{const p=m.$from.pos,g=m.$to.pos;s.doc.nodesBetween(p,g,(y,N)=>{const v=Math.max(N,p),k=Math.min(N+y.nodeSize,g);y.marks.find(C=>C.type===h)?y.marks.forEach(C=>{h===C.type&&n.addMark(v,k,h.create({...C.attrs,...e}))}):n.addMark(v,k,h.create(e))})});return MO(s,n,h)},RO=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),DO=(t,e={})=>({state:n,dispatch:s,chain:i})=>{const o=gt(t,n.schema);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:u})=>fv(o,{...c,...e})(n)?!0:u.clearNodes()).command(({state:u})=>fv(o,{...c,...e})(u,s)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},LO=t=>({tr:e,dispatch:n})=>{if(n){const{doc:s}=e,i=Zr(t,0,s.content.size),o=he.create(s,i);e.setSelection(o)}return!0},zO=(t,e)=>({tr:n,state:s,dispatch:i})=>{const{selection:o}=s;let c,u;return typeof e=="number"?(c=e,u=e):e&&"from"in e&&"to"in e?(c=e.from,u=e.to):(c=o.from,u=o.to),i&&n.doc.nodesBetween(c,u,(h,m)=>{h.isText||n.setNodeMarkup(m,void 0,{...h.attrs,dir:t})}),!0},_O=t=>({tr:e,dispatch:n})=>{if(n){const{doc:s}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,c=ge.atStart(s).from,u=ge.atEnd(s).to,h=Zr(i,c,u),m=Zr(o,c,u),p=ge.create(s,h,m);e.setSelection(p)}return!0},BO=t=>({state:e,dispatch:n})=>{const s=gt(t,e.schema);return MA(s)(e,n)};function e1(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const s=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(s)}}var UO=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:s,editor:i})=>{const{selection:o,doc:c}=e,{$from:u,$to:h}=o,m=i.extensionManager.attributes,p=Qc(m,u.node().type.name,u.node().attrs);if(o instanceof he&&o.node.isBlock)return!u.parentOffset||!Rs(c,u.pos)?!1:(s&&(t&&e1(n,i.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const g=h.parentOffset===h.parent.content.size,y=u.depth===0?void 0:fO(u.node(-1).contentMatchAt(u.indexAfter(-1)));let N=g&&y?[{type:y,attrs:p}]:void 0,v=Rs(e.doc,e.mapping.map(u.pos),1,N);if(!N&&!v&&Rs(e.doc,e.mapping.map(u.pos),1,y?[{type:y}]:void 0)&&(v=!0,N=y?[{type:y,attrs:p}]:void 0),s){if(v&&(o instanceof ge&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,N),y&&!g&&!u.parentOffset&&u.parent.type!==y)){const k=e.mapping.map(u.before()),j=e.doc.resolve(k);u.node(-1).canReplaceWith(j.index(),j.index()+1,y)&&e.setNodeMarkup(e.mapping.map(u.before()),y)}t&&e1(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return v},HO=(t,e={})=>({tr:n,state:s,dispatch:i,editor:o})=>{var c;const u=gt(t,s.schema),{$from:h,$to:m}=s.selection,p=s.selection.node;if(p&&p.isBlock||h.depth<2||!h.sameParent(m))return!1;const g=h.node(-1);if(g.type!==u)return!1;const y=o.extensionManager.attributes;if(h.parent.content.size===0&&h.node(-1).childCount===h.indexAfter(-1)){if(h.depth===2||h.node(-3).type!==u||h.index(-2)!==h.node(-2).childCount-1)return!1;if(i){let C=ne.empty;const T=h.index(-1)?1:h.index(-2)?2:3;for(let D=h.depth-T;D>=h.depth-3;D-=1)C=ne.from(h.node(D).copy(C));const M=h.indexAfter(-1)<h.node(-2).childCount?1:h.indexAfter(-2)<h.node(-3).childCount?2:3,P={...Qc(y,h.node().type.name,h.node().attrs),...e},H=((c=u.contentMatch.defaultType)==null?void 0:c.createAndFill(P))||void 0;C=C.append(ne.from(u.createAndFill(null,H)||void 0));const B=h.before(h.depth-(T-1));n.replace(B,h.after(-M),new ie(C,4-T,0));let A=-1;n.doc.nodesBetween(B,n.doc.content.size,(D,_)=>{if(A>-1)return!1;D.isTextblock&&D.content.size===0&&(A=_+1)}),A>-1&&n.setSelection(ge.near(n.doc.resolve(A))),n.scrollIntoView()}return!0}const N=m.pos===h.end()?g.contentMatchAt(0).defaultType:null,v={...Qc(y,g.type.name,g.attrs),...e},k={...Qc(y,h.node().type.name,h.node().attrs),...e};n.delete(h.pos,m.pos);const j=N?[{type:u,attrs:v},{type:N,attrs:k}]:[{type:u,attrs:v}];if(!Rs(n.doc,h.pos,2))return!1;if(i){const{selection:C,storedMarks:T}=s,{splittableMarks:M}=o.extensionManager,P=T||C.$to.parentOffset&&C.$from.marks();if(n.split(h.pos,2,j).scrollIntoView(),!P||!i)return!0;const H=P.filter(B=>M.includes(B.type.name));n.ensureMarks(H)}return!0},hm=(t,e)=>{const n=hu(c=>c.type===e)(t.selection);if(!n)return!0;const s=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(s===void 0)return!0;const i=t.doc.nodeAt(s);return n.node.type===i?.type&&Cr(t.doc,n.pos)&&t.join(n.pos),!0},mm=(t,e)=>{const n=hu(c=>c.type===e)(t.selection);if(!n)return!0;const s=t.doc.resolve(n.start).after(n.depth);if(s===void 0)return!0;const i=t.doc.nodeAt(s);return n.node.type===i?.type&&Cr(t.doc,s)&&t.join(s),!0},PO=(t,e,n,s={})=>({editor:i,tr:o,state:c,dispatch:u,chain:h,commands:m,can:p})=>{const{extensions:g,splittableMarks:y}=i.extensionManager,N=gt(t,c.schema),v=gt(e,c.schema),{selection:k,storedMarks:j}=c,{$from:C,$to:T}=k,M=C.blockRange(T),P=j||k.$to.parentOffset&&k.$from.marks();if(!M)return!1;const H=hu(B=>Zv(B.type.name,g))(k);if(M.depth>=1&&H&&M.depth-H.depth<=1){if(H.node.type===N)return m.liftListItem(v);if(Zv(H.node.type.name,g)&&N.validContent(H.node.content)&&u)return h().command(()=>(o.setNodeMarkup(H.pos,N),!0)).command(()=>hm(o,N)).command(()=>mm(o,N)).run()}return!n||!P||!u?h().command(()=>p().wrapInList(N,s)?!0:m.clearNodes()).wrapInList(N,s).command(()=>hm(o,N)).command(()=>mm(o,N)).run():h().command(()=>{const B=p().wrapInList(N,s),A=P.filter(D=>y.includes(D.type.name));return o.ensureMarks(A),B?!0:m.clearNodes()}).wrapInList(N,s).command(()=>hm(o,N)).command(()=>mm(o,N)).run()},IO=(t,e={},n={})=>({state:s,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,c=_s(t,s.schema);return Ym(s,c,e)?i.unsetMark(c,{extendEmptyMarkRange:o}):i.setMark(c,e)},FO=(t,e,n={})=>({state:s,commands:i})=>{const o=gt(t,s.schema),c=gt(e,s.schema),u=wr(s,o,n);let h;return s.selection.$anchor.sameParent(s.selection.$head)&&(h=s.selection.$anchor.parent.attrs),u?i.setNode(c,h):i.setNode(o,{...h,...n})},$O=(t,e={})=>({state:n,commands:s})=>{const i=gt(t,n.schema);return wr(n,i,e)?s.lift(i):s.wrapIn(i,e)},VO=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let s=0;s<n.length;s+=1){const i=n[s];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const c=t.tr,u=o.transform;for(let h=u.steps.length-1;h>=0;h-=1)c.step(u.steps[h].invert(u.docs[h]));if(o.text){const h=c.doc.resolve(o.from).marks();c.replaceWith(o.from,o.to,t.schema.text(o.text,h))}else c.delete(o.from,o.to)}return!0}}return!1},qO=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:s,ranges:i}=n;return s||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},WO=(t,e={})=>({tr:n,state:s,dispatch:i})=>{var o;const{extendEmptyMarkRange:c=!1}=e,{selection:u}=n,h=_s(t,s.schema),{$from:m,empty:p,ranges:g}=u;if(!i)return!0;if(p&&c){let{from:y,to:N}=u;const v=(o=m.marks().find(j=>j.type===h))==null?void 0:o.attrs,k=Ip(m,h,v);k&&(y=k.from,N=k.to),n.removeMark(y,N,h)}else g.forEach(y=>{n.removeMark(y.$from.pos,y.$to.pos,h)});return n.removeStoredMark(h),!0},KO=t=>({tr:e,state:n,dispatch:s})=>{const{selection:i}=n;let o,c;return typeof t=="number"?(o=t,c=t):t&&"from"in t&&"to"in t?(o=t.from,c=t.to):(o=i.from,c=i.to),s&&e.doc.nodesBetween(o,c,(u,h)=>{if(u.isText)return;const m={...u.attrs};delete m.dir,e.setNodeMarkup(h,void 0,m)}),!0},GO=(t,e={})=>({tr:n,state:s,dispatch:i})=>{let o=null,c=null;const u=fu(typeof t=="string"?t:t.name,s.schema);if(!u)return!1;u==="node"&&(o=gt(t,s.schema)),u==="mark"&&(c=_s(t,s.schema));let h=!1;return n.selection.ranges.forEach(m=>{const p=m.$from.pos,g=m.$to.pos;let y,N,v,k;n.selection.empty?s.doc.nodesBetween(p,g,(j,C)=>{o&&o===j.type&&(h=!0,v=Math.max(C,p),k=Math.min(C+j.nodeSize,g),y=C,N=j)}):s.doc.nodesBetween(p,g,(j,C)=>{C<p&&o&&o===j.type&&(h=!0,v=Math.max(C,p),k=Math.min(C+j.nodeSize,g),y=C,N=j),C>=p&&C<=g&&(o&&o===j.type&&(h=!0,i&&n.setNodeMarkup(C,void 0,{...j.attrs,...e})),c&&j.marks.length&&j.marks.forEach(T=>{if(c===T.type&&(h=!0,i)){const M=Math.max(C,p),P=Math.min(C+j.nodeSize,g);n.addMark(M,P,c.create({...T.attrs,...e}))}}))}),N&&(y!==void 0&&i&&n.setNodeMarkup(y,void 0,{...N.attrs,...e}),c&&N.marks.length&&N.marks.forEach(j=>{c===j.type&&i&&n.addMark(v,k,c.create({...j.attrs,...e}))}))}),h},YO=(t,e={})=>({state:n,dispatch:s})=>{const i=gt(t,n.schema);return wA(i,e)(n,s)},JO=(t,e={})=>({state:n,dispatch:s})=>{const i=gt(t,n.schema);return kA(i,e)(n,s)},XO=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(s=>s.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(s=>s!==e):delete this.callbacks[t]),this}once(t,e){const n=(...s)=>{this.off(t,n),e.apply(this,s)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},pu=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},QO=(t,e)=>{if(Pp(e))return e.exec(t);const n=e(t);if(!n)return null;const s=[n.text];return s.index=n.index,s.input=t,s.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),s.push(n.replaceWith)),s};function zc(t){var e;const{editor:n,from:s,to:i,text:o,rules:c,plugin:u}=t,{view:h}=n;if(h.composing)return!1;const m=h.state.doc.resolve(s);if(m.parent.type.spec.code||(e=m.nodeBefore||m.nodeAfter)!=null&&e.marks.find(y=>y.type.spec.code))return!1;let p=!1;const g=kO(m)+o;return c.forEach(y=>{if(p)return;const N=QO(g,y.find);if(!N)return;const v=h.state.tr,k=du({state:h.state,transaction:v}),j={from:s-(N[0].length-o.length),to:i},{commands:C,chain:T,can:M}=new uu({editor:n,state:k});y.handler({state:k,range:j,match:N,commands:C,chain:T,can:M})===null||!v.steps.length||(y.undoable&&v.setMeta(u,{transform:v,from:s,to:i,text:o}),h.dispatch(v),p=!0)}),p}function ZO(t){const{editor:e,rules:n}=t,s=new tt({state:{init(){return null},apply(i,o,c){const u=i.getMeta(s);if(u)return u;const h=i.getMeta("applyInputRules");return h&&setTimeout(()=>{let{text:p}=h;typeof p=="string"?p=p:p=$p(ne.from(p),c.schema);const{from:g}=h,y=g+p.length;zc({editor:e,from:g,to:y,text:p,rules:n,plugin:s})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,c,u){return zc({editor:e,from:o,to:c,text:u,rules:n,plugin:s})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&zc({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:s})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:c}=i.state.selection;return c?zc({editor:e,from:c.pos,to:c.pos,text:`
`,rules:n,plugin:s}):!1}},isInputRules:!0});return s}function eR(t){return Object.prototype.toString.call(t).slice(8,-1)}function _c(t){return eR(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function jw(t,e){const n={...t};return _c(t)&&_c(e)&&Object.keys(e).forEach(s=>{_c(e[s])&&_c(t[s])?n[s]=jw(t[s],e[s]):n[s]=e[s]}),n}var qp=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Fe(ue(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Fe(ue(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>jw(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},pa=class ww extends qp{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new ww(n)}static handleExit({editor:e,mark:n}){const{tr:s}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const c=i.marks();if(!!!c.find(m=>m?.type.name===n.name))return!1;const h=c.find(m=>m?.type.name===n.name);return h&&s.removeStoredMark(h),s.insertText(" ",i.pos),e.view.dispatch(s),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function tR(t){return typeof t=="number"}var nR=class{constructor(t){this.find=t.find,this.handler=t.handler}},sR=(t,e,n)=>{if(Pp(e))return[...t.matchAll(e)];const s=e(t,n);return s?s.map(i=>{const o=[i.text];return o.index=i.index,o.input=t,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function rR(t){const{editor:e,state:n,from:s,to:i,rule:o,pasteEvent:c,dropEvent:u}=t,{commands:h,chain:m,can:p}=new uu({editor:e,state:n}),g=[];return n.doc.nodesBetween(s,i,(N,v)=>{var k,j,C,T,M;if((j=(k=N.type)==null?void 0:k.spec)!=null&&j.code||!(N.isText||N.isTextblock||N.isInline))return;const P=(M=(T=(C=N.content)==null?void 0:C.size)!=null?T:N.nodeSize)!=null?M:0,H=Math.max(s,v),B=Math.min(i,v+P);if(H>=B)return;const A=N.isText?N.text||"":N.textBetween(H-v,B-v,void 0,"");sR(A,o.find,c).forEach(_=>{if(_.index===void 0)return;const I=H+_.index+1,pe=I+_[0].length,X={from:n.tr.mapping.map(I),to:n.tr.mapping.map(pe)},G=o.handler({state:n,range:X,match:_,commands:h,chain:m,can:p,pasteEvent:c,dropEvent:u});g.push(G)})}),g.every(N=>N!==null)}var Bc=null,aR=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function iR(t){const{editor:e,rules:n}=t;let s=null,i=!1,o=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const h=({state:p,from:g,to:y,rule:N,pasteEvt:v})=>{const k=p.tr,j=du({state:p,transaction:k});if(!(!rR({editor:e,state:j,from:Math.max(g-1,0),to:y.b-1,rule:N,pasteEvent:v,dropEvent:u})||!k.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,k}};return n.map(p=>new tt({view(g){const y=v=>{var k;s=(k=g.dom.parentElement)!=null&&k.contains(v.target)?g.dom.parentElement:null,s&&(Bc=e)},N=()=>{Bc&&(Bc=null)};return window.addEventListener("dragstart",y),window.addEventListener("dragend",N),{destroy(){window.removeEventListener("dragstart",y),window.removeEventListener("dragend",N)}}},props:{handleDOMEvents:{drop:(g,y)=>{if(o=s===g.dom.parentElement,u=y,!o){const N=Bc;N?.isEditable&&setTimeout(()=>{const v=N.state.selection;v&&N.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(g,y)=>{var N;const v=(N=y.clipboardData)==null?void 0:N.getData("text/html");return c=y,i=!!v?.includes("data-pm-slice"),!1}}},appendTransaction:(g,y,N)=>{const v=g[0],k=v.getMeta("uiEvent")==="paste"&&!i,j=v.getMeta("uiEvent")==="drop"&&!o,C=v.getMeta("applyPasteRules"),T=!!C;if(!k&&!j&&!T)return;if(T){let{text:H}=C;typeof H=="string"?H=H:H=$p(ne.from(H),N.schema);const{from:B}=C,A=B+H.length,D=aR(H);return h({rule:p,state:N,from:B,to:{b:A},pasteEvt:D})}const M=y.doc.content.findDiffStart(N.doc.content),P=y.doc.content.findDiffEnd(N.doc.content);if(!(!tR(M)||!P||M===P.b))return h({rule:p,state:N,from:M,to:P,pasteEvt:c})}}))}var xu=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=mw(t),this.schema=gO(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Lc(e.name,this.schema)},s=ue(e,"addCommands",n);return s?{...t,...s()}:t},{})}get plugins(){const{editor:t}=this;return bd([...this.extensions].reverse()).flatMap(s=>{const i={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:t,type:Lc(s.name,this.schema)},o=[],c=ue(s,"addKeyboardShortcuts",i);let u={};if(s.type==="mark"&&ue(s,"exitable",i)&&(u.ArrowRight=()=>pa.handleExit({editor:t,mark:s})),c){const y=Object.fromEntries(Object.entries(c()).map(([N,v])=>[N,()=>v({editor:t})]));u={...u,...y}}const h=v6(u);o.push(h);const m=ue(s,"addInputRules",i);if(Qv(s,t.options.enableInputRules)&&m){const y=m();if(y&&y.length){const N=ZO({editor:t,rules:y}),v=Array.isArray(N)?N:[N];o.push(...v)}}const p=ue(s,"addPasteRules",i);if(Qv(s,t.options.enablePasteRules)&&p){const y=p();if(y&&y.length){const N=iR({editor:t,rules:y});o.push(...N)}}const g=ue(s,"addProseMirrorPlugins",i);if(g){const y=g();o.push(...y)}return o})}get attributes(){return hw(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=pi(this.extensions);return Object.fromEntries(e.filter(n=>!!ue(n,"addNodeView")).map(n=>{const s=this.attributes.filter(h=>h.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:gt(n.name,this.schema)},o=ue(n,"addNodeView",i);if(!o)return[];const c=o();if(!c)return[];const u=(h,m,p,g,y)=>{const N=Gl(h,s);return c({node:h,view:m,getPos:p,decorations:g,innerDecorations:y,editor:t,extension:n,HTMLAttributes:N})};return[n.name,u]}))}dispatchTransaction(t){const{editor:e}=this;return bd([...this.extensions].reverse()).reduceRight((s,i)=>{const o={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:e,type:Lc(i.name,this.schema)},c=ue(i,"dispatchTransaction",o);return c?u=>{c.call(o,{transaction:u,next:s})}:s},t)}get markViews(){const{editor:t}=this,{markExtensions:e}=pi(this.extensions);return Object.fromEntries(e.filter(n=>!!ue(n,"addMarkView")).map(n=>{const s=this.attributes.filter(u=>u.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:_s(n.name,this.schema)},o=ue(n,"addMarkView",i);if(!o)return[];const c=(u,h,m)=>{const p=Gl(u,s);return o()({mark:u,view:h,inline:m,editor:t,extension:n,HTMLAttributes:p,updateAttributes:g=>{NR(u,t,g)}})};return[n.name,c]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const s={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Lc(e.name,this.schema)};e.type==="mark"&&((n=Fe(ue(e,"keepOnSplit",s)))==null||n)&&this.splittableMarks.push(e.name);const i=ue(e,"onBeforeCreate",s),o=ue(e,"onCreate",s),c=ue(e,"onUpdate",s),u=ue(e,"onSelectionUpdate",s),h=ue(e,"onTransaction",s),m=ue(e,"onFocus",s),p=ue(e,"onBlur",s),g=ue(e,"onDestroy",s);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),c&&this.editor.on("update",c),u&&this.editor.on("selectionUpdate",u),h&&this.editor.on("transaction",h),m&&this.editor.on("focus",m),p&&this.editor.on("blur",p),g&&this.editor.on("destroy",g)})}};xu.resolve=mw;xu.sort=bd;xu.flatten=Fp;var lR={};Hp(lR,{ClipboardTextSerializer:()=>Sw,Commands:()=>Cw,Delete:()=>Ew,Drop:()=>Tw,Editable:()=>Aw,FocusEvents:()=>Ow,Keymap:()=>Rw,Paste:()=>Dw,Tabindex:()=>Lw,TextDirection:()=>zw,focusEventsPluginKey:()=>Mw});var ut=class kw extends qp{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new kw(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},Sw=ut.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new tt({key:new vt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:s,selection:i}=e,{ranges:o}=i,c=Math.min(...o.map(p=>p.$from.pos)),u=Math.max(...o.map(p=>p.$to.pos)),h=xw(n);return pw(s,{from:c,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:h})}}})]}}),Cw=ut.create({name:"commands",addCommands(){return{...rw}}}),Ew=ut.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,s,i;const o=()=>{var c,u,h,m;if((m=(h=(u=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:u.filterTransaction)==null?void 0:h.call(u,t))!=null?m:t.getMeta("y-sync$"))return;const p=uw(t.before,[t,...e]);bw(p).forEach(N=>{p.mapping.mapResult(N.oldRange.from).deletedAfter&&p.mapping.mapResult(N.oldRange.to).deletedBefore&&p.before.nodesBetween(N.oldRange.from,N.oldRange.to,(v,k)=>{const j=k+v.nodeSize-2,C=N.oldRange.from<=k&&j<=N.oldRange.to;this.editor.emit("delete",{type:"node",node:v,from:k,to:j,newFrom:p.mapping.map(k),newTo:p.mapping.map(j),deletedRange:N.oldRange,newRange:N.newRange,partial:!C,editor:this.editor,transaction:t,combinedTransform:p})})});const y=p.mapping;p.steps.forEach((N,v)=>{var k,j;if(N instanceof Fn){const C=y.slice(v).map(N.from,-1),T=y.slice(v).map(N.to),M=y.invert().map(C,-1),P=y.invert().map(T),H=(k=p.doc.nodeAt(C-1))==null?void 0:k.marks.some(A=>A.eq(N.mark)),B=(j=p.doc.nodeAt(T))==null?void 0:j.marks.some(A=>A.eq(N.mark));this.editor.emit("delete",{type:"mark",mark:N.mark,from:N.from,to:N.to,deletedRange:{from:M,to:P},newRange:{from:C,to:T},partial:!!(B||H),editor:this.editor,transaction:t,combinedTransform:p})}})};(i=(s=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:s.async)==null||i?setTimeout(o,0):o()}}),Tw=ut.create({name:"drop",addProseMirrorPlugins(){return[new tt({key:new vt("tiptapDrop"),props:{handleDrop:(t,e,n,s)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:s})}}})]}}),Aw=ut.create({name:"editable",addProseMirrorPlugins(){return[new tt({key:new vt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Mw=new vt("focusEvents"),Ow=ut.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new tt({key:Mw,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const s=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(s),!1},blur:(e,n)=>{t.isFocused=!1;const s=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(s),!1}}}})]}}),Rw=ut.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:u})=>{const{selection:h,doc:m}=u,{empty:p,$anchor:g}=h,{pos:y,parent:N}=g,v=g.parent.isTextblock&&y>0?u.doc.resolve(y-1):g,k=v.parent.type.spec.isolating,j=g.pos-g.parentOffset,C=k&&v.parent.childCount===1?j===g.pos:ke.atStart(m).from===y;return!p||!N.type.isTextblock||N.textContent.length||!C||C&&g.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),s={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...s},o={...s,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return gd()||cw()?o:i},addProseMirrorPlugins(){return[new tt({key:new vt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(k=>k.getMeta("composition")))return;const s=t.some(k=>k.docChanged)&&!e.doc.eq(n.doc),i=t.some(k=>k.getMeta("preventClearDocument"));if(!s||i)return;const{empty:o,from:c,to:u}=e.selection,h=ke.atStart(e.doc).from,m=ke.atEnd(e.doc).to;if(o||!(c===h&&u===m)||!mu(n.doc))return;const y=n.tr,N=du({state:n,transaction:y}),{commands:v}=new uu({editor:this.editor,state:N});if(v.clearNodes(),!!y.steps.length)return y}})]}}),Dw=ut.create({name:"paste",addProseMirrorPlugins(){return[new tt({key:new vt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),Lw=ut.create({name:"tabindex",addProseMirrorPlugins(){return[new tt({key:new vt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),zw=ut.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=pi(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new tt({key:new vt("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),oR=class ai{constructor(e,n,s=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=s,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,s=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,s=this.to-1}this.editor.commands.insertContentAt({from:n,to:s},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new ai(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new ai(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new ai(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,s)=>{const i=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,c=this.pos+s+(o?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(c);if(!i&&u.depth<=this.depth)return;const h=new ai(u,this.editor,i,i?n:null);i&&(h.actualDepth=this.depth+1),e.push(new ai(u,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let s=null,i=this.parent;for(;i&&!s;){if(i.node.type.name===e)if(Object.keys(n).length>0){const o=i.node.attrs,c=Object.keys(n);for(let u=0;u<c.length;u+=1){const h=c[u];if(o[h]!==n[h])break}}else s=i;i=i.parent}return s}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},s=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(n);return this.children.forEach(c=>{s&&i.length>0||(c.node.type.name===e&&o.every(h=>n[h]===c.node.attrs[h])&&i.push(c),!(s&&i.length>0)&&(i=i.concat(c.querySelectorAll(e,n,s))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},cR=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function dR(t,e,n){const s=document.querySelector("style[data-tiptap-style]");if(s!==null)return s;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var uR=class extends XO{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:s})=>{throw s},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:TO,createMappablePosition:AO},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:s,slice:i,moved:o})=>this.options.onDrop(s,i,o)),this.on("paste",({event:s,slice:i})=>this.options.onPaste(s,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=lw(e,this.options.autofocus);this.editorState=li.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=dR(cR,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=fw(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],s=this.state.reconfigure({plugins:n});return this.view.updateState(s),s}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const o=typeof i=="string"?`${i}$`:i.key;n=n.filter(c=>!c.key.startsWith(o))}),e.length===n.length)return;const s=this.state.reconfigure({plugins:n});return this.view.updateState(s),s}createExtensionManager(){var t,e;const s=[...this.options.enableCoreExtensions?[Aw,Sw.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),Cw,Ow,Rw,Lw,Tw,Dw,Ew,zw.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new xu(s,this)}createCommandManager(){this.commandManager=new uu({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Gm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=Gm(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:e,enableExtensionDispatchTransaction:n}=this.options,s=e.dispatchTransaction||this.dispatchTransaction.bind(this),i=n?this.extensionManager.dispatchTransaction(s):s;this.editorView=new nw(t,{...e,attributes:{role:"textbox",...e?.attributes},dispatchTransaction:i,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.prependClass(),this.injectCSS();const c=this.view.dom;c.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(m=>{var p;return(p=this.capturedTransaction)==null?void 0:p.step(m)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),s=!this.state.selection.eq(e.selection),i=n.includes(t),o=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),s&&this.emit("selectionUpdate",{editor:this,transaction:t});const c=n.findLast(m=>m.getMeta("focus")||m.getMeta("blur")),u=c?.getMeta("focus"),h=c?.getMeta("blur");u&&this.emit("focus",{editor:this,event:u.event,transaction:c}),h&&this.emit("blur",{editor:this,event:h.event,transaction:c}),!(t.getMeta("preventUpdate")||!n.some(m=>m.docChanged)||o.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return gw(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,s=typeof t=="string"?e:t;return SO(this.state,n,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return $p(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return yO(this.state.doc,{blockSeparator:e,textSerializers:{...xw(this.schema),...n}})}get isEmpty(){return mu(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new oR(e,this)}get $doc(){return this.$pos(0)}};function xi(t){return new pu({find:t.find,handler:({state:e,range:n,match:s})=>{const i=Fe(t.getAttributes,void 0,s);if(i===!1||i===null)return null;const{tr:o}=e,c=s[s.length-1],u=s[0];if(c){const h=u.search(/\S/),m=n.from+u.indexOf(c),p=m+c.length;if(Vp(n.from,n.to,e.doc).filter(N=>N.mark.type.excluded.find(k=>k===t.type&&k!==N.mark.type)).filter(N=>N.to>m).length)return null;p<n.to&&o.delete(p,n.to),m>n.from&&o.delete(n.from+h,m);const y=n.from+h+c.length;o.addMark(n.from+h,y,t.type.create(i||{})),o.removeStoredMark(t.type)}},undoable:t.undoable})}function _w(t){return new pu({find:t.find,handler:({state:e,range:n,match:s})=>{const i=Fe(t.getAttributes,void 0,s)||{},{tr:o}=e,c=n.from;let u=n.to;const h=t.type.create(i);if(s[1]){const m=s[0].lastIndexOf(s[1]);let p=c+m;p>u?p=u:u=p+s[1].length;const g=s[0][s[0].length-1];o.insertText(g,c+s[0].length-1),o.replaceWith(p,u,h)}else if(s[0]){const m=t.type.isInline?c:c-1;o.insert(m,t.type.create(i)).delete(o.mapping.map(c),o.mapping.map(u))}o.scrollIntoView()},undoable:t.undoable})}function Jm(t){return new pu({find:t.find,handler:({state:e,range:n,match:s})=>{const i=e.doc.resolve(n.from),o=Fe(t.getAttributes,void 0,s)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)},undoable:t.undoable})}function gi(t){return new pu({find:t.find,handler:({state:e,range:n,match:s,chain:i})=>{const o=Fe(t.getAttributes,void 0,s)||{},c=e.tr.delete(n.from,n.to),h=c.doc.resolve(n.from).blockRange(),m=h&&wp(h,t.type,o);if(!m)return null;if(c.wrap(h,m),t.keepMarks&&t.editor){const{selection:g,storedMarks:y}=e,{splittableMarks:N}=t.editor.extensionManager,v=y||g.$to.parentOffset&&g.$from.marks();if(v){const k=v.filter(j=>N.includes(j.type.name));c.ensureMarks(k)}}if(t.keepAttributes){const g=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(g,o).run()}const p=c.doc.resolve(n.from-1).nodeBefore;p&&p.type===t.type&&Cr(c.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(s,p))&&c.join(n.from-1)},undoable:t.undoable})}var fR=t=>"touches"in t,hR=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=u=>{if(!this.isResizing||!this.activeHandle)return;const h=u.clientX-this.startX,m=u.clientY-this.startY;this.handleResize(h,m)},this.handleTouchMove=u=>{if(!this.isResizing||!this.activeHandle)return;const h=u.touches[0];if(!h)return;const m=h.clientX-this.startX,p=h.clientY-this.startY;this.handleResize(m,p)},this.handleMouseUp=()=>{if(!this.isResizing)return;const u=this.element.offsetWidth,h=this.element.offsetHeight;this.onCommit(u,h),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=u=>{u.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=u=>{u.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,s,i,o,c;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(s=t?.options)!=null&&s.directions&&(this.directions=t.options.directions),(i=t.options)!=null&&i.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(o=t.options)!=null&&o.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(c=t.options)!=null&&c.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),s=e.includes("bottom"),i=e.includes("left"),o=e.includes("right");n&&(t.style.top="0"),s&&(t.style.bottom="0"),i&&(t.style.left="0"),o&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,fR(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:s,height:i}=this.calculateNewDimensions(this.activeHandle,t,e),o=this.applyConstraints(s,i,n);this.element.style.width=`${o.width}px`,this.element.style.height=`${o.height}px`,this.onResize&&this.onResize(o.width,o.height)}calculateNewDimensions(t,e,n){let s=this.startWidth,i=this.startHeight;const o=t.includes("right"),c=t.includes("left"),u=t.includes("bottom"),h=t.includes("top");return o?s=this.startWidth+e:c&&(s=this.startWidth-e),u?i=this.startHeight+n:h&&(i=this.startHeight-n),(t==="right"||t==="left")&&(s=this.startWidth+(o?e:-e)),(t==="top"||t==="bottom")&&(i=this.startHeight+(u?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(s,i,t):{width:s,height:i}}applyConstraints(t,e,n){var s,i,o,c;if(!n){let m=Math.max(this.minSize.width,t),p=Math.max(this.minSize.height,e);return(s=this.maxSize)!=null&&s.width&&(m=Math.min(this.maxSize.width,m)),(i=this.maxSize)!=null&&i.height&&(p=Math.min(this.maxSize.height,p)),{width:m,height:p}}let u=t,h=e;return u<this.minSize.width&&(u=this.minSize.width,h=u/this.aspectRatio),h<this.minSize.height&&(h=this.minSize.height,u=h*this.aspectRatio),(o=this.maxSize)!=null&&o.width&&u>this.maxSize.width&&(u=this.maxSize.width,h=u/this.aspectRatio),(c=this.maxSize)!=null&&c.height&&h>this.maxSize.height&&(h=this.maxSize.height,u=h*this.aspectRatio),{width:u,height:h}}applyAspectRatio(t,e,n){const s=n==="left"||n==="right",i=n==="top"||n==="bottom";return s?{width:t,height:t/this.aspectRatio}:i?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function mR(t,e){const{selection:n}=t,{$from:s}=n;if(n instanceof he){const o=s.index();return s.parent.canReplaceWith(o,o+1,e)}let i=s.depth;for(;i>=0;){const o=s.index(i);if(s.node(i).contentMatchAt(o).matchType(e))return!0;i-=1}return!1}var pR={};Hp(pR,{createAtomBlockMarkdownSpec:()=>xR,createBlockMarkdownSpec:()=>gR,createInlineMarkdownSpec:()=>vR,parseAttributes:()=>Wp,parseIndentedBlocks:()=>Xm,renderNestedMarkdownContent:()=>Gp,serializeAttributes:()=>Kp});function Wp(t){if(!t?.trim())return{};const e={},n=[],s=t.replace(/["']([^"']*)["']/g,m=>(n.push(m),`__QUOTED_${n.length-1}__`)),i=s.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const m=i.map(p=>p.trim().slice(1));e.class=m.join(" ")}const o=s.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);o&&(e.id=o[1]);const c=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(s.matchAll(c)).forEach(([,m,p])=>{var g;const y=parseInt(((g=p.match(/__QUOTED_(\d+)__/))==null?void 0:g[1])||"0",10),N=n[y];N&&(e[m]=N.slice(1,-1))});const h=s.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return h&&h.split(/\s+/).filter(Boolean).forEach(p=>{p.match(/^[a-zA-Z][\w-]*$/)&&(e[p]=!0)}),e}function Kp(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(s=>e.push(`.${s}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,s])=>{n==="class"||n==="id"||(s===!0?e.push(n):s!==!1&&s!=null&&e.push(`${n}="${String(s)}"`))}),e.join(" ")}function xR(t){const{nodeName:e,name:n,parseAttributes:s=Wp,serializeAttributes:i=Kp,defaultAttributes:o={},requiredAttributes:c=[],allowedAttributes:u}=t,h=n||e,m=p=>{if(!u)return p;const g={};return u.forEach(y=>{y in p&&(g[y]=p[y])}),g};return{parseMarkdown:(p,g)=>{const y={...o,...p.attributes};return g.createNode(e,y,[])},markdownTokenizer:{name:e,level:"block",start(p){var g;const y=new RegExp(`^:::${h}(?:\\s|$)`,"m"),N=(g=p.match(y))==null?void 0:g.index;return N!==void 0?N:-1},tokenize(p,g,y){const N=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),v=p.match(N);if(!v)return;const k=v[1]||"",j=s(k);if(!c.find(T=>!(T in j)))return{type:e,raw:v[0],attributes:j}}},renderMarkdown:p=>{const g=m(p.attrs||{}),y=i(g),N=y?` {${y}}`:"";return`:::${h}${N} :::`}}}function gR(t){const{nodeName:e,name:n,getContent:s,parseAttributes:i=Wp,serializeAttributes:o=Kp,defaultAttributes:c={},content:u="block",allowedAttributes:h}=t,m=n||e,p=g=>{if(!h)return g;const y={};return h.forEach(N=>{N in g&&(y[N]=g[N])}),y};return{parseMarkdown:(g,y)=>{let N;if(s){const k=s(g);N=typeof k=="string"?[{type:"text",text:k}]:k}else u==="block"?N=y.parseChildren(g.tokens||[]):N=y.parseInline(g.tokens||[]);const v={...c,...g.attributes};return y.createNode(e,v,N)},markdownTokenizer:{name:e,level:"block",start(g){var y;const N=new RegExp(`^:::${m}`,"m"),v=(y=g.match(N))==null?void 0:y.index;return v!==void 0?v:-1},tokenize(g,y,N){var v;const k=new RegExp(`^:::${m}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),j=g.match(k);if(!j)return;const[C,T=""]=j,M=i(T);let P=1;const H=C.length;let B="";const A=/^:::([\w-]*)(\s.*)?/gm,D=g.slice(H);for(A.lastIndex=0;;){const _=A.exec(D);if(_===null)break;const I=_.index,pe=_[1];if(!((v=_[2])!=null&&v.endsWith(":::"))){if(pe)P+=1;else if(P-=1,P===0){const X=D.slice(0,I);B=X.trim();const G=g.slice(0,H+I+_[0].length);let J=[];if(B)if(u==="block")for(J=N.blockTokens(X),J.forEach(te=>{te.text&&(!te.tokens||te.tokens.length===0)&&(te.tokens=N.inlineTokens(te.text))});J.length>0;){const te=J[J.length-1];if(te.type==="paragraph"&&(!te.text||te.text.trim()===""))J.pop();else break}else J=N.inlineTokens(B);return{type:e,raw:G,attributes:M,content:B,tokens:J}}}}}},renderMarkdown:(g,y)=>{const N=p(g.attrs||{}),v=o(N),k=v?` {${v}}`:"",j=y.renderChildren(g.content||[],`

`);return`:::${m}${k}

${j}

:::`}}}function bR(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let s=n.exec(t);for(;s!==null;){const[,i,o,c]=s;e[i]=o||c,s=n.exec(t)}return e}function yR(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function vR(t){const{nodeName:e,name:n,getContent:s,parseAttributes:i=bR,serializeAttributes:o=yR,defaultAttributes:c={},selfClosing:u=!1,allowedAttributes:h}=t,m=n||e,p=y=>{if(!h)return y;const N={};return h.forEach(v=>{const k=typeof v=="string"?v:v.name,j=typeof v=="string"?void 0:v.skipIfDefault;if(k in y){const C=y[k];if(j!==void 0&&C===j)return;N[k]=C}}),N},g=m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(y,N)=>{const v={...c,...y.attributes};if(u)return N.createNode(e,v);const k=s?s(y):y.content||"";return k?N.createNode(e,v,[N.createTextNode(k)]):N.createNode(e,v,[])},markdownTokenizer:{name:e,level:"inline",start(y){const N=u?new RegExp(`\\[${g}\\s*[^\\]]*\\]`):new RegExp(`\\[${g}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${g}\\]`),v=y.match(N),k=v?.index;return k!==void 0?k:-1},tokenize(y,N,v){const k=u?new RegExp(`^\\[${g}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${g}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${g}\\]`),j=y.match(k);if(!j)return;let C="",T="";if(u){const[,P]=j;T=P}else{const[,P,H]=j;T=P,C=H||""}const M=i(T.trim());return{type:e,raw:j[0],content:C.trim(),attributes:M}}},renderMarkdown:y=>{let N="";s?N=s(y):y.content&&y.content.length>0&&(N=y.content.filter(C=>C.type==="text").map(C=>C.text).join(""));const v=p(y.attrs||{}),k=o(v),j=k?` ${k}`:"";return u?`[${m}${j}]`:`[${m}${j}]${N}[/${m}]`}}}function Xm(t,e,n){var s,i,o,c;const u=t.split(`
`),h=[];let m="",p=0;const g=e.baseIndentSize||2;for(;p<u.length;){const y=u[p],N=y.match(e.itemPattern);if(!N){if(h.length>0)break;if(y.trim()===""){p+=1,m=`${m}${y}
`;continue}else return}const v=e.extractItemData(N),{indentLevel:k,mainContent:j}=v;m=`${m}${y}
`;const C=[j];for(p+=1;p<u.length;){const H=u[p];if(H.trim()===""){const A=u.slice(p+1).findIndex(I=>I.trim()!=="");if(A===-1)break;if((((i=(s=u[p+1+A].match(/^(\s*)/))==null?void 0:s[1])==null?void 0:i.length)||0)>k){C.push(H),m=`${m}${H}
`,p+=1;continue}else break}if((((c=(o=H.match(/^(\s*)/))==null?void 0:o[1])==null?void 0:c.length)||0)>k)C.push(H),m=`${m}${H}
`,p+=1;else break}let T;const M=C.slice(1);if(M.length>0){const H=M.map(B=>B.slice(k+g)).join(`
`);H.trim()&&(e.customNestedParser?T=e.customNestedParser(H):T=n.blockTokens(H))}const P=e.createToken(v,T);h.push(P)}if(h.length!==0)return{items:h,raw:m}}function Gp(t,e,n,s){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(s):n,[o,...c]=t.content,u=e.renderChildren([o]),h=[`${i}${u}`];return c&&c.length>0&&c.forEach(m=>{const p=e.renderChildren([m]);if(p){const g=p.split(`
`).map(y=>y?e.indent(y):"").join(`
`);h.push(g)}}),h.join(`
`)}function NR(t,e,n={}){const{state:s}=e,{doc:i,tr:o}=s,c=t;i.descendants((u,h)=>{const m=o.mapping.map(h),p=o.mapping.map(h)+u.nodeSize;let g=null;if(u.marks.forEach(N=>{if(N!==c)return!1;g=N}),!g)return;let y=!1;if(Object.keys(n).forEach(N=>{n[N]!==g.attrs[N]&&(y=!0)}),y){const N=t.type.create({...t.attrs,...n});o.removeMark(m,p,t.type),o.addMark(m,p,N)}}),o.docChanged&&e.view.dispatch(o)}var ln=class Bw extends qp{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new Bw(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function fa(t){return new nR({find:t.find,handler:({state:e,range:n,match:s,pasteEvent:i})=>{const o=Fe(t.getAttributes,void 0,s,i);if(o===!1||o===null)return null;const{tr:c}=e,u=s[s.length-1],h=s[0];let m=n.to;if(u){const p=h.search(/\S/),g=n.from+h.indexOf(u),y=g+u.length;if(Vp(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(j=>j===t.type&&j!==v.mark.type)).filter(v=>v.to>g).length)return null;y<n.to&&c.delete(y,n.to),g>n.from&&c.delete(n.from+p,g),m=n.from+p+u.length,c.addMark(n.from+p,m,t.type.create(o||{})),c.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:jR,getOwnPropertySymbols:wR}=Object,{hasOwnProperty:kR}=Object.prototype;function pm(t,e){return function(s,i,o){return t(s,i,o)&&e(s,i,o)}}function Uc(t){return function(n,s,i){if(!n||!s||typeof n!="object"||typeof s!="object")return t(n,s,i);const{cache:o}=i,c=o.get(n),u=o.get(s);if(c&&u)return c===s&&u===n;o.set(n,s),o.set(s,n);const h=t(n,s,i);return o.delete(n),o.delete(s),h}}function SR(t){return t?.[Symbol.toStringTag]}function t1(t){return jR(t).concat(wR(t))}const CR=Object.hasOwn||((t,e)=>kR.call(t,e));function xa(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const ER="__v",TR="__o",AR="_owner",{getOwnPropertyDescriptor:n1,keys:s1}=Object;function MR(t,e){return t.byteLength===e.byteLength&&yd(new Uint8Array(t),new Uint8Array(e))}function OR(t,e,n){let s=t.length;if(e.length!==s)return!1;for(;s-- >0;)if(!n.equals(t[s],e[s],s,s,t,e,n))return!1;return!0}function RR(t,e){return t.byteLength===e.byteLength&&yd(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function DR(t,e){return xa(t.getTime(),e.getTime())}function LR(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function zR(t,e){return t===e}function r1(t,e,n){const s=t.size;if(s!==e.size)return!1;if(!s)return!0;const i=new Array(s),o=t.entries();let c,u,h=0;for(;(c=o.next())&&!c.done;){const m=e.entries();let p=!1,g=0;for(;(u=m.next())&&!u.done;){if(i[g]){g++;continue}const y=c.value,N=u.value;if(n.equals(y[0],N[0],h,g,t,e,n)&&n.equals(y[1],N[1],y[0],N[0],t,e,n)){p=i[g]=!0;break}g++}if(!p)return!1;h++}return!0}const _R=xa;function BR(t,e,n){const s=s1(t);let i=s.length;if(s1(e).length!==i)return!1;for(;i-- >0;)if(!Uw(t,e,n,s[i]))return!1;return!0}function jl(t,e,n){const s=t1(t);let i=s.length;if(t1(e).length!==i)return!1;let o,c,u;for(;i-- >0;)if(o=s[i],!Uw(t,e,n,o)||(c=n1(t,o),u=n1(e,o),(c||u)&&(!c||!u||c.configurable!==u.configurable||c.enumerable!==u.enumerable||c.writable!==u.writable)))return!1;return!0}function UR(t,e){return xa(t.valueOf(),e.valueOf())}function HR(t,e){return t.source===e.source&&t.flags===e.flags}function a1(t,e,n){const s=t.size;if(s!==e.size)return!1;if(!s)return!0;const i=new Array(s),o=t.values();let c,u;for(;(c=o.next())&&!c.done;){const h=e.values();let m=!1,p=0;for(;(u=h.next())&&!u.done;){if(!i[p]&&n.equals(c.value,u.value,c.value,u.value,t,e,n)){m=i[p]=!0;break}p++}if(!m)return!1}return!0}function yd(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function PR(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Uw(t,e,n,s){return(s===AR||s===TR||s===ER)&&(t.$$typeof||e.$$typeof)?!0:CR(e,s)&&n.equals(t[s],e[s],s,s,t,e,n)}const IR="[object ArrayBuffer]",FR="[object Arguments]",$R="[object Boolean]",VR="[object DataView]",qR="[object Date]",WR="[object Error]",KR="[object Map]",GR="[object Number]",YR="[object Object]",JR="[object RegExp]",XR="[object Set]",QR="[object String]",ZR={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},e5="[object URL]",t5=Object.prototype.toString;function n5({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:s,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:c,areNumbersEqual:u,areObjectsEqual:h,arePrimitiveWrappersEqual:m,areRegExpsEqual:p,areSetsEqual:g,areTypedArraysEqual:y,areUrlsEqual:N,unknownTagComparators:v}){return function(j,C,T){if(j===C)return!0;if(j==null||C==null)return!1;const M=typeof j;if(M!==typeof C)return!1;if(M!=="object")return M==="number"?u(j,C,T):M==="function"?o(j,C,T):!1;const P=j.constructor;if(P!==C.constructor)return!1;if(P===Object)return h(j,C,T);if(Array.isArray(j))return e(j,C,T);if(P===Date)return s(j,C,T);if(P===RegExp)return p(j,C,T);if(P===Map)return c(j,C,T);if(P===Set)return g(j,C,T);const H=t5.call(j);if(H===qR)return s(j,C,T);if(H===JR)return p(j,C,T);if(H===KR)return c(j,C,T);if(H===XR)return g(j,C,T);if(H===YR)return typeof j.then!="function"&&typeof C.then!="function"&&h(j,C,T);if(H===e5)return N(j,C,T);if(H===WR)return i(j,C,T);if(H===FR)return h(j,C,T);if(ZR[H])return y(j,C,T);if(H===IR)return t(j,C,T);if(H===VR)return n(j,C,T);if(H===$R||H===GR||H===QR)return m(j,C,T);if(v){let B=v[H];if(!B){const A=SR(j);A&&(B=v[A])}if(B)return B(j,C,T)}return!1}}function s5({circular:t,createCustomConfig:e,strict:n}){let s={areArrayBuffersEqual:MR,areArraysEqual:n?jl:OR,areDataViewsEqual:RR,areDatesEqual:DR,areErrorsEqual:LR,areFunctionsEqual:zR,areMapsEqual:n?pm(r1,jl):r1,areNumbersEqual:_R,areObjectsEqual:n?jl:BR,arePrimitiveWrappersEqual:UR,areRegExpsEqual:HR,areSetsEqual:n?pm(a1,jl):a1,areTypedArraysEqual:n?pm(yd,jl):yd,areUrlsEqual:PR,unknownTagComparators:void 0};if(e&&(s=Object.assign({},s,e(s))),t){const i=Uc(s.areArraysEqual),o=Uc(s.areMapsEqual),c=Uc(s.areObjectsEqual),u=Uc(s.areSetsEqual);s=Object.assign({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:c,areSetsEqual:u})}return s}function r5(t){return function(e,n,s,i,o,c,u){return t(e,n,u)}}function a5({circular:t,comparator:e,createState:n,equals:s,strict:i}){if(n)return function(u,h){const{cache:m=t?new WeakMap:void 0,meta:p}=n();return e(u,h,{cache:m,equals:s,meta:p,strict:i})};if(t)return function(u,h){return e(u,h,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};const o={cache:void 0,equals:s,meta:void 0,strict:i};return function(u,h){return e(u,h,o)}}const i5=Tr();Tr({strict:!0});Tr({circular:!0});Tr({circular:!0,strict:!0});Tr({createInternalComparator:()=>xa});Tr({strict:!0,createInternalComparator:()=>xa});Tr({circular:!0,createInternalComparator:()=>xa});Tr({circular:!0,createInternalComparator:()=>xa,strict:!0});function Tr(t={}){const{circular:e=!1,createInternalComparator:n,createState:s,strict:i=!1}=t,o=s5(t),c=n5(o),u=n?n(c):r5(c);return a5({circular:e,comparator:c,createState:s,equals:u,strict:i})}var xm={exports:{}},gm={};var i1;function l5(){if(i1)return gm;i1=1;var t=Xl(),e=TN();function n(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var s=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,c=t.useEffect,u=t.useMemo,h=t.useDebugValue;return gm.useSyncExternalStoreWithSelector=function(m,p,g,y,N){var v=o(null);if(v.current===null){var k={hasValue:!1,value:null};v.current=k}else k=v.current;v=u(function(){function C(B){if(!T){if(T=!0,M=B,B=y(B),N!==void 0&&k.hasValue){var A=k.value;if(N(A,B))return P=A}return P=B}if(A=P,s(M,B))return A;var D=y(B);return N!==void 0&&N(A,D)?(M=B,A):(M=B,P=D)}var T=!1,M,P,H=g===void 0?null:g;return[function(){return C(p())},H===null?void 0:function(){return C(H())}]},[p,g,y,N]);var j=i(m,v[0],v[1]);return c(function(){k.hasValue=!0,k.value=j},[j]),h(j),j},gm}var l1;function o5(){return l1||(l1=1,xm.exports=l5()),xm.exports}var c5=o5(),d5=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},u5=({contentComponent:t})=>{const e=AN.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return a.jsx(a.Fragment,{children:Object.values(e)})};function f5(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,s){e={...e,[n]:nT.createPortal(s.reactElement,s.element,n)},t.forEach(i=>i())},removeRenderer(n){const s={...e};delete s[n],e=s,t.forEach(i=>i())}}}var h5=class extends nn.Component{constructor(t){var e;super(t),this.editorContentRef=nn.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=f5(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(s=>s.hasContentComponentInitialized?s:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:d5(e,this.editorContentRef),...n}),t?.contentComponent&&a.jsx(u5,{contentComponent:t.contentComponent})]})}},m5=S.forwardRef((t,e)=>{const n=nn.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return nn.createElement(h5,{key:n,innerRef:e,...t})}),Hw=nn.memo(m5),p5=typeof window<"u"?S.useLayoutEffect:S.useEffect,x5=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function g5(t){var e;const[n]=S.useState(()=>new x5(t.editor)),s=c5.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:i5);return p5(()=>n.watch(t.editor),[t.editor,n]),S.useDebugValue(s),s}var b5=!1,Qm=typeof window>"u",y5=Qm||!!(typeof window<"u"&&window.next),v5=class Pw{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Qm||y5?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...s)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)==null?void 0:o.call(i,...s)},onBlur:(...s)=>{var i,o;return(o=(i=this.options.current).onBlur)==null?void 0:o.call(i,...s)},onCreate:(...s)=>{var i,o;return(o=(i=this.options.current).onCreate)==null?void 0:o.call(i,...s)},onDestroy:(...s)=>{var i,o;return(o=(i=this.options.current).onDestroy)==null?void 0:o.call(i,...s)},onFocus:(...s)=>{var i,o;return(o=(i=this.options.current).onFocus)==null?void 0:o.call(i,...s)},onSelectionUpdate:(...s)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)==null?void 0:o.call(i,...s)},onTransaction:(...s)=>{var i,o;return(o=(i=this.options.current).onTransaction)==null?void 0:o.call(i,...s)},onUpdate:(...s)=>{var i,o;return(o=(i=this.options.current).onUpdate)==null?void 0:o.call(i,...s)},onContentError:(...s)=>{var i,o;return(o=(i=this.options.current).onContentError)==null?void 0:o.call(i,...s)},onDrop:(...s)=>{var i,o;return(o=(i=this.options.current).onDrop)==null?void 0:o.call(i,...s)},onPaste:(...s)=>{var i,o;return(o=(i=this.options.current).onPaste)==null?void 0:o.call(i,...s)},onDelete:(...s)=>{var i,o;return(o=(i=this.options.current).onDelete)==null?void 0:o.call(i,...s)}};return new uR(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(s=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(s)?!0:s==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,o)=>{var c;return i===((c=n.extensions)==null?void 0:c[o])}):e[s]===n[s])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Pw.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((s,i)=>s===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function Iw(t={},e=[]){const n=S.useRef(t);n.current=t;const[s]=S.useState(()=>new v5(n)),i=AN.useSyncExternalStore(s.subscribe,s.getEditor,s.getServerSnapshot);return S.useDebugValue(i),S.useEffect(s.onRender(e)),g5({editor:i,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&o===0?0:o+1}),i}var N5=S.createContext({editor:null});N5.Consumer;var j5=S.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),w5=()=>S.useContext(j5);nn.forwardRef((t,e)=>{const{onDragStart:n}=w5(),s=t.as||"div";return a.jsx(s,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});nn.createContext({markViewContentRef:()=>{}});var vd=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...s}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,s,n]},k5=/^\s*>\s$/,S5=ln.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return vd("blockquote",{...dt(this.options.HTMLAttributes,t),children:vd("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",s=[];return t.content.forEach(i=>{const u=e.renderChildren([i]).split(`
`).map(h=>h.trim()===""?n:`${n} ${h}`);s.push(u.join(`
`))}),s.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[gi({find:k5,type:this.type})]}}),C5=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,E5=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,T5=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,A5=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,M5=pa.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return vd("strong",{...dt(this.options.HTMLAttributes,t),children:vd("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[xi({find:C5,type:this.type}),xi({find:T5,type:this.type})]},addPasteRules(){return[fa({find:E5,type:this.type}),fa({find:A5,type:this.type})]}}),O5=/(^|[^`])`([^`]+)`(?!`)$/,R5=/(^|[^`])`([^`]+)`(?!`)/g,D5=pa.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",dt(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[xi({find:O5,type:this.type})]},addPasteRules(){return[fa({find:R5,type:this.type})]}}),bm=4,L5=/^```([a-z]+)?[\s\n]$/,z5=/^~~~([a-z]+)?[\s\n]$/,_5=ln.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:bm,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const o=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(c=>c.startsWith(n)).map(c=>c.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",dt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let s="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?s=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):s=`\`\`\`${i}

\`\`\``,s},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:bm,{state:s}=t,{selection:i}=s,{$from:o,empty:c}=i;if(o.parent.type!==this.type)return!1;const u=" ".repeat(n);return c?t.commands.insertContent(u):t.commands.command(({tr:h})=>{const{from:m,to:p}=i,N=s.doc.textBetween(m,p,`
`,`
`).split(`
`).map(v=>u+v).join(`
`);return h.replaceWith(m,p,s.schema.text(N)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:bm,{state:s}=t,{selection:i}=s,{$from:o,empty:c}=i;return o.parent.type!==this.type?!1:c?t.commands.command(({tr:u})=>{var h;const{pos:m}=o,p=o.start(),g=o.end(),N=s.doc.textBetween(p,g,`
`,`
`).split(`
`);let v=0,k=0;const j=m-p;for(let B=0;B<N.length;B+=1){if(k+N[B].length>=j){v=B;break}k+=N[B].length+1}const T=((h=N[v].match(/^ */))==null?void 0:h[0])||"",M=Math.min(T.length,n);if(M===0)return!0;let P=p;for(let B=0;B<v;B+=1)P+=N[B].length+1;return u.delete(P,P+M),m-P<=M&&u.setSelection(ge.create(u.doc,P)),!0}):t.commands.command(({tr:u})=>{const{from:h,to:m}=i,y=s.doc.textBetween(h,m,`
`,`
`).split(`
`).map(N=>{var v;const k=((v=N.match(/^ */))==null?void 0:v[0])||"",j=Math.min(k.length,n);return N.slice(j)}).join(`
`);return u.replaceWith(h,m,s.schema.text(y)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type)return!1;const o=s.parentOffset===s.parent.nodeSize-2,c=s.parent.textContent.endsWith(`

`);return!o||!c?!1:t.chain().command(({tr:u})=>(u.delete(s.pos-2,s.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:s}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const u=i.after();return u===void 0?!1:s.nodeAt(u)?t.commands.command(({tr:m})=>(m.setSelection(ke.near(s.resolve(u))),!0)):t.commands.exitCode()}}},addInputRules(){return[Jm({find:L5,type:this.type,getAttributes:t=>({language:t[1]})}),Jm({find:z5,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new tt({key:new vt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),s=e.clipboardData.getData("vscode-editor-data"),i=s?JSON.parse(s):void 0,o=i?.mode;if(!n||!o)return!1;const{tr:c,schema:u}=t.state,h=u.text(n.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:o},h)),c.selection.$from.parent.type!==this.type&&c.setSelection(ge.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),t.dispatch(c),!0}}})]}}),B5=ln.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),U5=ln.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",dt(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:s})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:u}=s.extensionManager,h=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:m,dispatch:p})=>{if(p&&h&&c){const g=h.filter(y=>u.includes(y.type.name));m.ensureMarks(g)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),H5=ln.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,dt(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const s=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(s);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Jm({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),P5=ln.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",dt(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!mR(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:s}=n,i=t();return yw(n)?i.insertContentAt(s.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:o,tr:c,dispatch:u})=>{if(u){const{$to:h}=c.selection,m=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?c.setSelection(ge.create(c.doc,h.pos+1)):h.nodeAfter.isBlock?c.setSelection(he.create(c.doc,h.pos)):c.setSelection(ge.create(c.doc,h.pos));else{const p=o.schema.nodes[this.options.nextNodeType]||h.parent.type.contentMatch.defaultType,g=p?.create();g&&(c.insert(m,g),c.setSelection(ge.create(c.doc,m+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[_w({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),I5=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,F5=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,$5=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,V5=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,q5=pa.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",dt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[xi({find:I5,type:this.type}),xi({find:$5,type:this.type})]},addPasteRules(){return[fa({find:F5,type:this.type}),fa({find:V5,type:this.type})]}});const W5="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",K5="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Zm="numeric",ep="ascii",tp="alpha",Dl="asciinumeric",Tl="alphanumeric",np="domain",Fw="emoji",G5="scheme",Y5="slashscheme",ym="whitespace";function J5(t,e){return t in e||(e[t]=[]),e[t]}function ea(t,e,n){e[Zm]&&(e[Dl]=!0,e[Tl]=!0),e[ep]&&(e[Dl]=!0,e[tp]=!0),e[Dl]&&(e[Tl]=!0),e[tp]&&(e[Tl]=!0),e[Tl]&&(e[np]=!0),e[Fw]&&(e[np]=!0);for(const s in e){const i=J5(s,n);i.indexOf(t)<0&&i.push(t)}}function X5(t,e){const n={};for(const s in e)e[s].indexOf(t)>=0&&(n[s]=!0);return n}function tn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}tn.groups={};tn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let s=0;s<e.jr.length;s++){const i=e.jr[s][0],o=e.jr[s][1];if(o&&i.test(t))return o}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,s){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,s)},tr(t,e,n,s){s=s||tn.groups;let i;return e&&e.j?i=e:(i=new tn(e),n&&s&&ea(e,n,s)),this.jr.push([t,i]),i},ts(t,e,n,s){let i=this;const o=t.length;if(!o)return i;for(let c=0;c<o-1;c++)i=i.tt(t[c]);return i.tt(t[o-1],e,n,s)},tt(t,e,n,s){s=s||tn.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const o=e;let c,u=i.go(t);if(u?(c=new tn,Object.assign(c.j,u.j),c.jr.push.apply(c.jr,u.jr),c.jd=u.jd,c.t=u.t):c=new tn,o){if(s)if(c.t&&typeof c.t=="string"){const h=Object.assign(X5(c.t,s),n);ea(o,h,s)}else n&&ea(o,n,s);c.t=o}return i.j[t]=c,c}};const we=(t,e,n,s,i)=>t.ta(e,n,s,i),rt=(t,e,n,s,i)=>t.tr(e,n,s,i),o1=(t,e,n,s,i)=>t.ts(e,n,s,i),se=(t,e,n,s,i)=>t.tt(e,n,s,i),Ts="WORD",sp="UWORD",$w="ASCIINUMERICAL",Vw="ALPHANUMERICAL",Yl="LOCALHOST",rp="TLD",ap="UTLD",Zc="SCHEME",ii="SLASH_SCHEME",Yp="NUM",ip="WS",Jp="NL",Ll="OPENBRACE",zl="CLOSEBRACE",Nd="OPENBRACKET",jd="CLOSEBRACKET",wd="OPENPAREN",kd="CLOSEPAREN",Sd="OPENANGLEBRACKET",Cd="CLOSEANGLEBRACKET",Ed="FULLWIDTHLEFTPAREN",Td="FULLWIDTHRIGHTPAREN",Ad="LEFTCORNERBRACKET",Md="RIGHTCORNERBRACKET",Od="LEFTWHITECORNERBRACKET",Rd="RIGHTWHITECORNERBRACKET",Dd="FULLWIDTHLESSTHAN",Ld="FULLWIDTHGREATERTHAN",zd="AMPERSAND",_d="APOSTROPHE",Bd="ASTERISK",ur="AT",Ud="BACKSLASH",Hd="BACKTICK",Pd="CARET",mr="COLON",Xp="COMMA",Id="DOLLAR",Xn="DOT",Fd="EQUALS",Qp="EXCLAMATION",Rn="HYPHEN",_l="PERCENT",$d="PIPE",Vd="PLUS",qd="POUND",Bl="QUERY",Zp="QUOTE",qw="FULLWIDTHMIDDLEDOT",ex="SEMI",Qn="SLASH",Ul="TILDE",Wd="UNDERSCORE",Ww="EMOJI",Kd="SYM";var Kw=Object.freeze({__proto__:null,ALPHANUMERICAL:Vw,AMPERSAND:zd,APOSTROPHE:_d,ASCIINUMERICAL:$w,ASTERISK:Bd,AT:ur,BACKSLASH:Ud,BACKTICK:Hd,CARET:Pd,CLOSEANGLEBRACKET:Cd,CLOSEBRACE:zl,CLOSEBRACKET:jd,CLOSEPAREN:kd,COLON:mr,COMMA:Xp,DOLLAR:Id,DOT:Xn,EMOJI:Ww,EQUALS:Fd,EXCLAMATION:Qp,FULLWIDTHGREATERTHAN:Ld,FULLWIDTHLEFTPAREN:Ed,FULLWIDTHLESSTHAN:Dd,FULLWIDTHMIDDLEDOT:qw,FULLWIDTHRIGHTPAREN:Td,HYPHEN:Rn,LEFTCORNERBRACKET:Ad,LEFTWHITECORNERBRACKET:Od,LOCALHOST:Yl,NL:Jp,NUM:Yp,OPENANGLEBRACKET:Sd,OPENBRACE:Ll,OPENBRACKET:Nd,OPENPAREN:wd,PERCENT:_l,PIPE:$d,PLUS:Vd,POUND:qd,QUERY:Bl,QUOTE:Zp,RIGHTCORNERBRACKET:Md,RIGHTWHITECORNERBRACKET:Rd,SCHEME:Zc,SEMI:ex,SLASH:Qn,SLASH_SCHEME:ii,SYM:Kd,TILDE:Ul,TLD:rp,UNDERSCORE:Wd,UTLD:ap,UWORD:sp,WORD:Ts,WS:ip});const Cs=/[a-z]/,wl=new RegExp("\\p{L}","u"),vm=new RegExp("\\p{Emoji}","u"),Es=/\d/,Nm=/\s/,c1="\r",jm=`
`,Q5="",Z5="",wm="";let Hc=null,Pc=null;function eD(t=[]){const e={};tn.groups=e;const n=new tn;Hc==null&&(Hc=d1(W5)),Pc==null&&(Pc=d1(K5)),se(n,"'",_d),se(n,"{",Ll),se(n,"}",zl),se(n,"[",Nd),se(n,"]",jd),se(n,"(",wd),se(n,")",kd),se(n,"<",Sd),se(n,">",Cd),se(n,"",Ed),se(n,"",Td),se(n,"",Ad),se(n,"",Md),se(n,"",Od),se(n,"",Rd),se(n,"",Dd),se(n,"",Ld),se(n,"&",zd),se(n,"*",Bd),se(n,"@",ur),se(n,"`",Hd),se(n,"^",Pd),se(n,":",mr),se(n,",",Xp),se(n,"$",Id),se(n,".",Xn),se(n,"=",Fd),se(n,"!",Qp),se(n,"-",Rn),se(n,"%",_l),se(n,"|",$d),se(n,"+",Vd),se(n,"#",qd),se(n,"?",Bl),se(n,'"',Zp),se(n,"/",Qn),se(n,";",ex),se(n,"~",Ul),se(n,"_",Wd),se(n,"\\",Ud),se(n,"",qw);const s=rt(n,Es,Yp,{[Zm]:!0});rt(s,Es,s);const i=rt(s,Cs,$w,{[Dl]:!0}),o=rt(s,wl,Vw,{[Tl]:!0}),c=rt(n,Cs,Ts,{[ep]:!0});rt(c,Es,i),rt(c,Cs,c),rt(i,Es,i),rt(i,Cs,i);const u=rt(n,wl,sp,{[tp]:!0});rt(u,Cs),rt(u,Es,o),rt(u,wl,u),rt(o,Es,o),rt(o,Cs),rt(o,wl,o);const h=se(n,jm,Jp,{[ym]:!0}),m=se(n,c1,ip,{[ym]:!0}),p=rt(n,Nm,ip,{[ym]:!0});se(n,wm,p),se(m,jm,h),se(m,wm,p),rt(m,Nm,p),se(p,c1),se(p,jm),rt(p,Nm,p),se(p,wm,p);const g=rt(n,vm,Ww,{[Fw]:!0});se(g,"#"),rt(g,vm,g),se(g,Q5,g);const y=se(g,Z5);se(y,"#"),rt(y,vm,g);const N=[[Cs,c],[Es,i]],v=[[Cs,null],[wl,u],[Es,o]];for(let k=0;k<Hc.length;k++)or(n,Hc[k],rp,Ts,N);for(let k=0;k<Pc.length;k++)or(n,Pc[k],ap,sp,v);ea(rp,{tld:!0,ascii:!0},e),ea(ap,{utld:!0,alpha:!0},e),or(n,"file",Zc,Ts,N),or(n,"mailto",Zc,Ts,N),or(n,"http",ii,Ts,N),or(n,"https",ii,Ts,N),or(n,"ftp",ii,Ts,N),or(n,"ftps",ii,Ts,N),ea(Zc,{scheme:!0,ascii:!0},e),ea(ii,{slashscheme:!0,ascii:!0},e),t=t.sort((k,j)=>k[0]>j[0]?1:-1);for(let k=0;k<t.length;k++){const j=t[k][0],T=t[k][1]?{[G5]:!0}:{[Y5]:!0};j.indexOf("-")>=0?T[np]=!0:Cs.test(j)?Es.test(j)?T[Dl]=!0:T[ep]=!0:T[Zm]=!0,o1(n,j,j,T)}return o1(n,"localhost",Yl,{ascii:!0}),n.jd=new tn(Kd),{start:n,tokens:Object.assign({groups:e},Kw)}}function Gw(t,e){const n=tD(e.replace(/[A-Z]/g,u=>u.toLowerCase())),s=n.length,i=[];let o=0,c=0;for(;c<s;){let u=t,h=null,m=0,p=null,g=-1,y=-1;for(;c<s&&(h=u.go(n[c]));)u=h,u.accepts()?(g=0,y=0,p=u):g>=0&&(g+=n[c].length,y++),m+=n[c].length,o+=n[c].length,c++;o-=g,c-=y,m-=g,i.push({t:p.t,v:e.slice(o-m,o),s:o-m,e:o})}return i}function tD(t){const e=[],n=t.length;let s=0;for(;s<n;){let i=t.charCodeAt(s),o,c=i<55296||i>56319||s+1===n||(o=t.charCodeAt(s+1))<56320||o>57343?t[s]:t.slice(s,s+2);e.push(c),s+=c.length}return e}function or(t,e,n,s,i){let o;const c=e.length;for(let u=0;u<c-1;u++){const h=e[u];t.j[h]?o=t.j[h]:(o=new tn(s),o.jr=i.slice(),t.j[h]=o),t=o}return o=new tn(n),o.jr=i.slice(),t.j[e[c-1]]=o,o}function d1(t){const e=[],n=[];let s=0,i="0123456789";for(;s<t.length;){let o=0;for(;i.indexOf(t[s+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let c=parseInt(t.substring(s,s+o),10);c>0;c--)n.pop();s+=o}else n.push(t[s]),s++}return e}const Jl={defaultProtocol:"http",events:null,format:u1,formatHref:u1,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function tx(t,e=null){let n=Object.assign({},Jl);t&&(n=Object.assign(n,t instanceof tx?t.o:t));const s=n.ignoreTags,i=[];for(let o=0;o<s.length;o++)i.push(s[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}tx.prototype={o:Jl,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const s=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Jl[t],typeof i=="function"&&s&&(i=i(e,n))):typeof i=="function"&&s&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let s=this.o[t];return typeof s=="function"&&e!=null&&(s=s(e,n.t,n)),s},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function u1(t){return t}function Yw(t,e){this.t="token",this.v=t,this.tk=e}Yw.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),s=t.get("format",e,this);return n&&s.length>n?s.substring(0,n)+"":s},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Jl.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),s=t.get("formatHref",n,this),i=t.get("tagName",n,e),o=this.toFormattedString(t),c={},u=t.get("className",n,e),h=t.get("target",n,e),m=t.get("rel",n,e),p=t.getObj("attributes",n,e),g=t.getObj("events",n,e);return c.href=s,u&&(c.class=u),h&&(c.target=h),m&&(c.rel=m),p&&Object.assign(c,p),{tagName:i,attributes:c,content:o,eventListeners:g}}};function gu(t,e){class n extends Yw{constructor(i,o){super(i,o),this.t=t}}for(const s in e)n.prototype[s]=e[s];return n.t=t,n}const f1=gu("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),h1=gu("text"),nD=gu("nl"),Ic=gu("url",{isLink:!0,toHref(t=Jl.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Yl&&t[1].t===mr}}),On=t=>new tn(t);function sD({groups:t}){const e=t.domain.concat([zd,Bd,ur,Ud,Hd,Pd,Id,Fd,Rn,Yp,_l,$d,Vd,qd,Qn,Kd,Ul,Wd]),n=[_d,mr,Xp,Xn,Qp,_l,Bl,Zp,ex,Sd,Cd,Ll,zl,jd,Nd,wd,kd,Ed,Td,Ad,Md,Od,Rd,Dd,Ld],s=[zd,_d,Bd,Ud,Hd,Pd,Id,Fd,Rn,Ll,zl,_l,$d,Vd,qd,Bl,Qn,Kd,Ul,Wd],i=On(),o=se(i,Ul);we(o,s,o),we(o,t.domain,o);const c=On(),u=On(),h=On();we(i,t.domain,c),we(i,t.scheme,u),we(i,t.slashscheme,h),we(c,s,o),we(c,t.domain,c);const m=se(c,ur);se(o,ur,m),se(u,ur,m),se(h,ur,m);const p=se(o,Xn);we(p,s,o),we(p,t.domain,o);const g=On();we(m,t.domain,g),we(g,t.domain,g);const y=se(g,Xn);we(y,t.domain,g);const N=On(f1);we(y,t.tld,N),we(y,t.utld,N),se(m,Yl,N);const v=se(g,Rn);se(v,Rn,v),we(v,t.domain,g),we(N,t.domain,g),se(N,Xn,y),se(N,Rn,v);const k=se(N,mr);we(k,t.numeric,f1);const j=se(c,Rn),C=se(c,Xn);se(j,Rn,j),we(j,t.domain,c),we(C,s,o),we(C,t.domain,c);const T=On(Ic);we(C,t.tld,T),we(C,t.utld,T),we(T,t.domain,c),we(T,s,o),se(T,Xn,C),se(T,Rn,j),se(T,ur,m);const M=se(T,mr),P=On(Ic);we(M,t.numeric,P);const H=On(Ic),B=On();we(H,e,H),we(H,n,B),we(B,e,H),we(B,n,B),se(T,Qn,H),se(P,Qn,H);const A=se(u,mr),D=se(h,mr),_=se(D,Qn),I=se(_,Qn);we(u,t.domain,c),se(u,Xn,C),se(u,Rn,j),we(h,t.domain,c),se(h,Xn,C),se(h,Rn,j),we(A,t.domain,H),se(A,Qn,H),se(A,Bl,H),we(I,t.domain,H),we(I,e,H),se(I,Qn,H);const pe=[[Ll,zl],[Nd,jd],[wd,kd],[Sd,Cd],[Ed,Td],[Ad,Md],[Od,Rd],[Dd,Ld]];for(let X=0;X<pe.length;X++){const[G,J]=pe[X],te=se(H,G);se(B,G,te),se(te,J,H);const O=On(Ic);we(te,e,O);const K=On();we(te,n),we(O,e,O),we(O,n,K),we(K,e,O),we(K,n,K),se(O,J,H),se(K,J,H)}return se(i,Yl,T),se(i,Jp,nD),{start:i,tokens:Kw}}function rD(t,e,n){let s=n.length,i=0,o=[],c=[];for(;i<s;){let u=t,h=null,m=null,p=0,g=null,y=-1;for(;i<s&&!(h=u.go(n[i].t));)c.push(n[i++]);for(;i<s&&(m=h||u.go(n[i].t));)h=null,u=m,u.accepts()?(y=0,g=u):y>=0&&y++,i++,p++;if(y<0)i-=p,i<s&&(c.push(n[i]),i++);else{c.length>0&&(o.push(km(h1,e,c)),c=[]),i-=y,p-=y;const N=g.t,v=n.slice(i-p,i);o.push(km(N,e,v))}}return c.length>0&&o.push(km(h1,e,c)),o}function km(t,e,n){const s=n[0].s,i=n[n.length-1].e,o=e.slice(s,i);return new t(o,n)}const aD=typeof console<"u"&&console&&console.warn||(()=>{}),iD="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Xe={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function lD(){return tn.groups={},Xe.scanner=null,Xe.parser=null,Xe.tokenQueue=[],Xe.pluginQueue=[],Xe.customSchemes=[],Xe.initialized=!1,Xe}function m1(t,e=!1){if(Xe.initialized&&aD(`linkifyjs: already initialized - will not register custom scheme "${t}" ${iD}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Xe.customSchemes.push([t,e])}function oD(){Xe.scanner=eD(Xe.customSchemes);for(let t=0;t<Xe.tokenQueue.length;t++)Xe.tokenQueue[t][1]({scanner:Xe.scanner});Xe.parser=sD(Xe.scanner.tokens);for(let t=0;t<Xe.pluginQueue.length;t++)Xe.pluginQueue[t][1]({scanner:Xe.scanner,parser:Xe.parser});return Xe.initialized=!0,Xe}function nx(t){return Xe.initialized||oD(),rD(Xe.parser.start,t,Gw(Xe.scanner.start,t))}nx.scan=Gw;function Jw(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const s=new tx(n),i=nx(t),o=[];for(let c=0;c<i.length;c++){const u=i[c];u.isLink&&(!e||u.t===e)&&s.check(u)&&o.push(u.toFormattedObject(s))}return o}var sx="[\0- -\u2029]",cD=new RegExp(sx),dD=new RegExp(`${sx}$`),uD=new RegExp(sx,"g");function fD(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function hD(t){return new tt({key:new vt("autolink"),appendTransaction:(e,n,s)=>{const i=e.some(m=>m.docChanged)&&!n.doc.eq(s.doc),o=e.some(m=>m.getMeta("preventAutolink"));if(!i||o)return;const{tr:c}=s,u=uw(n.doc,[...e]);if(bw(u).forEach(({newRange:m})=>{const p=hO(s.doc,m,N=>N.isTextblock);let g,y;if(p.length>1)g=p[0],y=s.doc.textBetween(g.pos,g.pos+g.node.nodeSize,void 0," ");else if(p.length){const N=s.doc.textBetween(m.from,m.to," "," ");if(!dD.test(N))return;g=p[0],y=s.doc.textBetween(g.pos,m.to,void 0," ")}if(g&&y){const N=y.split(cD).filter(Boolean);if(N.length<=0)return!1;const v=N[N.length-1],k=g.pos+y.lastIndexOf(v);if(!v)return!1;const j=nx(v).map(C=>C.toObject(t.defaultProtocol));if(!fD(j))return!1;j.filter(C=>C.isLink).map(C=>({...C,from:k+C.start+1,to:k+C.end+1})).filter(C=>s.schema.marks.code?!s.doc.rangeHasMark(C.from,C.to,s.schema.marks.code):!0).filter(C=>t.validate(C.value)).filter(C=>t.shouldAutoLink(C.value)).forEach(C=>{Vp(C.from,C.to,s.doc).some(T=>T.mark.type===t.type)||c.addMark(C.from,C.to,t.type.create({href:C.href}))})}}),!!c.steps.length)return c}})}function mD(t){return new tt({key:new vt("handleClickLink"),props:{handleClick:(e,n,s)=>{var i,o;if(s.button!==0||!e.editable)return!1;let c=!1;if(t.enableClickSelection&&(c=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let u=null;if(s.target instanceof HTMLAnchorElement)u=s.target;else{let g=s.target;const y=[];for(;g.nodeName!=="DIV";)y.push(g),g=g.parentNode;u=y.find(N=>N.nodeName==="A")}if(!u)return c;const h=gw(e.state,t.type.name),m=(i=u?.href)!=null?i:h.href,p=(o=u?.target)!=null?o:h.target;u&&m&&(window.open(m,p),c=!0)}return c}}})}function pD(t){return new tt({key:new vt("handlePasteLink"),props:{handlePaste:(e,n,s)=>{const{shouldAutoLink:i}=t,{state:o}=e,{selection:c}=o,{empty:u}=c;if(u)return!1;let h="";s.content.forEach(p=>{h+=p.textContent});const m=Jw(h,{defaultProtocol:t.defaultProtocol}).find(p=>p.isLink&&p.value===h);return!h||!m||i!==void 0&&!i(m.value)?!1:t.editor.commands.setMark(t.type,{href:m.href})}}})}function Gr(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(s=>{const i=typeof s=="string"?s:s.scheme;i&&n.push(i)}),!t||t.replace(uD,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Xw=pa.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){m1(t);return}m1(t.scheme,t.optionalSlashes)})},onDestroy(){lD()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Gr(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(t),n=/^[a-z][a-z0-9+.-]*:/i.test(t);if(e||n&&!t.includes("@"))return!0;const i=(t.includes("@")?t.split("@").pop():t).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(i)||!/\./.test(i))}}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Gr(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Gr(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",dt(this.options.HTMLAttributes,t),0]:["a",dt(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const s=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${s})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:s=>!!Gr(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:s=>!!Gr(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[fa({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:s}=this.options,i=Jw(t).filter(o=>o.isLink&&this.options.isAllowedUri(o.value,{defaultValidate:c=>!!Gr(c,n),protocols:n,defaultProtocol:s}));i.length&&i.forEach(o=>{this.options.shouldAutoLink(o.value)&&e.push({text:o.value,data:{href:o.href},index:o.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(hD({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:s=>this.options.isAllowedUri(s,{defaultValidate:i=>!!Gr(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(mD({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(pD({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),Qw=Xw,xD=Object.defineProperty,gD=(t,e)=>{for(var n in e)xD(t,n,{get:e[n],enumerable:!0})},bD="listItem",p1="textStyle",x1=/^\s*([-+*])\s$/,Zw=ln.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",dt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(bD,this.editor.getAttributes(p1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=gi({find:x1,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=gi({find:x1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(p1),editor:this.editor})),[t]}}),e2=ln.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",dt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const c=t.tokens.slice(1),u=e.parseChildren(c);n.push(...u)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>Gp(t,e,s=>s.parentType==="bulletList"?"- ":s.parentType==="orderedList"?`${s.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),yD={};gD(yD,{findListItemPos:()=>oo,getNextListDepth:()=>rx,handleBackspace:()=>lp,handleDelete:()=>op,hasListBefore:()=>t2,hasListItemAfter:()=>vD,hasListItemBefore:()=>n2,listItemHasSubList:()=>s2,nextListIsDeeper:()=>r2,nextListIsHigher:()=>a2});var oo=(t,e)=>{const{$from:n}=e.selection,s=gt(t,e.schema);let i=null,o=n.depth,c=n.pos,u=null;for(;o>0&&u===null;)i=n.node(o),i.type===s?u=o:(o-=1,c-=1);return u===null?null:{$pos:e.doc.resolve(c),depth:u}},rx=(t,e)=>{const n=oo(t,e);if(!n)return!1;const[,s]=wO(e,t,n.$pos.pos+4);return s},t2=(t,e,n)=>{const{$anchor:s}=t.selection,i=Math.max(0,s.pos-2),o=t.doc.resolve(i).node();return!(!o||!n.includes(o.type.name))},n2=(t,e)=>{var n;const{$anchor:s}=e.selection,i=e.doc.resolve(s.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},s2=(t,e,n)=>{if(!n)return!1;const s=gt(t,e.schema);let i=!1;return n.descendants(o=>{o.type===s&&(i=!0)}),i},lp=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!wr(t.state,e)&&t2(t.state,e,n)){const{$anchor:u}=t.state.selection,h=t.state.doc.resolve(u.before()-1),m=[];h.node().descendants((y,N)=>{y.type.name===e&&m.push({node:y,pos:N})});const p=m.at(-1);if(!p)return!1;const g=t.state.doc.resolve(h.start()+p.pos+1);return t.chain().cut({from:u.start()-1,to:u.end()+1},g.end()).joinForward().run()}if(!wr(t.state,e)||!EO(t.state))return!1;const s=oo(e,t.state);if(!s)return!1;const o=t.state.doc.resolve(s.$pos.pos-2).node(s.depth),c=s2(e,t.state,o);return n2(e,t.state)&&!c?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},r2=(t,e)=>{const n=rx(t,e),s=oo(t,e);return!s||!n?!1:n>s.depth},a2=(t,e)=>{const n=rx(t,e),s=oo(t,e);return!s||!n?!1:n<s.depth},op=(t,e)=>{if(!wr(t.state,e)||!CO(t.state,e))return!1;const{selection:n}=t.state,{$from:s,$to:i}=n;return!n.empty&&s.sameParent(i)?!1:r2(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():a2(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},vD=(t,e)=>{var n;const{$anchor:s}=e.selection,i=e.doc.resolve(s.pos-s.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},i2=ut.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&op(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&op(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:s})=>{t.state.schema.nodes[n]!==void 0&&lp(t,n,s)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:s})=>{t.state.schema.nodes[n]!==void 0&&lp(t,n,s)&&(e=!0)}),e}}}}),g1=/^(\s*)(\d+)\.\s+(.*)$/,ND=/^\s/;function jD(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n],o=i.match(g1);if(!o)break;const[,c,u,h]=o,m=c.length;let p=h,g=n+1;const y=[i];for(;g<t.length;){const N=t[g];if(N.match(g1))break;if(N.trim()==="")y.push(N),p+=`
`,g+=1;else if(N.match(ND))y.push(N),p+=`
${N.slice(m+2)}`,g+=1;else break}e.push({indent:m,number:parseInt(u,10),content:p.trim(),raw:y.join(`
`)}),s=g,n=g}return[e,s]}function l2(t,e,n){var s;const i=[];let o=0;for(;o<t.length;){const c=t[o];if(c.indent===e){const u=c.content.split(`
`),h=((s=u[0])==null?void 0:s.trim())||"",m=[];h&&m.push({type:"paragraph",raw:h,tokens:n.inlineTokens(h)});const p=u.slice(1).join(`
`).trim();if(p){const N=n.blockTokens(p);m.push(...N)}let g=o+1;const y=[];for(;g<t.length&&t[g].indent>e;)y.push(t[g]),g+=1;if(y.length>0){const N=Math.min(...y.map(k=>k.indent)),v=l2(y,N,n);m.push({type:"list",ordered:!0,start:y[0].number,items:v,raw:y.map(k=>k.raw).join(`
`)})}i.push({type:"list_item",raw:c.raw,tokens:m}),o=g}else o+=1}return i}function wD(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const s=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")s.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const o=e.parseChildren([i]);s.push({type:"paragraph",content:o})}else{const o=e.parseChildren([i]);o.length>0&&s.push(...o)}}),{type:"listItem",content:s}})}var kD="listItem",b1="textStyle",y1=/^(\d+)\.\s$/,o2=ln.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",dt(this.options.HTMLAttributes,n),0]:["ol",dt(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,s=t.items?wD(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:s}:{type:"orderedList",content:s}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var s;const i=t.split(`
`),[o,c]=jD(i);if(o.length===0)return;const u=l2(o,0,n);return u.length===0?void 0:{type:"list",ordered:!0,start:((s=o[0])==null?void 0:s.number)||1,items:u,raw:i.slice(0,c).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(kD,this.editor.getAttributes(b1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=gi({find:y1,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=gi({find:y1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(b1)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),SD=/^\s*(\[([( |x])?\])\s$/,CD=ln.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",dt(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const s=e.parseChildren(t.nestedTokens);n.push(...s)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return Gp(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:s})=>{const i=document.createElement("li"),o=document.createElement("label"),c=document.createElement("span"),u=document.createElement("input"),h=document.createElement("div"),m=g=>{var y,N;u.ariaLabel=((N=(y=this.options.a11y)==null?void 0:y.checkboxLabel)==null?void 0:N.call(y,g,u.checked))||`Task item checkbox for ${g.textContent||"empty task item"}`};m(t),o.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",g=>g.preventDefault()),u.addEventListener("change",g=>{if(!s.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:y}=g.target;s.isEditable&&typeof n=="function"&&s.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:N})=>{const v=n();if(typeof v!="number")return!1;const k=N.doc.nodeAt(v);return N.setNodeMarkup(v,void 0,{...k?.attrs,checked:y}),!0}).run(),!s.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,y)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([g,y])=>{i.setAttribute(g,y)}),i.dataset.checked=t.attrs.checked,u.checked=t.attrs.checked,o.append(u,c),i.append(o,h),Object.entries(e).forEach(([g,y])=>{i.setAttribute(g,y)});let p=new Set(Object.keys(e));return{dom:i,contentDOM:h,update:g=>{if(g.type!==this.type)return!1;i.dataset.checked=g.attrs.checked,u.checked=g.attrs.checked,m(g);const y=s.extensionManager.attributes,N=Gl(g,y),v=new Set(Object.keys(N)),k=this.options.HTMLAttributes;return p.forEach(j=>{v.has(j)||(j in k?i.setAttribute(j,k[j]):i.removeAttribute(j))}),Object.entries(N).forEach(([j,C])=>{C==null?j in k?i.setAttribute(j,k[j]):i.removeAttribute(j):i.setAttribute(j,C)}),p=v,!0}}}},addInputRules(){return[gi({find:SD,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),ED=ln.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",dt(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const s=o=>{const c=Xm(o,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:u=>({indentLevel:u[1].length,mainContent:u[4],checked:u[3].toLowerCase()==="x"}),createToken:(u,h)=>({type:"taskItem",raw:"",mainContent:u.mainContent,indentLevel:u.indentLevel,checked:u.checked,text:u.mainContent,tokens:n.inlineTokens(u.mainContent),nestedTokens:h}),customNestedParser:s},n);return c?[{type:"taskList",raw:c.raw,items:c.items}]:n.blockTokens(o)},i=Xm(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,c)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:n.inlineTokens(o.mainContent),nestedTokens:c}),customNestedParser:s},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});ut.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(Zw.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(e2.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(i2.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(o2.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(CD.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(ED.configure(this.options.taskList)),t}});var TD=ln.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",dt(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),AD=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,MD=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,OD=pa.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",dt(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[xi({find:AD,type:this.type})]},addPasteRules(){return[fa({find:MD,type:this.type})]}}),RD=ln.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),DD=pa.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",dt(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const o=i[2].trim();return{type:"underline",raw:i[0],text:o,tokens:n.inlineTokens(o)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function LD(t={}){return new tt({view(e){return new zD(e,t)}})}class zD{constructor(e,n){var s;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(s=n.width)!==null&&s!==void 0?s:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=c=>{this[i](c)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,s,i=this.editorView.dom,o=i.getBoundingClientRect(),c=o.width/i.offsetWidth,u=o.height/i.offsetHeight;if(n){let g=e.nodeBefore,y=e.nodeAfter;if(g||y){let N=this.editorView.nodeDOM(this.cursorPos-(g?g.nodeSize:0));if(N){let v=N.getBoundingClientRect(),k=g?v.bottom:v.top;g&&y&&(k=(k+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let j=this.width/2*u;s={left:v.left,right:v.right,top:k-j,bottom:k+j}}}}if(!s){let g=this.editorView.coordsAtPos(this.cursorPos),y=this.width/2*c;s={left:g.left-y,right:g.left+y,top:g.top,bottom:g.bottom}}let h=this.editorView.dom.offsetParent;this.element||(this.element=h.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let m,p;if(!h||h==document.body&&getComputedStyle(h).position=="static")m=-pageXOffset,p=-pageYOffset;else{let g=h.getBoundingClientRect(),y=g.width/h.offsetWidth,N=g.height/h.offsetHeight;m=g.left-h.scrollLeft*y,p=g.top-h.scrollTop*N}this.element.style.left=(s.left-m)/c+"px",this.element.style.top=(s.top-p)/u+"px",this.element.style.width=(s.right-s.left)/c+"px",this.element.style.height=(s.bottom-s.top)/u+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),s=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=s&&s.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let c=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=nj(this.editorView.state.doc,c,this.editorView.dragging.slice);u!=null&&(c=u)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class at extends ke{constructor(e){super(e,e)}map(e,n){let s=e.resolve(n.map(this.head));return at.valid(s)?new at(s):ke.near(s)}content(){return ie.empty}eq(e){return e instanceof at&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new at(e.resolve(n.pos))}getBookmark(){return new ax(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!_D(e)||!BD(e))return!1;let s=n.type.spec.allowGapCursor;if(s!=null)return s;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,s=!1){e:for(;;){if(!s&&at.valid(e))return e;let i=e.pos,o=null;for(let c=e.depth;;c--){let u=e.node(c);if(n>0?e.indexAfter(c)<u.childCount:e.index(c)>0){o=u.child(n>0?e.indexAfter(c):e.index(c)-1);break}else if(c==0)return null;i+=n;let h=e.doc.resolve(i);if(at.valid(h))return h}for(;;){let c=n>0?o.firstChild:o.lastChild;if(!c){if(o.isAtom&&!o.isText&&!he.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),s=!1;continue e}break}o=c,i+=n;let u=e.doc.resolve(i);if(at.valid(u))return u}return null}}}at.prototype.visible=!1;at.findFrom=at.findGapCursorFrom;ke.jsonID("gapcursor",at);class ax{constructor(e){this.pos=e}map(e){return new ax(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return at.valid(n)?new at(n):ke.near(n)}}function c2(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function _D(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),s=t.node(e);if(n==0){if(s.type.spec.isolating)return!0;continue}for(let i=s.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||c2(i.type))return!0;if(i.inlineContent)return!1}}return!0}function BD(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),s=t.node(e);if(n==s.childCount){if(s.type.spec.isolating)return!0;continue}for(let i=s.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||c2(i.type))return!0;if(i.inlineContent)return!1}}return!0}function UD(){return new tt({props:{decorations:FD,createSelectionBetween(t,e,n){return e.pos==n.pos&&at.valid(n)?new at(n):null},handleClick:PD,handleKeyDown:HD,handleDOMEvents:{beforeinput:ID}}})}const HD=sw({ArrowLeft:Fc("horiz",-1),ArrowRight:Fc("horiz",1),ArrowUp:Fc("vert",-1),ArrowDown:Fc("vert",1)});function Fc(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(s,i,o){let c=s.selection,u=e>0?c.$to:c.$from,h=c.empty;if(c instanceof ge){if(!o.endOfTextblock(n)||u.depth==0)return!1;h=!1,u=s.doc.resolve(e>0?u.after():u.before())}let m=at.findGapCursorFrom(u,e,h);return m?(i&&i(s.tr.setSelection(new at(m))),!0):!1}}function PD(t,e,n){if(!t||!t.editable)return!1;let s=t.state.doc.resolve(e);if(!at.valid(s))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&he.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new at(s))),!0)}function ID(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof at))return!1;let{$from:n}=t.state.selection,s=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!s)return!1;let i=ne.empty;for(let c=s.length-1;c>=0;c--)i=ne.from(s[c].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new ie(i,0,0));return o.setSelection(ge.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function FD(t){if(!(t.selection instanceof at))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Ze.create(t.doc,[qt.widget(t.selection.head,e,{key:"gapcursor"})])}var Gd=200,Ct=function(){};Ct.prototype.append=function(e){return e.length?(e=Ct.from(e),!this.length&&e||e.length<Gd&&this.leafAppend(e)||this.length<Gd&&e.leafPrepend(this)||this.appendInner(e)):this};Ct.prototype.prepend=function(e){return e.length?Ct.from(e).append(this):this};Ct.prototype.appendInner=function(e){return new $D(this,e)};Ct.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ct.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ct.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ct.prototype.forEach=function(e,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length),n<=s?this.forEachInner(e,n,s,0):this.forEachInvertedInner(e,n,s,0)};Ct.prototype.map=function(e,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length);var i=[];return this.forEach(function(o,c){return i.push(e(o,c))},n,s),i};Ct.from=function(e){return e instanceof Ct?e:e&&e.length?new d2(e):Ct.empty};var d2=(function(t){function e(s){t.call(this),this.values=s}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,c,u){for(var h=o;h<c;h++)if(i(this.values[h],u+h)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,c,u){for(var h=o-1;h>=c;h--)if(i(this.values[h],u+h)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Gd)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Gd)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(Ct);Ct.empty=new d2([]);var $D=(function(t){function e(n,s){t.call(this),this.left=n,this.right=s,this.length=n.length+s.length,this.depth=Math.max(n.depth,s.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},e.prototype.forEachInner=function(s,i,o,c){var u=this.left.length;if(i<u&&this.left.forEachInner(s,i,Math.min(o,u),c)===!1||o>u&&this.right.forEachInner(s,Math.max(i-u,0),Math.min(this.length,o)-u,c+u)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,o,c){var u=this.left.length;if(i>u&&this.right.forEachInvertedInner(s,i-u,Math.max(o,u)-u,c+u)===!1||o<u&&this.left.forEachInvertedInner(s,Math.min(i,u),o,c)===!1)return!1},e.prototype.sliceInner=function(s,i){if(s==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(s,i):s>=o?this.right.slice(s-o,i-o):this.left.slice(s,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(s){var i=this.right.leafAppend(s);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(s){var i=this.left.leafPrepend(s);if(i)return new e(i,this.right)},e.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new e(this.left,new e(this.right,s)):new e(this,s)},e})(Ct);const VD=500;class In{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}let i,o;n&&(i=this.remapping(s,this.items.length),o=i.maps.length);let c=e.tr,u,h,m=[],p=[];return this.items.forEach((g,y)=>{if(!g.step){i||(i=this.remapping(s,y+1),o=i.maps.length),o--,p.push(g);return}if(i){p.push(new Zn(g.map));let N=g.step.map(i.slice(o)),v;N&&c.maybeStep(N).doc&&(v=c.mapping.maps[c.mapping.maps.length-1],m.push(new Zn(v,void 0,void 0,m.length+p.length))),o--,v&&i.appendMap(v,o)}else c.maybeStep(g.step);if(g.selection)return u=i?g.selection.map(i.slice(o)):g.selection,h=new In(this.items.slice(0,s).append(p.reverse().concat(m)),this.eventCount-1),!1},this.items.length,0),{remaining:h,transform:c,selection:u}}addTransform(e,n,s,i){let o=[],c=this.eventCount,u=this.items,h=!i&&u.length?u.get(u.length-1):null;for(let p=0;p<e.steps.length;p++){let g=e.steps[p].invert(e.docs[p]),y=new Zn(e.mapping.maps[p],g,n),N;(N=h&&h.merge(y))&&(y=N,p?o.pop():u=u.slice(0,u.length-1)),o.push(y),n&&(c++,n=void 0),i||(h=y)}let m=c-s.depth;return m>WD&&(u=qD(u,m),c-=m),new In(u.append(o),c)}remapping(e,n){let s=new Fl;return this.items.forEach((i,o)=>{let c=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?s.maps.length-i.mirrorOffset:void 0;s.appendMap(i.map,c)},e,n),s}addMaps(e){return this.eventCount==0?this:new In(this.items.append(e.map(n=>new Zn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let s=[],i=Math.max(0,this.items.length-n),o=e.mapping,c=e.steps.length,u=this.eventCount;this.items.forEach(y=>{y.selection&&u--},i);let h=n;this.items.forEach(y=>{let N=o.getMirror(--h);if(N==null)return;c=Math.min(c,N);let v=o.maps[N];if(y.step){let k=e.steps[N].invert(e.docs[N]),j=y.selection&&y.selection.map(o.slice(h+1,N));j&&u++,s.push(new Zn(v,k,j))}else s.push(new Zn(v))},i);let m=[];for(let y=n;y<c;y++)m.push(new Zn(o.maps[y]));let p=this.items.slice(0,i).append(m).append(s),g=new In(p,u);return g.emptyItemCount()>VD&&(g=g.compress(this.items.length-s.length)),g}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),s=n.maps.length,i=[],o=0;return this.items.forEach((c,u)=>{if(u>=e)i.push(c),c.selection&&o++;else if(c.step){let h=c.step.map(n.slice(s)),m=h&&h.getMap();if(s--,m&&n.appendMap(m,s),h){let p=c.selection&&c.selection.map(n.slice(s));p&&o++;let g=new Zn(m.invert(),h,p),y,N=i.length-1;(y=i.length&&i[N].merge(g))?i[N]=y:i.push(g)}}else c.map&&s--},this.items.length,0),new In(Ct.from(i.reverse()),o)}}In.empty=new In(Ct.empty,0);function qD(t,e){let n;return t.forEach((s,i)=>{if(s.selection&&e--==0)return n=i,!1}),t.slice(n)}class Zn{constructor(e,n,s,i){this.map=e,this.step=n,this.selection=s,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Zn(n.getMap().invert(),n,this.selection)}}}class fr{constructor(e,n,s,i,o){this.done=e,this.undone=n,this.prevRanges=s,this.prevTime=i,this.prevComposition=o}}const WD=20;function KD(t,e,n,s){let i=n.getMeta(ia),o;if(i)return i.historyState;n.getMeta(JD)&&(t=new fr(t.done,t.undone,null,0,-1));let c=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(c&&c.getMeta(ia))return c.getMeta(ia).redo?new fr(t.done.addTransform(n,void 0,s,ed(e)),t.undone,v1(n.mapping.maps),t.prevTime,t.prevComposition):new fr(t.done,t.undone.addTransform(n,void 0,s,ed(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),h=t.prevTime==0||!c&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-s.newGroupDelay||!GD(n,t.prevRanges)),m=c?Sm(t.prevRanges,n.mapping):v1(n.mapping.maps);return new fr(t.done.addTransform(n,h?e.selection.getBookmark():void 0,s,ed(e)),In.empty,m,n.time,u??t.prevComposition)}else return(o=n.getMeta("rebased"))?new fr(t.done.rebased(n,o),t.undone.rebased(n,o),Sm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new fr(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Sm(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function GD(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((s,i)=>{for(let o=0;o<e.length;o+=2)s<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function v1(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((s,i,o,c)=>e.push(o,c));return e}function Sm(t,e){if(!t)return null;let n=[];for(let s=0;s<t.length;s+=2){let i=e.map(t[s],1),o=e.map(t[s+1],-1);i<=o&&n.push(i,o)}return n}function YD(t,e,n){let s=ed(e),i=ia.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,s);if(!o)return null;let c=o.selection.resolve(o.transform.doc),u=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,s),h=new fr(n?u:o.remaining,n?o.remaining:u,null,0,-1);return o.transform.setSelection(c).setMeta(ia,{redo:n,historyState:h})}let Cm=!1,N1=null;function ed(t){let e=t.plugins;if(N1!=e){Cm=!1,N1=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Cm=!0;break}}return Cm}const ia=new vt("history"),JD=new vt("closeHistory");function XD(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new tt({key:ia,state:{init(){return new fr(In.empty,In.empty,null,0,-1)},apply(e,n,s){return KD(n,s,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let s=n.inputType,i=s=="historyUndo"?f2:s=="historyRedo"?h2:null;return!i||!e.editable?!1:(n.preventDefault(),i(e.state,e.dispatch))}}}})}function u2(t,e){return(n,s)=>{let i=ia.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(s){let o=YD(i,n,t);o&&s(e?o.scrollIntoView():o)}return!0}}const f2=u2(!1,!0),h2=u2(!0,!0);ut.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const s=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(s)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new tt({key:new vt("characterCount"),appendTransaction:(e,n,s)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const o=this.storage.characters({node:s.doc});if(o>i){const c=o-i,u=0,h=c;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const m=s.tr.deleteRange(u,h);return t=!0,m}t=!0},filterTransaction:(e,n)=>{const s=this.options.limit;if(!e.docChanged||s===0||s===null||s===void 0)return!0;const i=this.storage.characters({node:n.doc}),o=this.storage.characters({node:e.doc});if(o<=s||i>s&&o>s&&o<=i)return!0;if(i>s&&o>s&&o>i||!e.getMeta("paste"))return!1;const u=e.selection.$head.pos,h=o-s,m=u-h,p=u;return e.deleteRange(m,p),!(this.storage.characters({node:e.doc})>s)}})]}});var QD=ut.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[LD(this.options)]}});ut.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new tt({key:new vt("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:s}=this.editor,{anchor:i}=e,o=[];if(!n||!s)return Ze.create(t,[]);let c=0;this.options.mode==="deepest"&&t.descendants((h,m)=>{if(h.isText)return;if(!(i>=m&&i<=m+h.nodeSize-1))return!1;c+=1});let u=0;return t.descendants((h,m)=>{if(h.isText||!(i>=m&&i<=m+h.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&c-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";o.push(qt.node(m,m+h.nodeSize,{class:this.options.className}))}),Ze.create(t,o)}}})]}});var ZD=ut.create({name:"gapCursor",addProseMirrorPlugins(){return[UD()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Fe(ue(t,"allowGapCursor",n)))!=null?e:null}}});ut.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new tt({key:new vt("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=e,i=[];if(!n)return null;const o=this.editor.isEmpty;return t.descendants((c,u)=>{const h=s>=u&&s<=u+c.nodeSize,m=!c.isLeaf&&mu(c);if((h||!this.options.showOnlyCurrent)&&m){const p=[this.options.emptyNodeClass];o&&p.push(this.options.emptyEditorClass);const g=qt.node(u,u+c.nodeSize,{class:p.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:c,pos:u,hasAnchor:h}):this.options.placeholder});i.push(g)}return this.options.includeChildren}),Ze.create(t,i)}}})]}});ut.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new tt({key:new vt("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||yw(n.selection)||t.view.dragging?null:Ze.create(n.doc,[qt.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function j1({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var eL=ut.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new vt(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",s=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new tt({key:e,appendTransaction:(i,o,c)=>{const{doc:u,tr:h,schema:m}=c,p=e.getState(c),g=u.content.size,y=m.nodes[n];if(p)return h.insert(g,y.create())},state:{init:(i,o)=>{const c=o.tr.doc.lastChild;return!j1({node:c,types:s})},apply:(i,o)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return o;const c=i.doc.lastChild;return!j1({node:c,types:s})}}})]}}),tL=ut.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>f2(t,e),redo:()=>({state:t,dispatch:e})=>h2(t,e)}},addProseMirrorPlugins(){return[XD(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),nL=ut.create({name:"starterKit",addExtensions(){var t,e,n,s;const i=[];return this.options.bold!==!1&&i.push(M5.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(S5.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(Zw.configure(this.options.bulletList)),this.options.code!==!1&&i.push(D5.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(_5.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(B5.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(QD.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(ZD.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(U5.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(H5.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(tL.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(P5.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(q5.configure(this.options.italic)),this.options.listItem!==!1&&i.push(e2.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(i2.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(Xw.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(o2.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(TD.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(OD.configure(this.options.strike)),this.options.text!==!1&&i.push(RD.configure(this.options.text)),this.options.underline!==!1&&i.push(DD.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(eL.configure((s=this.options)==null?void 0:s.trailingNode)),i}}),m2=nL,sL=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,rL=ln.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",dt(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,s,i,o,c;const u=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",h=(i=(s=t.attrs)==null?void 0:s.alt)!=null?i:"",m=(c=(o=t.attrs)==null?void 0:o.title)!=null?c:"";return m?`![${h}](${u} "${m}")`:`![${h}](${u})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:s}=this.options.resize;return({node:i,getPos:o,HTMLAttributes:c,editor:u})=>{const h=document.createElement("img");Object.entries(c).forEach(([g,y])=>{if(y!=null)switch(g){case"width":case"height":break;default:h.setAttribute(g,y);break}}),h.src=c.src;const m=new hR({element:h,editor:u,node:i,getPos:o,onResize:(g,y)=>{h.style.width=`${g}px`,h.style.height=`${y}px`},onCommit:(g,y)=>{const N=o();N!==void 0&&this.editor.chain().setNodeSelection(N).updateAttributes(this.name,{width:g,height:y}).run()},onUpdate:(g,y,N)=>g.type===i.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:s===!0}}),p=m.dom;return p.style.visibility="hidden",p.style.pointerEvents="none",h.onload=()=>{p.style.visibility="",p.style.pointerEvents=""},m}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[_w({find:sL,type:this.type,getAttributes:t=>{const[,,e,n,s]=t;return{src:n,alt:e,title:s}}})]}}),p2=rL;function w1(){const t=Et(),{id:e}=ss(),n=!!e,[s,i]=S.useState(null),[o,c]=S.useState(n),[u,h]=S.useState(!1),[m,p]=S.useState(null),[g,y]=S.useState({title:"",excerpt:"",author:"Patricia Macadam",writtenBy:"",topic:"",status:"draft",featuredImage:""}),[N,v]=S.useState([]),[k,j]=S.useState([]),[C,T]=S.useState(!1),[M,P]=S.useState(null),[H,B]=S.useState(""),[A,D]=S.useState(!1),_=Iw({extensions:[m2.configure({heading:{levels:[1,2,3]}}),p2.configure({inline:!0,allowBase64:!0}),Qw.configure({openOnClick:!1})],content:"",editorProps:{attributes:{class:"focus:outline-none min-h-[400px] p-4"}}});S.useEffect(()=>{document.title=n?"Edit Article - Admin - Patricia Macadam":"New Article - Admin - Patricia Macadam"},[n]),S.useEffect(()=>{I(),pe(),n&&X()},[e]);const I=async()=>{try{const O=await ce.get("/topics");v(O.data.topics||[])}catch(O){console.error("Error fetching topics:",O)}},pe=async()=>{try{const O=await ce.get("/auth/all");j(O.data.admins||[])}catch(O){console.error("Error fetching admins:",O)}};S.useEffect(()=>{_&&s&&_.commands.setContent(s.content||"")},[_,s]);const X=async()=>{try{c(!0);const K=(await ce.get(`/articles/${e}`)).data.article;i(K),y({title:K.title||"",excerpt:K.excerpt||"",author:K.author||"Patricia Macadam",writtenBy:K.writtenBy||"",topic:K.topic?._id||K.topic||"",status:K.status||"draft",featuredImage:K.featuredImage||""}),K.featuredImage&&B(K.featuredImage)}catch{p({type:"error",text:"Failed to load article"})}finally{c(!1)}},G=async O=>{D(!0);try{const K=new FormData;K.append("image",O);const ae=await ce.post("/upload/image",K,{headers:{"Content-Type":"multipart/form-data"}});return y(Se=>({...Se,featuredImage:ae.data.imageUrl})),B(ae.data.imageUrl),D(!1),ae.data.imageUrl}catch(K){throw D(!1),p({type:"error",text:K.response?.data?.message||"Failed to upload image"}),K}},J=async O=>{const K=O.target.files?.[0];if(!K)return;if(!K.type.startsWith("image/")){p({type:"error",text:"Please select an image file"});return}if(K.size>10*1024*1024){p({type:"error",text:"Image size must be less than 10MB"});return}P(K),y({...g,featuredImage:""});const ae=new FileReader;ae.onloadend=()=>{B(ae.result)},ae.readAsDataURL(K),await G(K)},te=async O=>{if(O.preventDefault(),!!_){h(!0),p(null);try{let K=g.featuredImage;M&&!K&&(K=await G(M));const ae={...g,content:_.getHTML(),featuredImage:K,topic:g.topic||null};n?(await ce.put(`/articles/${e}`,ae),p({type:"success",text:"Article updated successfully!"})):(await ce.post("/articles",ae),p({type:"success",text:"Article created successfully!"})),setTimeout(()=>{t("/admin/articles")},1500)}catch(K){p({type:"error",text:K.response?.data?.message||"Failed to save article"})}finally{h(!1)}}};return o?a.jsx(Be,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):_?a.jsx(Be,{children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:n?"Edit Article":"Create New Article"}),a.jsx("p",{className:"text-gray-600",children:n?"Update your article content":"Write and publish a new article"})]}),a.jsx("button",{onClick:()=>t("/admin/articles"),className:"text-gray-400 hover:text-black transition-colors",children:a.jsx(_t,{className:"w-6 h-6"})})]}),m&&a.jsx("div",{className:`mb-6 p-4 rounded border ${m.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:a.jsx("p",{className:"font-medium",children:m.text})}),a.jsxs("form",{onSubmit:te,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"title",className:"block text-sm font-semibold text-black mb-2",children:["Title ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"title",value:g.title,onChange:O=>y({...g,title:O.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"Enter article title"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"topic",className:"block text-sm font-semibold text-black mb-2",children:"Topic"}),a.jsxs("select",{id:"topic",value:g.topic,onChange:O=>y({...g,topic:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[a.jsx("option",{value:"",children:"Select a topic (optional)"}),N.map(O=>a.jsx("option",{value:O._id,children:O.name},O._id))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"writtenBy",className:"block text-sm font-semibold text-black mb-2",children:"Written By"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",id:"writtenBy",value:g.writtenBy,onChange:O=>y({...g,writtenBy:O.target.value}),className:"flex-1 px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"Type author name or select from admins"}),a.jsx("button",{type:"button",onClick:()=>T(!0),className:"px-4 py-2 border-2 border-black text-black rounded hover:bg-gray-50 transition-colors font-semibold",children:"Select"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"author",className:"block text-sm font-semibold text-black mb-2",children:"Author (Display Name)"}),a.jsx("input",{type:"text",id:"author",value:g.author,onChange:O=>y({...g,author:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"Author name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"excerpt",className:"block text-sm font-semibold text-black mb-2",children:"Excerpt"}),a.jsx("textarea",{id:"excerpt",value:g.excerpt,onChange:O=>y({...g,excerpt:O.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black resize-none",placeholder:"Brief description of the article"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Featured Image"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"imageUrl",className:"block text-xs text-gray-600 mb-1",children:"Or enter image URL"}),a.jsx("input",{type:"url",id:"imageUrl",value:g.featuredImage,onChange:O=>{const K=O.target.value;y({...g,featuredImage:K}),K&&(B(K),P(null))},className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://example.com/image.jpg"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or"})})]}),H&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:H,alt:"Preview",className:"w-full h-64 object-cover rounded border border-gray-300",onError:()=>{p({type:"error",text:"Invalid image URL"})}}),a.jsx("button",{type:"button",onClick:()=>{B(""),P(null),y({...g,featuredImage:""})},className:"absolute top-2 right-2 bg-black text-white rounded-full p-1 hover:bg-gray-800",children:a.jsx(_t,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"file",id:"featuredImage",accept:"image/*",onChange:J,className:"hidden"}),a.jsx("label",{htmlFor:"featuredImage",className:"flex items-center justify-center gap-2 w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded cursor-pointer hover:border-black transition-colors",children:A?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Uploading..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Sr,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-600",children:H?"Change Image":"Upload Image to Cloudflare"})]})})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-black mb-2",children:["Content ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"border border-gray-300 rounded-t bg-gray-50 p-2 flex flex-wrap gap-2",children:[a.jsx("button",{type:"button",onClick:()=>_.chain().focus().toggleBold().run(),className:`px-3 py-1 rounded text-sm font-semibold ${_.isActive("bold")?"bg-black text-white":"bg-white text-black hover:bg-gray-100"}`,children:"Bold"}),a.jsx("button",{type:"button",onClick:()=>_.chain().focus().toggleItalic().run(),className:`px-3 py-1 rounded text-sm font-semibold ${_.isActive("italic")?"bg-black text-white":"bg-white text-black hover:bg-gray-100"}`,children:"Italic"}),a.jsx("button",{type:"button",onClick:()=>_.chain().focus().toggleHeading({level:1}).run(),className:`px-3 py-1 rounded text-sm font-semibold ${_.isActive("heading",{level:1})?"bg-black text-white":"bg-white text-black hover:bg-gray-100"}`,children:"H1"}),a.jsx("button",{type:"button",onClick:()=>_.chain().focus().toggleHeading({level:2}).run(),className:`px-3 py-1 rounded text-sm font-semibold ${_.isActive("heading",{level:2})?"bg-black text-white":"bg-white text-black hover:bg-gray-100"}`,children:"H2"}),a.jsx("button",{type:"button",onClick:()=>_.chain().focus().toggleHeading({level:3}).run(),className:`px-3 py-1 rounded text-sm font-semibold ${_.isActive("heading",{level:3})?"bg-black text-white":"bg-white text-black hover:bg-gray-100"}`,children:"H3"}),a.jsx("button",{type:"button",onClick:()=>_.chain().focus().toggleBulletList().run(),className:`px-3 py-1 rounded text-sm font-semibold ${_.isActive("bulletList")?"bg-black text-white":"bg-white text-black hover:bg-gray-100"}`,children:"List"}),a.jsx("button",{type:"button",onClick:()=>_.chain().focus().toggleOrderedList().run(),className:`px-3 py-1 rounded text-sm font-semibold ${_.isActive("orderedList")?"bg-black text-white":"bg-white text-black hover:bg-gray-100"}`,children:"Numbered"}),a.jsx("button",{type:"button",onClick:()=>{const O=window.prompt("Enter image URL:");O&&_.chain().focus().setImage({src:O}).run()},className:"px-3 py-1 rounded text-sm font-semibold bg-white text-black hover:bg-gray-100",children:"Image"}),a.jsx("button",{type:"button",onClick:()=>{const O=window.prompt("Enter link URL:");O&&_.chain().focus().setLink({href:O}).run()},className:`px-3 py-1 rounded text-sm font-semibold ${_.isActive("link")?"bg-black text-white":"bg-white text-black hover:bg-gray-100"}`,children:"Link"})]}),a.jsxs("div",{className:"border border-t-0 border-gray-300 rounded-b min-h-[400px] bg-white",children:[a.jsx("style",{children:`
                .ProseMirror {
                  outline: none;
                  min-height: 400px;
                  padding: 1rem;
                }
                .ProseMirror p {
                  margin: 0.75rem 0;
                }
                .ProseMirror h1 {
                  font-size: 2rem;
                  font-weight: bold;
                  margin: 1rem 0;
                }
                .ProseMirror h2 {
                  font-size: 1.5rem;
                  font-weight: bold;
                  margin: 0.875rem 0;
                }
                .ProseMirror h3 {
                  font-size: 1.25rem;
                  font-weight: bold;
                  margin: 0.75rem 0;
                }
                .ProseMirror ul, .ProseMirror ol {
                  margin: 0.75rem 0;
                  padding-left: 1.5rem;
                }
                .ProseMirror li {
                  margin: 0.25rem 0;
                }
                .ProseMirror a {
                  color: #2563eb;
                  text-decoration: underline;
                }
                .ProseMirror img {
                  max-width: 100%;
                  height: auto;
                  margin: 1rem 0;
                }
                .ProseMirror strong {
                  font-weight: bold;
                }
                .ProseMirror em {
                  font-style: italic;
                }
              `}),a.jsx(Hw,{editor:_})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-semibold text-black mb-2",children:"Status"}),a.jsxs("select",{id:"status",value:g.status,onChange:O=>y({...g,status:O.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[a.jsx("option",{value:"draft",children:"Draft"}),a.jsx("option",{value:"published",children:"Published"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>t("/admin/articles"),className:"px-6 py-2 border-2 border-gray-300 text-black rounded hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:u||A,className:"flex items-center gap-2 px-6 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(vp,{className:"w-4 h-4"}),u?"Saving...":n?"Update Article":"Save Article"]})]})]}),C&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 relative max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-black",children:"Select Admin"}),a.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-black transition-colors",children:a.jsx(_t,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"space-y-2",children:k.length===0?a.jsx("p",{className:"text-gray-600 text-center py-4",children:"No admins found"}):k.map(O=>a.jsxs("button",{onClick:()=>{y({...g,writtenBy:O.name}),T(!1)},className:"w-full flex items-center gap-3 p-3 border border-gray-300 rounded hover:bg-gray-50 transition-colors text-left",children:[O.profilePic?a.jsx("img",{src:O.profilePic,alt:O.name,className:"w-10 h-10 rounded-full object-cover"}):a.jsx("div",{className:"w-10 h-10 bg-black rounded-full flex items-center justify-center text-white font-semibold",children:O.name.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-black",children:O.name}),a.jsx("p",{className:"text-sm text-gray-600",children:O.email})]})]},O._id))})]})})]})}):null}function aL(){const t=Et(),[e,n]=S.useState([]),[s,i]=S.useState(!0),[o,c]=S.useState(!1),[u,h]=S.useState(null),[m,p]=S.useState({name:"",image:""}),[g,y]=S.useState(null),[N,v]=S.useState(""),[k,j]=S.useState(!1),[C,T]=S.useState(!1),[M,P]=S.useState(null);S.useEffect(()=>{document.title="Topics - Admin - Patricia Macadam",H()},[]);const H=async()=>{try{i(!0);const X=await ce.get("/topics");n(X.data.topics||[])}catch(X){console.error("Error fetching topics:",X)}finally{i(!1)}},B=async X=>{j(!0);try{const G=new FormData;G.append("image",X);const J=await ce.post("/upload/image",G,{headers:{"Content-Type":"multipart/form-data"}});return p({...m,image:J.data.imageUrl}),v(J.data.imageUrl),j(!1),J.data.imageUrl}catch(G){throw j(!1),P({type:"error",text:G.response?.data?.message||"Failed to upload image"}),G}},A=async X=>{const G=X.target.files?.[0];if(!G)return;if(!G.type.startsWith("image/")){P({type:"error",text:"Please select an image file"});return}if(G.size>10*1024*1024){P({type:"error",text:"Image size must be less than 10MB"});return}y(G),p({...m,image:""});const J=new FileReader;J.onloadend=()=>{v(J.result)},J.readAsDataURL(G),await B(G)},D=async X=>{X.preventDefault(),T(!0),P(null);try{let G=m.image;g&&!G&&(G=await B(g)),u?(await ce.put(`/topics/${u._id}`,{name:m.name,image:G}),P({type:"success",text:"Topic updated successfully!"})):(await ce.post("/topics",{name:m.name,image:G}),P({type:"success",text:"Topic created successfully!"})),p({name:"",image:""}),y(null),v(""),h(null),await H(),setTimeout(()=>{c(!1),P(null)},1500)}catch(G){P({type:"error",text:G.response?.data?.message||"Failed to save topic"})}finally{T(!1)}},_=X=>{h(X),p({name:X.name,image:X.image}),v(X.image),y(null),c(!0)},I=async X=>{if(confirm("Are you sure you want to delete this topic?"))try{await ce.delete(`/topics/${X}`),P({type:"success",text:"Topic deleted successfully!"}),await H(),setTimeout(()=>P(null),2e3)}catch(G){P({type:"error",text:G.response?.data?.message||"Failed to delete topic"})}},pe=()=>{c(!1),h(null),p({name:"",image:""}),y(null),v(""),P(null)};return a.jsx(Be,{children:a.jsxs("div",{className:"space-y-6 max-w-7xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Topics"}),a.jsx("p",{className:"text-gray-600",children:"Manage your content topics"})]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs("button",{onClick:()=>{h(null),p({name:"",image:""}),y(null),v(""),c(!0)},className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:[a.jsx(kr,{className:"w-4 h-4"}),"Add Topic"]})})]}),M&&a.jsx("div",{className:`p-4 rounded border ${M.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:a.jsx("p",{className:"font-medium",children:M.text})}),a.jsx("div",{className:"bg-white border border-gray-200 rounded overflow-hidden",children:s?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"w-8 h-8 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-2"}),a.jsx("p",{className:"text-gray-600",children:"Loading topics..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-black text-white",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Image"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Slug"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:e.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:'No topics found. Click "Add Topic" to create one.'})}):e.map(X=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>t(`/admin/topics/${X._id}`),children:[a.jsx("td",{className:"px-6 py-4",children:X.image?a.jsx("img",{src:X.image,alt:X.name,className:"w-16 h-16 object-cover rounded"}):a.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center",children:a.jsx(YT,{className:"w-6 h-6 text-gray-400"})})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-black",children:X.name})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-600",children:X.slug})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${X.isActive?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:X.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-600",children:new Date(X.createdAt).toLocaleDateString()})}),a.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[a.jsx("button",{onClick:G=>{G.stopPropagation(),_(X)},className:"text-black hover:text-gray-600 transition-colors",children:a.jsx(yn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:G=>{G.stopPropagation(),I(X._id)},className:"text-black hover:text-red-600 transition-colors",children:a.jsx(rs,{className:"w-4 h-4"})})]})})]},X._id))})]})})}),o&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 relative max-h-[90vh] overflow-y-auto",children:[a.jsx("button",{onClick:pe,className:"absolute top-4 right-4 text-gray-400 hover:text-black transition-colors",children:a.jsx(_t,{className:"w-5 h-5"})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-black mb-2",children:u?"Edit Topic":"Add New Topic"}),a.jsx("p",{className:"text-sm text-gray-600",children:u?"Update topic information":"Create a new topic for your content"})]}),M&&a.jsx("div",{className:`mb-4 p-3 rounded border ${M.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:a.jsx("p",{className:"text-sm font-medium",children:M.text})}),a.jsxs("form",{onSubmit:D,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-black mb-2",children:["Topic Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"name",name:"name",value:m.name,onChange:X=>p({...m,name:X.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"Enter topic name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"image",className:"block text-sm font-semibold text-black mb-2",children:"Image"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"imageUrl",className:"block text-xs text-gray-600 mb-1",children:"Or enter image URL"}),a.jsx("input",{type:"url",id:"imageUrl",name:"imageUrl",value:m.image,onChange:X=>{const G=X.target.value;p({...m,image:G}),G&&(v(G),y(null))},className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://example.com/image.jpg"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or"})})]}),N&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:N,alt:"Preview",className:"w-full h-48 object-cover rounded border border-gray-300",onError:()=>{P({type:"error",text:"Invalid image URL"})}}),a.jsx("button",{type:"button",onClick:()=>{v(""),y(null),p({...m,image:""})},className:"absolute top-2 right-2 bg-black text-white rounded-full p-1 hover:bg-gray-800",children:a.jsx(_t,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"file",id:"image",name:"image",accept:"image/*",onChange:A,className:"hidden"}),a.jsx("label",{htmlFor:"image",className:"flex items-center justify-center gap-2 w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded cursor-pointer hover:border-black transition-colors",children:k?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Uploading..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Sr,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-600",children:N?"Change Image":"Upload Image to Cloudflare"})]})})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Enter a URL or upload a file. Supported formats: JPG, PNG, GIF. Max size: 10MB"})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:pe,className:"flex-1 px-4 py-2 border-2 border-gray-300 text-black rounded hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:C||k,className:"flex-1 px-4 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Saving...":u?"Update Topic":"Save Topic"})]})]})]})})]})})}function iL(){const{id:t}=ss(),e=Et(),[n,s]=S.useState(null),[i,o]=S.useState([]),[c,u]=S.useState([]),[h,m]=S.useState("articles"),[p,g]=S.useState(!0),[y,N]=S.useState(null),[v,k]=S.useState(null),[j,C]=S.useState(!1),[T,M]=S.useState(!1);S.useEffect(()=>{t&&P()},[t]);const P=async()=>{try{g(!0),N(null);const _=((await ce.get("/topics")).data.topics||[]).find(G=>G._id===t);if(!_){N("Topic not found"),g(!1);return}s(_);const X=((await ce.get("/articles")).data.articles||[]).filter(G=>G.topic?._id===t||G.topic===t);o(X)}catch(A){console.error("Error fetching topic:",A),N(A.response?.data?.message||"Failed to load topic")}finally{g(!1)}},H=async(A,D)=>{if(!D.target.closest("button"))try{M(!0);const I=await ce.get(`/articles/${A}`);k(I.data.article),C(!0)}catch(I){console.error("Error fetching article:",I)}finally{M(!1)}},B=()=>{C(!1),k(null)};return p?a.jsx(Be,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):y||!n?a.jsx(Be,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-black mb-4",children:"Topic Not Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:y||"The topic you are looking for does not exist."}),a.jsx("button",{onClick:()=>e("/admin/topics"),className:"px-6 py-3 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:"Back to Topics"})]})})}):a.jsx(Be,{children:a.jsxs("div",{className:"space-y-6 max-w-7xl",children:[a.jsx("div",{className:"flex items-center gap-4 border-b border-gray-200 pb-4",children:a.jsxs("button",{onClick:()=>e("/admin/topics"),className:"flex items-center gap-2 px-4 py-2 text-black hover:text-gray-600 transition-colors",children:[a.jsx(bp,{className:"w-5 h-5"}),a.jsx("span",{children:"Back to Topics"})]})}),a.jsx("div",{className:"bg-white border border-gray-200 rounded p-6",children:a.jsxs("div",{className:"flex items-start gap-6",children:[n.image?a.jsx("img",{src:n.image,alt:n.name,className:"w-32 h-32 object-cover rounded"}):a.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-gray-400 text-4xl font-bold",children:n.name.charAt(0)})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:n.name}),a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Slug: ",a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:n.slug})]}),a.jsx("span",{className:`inline-block px-3 py-1 text-xs font-semibold rounded ${n.isActive?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:n.isActive?"Active":"Inactive"})]})]})}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded overflow-hidden",children:[a.jsxs("div",{className:"border-b border-gray-200 flex",children:[a.jsxs("button",{onClick:()=>m("articles"),className:`flex-1 px-6 py-4 text-sm font-semibold transition-colors border-b-2 ${h==="articles"?"text-black border-black":"text-gray-600 border-transparent hover:text-black"}`,children:["Articles (",i.length,")"]}),a.jsxs("button",{onClick:()=>m("podcasts"),className:`flex-1 px-6 py-4 text-sm font-semibold transition-colors border-b-2 ${h==="podcasts"?"text-black border-black":"text-gray-600 border-transparent hover:text-black"}`,children:["Podcasts (",c.length,")"]})]}),a.jsx("div",{className:"p-4",children:h==="articles"?i.length===0?a.jsxs("div",{className:"p-12 text-center text-gray-500",children:[a.jsx("p",{children:"No articles found for this topic."}),a.jsx("button",{onClick:()=>e("/admin/articles/new"),className:"mt-4 px-6 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:"Create Article"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-black text-white",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Views"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:D=>H(A._id,D),children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-black",children:A.title})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${A.status==="published"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:A.status})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-600",children:new Date(A.createdAt).toLocaleDateString()})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-600",children:A.views.toLocaleString()})}),a.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:a.jsx("div",{className:"flex items-center justify-end gap-3",children:a.jsx("button",{onClick:()=>e(`/admin/articles/edit/${A._id}`),className:"text-black hover:text-gray-600 transition-colors",children:a.jsx(yn,{className:"w-4 h-4"})})})})]},A._id))})]})}):c.length===0?a.jsxs("div",{className:"p-12 text-center text-gray-500",children:[a.jsx("p",{children:"No podcasts found for this topic."}),a.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Podcasts are currently not stored in the database. Once podcast functionality is added, they will appear here."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-black text-white",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:c.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-black",children:A.title})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded bg-black text-white",children:"Published"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-600",children:new Date(A.createdAt).toLocaleDateString()})}),a.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:a.jsx("div",{className:"flex items-center justify-end gap-3",children:a.jsx("button",{onClick:()=>e(`/admin/podcasts/edit/${A._id}`),className:"text-black hover:text-gray-600 transition-colors",children:a.jsx(yn,{className:"w-4 h-4"})})})})]},A._id))})]})})})]}),j&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto relative",children:[a.jsx("button",{onClick:B,className:"absolute top-4 right-4 text-gray-400 hover:text-black transition-colors z-10",children:a.jsx(_t,{className:"w-6 h-6"})}),T?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx("div",{className:"w-8 h-8 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading article details..."})]}):v?a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6 pr-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-black mb-4",children:v.title}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[v.topic&&a.jsxs("span",{className:"px-3 py-1 bg-gray-100 rounded",children:["Topic: ",typeof v.topic=="object"?v.topic.name:v.topic]}),a.jsx("span",{className:`px-3 py-1 rounded font-semibold ${v.status==="published"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:v.status}),a.jsxs("span",{children:["Views: ",v.views.toLocaleString()]})]})]}),v.featuredImage&&a.jsx("div",{className:"mb-6",children:a.jsx("img",{src:v.featuredImage,alt:v.title,className:"w-full h-64 object-cover rounded border border-gray-200"})}),a.jsx("div",{className:"mb-6 pb-6 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Author:"})," ",a.jsx("span",{className:"font-semibold text-black",children:typeof v.writtenBy=="object"?v.writtenBy.name:v.writtenBy||v.author})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Created:"})," ",a.jsx("span",{className:"font-semibold text-black",children:new Date(v.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),v.publishedAt&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Published:"})," ",a.jsx("span",{className:"font-semibold text-black",children:new Date(v.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Slug:"})," ",a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:v.slug})]})]})}),v.excerpt&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Excerpt"}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:v.excerpt})]}),v.content&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-black mb-4",children:"Content"}),a.jsx("div",{className:"prose prose-sm max-w-none text-gray-700 article-content-preview",dangerouslySetInnerHTML:{__html:v.content.length>500?v.content.substring(0,500)+"...":v.content},style:{maxHeight:"300px",overflow:"hidden"}})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[a.jsxs("button",{onClick:()=>{B(),e(`/admin/articles/edit/${v._id}`)},className:"flex items-center gap-2 px-6 py-3 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:[a.jsx(yn,{className:"w-4 h-4"}),"Edit Article"]}),a.jsx("button",{onClick:B,className:"flex items-center gap-2 px-6 py-3 border-2 border-gray-300 text-black rounded hover:bg-gray-50 transition-colors font-semibold",children:"Close"})]})]}):null]})}),a.jsx("style",{children:`
          .article-content-preview h1,
          .article-content-preview h2,
          .article-content-preview h3 {
            font-weight: 700;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
          }
          .article-content-preview p {
            margin-bottom: 1rem;
          }
          .article-content-preview ul,
          .article-content-preview ol {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
          }
        `})]})})}function lL(){const t=Et(),[e,n]=S.useState([]),[s,i]=S.useState(!0),[o,c]=S.useState(""),[u,h]=S.useState(null),[m,p]=S.useState(!1),[g,y]=S.useState(null),[N,v]=S.useState({name:"",description:"",coverImage:"",spotify:"",apple:"",youtube:"",substack:""}),[k,j]=S.useState(null),[C,T]=S.useState(""),[M,P]=S.useState(!1),[H,B]=S.useState(!1);S.useEffect(()=>{document.title="Podcasts - Admin - Patricia Macadam",A()},[]);const A=async()=>{try{i(!0);const te=await ce.get("/podcast-series");n(te.data.series||[])}catch(te){console.error("Error fetching series:",te),h({type:"error",text:"Failed to load podcasts"})}finally{i(!1)}},D=async te=>{P(!0);try{const O=new FormData;O.append("image",te);const K=await ce.post("/upload/image",O,{headers:{"Content-Type":"multipart/form-data"}});return v({...N,coverImage:K.data.imageUrl}),T(K.data.imageUrl),P(!1),K.data.imageUrl}catch(O){throw P(!1),h({type:"error",text:O.response?.data?.message||"Failed to upload image"}),O}},_=async te=>{const O=te.target.files?.[0];if(!O)return;if(!O.type.startsWith("image/")){h({type:"error",text:"Please select an image file"});return}if(O.size>10*1024*1024){h({type:"error",text:"Image size must be less than 10MB"});return}j(O),v({...N,coverImage:""});const K=new FileReader;K.onloadend=()=>{T(K.result)},K.readAsDataURL(O),await D(O)},I=async te=>{te.preventDefault(),B(!0),h(null);try{let O=N.coverImage;k&&!O&&(O=await D(k));const K={name:N.name,description:N.description||void 0,coverImage:O||void 0,author:"Patricia Macadam",status:"active",platformLinks:{spotify:N.spotify||void 0,apple:N.apple||void 0,youtube:N.youtube||void 0,substack:N.substack||void 0}};g?(await ce.put(`/podcast-series/${g._id}`,K),h({type:"success",text:"Podcast updated successfully!"})):(await ce.post("/podcast-series",K),h({type:"success",text:"Podcast created successfully!"})),v({name:"",description:"",coverImage:"",spotify:"",apple:"",youtube:"",substack:""}),j(null),T(""),y(null),p(!1),await A(),setTimeout(()=>h(null),2e3)}catch(O){h({type:"error",text:O.response?.data?.message||(g?"Failed to update podcast":"Failed to create podcast")})}finally{B(!1)}},pe=te=>{y(te),v({name:te.name,description:te.description||"",coverImage:te.coverImage||"",spotify:te.platformLinks?.spotify||"",apple:te.platformLinks?.apple||"",youtube:te.platformLinks?.youtube||"",substack:te.platformLinks?.substack||""}),T(te.coverImage||""),j(null),p(!0)},X=async te=>{if(confirm("Are you sure you want to delete this podcast? All episodes will be unlinked from this series."))try{await ce.delete(`/podcast-series/${te}`),h({type:"success",text:"Podcast deleted successfully!"}),await A(),setTimeout(()=>h(null),2e3)}catch(O){h({type:"error",text:O.response?.data?.message||"Failed to delete podcast"})}},G=()=>{p(!1),y(null),v({name:"",description:"",coverImage:"",spotify:"",apple:"",youtube:"",substack:""}),j(null),T(""),h(null)},J=e.filter(te=>te.name.toLowerCase().includes(o.toLowerCase())||te.description&&te.description.toLowerCase().includes(o.toLowerCase()));return s?a.jsx(Be,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):a.jsx(Be,{children:a.jsxs("div",{className:"space-y-6 max-w-7xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Podcasts"}),a.jsx("p",{className:"text-gray-600",children:"Manage your podcast series"})]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:[a.jsx(kr,{className:"w-4 h-4"}),"Create New Podcast"]})})]}),u&&a.jsx("div",{className:`p-4 rounded border ${u.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:a.jsx("p",{className:"font-medium",children:u.text})}),a.jsxs("div",{className:"bg-white border border-gray-200 p-4 rounded",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search podcasts...",value:o,onChange:te=>c(te.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",J.length," of ",e.length," podcasts"]})]}),a.jsx("div",{className:"bg-white border border-gray-200 rounded overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-black text-white",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Thumbnail"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:J.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:'No podcasts found. Click "Create New Podcast" to create one.'})}):J.map(te=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>t(`/admin/podcasts/${te._id}`),children:[a.jsx("td",{className:"px-6 py-4",children:te.coverImage?a.jsx("img",{src:te.coverImage,alt:te.name,className:"w-16 h-16 object-cover rounded"}):a.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-gray-400 text-2xl font-bold",children:te.name.charAt(0)})})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-black",children:te.name}),te.description&&a.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:te.description})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${te.status==="active"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:te.status})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-600",children:new Date(te.createdAt).toLocaleDateString()})}),a.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[a.jsx("button",{onClick:O=>{O.stopPropagation(),pe(te)},className:"text-black hover:text-gray-600 transition-colors",title:"Edit Series",children:a.jsx(yn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:O=>{O.stopPropagation(),t(`/admin/podcasts/${te._id}`)},className:"text-black hover:text-gray-600 transition-colors",children:"View Episodes"}),a.jsx("button",{onClick:O=>{O.stopPropagation(),X(te._id)},className:"text-black hover:text-red-600 transition-colors",title:"Delete Series",children:a.jsx(rs,{className:"w-4 h-4"})})]})})]},te._id))})]})})}),m&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 relative max-h-[90vh] overflow-y-auto",children:[a.jsx("button",{onClick:G,className:"absolute top-4 right-4 text-gray-400 hover:text-black transition-colors",children:a.jsx(_t,{className:"w-5 h-5"})}),a.jsx("h2",{className:"text-2xl font-bold text-black mb-4 pr-8",children:g?"Edit Podcast":"Create New Podcast"}),a.jsxs("form",{onSubmit:I,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-black mb-2",children:["Podcast Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"name",value:N.name,onChange:te=>v({...N,name:te.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"Enter podcast name"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-semibold text-black mb-2",children:"Description"}),a.jsx("textarea",{id:"description",value:N.description,onChange:te=>v({...N,description:te.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black resize-none",placeholder:"Enter podcast description"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Thumbnail"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"imageUrl",className:"block text-xs text-gray-600 mb-1",children:"Or enter image URL"}),a.jsx("input",{type:"url",id:"imageUrl",value:N.coverImage,onChange:te=>{const O=te.target.value;v({...N,coverImage:O}),O&&(T(O),j(null))},className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://example.com/image.jpg"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or"})})]}),C&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:C,alt:"Preview",className:"w-full h-48 object-cover rounded border border-gray-300",onError:()=>{h({type:"error",text:"Invalid image URL"})}}),a.jsx("button",{type:"button",onClick:()=>{T(""),j(null),v({...N,coverImage:""})},className:"absolute top-2 right-2 bg-black text-white rounded-full p-1 hover:bg-gray-800",children:a.jsx(_t,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"file",id:"thumbnail",accept:"image/*",onChange:_,className:"hidden"}),a.jsx("label",{htmlFor:"thumbnail",className:"flex items-center justify-center gap-2 w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded cursor-pointer hover:border-black transition-colors",children:M?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Uploading..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Sr,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-600",children:C?"Change Image":"Upload Image to Cloudflare"})]})})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-4",children:"Platform Links"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"spotify",className:"block text-xs text-gray-600 mb-1",children:"Spotify Link"}),a.jsx("input",{type:"url",id:"spotify",value:N.spotify,onChange:te=>v({...N,spotify:te.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://open.spotify.com/show/..."})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"apple",className:"block text-xs text-gray-600 mb-1",children:"Apple Podcasts Link"}),a.jsx("input",{type:"url",id:"apple",value:N.apple,onChange:te=>v({...N,apple:te.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://podcasts.apple.com/..."})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"youtube",className:"block text-xs text-gray-600 mb-1",children:"YouTube Link"}),a.jsx("input",{type:"url",id:"youtube",value:N.youtube,onChange:te=>v({...N,youtube:te.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://www.youtube.com/..."})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"substack",className:"block text-xs text-gray-600 mb-1",children:"Substack Link"}),a.jsx("input",{type:"url",id:"substack",value:N.substack,onChange:te=>v({...N,substack:te.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://patriciamacadam.substack.com/..."})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"submit",disabled:H,className:"flex-1 px-6 py-3 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:H?g?"Updating...":"Creating...":g?"Update Podcast":"Create Podcast"}),a.jsx("button",{type:"button",onClick:G,className:"px-6 py-3 border-2 border-gray-300 text-black rounded hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"})]})]})]})})]})})}function oL(){const{id:t}=ss(),e=Et(),[n,s]=S.useState(null),[i,o]=S.useState([]),[c,u]=S.useState(!0),[h,m]=S.useState(""),[p,g]=S.useState("all"),[y,N]=S.useState(null),[v,k]=S.useState(null),[j,C]=S.useState(!1),[T,M]=S.useState(!1);S.useEffect(()=>{t&&P()},[t]);const P=async()=>{try{u(!0);const _=await ce.get(`/podcast-series/${t}`);s(_.data.series);const X=((await ce.get("/podcasts")).data.podcasts||[]).filter(G=>G.series?._id===t||G.series===t);o(X)}catch(_){console.error("Error fetching series:",_),N({type:"error",text:"Failed to load series"})}finally{u(!1)}},H=async(_,I)=>{const pe=I.target;if(!(pe.closest("button")||pe.closest("svg")||pe.closest("path"))){M(!0),C(!0);try{const X=await ce.get(`/podcasts/${_}`);k(X.data.podcast)}catch(X){N({type:"error",text:X.response?.data?.message||"Failed to load podcast details"}),C(!1)}finally{M(!1)}}},B=()=>{C(!1),k(null)},A=async _=>{if(confirm("Are you sure you want to delete this episode?"))try{await ce.delete(`/podcasts/${_}`),N({type:"success",text:"Episode deleted successfully!"}),await P(),setTimeout(()=>N(null),2e3),v?._id===_&&B()}catch(I){N({type:"error",text:I.response?.data?.message||"Failed to delete episode"})}},D=i.filter(_=>{const I=_.title.toLowerCase().includes(h.toLowerCase())||_.description&&_.description.toLowerCase().includes(h.toLowerCase()),pe=p==="all"||_.status===p;return I&&pe});return c?a.jsx(Be,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):n?a.jsx(Be,{children:a.jsxs("div",{className:"space-y-6 max-w-7xl",children:[a.jsx("div",{className:"flex items-center gap-4 border-b border-gray-200 pb-4",children:a.jsxs("button",{onClick:()=>e("/admin/podcasts"),className:"flex items-center gap-2 px-4 py-2 text-black hover:text-gray-600 transition-colors",children:[a.jsx(bp,{className:"w-5 h-5"}),a.jsx("span",{children:"Back to Podcasts"})]})}),a.jsx("div",{className:"bg-white border border-gray-200 rounded p-6",children:a.jsxs("div",{className:"flex items-start gap-6",children:[n.coverImage?a.jsx("img",{src:n.coverImage,alt:n.name,className:"w-32 h-32 object-cover rounded"}):a.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-gray-400 text-4xl font-bold",children:n.name.charAt(0)})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:n.name}),n.description&&a.jsx("p",{className:"text-gray-600 mb-2",children:n.description}),a.jsx("span",{className:`inline-block px-3 py-1 text-xs font-semibold rounded ${n.status==="active"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:n.status})]})]})}),a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-black mb-2",children:"Episodes"}),a.jsx("p",{className:"text-gray-600",children:"Manage episodes for this podcast"})]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs("button",{onClick:()=>e(`/admin/podcasts/new?series=${t}`),className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:[a.jsx(kr,{className:"w-4 h-4"}),"Add New Episode"]})})]}),y&&a.jsx("div",{className:`p-4 rounded border ${y.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:a.jsx("p",{className:"font-medium",children:y.text})}),a.jsxs("div",{className:"bg-white border border-gray-200 p-4 rounded",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search episodes...",value:h,onChange:_=>m(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(SN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsxs("select",{value:p,onChange:_=>g(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black appearance-none bg-white",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"published",children:"Published"}),a.jsx("option",{value:"draft",children:"Draft"})]})]})]}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",D.length," of ",i.length," episodes"]})]}),a.jsx("div",{className:"bg-white border border-gray-200 rounded overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-black text-white",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Cover"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Episode"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Published"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Views"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:D.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:'No episodes found. Click "Add New Episode" to create one.'})}):D.map(_=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:I=>H(_._id,I),children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_.coverImage?a.jsx("img",{src:_.coverImage,alt:_.title,className:"w-16 h-16 object-cover rounded"}):a.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-gray-400 text-xs",children:"No Image"})})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-black",children:_.title}),_.description&&a.jsxs("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:[_.description.substring(0,100),"..."]})]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-600",children:_.episodeNumber?`#${_.episodeNumber}`:"-"}),_.duration&&a.jsx("div",{className:"text-xs text-gray-500",children:_.duration})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${_.status==="published"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:_.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-600",children:_.publishedDate?new Date(_.publishedDate).toLocaleDateString():"-"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-600",children:_.views.toLocaleString()})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[a.jsx("button",{onClick:()=>e(`/admin/podcasts/edit/${_._id}`),className:"text-black hover:text-gray-600 transition-colors",children:a.jsx(yn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>A(_._id),className:"text-black hover:text-red-600 transition-colors",children:a.jsx(rs,{className:"w-4 h-4"})})]})})]},_._id))})]})})}),j&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto relative",children:[a.jsx("button",{onClick:B,className:"absolute top-4 right-4 text-gray-400 hover:text-black transition-colors z-10",children:a.jsx(_t,{className:"w-6 h-6"})}),T?a.jsxs("div",{className:"p-12 text-center",children:[a.jsx("div",{className:"w-8 h-8 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading podcast details..."})]}):v?a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6 pr-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-black mb-4",children:v.title}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[v.topic&&a.jsxs("span",{className:"px-3 py-1 bg-gray-100 rounded",children:["Topic: ",typeof v.topic=="object"?v.topic.name:v.topic]}),v.series&&a.jsxs("span",{className:"px-3 py-1 bg-gray-100 rounded",children:["Series: ",typeof v.series=="object"?v.series.name:v.series]}),a.jsx("span",{className:`px-3 py-1 rounded font-semibold ${v.status==="published"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:v.status}),a.jsxs("span",{children:["Views: ",v.views?.toLocaleString()||0]})]})]}),v.coverImage&&a.jsx("div",{className:"mb-6",children:a.jsx("img",{src:v.coverImage,alt:v.title,className:"w-full h-64 object-cover rounded border border-gray-200"})}),a.jsx("div",{className:"mb-6 pb-6 border-b border-gray-200",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Episode Number:"})," ",a.jsx("span",{className:"font-semibold text-black",children:v.episodeNumber?`#${v.episodeNumber}`:"-"})]}),v.duration&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Duration:"})," ",a.jsx("span",{className:"font-semibold text-black",children:v.duration})]}),v.publishedDate&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Published:"})," ",a.jsx("span",{className:"font-semibold text-black",children:new Date(v.publishedDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Created:"})," ",a.jsx("span",{className:"font-semibold text-black",children:new Date(v.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Slug:"})," ",a.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:v.slug})]})]})}),v.description&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Description"}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:v.description})]}),v.audioUrl&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Audio"}),a.jsxs("audio",{controls:!0,className:"w-full max-w-md",children:[a.jsx("source",{src:v.audioUrl}),"Your browser does not support the audio element."]}),a.jsx("a",{href:v.audioUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline mt-2 inline-block",children:v.audioUrl})]}),v.platformLinks&&Object.keys(v.platformLinks).some(_=>v.platformLinks[_])&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-black mb-3",children:"Platform Links"}),a.jsxs("div",{className:"space-y-2",children:[v.platformLinks.spotify&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Spotify:"})," ",a.jsx("a",{href:v.platformLinks.spotify,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:v.platformLinks.spotify})]}),v.platformLinks.apple&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Apple Podcasts:"})," ",a.jsx("a",{href:v.platformLinks.apple,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:v.platformLinks.apple})]}),v.platformLinks.youtube&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"YouTube:"})," ",a.jsx("a",{href:v.platformLinks.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:v.platformLinks.youtube})]}),v.platformLinks.substack&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Substack:"})," ",a.jsx("a",{href:v.platformLinks.substack,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:v.platformLinks.substack})]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[a.jsxs("button",{onClick:()=>{B(),e(`/admin/podcasts/edit/${v._id}`)},className:"flex items-center gap-2 px-6 py-3 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:[a.jsx(yn,{className:"w-4 h-4"}),"Edit Podcast"]}),a.jsx("button",{onClick:B,className:"px-6 py-3 border-2 border-gray-300 text-black rounded hover:bg-gray-50 transition-colors font-semibold",children:"Close"})]})]}):null]})})]})}):a.jsx(Be,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-black mb-4",children:"Podcast Not Found"}),a.jsx("button",{onClick:()=>e("/admin/podcasts"),className:"px-6 py-3 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:"Back to Podcasts"})]})})})}function k1(){const t=Et(),{id:e}=ss(),n=!!e,[s,i]=S.useState(null),[o,c]=S.useState(n),[u,h]=S.useState(!1),[m,p]=S.useState(null),[g,y]=S.useState({title:"",description:"",episodeNumber:"",duration:"",coverImage:"",audioUrl:"",topic:"",series:"",status:"draft",spotify:"",apple:"",youtube:"",substack:""}),[N,v]=S.useState([]),[k,j]=S.useState([]),[C,T]=S.useState(null),[M,P]=S.useState(""),[H,B]=S.useState(!1);S.useEffect(()=>{document.title=n?"Edit Podcast - Admin - Patricia Macadam":"New Podcast - Admin - Patricia Macadam"},[n]),S.useEffect(()=>{if(A(),D(),n)_();else{const J=new URLSearchParams(window.location.search).get("series");J&&y({...g,series:J})}},[e]);const A=async()=>{try{const G=await ce.get("/topics");v(G.data.topics||[])}catch(G){console.error("Error fetching topics:",G)}},D=async()=>{try{const G=await ce.get("/podcast-series");j(G.data.series||[])}catch(G){console.error("Error fetching series:",G)}},_=async()=>{try{c(!0);const J=(await ce.get(`/podcasts/${e}`)).data.podcast;i(J),y({title:J.title||"",description:J.description||"",episodeNumber:J.episodeNumber?.toString()||"",duration:J.duration||"",coverImage:J.coverImage||"",audioUrl:J.audioUrl||"",topic:J.topic?._id||J.topic||"",series:J.series?._id||J.series||"",status:J.status||"draft",spotify:J.platformLinks?.spotify||"",apple:J.platformLinks?.apple||"",youtube:J.platformLinks?.youtube||"",substack:J.platformLinks?.substack||""}),J.coverImage&&P(J.coverImage)}catch{p({type:"error",text:"Failed to load podcast"})}finally{c(!1)}},I=async G=>{B(!0);try{const J=new FormData;J.append("image",G);const te=await ce.post("/upload/image",J,{headers:{"Content-Type":"multipart/form-data"}});return y({...g,coverImage:te.data.imageUrl}),P(te.data.imageUrl),B(!1),te.data.imageUrl}catch(J){throw B(!1),p({type:"error",text:J.response?.data?.message||"Failed to upload image"}),J}},pe=async G=>{const J=G.target.files?.[0];if(!J)return;if(!J.type.startsWith("image/")){p({type:"error",text:"Please select an image file"});return}if(J.size>10*1024*1024){p({type:"error",text:"Image size must be less than 10MB"});return}T(J),y({...g,coverImage:""});const te=new FileReader;te.onloadend=()=>{P(te.result)},te.readAsDataURL(J),await I(J)},X=async G=>{G.preventDefault(),h(!0),p(null);try{let J=g.coverImage;C&&!J&&(J=await I(C));const te={title:g.title,description:g.description||void 0,episodeNumber:g.episodeNumber?parseInt(g.episodeNumber):void 0,duration:g.duration||void 0,coverImage:J||void 0,audioUrl:g.audioUrl||void 0,topic:g.topic||null,series:g.series,status:g.status,platformLinks:{spotify:g.spotify||void 0,apple:g.apple||void 0,youtube:g.youtube||void 0,substack:g.substack||void 0}};n?(await ce.put(`/podcasts/${e}`,te),p({type:"success",text:"Podcast updated successfully!"})):(await ce.post("/podcasts",te),p({type:"success",text:"Podcast created successfully!"})),setTimeout(()=>{t("/admin/podcasts")},1500)}catch(J){p({type:"error",text:J.response?.data?.message||"Failed to save podcast"})}finally{h(!1)}};return o?a.jsx(Be,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):a.jsx(Be,{children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:n?"Edit Podcast":"Create New Podcast"}),a.jsx("p",{className:"text-gray-600",children:n?"Update your podcast episode":"Add a new podcast episode"})]}),a.jsx("button",{onClick:()=>t("/admin/podcasts"),className:"text-gray-400 hover:text-black transition-colors",children:a.jsx(_t,{className:"w-6 h-6"})})]}),m&&a.jsx("div",{className:`mb-6 p-4 rounded border ${m.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:a.jsx("p",{className:"font-medium",children:m.text})}),a.jsxs("form",{onSubmit:X,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"title",className:"block text-sm font-semibold text-black mb-2",children:["Title ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"title",value:g.title,onChange:G=>y({...g,title:G.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"Enter podcast episode title"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"description",className:"block text-sm font-semibold text-black mb-2",children:"Description"}),a.jsx("textarea",{id:"description",value:g.description,onChange:G=>y({...g,description:G.target.value}),rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black resize-none",placeholder:"Enter podcast episode description"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"episodeNumber",className:"block text-sm font-semibold text-black mb-2",children:"Episode Number"}),a.jsx("input",{type:"number",id:"episodeNumber",value:g.episodeNumber,onChange:G=>y({...g,episodeNumber:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"e.g., 1"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"duration",className:"block text-sm font-semibold text-black mb-2",children:"Duration"}),a.jsx("input",{type:"text",id:"duration",value:g.duration,onChange:G=>y({...g,duration:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"e.g., 49 min"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"topic",className:"block text-sm font-semibold text-black mb-2",children:"Topic"}),a.jsxs("select",{id:"topic",value:g.topic,onChange:G=>y({...g,topic:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[a.jsx("option",{value:"",children:"Select a topic (optional)"}),N.map(G=>a.jsx("option",{value:G._id,children:G.name},G._id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"series",className:"block text-sm font-semibold text-black mb-2",children:["Series ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{id:"series",value:g.series,onChange:G=>y({...g,series:G.target.value}),required:!0,disabled:!!new URLSearchParams(window.location.search).get("series"),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black disabled:bg-gray-100 disabled:cursor-not-allowed",children:[a.jsx("option",{value:"",children:"Select a series"}),k.map(G=>a.jsx("option",{value:G._id,children:G.name},G._id))]}),new URLSearchParams(window.location.search).get("series")&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Series is pre-selected for this podcast"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Thumbnail (Cover Image)"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"imageUrl",className:"block text-xs text-gray-600 mb-1",children:"Or enter image URL"}),a.jsx("input",{type:"url",id:"imageUrl",value:g.coverImage,onChange:G=>{const J=G.target.value;y({...g,coverImage:J}),J&&(P(J),T(null))},className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://example.com/image.jpg"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or"})})]}),M&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:M,alt:"Preview",className:"w-full h-64 object-cover rounded border border-gray-300",onError:()=>{p({type:"error",text:"Invalid image URL"})}}),a.jsx("button",{type:"button",onClick:()=>{P(""),T(null),y({...g,coverImage:""})},className:"absolute top-2 right-2 bg-black text-white rounded-full p-1 hover:bg-gray-800",children:a.jsx(_t,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"file",id:"coverImage",accept:"image/*",onChange:pe,className:"hidden"}),a.jsx("label",{htmlFor:"coverImage",className:"flex items-center justify-center gap-2 w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded cursor-pointer hover:border-black transition-colors",children:H?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Uploading..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Sr,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-600",children:M?"Change Image":"Upload Image to Cloudflare"})]})})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"audioUrl",className:"block text-sm font-semibold text-black mb-2",children:"Audio URL"}),a.jsx("input",{type:"url",id:"audioUrl",value:g.audioUrl,onChange:G=>y({...g,audioUrl:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://example.com/audio.mp3"}),g.audioUrl&&a.jsx("div",{className:"mt-2",children:a.jsxs("audio",{controls:!0,className:"w-full max-w-md",children:[a.jsx("source",{src:g.audioUrl}),"Your browser does not support the audio element."]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-4",children:"Platform Links"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"spotify",className:"block text-xs text-gray-600 mb-1",children:"Spotify Link"}),a.jsx("input",{type:"url",id:"spotify",value:g.spotify,onChange:G=>y({...g,spotify:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://open.spotify.com/episode/..."})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"apple",className:"block text-xs text-gray-600 mb-1",children:"Apple Podcasts Link"}),a.jsx("input",{type:"url",id:"apple",value:g.apple,onChange:G=>y({...g,apple:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://podcasts.apple.com/..."})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"youtube",className:"block text-xs text-gray-600 mb-1",children:"YouTube Link"}),a.jsx("input",{type:"url",id:"youtube",value:g.youtube,onChange:G=>y({...g,youtube:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://www.youtube.com/watch?v=..."})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"substack",className:"block text-xs text-gray-600 mb-1",children:"Substack Link"}),a.jsx("input",{type:"url",id:"substack",value:g.substack,onChange:G=>y({...g,substack:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://patriciamacadam.substack.com/..."})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-semibold text-black mb-2",children:"Status"}),a.jsxs("select",{id:"status",value:g.status,onChange:G=>y({...g,status:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[a.jsx("option",{value:"draft",children:"Draft"}),a.jsx("option",{value:"published",children:"Published (Published date will be set automatically)"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"When published, the date will be automatically set using timestamps"})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"submit",disabled:u,className:"flex items-center gap-2 px-6 py-3 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:u?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):a.jsx(a.Fragment,{children:n?"Update Podcast":"Create Podcast"})}),a.jsx("button",{type:"button",onClick:()=>t("/admin/podcasts"),className:"px-6 py-3 border-2 border-gray-300 text-black rounded hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"})]})]})]})})}function cL(){const{admin:t,fetchAdmin:e}=ji(),[n,s]=S.useState(!1),[i,o]=S.useState(null),[c,u]=S.useState({name:"",email:"",profilePic:"",password:"",confirmPassword:""}),[h,m]=S.useState(null),[p,g]=S.useState(""),[y,N]=S.useState(!1);S.useEffect(()=>{document.title="Profile - Admin - Patricia Macadam"},[]),S.useEffect(()=>{t&&(u({name:t.name||"",email:t.email||"",profilePic:t.profilePic||"",password:"",confirmPassword:""}),t.profilePic&&g(t.profilePic))},[t]);const v=async C=>{N(!0);try{const T=new FormData;T.append("image",C);const M=await ce.post("/upload/image",T,{headers:{"Content-Type":"multipart/form-data"}});return u(P=>({...P,profilePic:M.data.imageUrl})),g(M.data.imageUrl),N(!1),M.data.imageUrl}catch(T){throw N(!1),o({type:"error",text:T.response?.data?.message||"Failed to upload image"}),T}},k=async C=>{const T=C.target.files?.[0];if(!T)return;if(!T.type.startsWith("image/")){o({type:"error",text:"Please select an image file"});return}if(T.size>10*1024*1024){o({type:"error",text:"Image size must be less than 10MB"});return}m(T),u({...c,profilePic:""});const M=new FileReader;M.onloadend=()=>{g(M.result)},M.readAsDataURL(T),await v(T)},j=async C=>{if(C.preventDefault(),s(!0),o(null),c.password&&c.password!==c.confirmPassword){o({type:"error",text:"Passwords do not match"}),s(!1);return}try{let T=c.profilePic;h&&!T&&(T=await v(h));const M={name:c.name,email:c.email,profilePic:T};c.password&&(M.password=c.password),await ce.put("/auth/profile",M),o({type:"success",text:"Profile updated successfully!"}),await e(),u({...c,password:"",confirmPassword:""})}catch(T){o({type:"error",text:T.response?.data?.message||"Failed to update profile"})}finally{s(!1)}};return t?a.jsx(Be,{children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Profile Settings"}),a.jsx("p",{className:"text-gray-600",children:"Manage your account information and profile"})]}),i&&a.jsx("div",{className:`mb-6 p-4 rounded border ${i.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:a.jsx("p",{className:"font-medium",children:i.text})}),a.jsxs("form",{onSubmit:j,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Profile Picture"}),a.jsxs("div",{className:"space-y-3",children:[p&&a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:p,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>{g(""),m(null),u({...c,profilePic:""})},className:"absolute top-0 right-0 bg-black text-white rounded-full p-1 hover:bg-gray-800",children:a.jsx(_t,{className:"w-4 h-4"})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"profilePicUrl",className:"block text-xs text-gray-600 mb-1",children:"Or enter image URL"}),a.jsx("input",{type:"url",id:"profilePicUrl",value:c.profilePic,onChange:C=>{const T=C.target.value;u({...c,profilePic:T}),T&&(g(T),m(null))},className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://example.com/image.jpg"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or"})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"file",id:"profilePic",accept:"image/*",onChange:k,className:"hidden"}),a.jsx("label",{htmlFor:"profilePic",className:"flex items-center justify-center gap-2 w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded cursor-pointer hover:border-black transition-colors",children:y?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Uploading..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Sr,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"text-sm text-gray-600",children:p?"Change Profile Picture":"Upload Profile Picture"})]})})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-black mb-2",children:["Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"name",value:c.name,onChange:C=>u({...c,name:C.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-black mb-2",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"email",id:"email",value:c.email,onChange:C=>u({...c,email:C.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-black mb-4",children:"Change Password"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-black mb-2",children:"New Password"}),a.jsx("input",{type:"password",id:"password",value:c.password,onChange:C=>u({...c,password:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"Leave blank to keep current password"})]}),c.password&&a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-black mb-2",children:"Confirm New Password"}),a.jsx("input",{type:"password",id:"confirmPassword",value:c.confirmPassword,onChange:C=>u({...c,confirmPassword:C.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"Confirm new password"})]})]})]}),a.jsx("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:a.jsxs("button",{type:"submit",disabled:n||y,className:"flex items-center gap-2 px-6 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(vp,{className:"w-4 h-4"}),n?"Saving...":"Save Changes"]})})]})]})}):a.jsx(Be,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})})}function dL(){const t=Et(),[e,n]=S.useState([]),[s,i]=S.useState(!0),[o,c]=S.useState(""),[u,h]=S.useState("all"),[m,p]=S.useState(1),[g]=S.useState(10),[y,N]=S.useState(null);S.useEffect(()=>{document.title="Products - Admin - Patricia Macadam",v()},[]);const v=async()=>{try{i(!0),n([])}catch(A){console.error("Error fetching products:",A),N({type:"error",text:"Failed to load products"})}finally{i(!1)}},k=e.filter(A=>{const D=A.name.toLowerCase().includes(o.toLowerCase())||A.description&&A.description.toLowerCase().includes(o.toLowerCase()),_=u==="all"||A.category===u;return D&&_}),j=Math.ceil(k.length/g),C=(m-1)*g,T=C+g,M=k.slice(C,T),P=A=>{p(A),window.scrollTo({top:0,behavior:"smooth"})},H=async A=>{if(confirm("Are you sure you want to delete this product?"))try{N({type:"success",text:"Product deleted successfully!"}),await v(),setTimeout(()=>N(null),2e3)}catch(D){N({type:"error",text:D.response?.data?.message||"Failed to delete product"})}},B=Array.from(new Set(e.map(A=>A.category)));return s?a.jsx(Be,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):a.jsx(Be,{children:a.jsxs("div",{className:"space-y-6 max-w-7xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Products"}),a.jsx("p",{className:"text-gray-600",children:"Manage your products"})]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs("button",{onClick:()=>t("/admin/products/new"),className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:[a.jsx(kr,{className:"w-4 h-4"}),"Add New Product"]})})]}),y&&a.jsx("div",{className:`p-4 rounded border ${y.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:a.jsx("p",{className:"font-medium",children:y.text})}),a.jsxs("div",{className:"bg-white border border-gray-200 p-4 rounded",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search products...",value:o,onChange:A=>{c(A.target.value),p(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),a.jsx("div",{className:"md:w-48",children:a.jsxs("select",{value:u,onChange:A=>{h(A.target.value),p(1)},className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[a.jsx("option",{value:"all",children:"All Categories"}),B.map(A=>a.jsx("option",{value:A,children:A},A))]})})]}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",k.length," of ",e.length," products"]})]}),a.jsx("div",{className:"bg-white border border-gray-200 rounded overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-black text-white",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Image"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:M.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:e.length===0?'No products found. Click "Add New Product" to create one.':"No products match your search criteria."})}):M.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:A.image?a.jsx("img",{src:A.image,alt:A.name,className:"w-16 h-16 object-cover rounded"}):a.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-gray-400 text-2xl font-bold",children:A.name.charAt(0)})})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-black",children:A.name}),A.description&&a.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:A.description})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-600",children:A.category})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-600",children:A.price?`$${A.price.toFixed(2)}`:"N/A"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${A.status==="active"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:A.status})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-600",children:new Date(A.createdAt).toLocaleDateString()})}),a.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[a.jsx("button",{onClick:()=>t(`/admin/products/edit/${A._id}`),className:"text-black hover:text-gray-600 transition-colors",title:"Edit Product",children:a.jsx(yn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>H(A._id),className:"text-black hover:text-red-600 transition-colors",title:"Delete Product",children:a.jsx(rs,{className:"w-4 h-4"})})]})})]},A._id))})]})})}),j>1&&a.jsxs("div",{className:"flex items-center justify-between bg-white border border-gray-200 p-4 rounded",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",C+1," to ",Math.min(T,k.length)," of ",k.length," products"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>P(m-1),disabled:m===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:j},(A,D)=>D+1).map(A=>a.jsx("button",{onClick:()=>P(A),className:`px-4 py-2 border rounded ${m===A?"bg-black text-white border-black":"border-gray-300 hover:bg-gray-50"}`,children:A},A)),a.jsx("button",{onClick:()=>P(m+1),disabled:m===j,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})})}function uL(){const t=Et(),[e,n]=S.useState([]),[s,i]=S.useState(!0),[o,c]=S.useState(""),[u,h]=S.useState("all"),[m,p]=S.useState(1),[g]=S.useState(10),[y,N]=S.useState(null);S.useEffect(()=>{document.title="Courses - Admin - Patricia Macadam",v()},[]);const v=async()=>{try{i(!0);const B=await ce.get("/courses");n(B.data.courses||[])}catch(B){console.error("Error fetching courses:",B),N({type:"error",text:"Failed to load courses"})}finally{i(!1)}},k=e.filter(B=>{const A=B.name.toLowerCase().includes(o.toLowerCase())||B.description&&B.description.toLowerCase().includes(o.toLowerCase()),D=u==="all"||B.status===u;return A&&D}),j=Math.ceil(k.length/g),C=(m-1)*g,T=C+g,M=k.slice(C,T),P=B=>{p(B),window.scrollTo({top:0,behavior:"smooth"})},H=async B=>{if(confirm("Are you sure you want to delete this course?"))try{await ce.delete(`/courses/${B}`),N({type:"success",text:"Course deleted successfully!"}),await v(),setTimeout(()=>N(null),2e3)}catch(A){N({type:"error",text:A.response?.data?.message||"Failed to delete course"})}};return s?a.jsx(Be,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):a.jsx(Be,{children:a.jsxs("div",{className:"space-y-6 max-w-7xl",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Courses"}),a.jsx("p",{className:"text-gray-600",children:"Manage your online courses"})]}),a.jsx("div",{className:"flex gap-3",children:a.jsxs("button",{onClick:()=>t("/admin/courses/new"),className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:[a.jsx(kr,{className:"w-4 h-4"}),"Add New Course"]})})]}),y&&a.jsx("div",{className:`p-4 rounded border ${y.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:a.jsx("p",{className:"font-medium",children:y.text})}),a.jsxs("div",{className:"bg-white border border-gray-200 p-4 rounded",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search courses...",value:o,onChange:B=>{c(B.target.value),p(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),a.jsx("div",{className:"md:w-48",children:a.jsxs("select",{value:u,onChange:B=>{h(B.target.value),p(1)},className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})})]}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",k.length," of ",e.length," courses"]})]}),a.jsx("div",{className:"bg-white border border-gray-200 rounded overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-black text-white",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Thumbnail"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Course Link"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:M.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:e.length===0?'No courses found. Click "Add New Course" to create one.':"No courses match your search criteria."})}):M.map(B=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:B.thumbnail?a.jsx("img",{src:B.thumbnail,alt:B.name,className:"w-16 h-16 object-cover rounded"}):a.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-gray-400 text-2xl font-bold",children:B.name.charAt(0)})})}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-black",children:B.name}),B.description&&a.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",dangerouslySetInnerHTML:{__html:B.description.replace(/<[^>]*>/g,"").substring(0,100)}})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-600",children:B.price?`$${B.price.toFixed(2)}`:"Free"})}),a.jsx("td",{className:"px-6 py-4",children:B.courseLink?a.jsx("a",{href:B.courseLink,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:"View Course"}):a.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${B.status==="active"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:B.status})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-600",children:new Date(B.createdAt).toLocaleDateString()})}),a.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[a.jsx("button",{onClick:()=>t(`/admin/courses/edit/${B._id}`),className:"text-black hover:text-gray-600 transition-colors",title:"Edit Course",children:a.jsx(yn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>H(B._id),className:"text-black hover:text-red-600 transition-colors",title:"Delete Course",children:a.jsx(rs,{className:"w-4 h-4"})})]})})]},B._id))})]})})}),j>1&&a.jsxs("div",{className:"flex items-center justify-between bg-white border border-gray-200 p-4 rounded",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",C+1," to ",Math.min(T,k.length)," of ",k.length," courses"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>P(m-1),disabled:m===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:j},(B,A)=>A+1).map(B=>a.jsx("button",{onClick:()=>P(B),className:`px-4 py-2 border rounded ${m===B?"bg-black text-white border-black":"border-gray-300 hover:bg-gray-50"}`,children:B},B)),a.jsx("button",{onClick:()=>P(m+1),disabled:m===j,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})})}function S1(){const t=Et(),{id:e}=ss(),n=!!e,[s,i]=S.useState(null),[o,c]=S.useState(n),[u,h]=S.useState(!1),[m,p]=S.useState(null),[g,y]=S.useState({name:"",youtubeLink:"",courseLink:"",price:0,status:"active"}),[N,v]=S.useState(null),[k,j]=S.useState(""),[C,T]=S.useState(!1),M=Iw({extensions:[m2.configure({heading:{levels:[1,2,3]}}),p2.configure({inline:!0,allowBase64:!0}),Qw.configure({openOnClick:!1})],content:"",editorProps:{attributes:{class:"focus:outline-none min-h-[300px] p-4"}}});S.useEffect(()=>{document.title=n?"Edit Course - Admin - Patricia Macadam":"New Course - Admin - Patricia Macadam"},[n]),S.useEffect(()=>{n&&P()},[e]),S.useEffect(()=>{M&&s&&M.commands.setContent(s.description||"")},[M,s]);const P=async()=>{try{c(!0);const _=(await ce.get(`/courses/${e}`)).data.course;i(_),y({name:_.name||"",youtubeLink:_.youtubeLink||"",courseLink:_.courseLink||"",price:_.price||0,status:_.status||"active"}),_.thumbnail&&j(_.thumbnail)}catch{p({type:"error",text:"Failed to load course"})}finally{c(!1)}},H=async D=>{T(!0);try{const _=new FormData;_.append("image",D);const I=await ce.post("/upload/image",_,{headers:{"Content-Type":"multipart/form-data"}});return j(I.data.imageUrl),T(!1),I.data.imageUrl}catch(_){throw T(!1),p({type:"error",text:_.response?.data?.message||"Failed to upload thumbnail"}),_}},B=async D=>{const _=D.target.files?.[0];if(!_)return;if(!_.type.startsWith("image/")){p({type:"error",text:"Please select an image file"});return}if(_.size>10*1024*1024){p({type:"error",text:"Image size must be less than 10MB"});return}v(_);const I=new FileReader;I.onloadend=()=>{j(I.result)},I.readAsDataURL(_),await H(_)},A=async D=>{if(D.preventDefault(),!!M){h(!0),p(null);try{let _=k;N&&!_&&(_=await H(N));const I={...g,description:M.getHTML(),thumbnail:_};n?(await ce.put(`/courses/${e}`,I),p({type:"success",text:"Course updated successfully!"})):(await ce.post("/courses",I),p({type:"success",text:"Course created successfully!"})),setTimeout(()=>{t("/admin/courses")},1500)}catch(_){p({type:"error",text:_.response?.data?.message||"Failed to save course"})}finally{h(!1)}}};return o?a.jsx(Be,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):M?a.jsx(Be,{children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsx("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4 mb-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>t("/admin/courses"),className:"text-gray-600 hover:text-black transition-colors",children:a.jsx(bp,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-black",children:n?"Edit Course":"New Course"}),a.jsx("p",{className:"text-gray-600 mt-1",children:n?"Update course information":"Create a new course"})]})]})}),m&&a.jsx("div",{className:`p-4 rounded border mb-6 ${m.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:a.jsx("p",{className:"font-medium",children:m.text})}),a.jsxs("form",{onSubmit:A,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-black mb-2",children:["Course Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"name",value:g.name,onChange:D=>y({...g,name:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Thumbnail Image"}),a.jsxs("div",{className:"flex items-start gap-4",children:[k&&a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:k,alt:"Thumbnail preview",className:"w-32 h-32 object-cover rounded border border-gray-300"}),a.jsx("button",{type:"button",onClick:()=>{j(""),v(null)},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600",children:a.jsx(_t,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("label",{htmlFor:"thumbnail-upload",className:`inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded cursor-pointer hover:bg-gray-50 transition-colors ${C?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx(Sr,{className:"w-4 h-4"}),C?"Uploading...":"Upload Thumbnail"]}),a.jsx("input",{id:"thumbnail-upload",type:"file",accept:"image/*",onChange:B,disabled:C,className:"hidden"}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Recommended size: 800x600px. Max size: 10MB"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"youtubeLink",className:"block text-sm font-semibold text-black mb-2",children:"YouTube Link"}),a.jsx("input",{type:"url",id:"youtubeLink",value:g.youtubeLink,onChange:D=>y({...g,youtubeLink:D.target.value}),placeholder:"https://www.youtube.com/watch?v=...",className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold text-black mb-2",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"border border-gray-300 rounded",children:[a.jsxs("div",{className:"border-b border-gray-300 p-2 flex gap-2 flex-wrap",children:[a.jsx("button",{type:"button",onClick:()=>M.chain().focus().toggleBold().run(),className:`px-3 py-1 rounded text-sm ${M.isActive("bold")?"bg-black text-white":"bg-gray-100 hover:bg-gray-200"}`,children:a.jsx("strong",{children:"B"})}),a.jsx("button",{type:"button",onClick:()=>M.chain().focus().toggleItalic().run(),className:`px-3 py-1 rounded text-sm ${M.isActive("italic")?"bg-black text-white":"bg-gray-100 hover:bg-gray-200"}`,children:a.jsx("em",{children:"I"})}),a.jsx("button",{type:"button",onClick:()=>M.chain().focus().toggleHeading({level:1}).run(),className:`px-3 py-1 rounded text-sm ${M.isActive("heading",{level:1})?"bg-black text-white":"bg-gray-100 hover:bg-gray-200"}`,children:"H1"}),a.jsx("button",{type:"button",onClick:()=>M.chain().focus().toggleHeading({level:2}).run(),className:`px-3 py-1 rounded text-sm ${M.isActive("heading",{level:2})?"bg-black text-white":"bg-gray-100 hover:bg-gray-200"}`,children:"H2"}),a.jsx("button",{type:"button",onClick:()=>M.chain().focus().toggleBulletList().run(),className:`px-3 py-1 rounded text-sm ${M.isActive("bulletList")?"bg-black text-white":"bg-gray-100 hover:bg-gray-200"}`,children:""}),a.jsx("button",{type:"button",onClick:()=>M.chain().focus().toggleOrderedList().run(),className:`px-3 py-1 rounded text-sm ${M.isActive("orderedList")?"bg-black text-white":"bg-gray-100 hover:bg-gray-200"}`,children:"1."})]}),a.jsx(Hw,{editor:M})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"price",className:"block text-sm font-semibold text-black mb-2",children:"Price ($)"}),a.jsx("input",{type:"number",id:"price",value:g.price,onChange:D=>y({...g,price:parseFloat(D.target.value)||0}),min:"0",step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter 0 for free courses"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"courseLink",className:"block text-sm font-semibold text-black mb-2",children:"Course Link"}),a.jsx("input",{type:"url",id:"courseLink",value:g.courseLink,onChange:D=>y({...g,courseLink:D.target.value}),placeholder:"https://...",className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Link to the course page or purchase page"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-semibold text-black mb-2",children:"Status"}),a.jsxs("select",{id:"status",value:g.status,onChange:D=>y({...g,status:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"inactive",children:"Inactive"})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-4 pt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>t("/admin/courses"),className:"px-6 py-2 border border-gray-300 rounded hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:u,className:"flex items-center gap-2 px-6 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(vp,{className:"w-4 h-4"}),u?"Saving...":n?"Update Course":"Create Course"]})]})]})]})}):null}function fL(){const[t,e]=S.useState([]),[n,s]=S.useState(!0),[i,o]=S.useState(""),[c,u]=S.useState("all"),[h,m]=S.useState(1),[p]=S.useState(20),[g,y]=S.useState(1),[N,v]=S.useState(0),[k,j]=S.useState(null),[C,T]=S.useState({total:0,active:0,unsubscribed:0,bounced:0});S.useEffect(()=>{const X=setTimeout(()=>{h===1?M():m(1)},i?500:0);return()=>clearTimeout(X)},[i]),S.useEffect(()=>{M(),P()},[h,c]);const M=async()=>{try{s(!0);const X=await ce.get("/newsletter/subscribers",{params:{page:h,limit:p,search:i,status:c!=="all"?c:void 0}});e(X.data.subscribers||[]),y(X.data.pagination?.totalPages||1),v(X.data.pagination?.totalSubscribers||0)}catch(X){console.error("Error fetching subscribers:",X),j({type:"error",text:"Failed to load subscribers"})}finally{s(!1)}},P=async()=>{try{const X=await ce.get("/newsletter/subscribers/stats");T(X.data)}catch(X){console.error("Error fetching stats:",X)}},H=t,B=(h-1)*p,A=Math.min(B+H.length,N),D=X=>{m(X),window.scrollTo({top:0,behavior:"smooth"})},_=async X=>{if(confirm("Are you sure you want to delete this subscriber?"))try{await ce.delete(`/newsletter/subscribers/${X}`),j({type:"success",text:"Subscriber deleted successfully!"}),await M(),setTimeout(()=>j(null),2e3)}catch(G){j({type:"error",text:G.response?.data?.message||"Failed to delete subscriber"})}},I=async X=>{try{await ce.put(`/newsletter/subscribers/${X}/unsubscribe`),j({type:"success",text:"Subscriber unsubscribed successfully!"}),await M(),setTimeout(()=>j(null),2e3)}catch(G){j({type:"error",text:G.response?.data?.message||"Failed to unsubscribe subscriber"})}},pe=async()=>{try{const G=(await ce.get("/newsletter/subscribers",{params:{page:1,limit:1e4,search:i,status:c!=="all"?c:void 0}})).data.subscribers||[],J=["Email","Status","Subscribed At","Unsubscribed At","Source"],te=G.map(Ee=>[Ee.email,Ee.status,new Date(Ee.subscribedAt).toLocaleDateString(),Ee.unsubscribedAt?new Date(Ee.unsubscribedAt).toLocaleDateString():"",Ee.source||""]),O=[J.join(","),...te.map(Ee=>Ee.map(L=>`"${L}"`).join(","))].join(`
`),K=new Blob([O],{type:"text/csv"}),ae=window.URL.createObjectURL(K),Se=document.createElement("a");Se.href=ae,Se.download=`newsletter-subscribers-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Se),Se.click(),document.body.removeChild(Se),window.URL.revokeObjectURL(ae)}catch(X){console.error("Error exporting CSV:",X),j({type:"error",text:"Failed to export subscribers"})}};return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-black rounded flex items-center justify-center",children:a.jsx(kl,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Subscribers"}),a.jsx("p",{className:"text-2xl font-bold text-black",children:C.total})]})]})}),a.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-black rounded flex items-center justify-center",children:a.jsx(kl,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Active"}),a.jsx("p",{className:"text-2xl font-bold text-black",children:C.active})]})]})}),a.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded flex items-center justify-center",children:a.jsx(kl,{className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Unsubscribed"}),a.jsx("p",{className:"text-2xl font-bold text-black",children:C.unsubscribed})]})]})}),a.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded flex items-center justify-center",children:a.jsx(kl,{className:"w-5 h-5 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Bounced"}),a.jsx("p",{className:"text-2xl font-bold text-black",children:C.bounced})]})]})})]}),k&&a.jsx("div",{className:`p-4 rounded border ${k.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:a.jsx("p",{className:"font-medium",children:k.text})}),a.jsxs("div",{className:"bg-white border border-gray-200 p-4 rounded",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 flex-1",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search by email...",value:i,onChange:X=>{o(X.target.value),m(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),a.jsx("div",{className:"md:w-48",children:a.jsxs("select",{value:c,onChange:X=>{u(X.target.value),m(1)},className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"unsubscribed",children:"Unsubscribed"}),a.jsx("option",{value:"bounced",children:"Bounced"})]})})]}),a.jsxs("button",{onClick:pe,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 text-black rounded hover:bg-gray-50 transition-colors font-semibold",children:[a.jsx(qT,{className:"w-4 h-4"}),"Export CSV"]})]}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",H.length," of ",N," subscribers"]})]}),a.jsx("div",{className:"bg-white border border-gray-200 rounded overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-black text-white",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Subscribed At"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Source"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:H.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:N===0?"No subscribers found yet.":"No subscribers match your search criteria."})}):H.map(X=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm font-medium text-black",children:X.email})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${X.status==="active"?"bg-black text-white":X.status==="unsubscribed"?"bg-gray-200 text-gray-800":"bg-red-100 text-red-800"}`,children:X.status})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-600",children:new Date(X.subscribedAt).toLocaleDateString()})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-600",children:X.source||"N/A"})}),a.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[X.status==="active"&&a.jsx("button",{onClick:()=>I(X._id),className:"text-gray-600 hover:text-gray-800 transition-colors",title:"Unsubscribe",children:"Unsubscribe"}),a.jsx("button",{onClick:()=>_(X._id),className:"text-black hover:text-red-600 transition-colors",title:"Delete Subscriber",children:a.jsx(rs,{className:"w-4 h-4"})})]})})]},X._id))})]})})}),g>1&&a.jsxs("div",{className:"flex items-center justify-between bg-white border border-gray-200 p-4 rounded",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",B+1," to ",A," of ",N," subscribers"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>D(h-1),disabled:h===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:g},(X,G)=>G+1).map(X=>a.jsx("button",{onClick:()=>D(X),className:`px-4 py-2 border rounded ${h===X?"bg-black text-white border-black":"border-gray-300 hover:bg-gray-50"}`,children:X},X)),a.jsx("button",{onClick:()=>D(h+1),disabled:h===g,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}function hL(){const[t,e]=S.useState({subject:"",content:"",previewText:""}),[n,s]=S.useState(!1),[i,o]=S.useState(null),[c,u]=S.useState(!1),h=async m=>{if(m.preventDefault(),!t.subject.trim()||!t.content.trim()){o({type:"error",text:"Please fill in all required fields"});return}s(!0);try{o({type:"success",text:"Newsletter sent successfully!"}),e({subject:"",content:"",previewText:""}),setTimeout(()=>o(null),3e3)}catch(p){o({type:"error",text:p.response?.data?.message||"Failed to send newsletter"})}finally{s(!1)}};return a.jsxs("div",{className:"space-y-6",children:[i&&a.jsx("div",{className:`p-4 rounded border ${i.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:a.jsx("p",{className:"font-medium",children:i.text})}),a.jsxs("div",{className:"bg-white border border-gray-200 rounded p-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-black mb-6",children:"Compose Newsletter"}),a.jsxs("form",{onSubmit:h,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"subject",className:"block text-sm font-semibold text-black mb-2",children:["Subject ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"subject",value:t.subject,onChange:m=>e({...t,subject:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"Enter newsletter subject",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"previewText",className:"block text-sm font-semibold text-black mb-2",children:"Preview Text"}),a.jsx("input",{type:"text",id:"previewText",value:t.previewText,onChange:m=>e({...t,previewText:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"Short preview text shown in email clients",maxLength:150}),a.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[t.previewText.length,"/150"]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"content",className:"block text-sm font-semibold text-black mb-2",children:["Content ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"content",value:t.content,onChange:m=>e({...t,content:m.target.value}),rows:15,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black font-mono text-sm",placeholder:"Enter newsletter content (HTML supported)",required:!0}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"You can use HTML tags for formatting. Basic tags like <p>, <h1>, <h2>, <a>, <img> are supported."})]}),a.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t border-gray-200",children:[a.jsxs("button",{type:"submit",disabled:n,className:"flex items-center gap-2 px-6 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(ZT,{className:"w-4 h-4"}),n?"Sending...":"Send Newsletter"]}),a.jsx("button",{type:"button",onClick:()=>u(!c),className:"px-6 py-2 bg-white border border-gray-300 text-black rounded hover:bg-gray-50 transition-colors font-semibold",children:c?"Hide Preview":"Show Preview"})]})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-bold text-black",children:"Preview"}),a.jsx("button",{onClick:()=>u(!1),className:"text-gray-500 hover:text-black transition-colors",children:a.jsx(_t,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-black mb-2",children:t.subject||"Newsletter Subject"}),t.previewText&&a.jsx("p",{className:"text-sm text-gray-600",children:t.previewText})]}),a.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t.content||"<p>Newsletter content will appear here...</p>"}})]})]})})]})]})}function mL(){const[t,e]=S.useState([]),[n,s]=S.useState(!0),[i,o]=S.useState(""),[c,u]=S.useState(null),[h,m]=S.useState(!1),[p,g]=S.useState(null),[y,N]=S.useState(1),[v]=S.useState(10);S.useEffect(()=>{k()},[]);const k=async()=>{try{s(!0),e([])}catch(I){console.error("Error fetching newsletters:",I),g({type:"error",text:"Failed to load newsletter history"})}finally{s(!1)}},j=I=>{u(I),m(!0)},C=async I=>{if(confirm("Are you sure you want to delete this newsletter record?"))try{g({type:"success",text:"Newsletter deleted successfully!"}),await k(),setTimeout(()=>g(null),2e3)}catch(pe){g({type:"error",text:pe.response?.data?.message||"Failed to delete newsletter"})}},T=t.filter(I=>I.subject.toLowerCase().includes(i.toLowerCase())||I.previewText&&I.previewText.toLowerCase().includes(i.toLowerCase())),M=Math.ceil(T.length/v),P=(y-1)*v,H=P+v,B=T.slice(P,H),A=I=>{N(I),window.scrollTo({top:0,behavior:"smooth"})},D=I=>I.recipients===0?0:(I.opened/I.recipients*100).toFixed(1),_=I=>I.recipients===0?0:(I.clicked/I.recipients*100).toFixed(1);return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})}):a.jsxs("div",{className:"space-y-6",children:[p&&a.jsx("div",{className:`p-4 rounded border ${p.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:a.jsx("p",{className:"font-medium",children:p.text})}),a.jsxs("div",{className:"bg-white border border-gray-200 p-4 rounded",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search newsletters by subject or preview text...",value:i,onChange:I=>{o(I.target.value),N(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",T.length," of ",t.length," newsletters"]})]}),a.jsx("div",{className:"bg-white border border-gray-200 rounded overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-black text-white",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Subject"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Sent At"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Recipients"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Opened"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Clicked"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:B.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:t.length===0?"No newsletters sent yet.":"No newsletters match your search criteria."})}):B.map(I=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm font-medium text-black",children:I.subject}),I.previewText&&a.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:I.previewText})]}),a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"text-sm text-gray-600",children:new Date(I.sentAt).toLocaleDateString()}),a.jsx("div",{className:"text-xs text-gray-500",children:new Date(I.sentAt).toLocaleTimeString()})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-600",children:I.recipients})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm text-gray-600",children:[I.opened," (",D(I),"%)"]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"text-sm text-gray-600",children:[I.clicked," (",_(I),"%)"]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${I.status==="sent"?"bg-black text-white":I.status==="scheduled"?"bg-blue-100 text-blue-800":I.status==="draft"?"bg-gray-200 text-gray-800":"bg-red-100 text-red-800"}`,children:I.status})}),a.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[a.jsx("button",{onClick:()=>j(I),className:"text-black hover:text-gray-600 transition-colors",title:"View Details",children:a.jsx(WT,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>C(I._id),className:"text-black hover:text-red-600 transition-colors",title:"Delete Newsletter",children:a.jsx(rs,{className:"w-4 h-4"})})]})})]},I._id))})]})})}),M>1&&a.jsxs("div",{className:"flex items-center justify-between bg-white border border-gray-200 p-4 rounded",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",P+1," to ",Math.min(H,T.length)," of ",T.length," newsletters"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>A(y-1),disabled:y===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:M},(I,pe)=>pe+1).map(I=>a.jsx("button",{onClick:()=>A(I),className:`px-4 py-2 border rounded ${y===I?"bg-black text-white border-black":"border-gray-300 hover:bg-gray-50"}`,children:I},I)),a.jsx("button",{onClick:()=>A(y+1),disabled:y===M,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),h&&c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-bold text-black",children:"Newsletter Details"}),a.jsx("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-black transition-colors",children:a.jsx(_t,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[a.jsx("h2",{className:"text-2xl font-bold text-black mb-2",children:c.subject}),c.previewText&&a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:c.previewText}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[a.jsxs("span",{children:["Sent: ",new Date(c.sentAt).toLocaleString()]}),a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${c.status==="sent"?"bg-black text-white":c.status==="scheduled"?"bg-blue-100 text-blue-800":c.status==="draft"?"bg-gray-200 text-gray-800":"bg-red-100 text-red-800"}`,children:c.status})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Recipients"}),a.jsx("p",{className:"text-2xl font-bold text-black",children:c.recipients})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Opened"}),a.jsxs("p",{className:"text-2xl font-bold text-black",children:[c.opened," (",D(c),"%)"]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Clicked"}),a.jsxs("p",{className:"text-2xl font-bold text-black",children:[c.clicked," (",_(c),"%)"]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-black mb-3",children:"Content Preview"}),a.jsx("div",{className:"border border-gray-200 rounded p-4 bg-gray-50",children:a.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:c.content}})})]})]})]})})]})}function pL(){const[t,e]=S.useState("subscribers");return a.jsx(Be,{children:a.jsxs("div",{className:"space-y-6 max-w-7xl",children:[a.jsx("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Newsletter"}),a.jsx("p",{className:"text-gray-600",children:"Manage your newsletter subscribers and campaigns"})]})}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>e("subscribers"),className:`px-4 py-2 font-semibold border-b-2 transition-colors ${t==="subscribers"?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Subscribers"}),a.jsx("button",{onClick:()=>e("send"),className:`px-4 py-2 font-semibold border-b-2 transition-colors ${t==="send"?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Send Newsletter"}),a.jsx("button",{onClick:()=>e("history"),className:`px-4 py-2 font-semibold border-b-2 transition-colors ${t==="history"?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"History"})]})}),t==="subscribers"&&a.jsx(fL,{}),t==="send"&&a.jsx(hL,{}),t==="history"&&a.jsx(mL,{})]})})}function xL(){const[t,e]=S.useState([]),[n,s]=S.useState(!0),[i,o]=S.useState(null),[c,u]=S.useState(!1),[h,m]=S.useState(null),[p,g]=S.useState(!1),[y,N]=S.useState(""),[v,k]=S.useState({name:"",quote:"",role:"",image:"",featured:!1,status:"active"});S.useEffect(()=>{document.title="Testimonials - Admin - Macadam Co.",j()},[]);const j=async()=>{try{s(!0);const A=await ce.get("/testimonials");e(A.data.testimonials||[])}catch(A){console.error("Error fetching testimonials:",A),o({type:"error",text:"Failed to load testimonials"})}finally{s(!1)}},C=A=>{A?(m(A),k({name:A.name,quote:A.quote,role:A.role||"",image:A.image||"",featured:A.featured,status:A.status}),N(A.image||"")):(m(null),k({name:"",quote:"",role:"",image:"",featured:!1,status:"active"}),N("")),u(!0)},T=()=>{u(!1),m(null),N(""),k({name:"",quote:"",role:"",image:"",featured:!1,status:"active"})},M=async A=>{g(!0);try{const D=new FormData;D.append("image",A);const _=await ce.post("/upload/image",D,{headers:{"Content-Type":"multipart/form-data"}});return k(I=>({...I,image:_.data.imageUrl})),N(_.data.imageUrl),g(!1),_.data.imageUrl}catch(D){throw g(!1),o({type:"error",text:D.response?.data?.message||"Failed to upload image"}),D}},P=async A=>{const D=A.target.files?.[0];if(!D)return;if(!D.type.startsWith("image/")){o({type:"error",text:"Please select an image file"});return}if(D.size>10*1024*1024){o({type:"error",text:"Image size must be less than 10MB"});return}const _=new FileReader;_.onloadend=()=>{N(_.result)},_.readAsDataURL(D),await M(D)},H=async A=>{A.preventDefault();try{h?(await ce.put(`/testimonials/${h._id}`,v),o({type:"success",text:"Testimonial updated successfully!"})):(await ce.post("/testimonials",v),o({type:"success",text:"Testimonial created successfully!"})),T(),await j(),setTimeout(()=>o(null),3e3)}catch(D){o({type:"error",text:D.response?.data?.message||"Failed to save testimonial"})}},B=async A=>{if(confirm("Are you sure you want to delete this testimonial?"))try{await ce.delete(`/testimonials/${A}`),o({type:"success",text:"Testimonial deleted successfully!"}),await j(),setTimeout(()=>o(null),2e3)}catch(D){o({type:"error",text:D.response?.data?.message||"Failed to delete testimonial"})}};return n?a.jsx(Be,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):a.jsx(Be,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Testimonials"}),a.jsx("p",{className:"text-gray-600",children:"Manage testimonials and social proof"})]}),a.jsxs("button",{onClick:()=>C(),className:"flex items-center gap-2 px-6 py-3 bg-black text-white rounded hover:bg-gray-800 transition-colors font-semibold",children:[a.jsx(kr,{className:"w-5 h-5"}),"Add New Testimonial"]})]}),i&&a.jsx("div",{className:`p-4 rounded border ${i.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:a.jsx("p",{className:"text-sm font-medium",children:i.text})}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.length===0?a.jsx("div",{className:"col-span-full text-center py-12 bg-white border border-gray-200 rounded",children:a.jsx("p",{className:"text-gray-500",children:'No testimonials found. Click "Add New Testimonial" to create one.'})}):t.map(A=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[A.image?a.jsx("img",{src:A.image,alt:A.name,className:"w-12 h-12 rounded-full object-cover"}):a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center text-lg font-bold text-gray-600",children:A.name.charAt(0)}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-black",children:A.name}),A.role&&a.jsx("p",{className:"text-sm text-gray-600",children:A.role})]})]}),A.featured&&a.jsx(n3,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"})]}),a.jsxs("p",{className:"text-gray-700 mb-4 italic line-clamp-3",children:['"',A.quote,'"']}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[a.jsx("span",{className:`px-3 py-1 rounded text-xs font-semibold ${A.status==="active"?"bg-black text-white":"bg-gray-200 text-gray-700"}`,children:A.status}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>C(A),className:"p-2 text-gray-600 hover:text-black transition-colors",title:"Edit",children:a.jsx(yn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>B(A._id),className:"p-2 text-gray-600 hover:text-red-600 transition-colors",title:"Delete",children:a.jsx(rs,{className:"w-4 h-4"})})]})]})]},A._id))}),c&&a.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-2xl font-bold text-black",children:h?"Edit Testimonial":"Add New Testimonial"})}),a.jsxs("form",{onSubmit:H,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Name *"}),a.jsx("input",{type:"text",value:v.name,onChange:A=>k({...v,name:A.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Quote *"}),a.jsx("textarea",{value:v.quote,onChange:A=>k({...v,quote:A.target.value}),required:!0,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Role/Title (Optional)"}),a.jsx("input",{type:"text",value:v.role,onChange:A=>k({...v,role:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Profile Image"}),a.jsxs("div",{className:"space-y-3",children:[y&&a.jsx("div",{className:"relative w-24 h-24 rounded-full overflow-hidden border-2 border-gray-300",children:a.jsx("img",{src:y,alt:"Preview",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-black rounded cursor-pointer hover:bg-gray-200 transition-colors border border-gray-300",children:[a.jsx(Sr,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:p?"Uploading...":"Upload Image"}),a.jsx("input",{type:"file",accept:"image/*",onChange:P,disabled:p,className:"hidden"})]}),p&&a.jsx("div",{className:"w-5 h-5 border-2 border-black border-t-transparent rounded-full animate-spin"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Recommended: Square image, at least 200x200px"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:v.featured,onChange:A=>k({...v,featured:A.target.checked}),className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-semibold text-black",children:"Featured"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:v.status==="active",onChange:A=>k({...v,status:A.target.checked?"active":"inactive"}),className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-semibold text-black",children:"Active"})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:T,className:"px-6 py-2 border border-gray-300 text-black rounded hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:p,className:"px-6 py-2 bg-black text-white rounded hover:bg-gray-800 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Update":"Create"})]})]})]})})]})})}function gL(){const[t,e]=S.useState([]),[n,s]=S.useState(!0),[i,o]=S.useState(null),[c,u]=S.useState(!1),[h,m]=S.useState(null),[p,g]=S.useState(!1),[y,N]=S.useState(""),[v,k]=S.useState({title:"",description:"",type:"one-day",date:"",endDate:"",location:"",price:0,currency:"USD",maxAttendees:0,image:"",status:"upcoming",registrationLink:""});S.useEffect(()=>{document.title="Workshops - Admin - Macadam Co.",j()},[]);const j=async()=>{try{s(!0);const D=await ce.get("/workshops");e(D.data.workshops||[])}catch(D){console.error("Error fetching workshops:",D),o({type:"error",text:"Failed to load workshops"})}finally{s(!1)}},C=D=>{D?(m(D),k({title:D.title,description:D.description,type:D.type,date:D.date?new Date(D.date).toISOString().split("T")[0]:"",endDate:D.endDate?new Date(D.endDate).toISOString().split("T")[0]:"",location:D.location,price:D.price,currency:D.currency,maxAttendees:D.maxAttendees||0,image:D.image||"",status:D.status,registrationLink:D.registrationLink||""}),N(D.image||"")):(m(null),k({title:"",description:"",type:"one-day",date:"",endDate:"",location:"",price:0,currency:"USD",maxAttendees:0,image:"",status:"upcoming",registrationLink:""}),N("")),u(!0)},T=()=>{u(!1),m(null),N(""),k({title:"",description:"",type:"one-day",date:"",endDate:"",location:"",price:0,currency:"USD",maxAttendees:0,image:"",status:"upcoming",registrationLink:""})},M=async D=>{g(!0);try{const _=new FormData;_.append("image",D);const I=await ce.post("/upload/image",_,{headers:{"Content-Type":"multipart/form-data"}});return k(pe=>({...pe,image:I.data.imageUrl})),N(I.data.imageUrl),g(!1),I.data.imageUrl}catch(_){throw g(!1),o({type:"error",text:_.response?.data?.message||"Failed to upload image"}),_}},P=async D=>{const _=D.target.files?.[0];if(!_)return;if(!_.type.startsWith("image/")){o({type:"error",text:"Please select an image file"});return}if(_.size>10*1024*1024){o({type:"error",text:"Image size must be less than 10MB"});return}const I=new FileReader;I.onloadend=()=>{N(I.result)},I.readAsDataURL(_),await M(_)},H=async D=>{D.preventDefault();try{h?(await ce.put(`/workshops/${h._id}`,v),o({type:"success",text:"Workshop updated successfully!"})):(await ce.post("/workshops",v),o({type:"success",text:"Workshop created successfully!"})),T(),await j(),setTimeout(()=>o(null),3e3)}catch(_){o({type:"error",text:_.response?.data?.message||"Failed to save workshop"})}},B=async D=>{if(confirm("Are you sure you want to delete this workshop?"))try{await ce.delete(`/workshops/${D}`),o({type:"success",text:"Workshop deleted successfully!"}),await j(),setTimeout(()=>o(null),2e3)}catch(_){o({type:"error",text:_.response?.data?.message||"Failed to delete workshop"})}},A=D=>new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return n?a.jsx(Be,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):a.jsx(Be,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Workshops & Events"}),a.jsx("p",{className:"text-gray-600",children:"Manage upcoming workshops and events"})]}),a.jsxs("button",{onClick:()=>C(),className:"flex items-center gap-2 px-6 py-3 bg-black text-white rounded hover:bg-gray-800 transition-colors font-semibold",children:[a.jsx(kr,{className:"w-5 h-5"}),"Add New Workshop"]})]}),i&&a.jsx("div",{className:`p-4 rounded border ${i.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:a.jsx("p",{className:"text-sm font-medium",children:i.text})}),a.jsx("div",{className:"space-y-4",children:t.length===0?a.jsx("div",{className:"text-center py-12 bg-white border border-gray-200 rounded",children:a.jsx("p",{className:"text-gray-500",children:'No workshops found. Click "Add New Workshop" to create one.'})}):t.map(D=>a.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"md:flex",children:[D.image&&a.jsx("div",{className:"md:w-64 h-48 md:h-auto",children:a.jsx("img",{src:D.image,alt:D.title,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex-1 p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-black mb-2",children:D.title}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-3",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(nu,{className:"w-4 h-4"}),A(D.date),D.endDate&&` - ${A(D.endDate)}`]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(yp,{className:"w-4 h-4"}),D.location]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(VT,{className:"w-4 h-4"}),D.price," ",D.currency]})]})]}),a.jsx("span",{className:`px-3 py-1 rounded text-xs font-semibold ${D.status==="upcoming"?"bg-green-100 text-green-800":D.status==="completed"?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"}`,children:D.status})]}),a.jsx("p",{className:"text-gray-700 mb-4 line-clamp-2",children:D.description}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("span",{className:"px-3 py-1 bg-gray-100 rounded text-xs font-semibold",children:D.type.replace("-"," ").toUpperCase()}),(D.maxAttendees??0)>0&&a.jsxs("span",{className:"text-xs",children:["Max: ",D.maxAttendees," attendees"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[D.registrationLink&&a.jsx("a",{href:D.registrationLink,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 text-sm bg-black text-white rounded hover:bg-gray-800 transition-colors",children:"Register"}),a.jsx("button",{onClick:()=>C(D),className:"p-2 text-gray-600 hover:text-black transition-colors",title:"Edit",children:a.jsx(yn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>B(D._id),className:"p-2 text-gray-600 hover:text-red-600 transition-colors",title:"Delete",children:a.jsx(rs,{className:"w-4 h-4"})})]})]})]})]})},D._id))}),c&&a.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-2xl font-bold text-black",children:h?"Edit Workshop":"Add New Workshop"})}),a.jsxs("form",{onSubmit:H,className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Title *"}),a.jsx("input",{type:"text",value:v.title,onChange:D=>k({...v,title:D.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Description *"}),a.jsx("textarea",{value:v.description,onChange:D=>k({...v,description:D.target.value}),required:!0,rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Workshop Type *"}),a.jsxs("select",{value:v.type,onChange:D=>k({...v,type:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black",children:[a.jsx("option",{value:"one-day",children:"1-Day Somatic Immersion"}),a.jsx("option",{value:"two-day",children:"2-Day Premium Intensive"}),a.jsx("option",{value:"retreat",children:"Retreat Experience"}),a.jsx("option",{value:"other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Status *"}),a.jsxs("select",{value:v.status,onChange:D=>k({...v,status:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black",children:[a.jsx("option",{value:"upcoming",children:"Upcoming"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Start Date *"}),a.jsx("input",{type:"date",value:v.date,onChange:D=>k({...v,date:D.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"End Date (Optional)"}),a.jsx("input",{type:"date",value:v.endDate,onChange:D=>k({...v,endDate:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Location *"}),a.jsx("input",{type:"text",value:v.location,onChange:D=>k({...v,location:D.target.value}),required:!0,placeholder:"e.g., Virtual, New York, NY, or Sedona, AZ",className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Price *"}),a.jsx("input",{type:"number",value:v.price,onChange:D=>k({...v,price:parseFloat(D.target.value)}),required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Currency *"}),a.jsxs("select",{value:v.currency,onChange:D=>k({...v,currency:D.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black",children:[a.jsx("option",{value:"USD",children:"USD"}),a.jsx("option",{value:"EUR",children:"EUR"}),a.jsx("option",{value:"GBP",children:"GBP"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Max Attendees (Optional)"}),a.jsx("input",{type:"number",value:v.maxAttendees,onChange:D=>k({...v,maxAttendees:parseInt(D.target.value)}),min:"0",className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Registration Link (Optional)"}),a.jsx("input",{type:"url",value:v.registrationLink,onChange:D=>k({...v,registrationLink:D.target.value}),placeholder:"https://...",className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Workshop Image"}),a.jsxs("div",{className:"space-y-3",children:[y&&a.jsx("div",{className:"relative w-full h-48 rounded-lg overflow-hidden border-2 border-gray-300",children:a.jsx("img",{src:y,alt:"Preview",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-black rounded cursor-pointer hover:bg-gray-200 transition-colors border border-gray-300",children:[a.jsx(Sr,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:p?"Uploading...":"Upload Image"}),a.jsx("input",{type:"file",accept:"image/*",onChange:P,disabled:p,className:"hidden"})]}),p&&a.jsx("div",{className:"w-5 h-5 border-2 border-black border-t-transparent rounded-full animate-spin"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Recommended: 1200x600px landscape image"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:T,className:"px-6 py-2 border border-gray-300 text-black rounded hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:p,className:"px-6 py-2 bg-black text-white rounded hover:bg-gray-800 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Update":"Create"})]})]})]})})]})})}function x2(){return S.useEffect(()=>{document.title="404 - Page Not Found - Patricia Macadam"},[]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-gray-100 to-gray-200",children:a.jsxs("div",{className:"text-center px-4",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("h1",{className:"text-9xl font-bold text-gray-900 mb-2 animate-pulse",children:["4",a.jsx("span",{className:"text-blue-600",children:"0"}),"4"]})}),a.jsx("div",{className:"mb-6 flex justify-center",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-full flex items-center justify-center animate-bounce",children:a.jsx("svg",{className:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full animate-ping"}),a.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full"})]})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Oops! Page Not Found"}),a.jsx("p",{className:"text-lg text-gray-600 max-w-md mx-auto",children:"The page you're looking for seems to have wandered off into the digital void. Don't worry, even the best explorers get lost sometimes!"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[a.jsxs("a",{href:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-all transform hover:scale-105 shadow-lg",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Go Home"]}),a.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center gap-2 px-6 py-3 bg-white text-gray-900 border-2 border-gray-300 rounded-lg hover:bg-gray-50 transition-all transform hover:scale-105 shadow-lg",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Go Back"]})]}),a.jsx("div",{className:"mt-12 flex justify-center gap-2",children:[...Array(5)].map((t,e)=>a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:`${e*.1}s`}},e))})]})})}function yt({children:t}){const{admin:e,loading:n}=ji();return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):e?a.jsx(a.Fragment,{children:t}):a.jsx(x2,{})}function bL(){const t=zs(),e=t.pathname==="/podcast"||t.pathname.startsWith("/podcasts/"),n=t.pathname==="/articles"||t.pathname.startsWith("/articles/"),s=t.pathname==="/topics"||t.pathname.startsWith("/topics/"),i=t.pathname==="/courses"||t.pathname.startsWith("/courses/"),o=t.pathname.startsWith("/admin");return a.jsxs(a.Fragment,{children:[!e&&!n&&!s&&!i&&!o&&a.jsx(ct,{}),a.jsxs(NE,{children:[a.jsx(Ce,{path:"/",element:a.jsx(lT,{})}),a.jsx(Ce,{path:"/podcast",element:a.jsx(jT,{})}),a.jsx(Ce,{path:"/podcasts/:slug",element:a.jsx(kT,{})}),a.jsx(Ce,{path:"/articles",element:a.jsx(AT,{})}),a.jsx(Ce,{path:"/articles/:slug",element:a.jsx(OT,{})}),a.jsx(Ce,{path:"/topics",element:a.jsx(DT,{})}),a.jsx(Ce,{path:"/topics/:slug",element:a.jsx(LT,{})}),a.jsx(Ce,{path:"/about",element:a.jsx(zT,{})}),a.jsx(Ce,{path:"/courses",element:a.jsx(_T,{})}),a.jsx(Ce,{path:"/courses/:slug",element:a.jsx(UT,{})}),a.jsx(Ce,{path:"/start-here",element:a.jsx(HT,{})}),a.jsx(Ce,{path:"/the-work",element:a.jsx(PT,{})}),a.jsx(Ce,{path:"/books-resources",element:a.jsx(IT,{})}),a.jsx(Ce,{path:"/workshops",element:a.jsx(r3,{})}),a.jsx(Ce,{path:"/workshops/:id",element:a.jsx(i3,{})}),a.jsx(Ce,{path:"/certification",element:a.jsx(l3,{})}),a.jsx(Ce,{path:"/admin/patricia/696bb59405f9abf663d95e8b",element:a.jsx(d3,{})}),a.jsx(Ce,{path:"/admin",element:a.jsx(yt,{children:a.jsx(f3,{})})}),a.jsx(Ce,{path:"/admin/settings",element:a.jsx(yt,{children:a.jsx(h3,{})})}),a.jsx(Ce,{path:"/admin/articles",element:a.jsx(yt,{children:a.jsx(m3,{})})}),a.jsx(Ce,{path:"/admin/articles/new",element:a.jsx(yt,{children:a.jsx(w1,{})})}),a.jsx(Ce,{path:"/admin/articles/edit/:id",element:a.jsx(yt,{children:a.jsx(w1,{})})}),a.jsx(Ce,{path:"/admin/topics",element:a.jsx(yt,{children:a.jsx(aL,{})})}),a.jsx(Ce,{path:"/admin/topics/:id",element:a.jsx(yt,{children:a.jsx(iL,{})})}),a.jsx(Ce,{path:"/admin/podcasts",element:a.jsx(yt,{children:a.jsx(lL,{})})}),a.jsx(Ce,{path:"/admin/podcasts/:id",element:a.jsx(yt,{children:a.jsx(oL,{})})}),a.jsx(Ce,{path:"/admin/podcasts/new",element:a.jsx(yt,{children:a.jsx(k1,{})})}),a.jsx(Ce,{path:"/admin/podcasts/edit/:id",element:a.jsx(yt,{children:a.jsx(k1,{})})}),a.jsx(Ce,{path:"/admin/products",element:a.jsx(yt,{children:a.jsx(dL,{})})}),a.jsx(Ce,{path:"/admin/courses",element:a.jsx(yt,{children:a.jsx(uL,{})})}),a.jsx(Ce,{path:"/admin/courses/new",element:a.jsx(yt,{children:a.jsx(S1,{})})}),a.jsx(Ce,{path:"/admin/courses/edit/:id",element:a.jsx(yt,{children:a.jsx(S1,{})})}),a.jsx(Ce,{path:"/admin/newsletter",element:a.jsx(yt,{children:a.jsx(pL,{})})}),a.jsx(Ce,{path:"/admin/testimonials",element:a.jsx(yt,{children:a.jsx(xL,{})})}),a.jsx(Ce,{path:"/admin/workshops",element:a.jsx(yt,{children:a.jsx(gL,{})})}),a.jsx(Ce,{path:"/admin/profile",element:a.jsx(yt,{children:a.jsx(cL,{})})}),a.jsx(Ce,{path:"/admin/*",element:a.jsx(x2,{})}),a.jsx(Ce,{path:"*",element:a.jsx(o3,{})})]}),!o&&a.jsxs(a.Fragment,{children:[a.jsx(vN,{}),a.jsx(dT,{})]})]})}function yL(){return a.jsx(qE,{children:a.jsx(c3,{children:a.jsx(bL,{})})})}GS.createRoot(document.getElementById("root")).render(a.jsx(S.StrictMode,{children:a.jsx(yL,{})}));
