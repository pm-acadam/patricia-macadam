(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function j1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _h={exports:{}},xl={};var iy;function zk(){if(iy)return xl;iy=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var d in i)d!=="key"&&(l[d]=i[d])}else l=i;return i=l.ref,{$$typeof:t,type:s,key:c,ref:i!==void 0?i:null,props:l}}return xl.Fragment=e,xl.jsx=n,xl.jsxs=n,xl}var ay;function _k(){return ay||(ay=1,_h.exports=zk()),_h.exports}var o=_k(),Bh={exports:{}},be={};var ly;function Bk(){if(ly)return be;ly=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),y=Symbol.iterator;function w(L){return L===null||typeof L!="object"?null:(L=y&&L[y]||L["@@iterator"],typeof L=="function"?L:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function E(L,Z,re){this.props=L,this.context=Z,this.refs=j,this.updater=re||v}E.prototype.isReactComponent={},E.prototype.setState=function(L,Z){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Z,"setState")},E.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function T(){}T.prototype=E.prototype;function A(L,Z,re){this.props=L,this.context=Z,this.refs=j,this.updater=re||v}var H=A.prototype=new T;H.constructor=A,S(H,E.prototype),H.isPureReactComponent=!0;var B=Array.isArray;function z(){}var O={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function U(L,Z,re){var le=re.ref;return{$$typeof:t,type:L,key:Z,ref:le!==void 0?le:null,props:re}}function $(L,Z){return U(L.type,Z,L.props)}function me(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function X(L){var Z={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(re){return Z[re]})}var G=/\/+/g;function J(L,Z){return typeof L=="object"&&L!==null&&L.key!=null?X(""+L.key):Z.toString(36)}function te(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(z,z):(L.status="pending",L.then(function(Z){L.status==="pending"&&(L.status="fulfilled",L.value=Z)},function(Z){L.status==="pending"&&(L.status="rejected",L.reason=Z)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function M(L,Z,re,le,xe){var Ee=typeof L;(Ee==="undefined"||Ee==="boolean")&&(L=null);var _e=!1;if(L===null)_e=!0;else switch(Ee){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(L.$$typeof){case t:case e:_e=!0;break;case m:return _e=L._init,M(_e(L._payload),Z,re,le,xe)}}if(_e)return xe=xe(L),_e=le===""?"."+J(L,0):le,B(xe)?(re="",_e!=null&&(re=_e.replace(G,"$&/")+"/"),M(xe,Z,re,"",function(Sa){return Sa})):xe!=null&&(me(xe)&&(xe=$(xe,re+(xe.key==null||L&&L.key===xe.key?"":(""+xe.key).replace(G,"$&/")+"/")+_e)),Z.push(xe)),1;_e=0;var It=le===""?".":le+":";if(B(L))for(var it=0;it<L.length;it++)le=L[it],Ee=It+J(le,it),_e+=M(le,Z,re,Ee,xe);else if(it=w(L),typeof it=="function")for(L=it.call(L),it=0;!(le=L.next()).done;)le=le.value,Ee=It+J(le,it++),_e+=M(le,Z,re,Ee,xe);else if(Ee==="object"){if(typeof L.then=="function")return M(te(L),Z,re,le,xe);throw Z=String(L),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return _e}function K(L,Z,re){if(L==null)return L;var le=[],xe=0;return M(L,le,"","",function(Ee){return Z.call(re,Ee,xe++)}),le}function ie(L){if(L._status===-1){var Z=L._result;Z=Z(),Z.then(function(re){(L._status===0||L._status===-1)&&(L._status=1,L._result=re)},function(re){(L._status===0||L._status===-1)&&(L._status=2,L._result=re)}),L._status===-1&&(L._status=0,L._result=Z)}if(L._status===1)return L._result.default;throw L._result}var ke=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ce={map:K,forEach:function(L,Z,re){K(L,function(){Z.apply(this,arguments)},re)},count:function(L){var Z=0;return K(L,function(){Z++}),Z},toArray:function(L){return K(L,function(Z){return Z})||[]},only:function(L){if(!me(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return be.Activity=x,be.Children=Ce,be.Component=E,be.Fragment=n,be.Profiler=i,be.PureComponent=A,be.StrictMode=s,be.Suspense=h,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,be.__COMPILER_RUNTIME={__proto__:null,c:function(L){return O.H.useMemoCache(L)}},be.cache=function(L){return function(){return L.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(L,Z,re){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var le=S({},L.props),xe=L.key;if(Z!=null)for(Ee in Z.key!==void 0&&(xe=""+Z.key),Z)!Y.call(Z,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&Z.ref===void 0||(le[Ee]=Z[Ee]);var Ee=arguments.length-2;if(Ee===1)le.children=re;else if(1<Ee){for(var _e=Array(Ee),It=0;It<Ee;It++)_e[It]=arguments[It+2];le.children=_e}return U(L.type,xe,le)},be.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},be.createElement=function(L,Z,re){var le,xe={},Ee=null;if(Z!=null)for(le in Z.key!==void 0&&(Ee=""+Z.key),Z)Y.call(Z,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(xe[le]=Z[le]);var _e=arguments.length-2;if(_e===1)xe.children=re;else if(1<_e){for(var It=Array(_e),it=0;it<_e;it++)It[it]=arguments[it+2];xe.children=It}if(L&&L.defaultProps)for(le in _e=L.defaultProps,_e)xe[le]===void 0&&(xe[le]=_e[le]);return U(L,Ee,xe)},be.createRef=function(){return{current:null}},be.forwardRef=function(L){return{$$typeof:d,render:L}},be.isValidElement=me,be.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:ie}},be.memo=function(L,Z){return{$$typeof:p,type:L,compare:Z===void 0?null:Z}},be.startTransition=function(L){var Z=O.T,re={};O.T=re;try{var le=L(),xe=O.S;xe!==null&&xe(re,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(z,ke)}catch(Ee){ke(Ee)}finally{Z!==null&&re.types!==null&&(Z.types=re.types),O.T=Z}},be.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},be.use=function(L){return O.H.use(L)},be.useActionState=function(L,Z,re){return O.H.useActionState(L,Z,re)},be.useCallback=function(L,Z){return O.H.useCallback(L,Z)},be.useContext=function(L){return O.H.useContext(L)},be.useDebugValue=function(){},be.useDeferredValue=function(L,Z){return O.H.useDeferredValue(L,Z)},be.useEffect=function(L,Z){return O.H.useEffect(L,Z)},be.useEffectEvent=function(L){return O.H.useEffectEvent(L)},be.useId=function(){return O.H.useId()},be.useImperativeHandle=function(L,Z,re){return O.H.useImperativeHandle(L,Z,re)},be.useInsertionEffect=function(L,Z){return O.H.useInsertionEffect(L,Z)},be.useLayoutEffect=function(L,Z){return O.H.useLayoutEffect(L,Z)},be.useMemo=function(L,Z){return O.H.useMemo(L,Z)},be.useOptimistic=function(L,Z){return O.H.useOptimistic(L,Z)},be.useReducer=function(L,Z,re){return O.H.useReducer(L,Z,re)},be.useRef=function(L){return O.H.useRef(L)},be.useState=function(L){return O.H.useState(L)},be.useSyncExternalStore=function(L,Z,re){return O.H.useSyncExternalStore(L,Z,re)},be.useTransition=function(){return O.H.useTransition()},be.version="19.2.3",be}var oy;function Xl(){return oy||(oy=1,Bh.exports=Bk()),Bh.exports}var k=Xl();const nn=j1(k);var Uh={exports:{}},bl={},Hh={exports:{}},Ph={};var cy;function Uk(){return cy||(cy=1,(function(t){function e(M,K){var ie=M.length;M.push(K);e:for(;0<ie;){var ke=ie-1>>>1,Ce=M[ke];if(0<i(Ce,K))M[ke]=K,M[ie]=Ce,ie=ke;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var K=M[0],ie=M.pop();if(ie!==K){M[0]=ie;e:for(var ke=0,Ce=M.length,L=Ce>>>1;ke<L;){var Z=2*(ke+1)-1,re=M[Z],le=Z+1,xe=M[le];if(0>i(re,ie))le<Ce&&0>i(xe,re)?(M[ke]=xe,M[le]=ie,ke=le):(M[ke]=re,M[Z]=ie,ke=Z);else if(le<Ce&&0>i(xe,ie))M[ke]=xe,M[le]=ie,ke=le;else break e}}return K}function i(M,K){var ie=M.sortIndex-K.sortIndex;return ie!==0?ie:M.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],p=[],m=1,x=null,y=3,w=!1,v=!1,S=!1,j=!1,E=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function H(M){for(var K=n(p);K!==null;){if(K.callback===null)s(p);else if(K.startTime<=M)s(p),K.sortIndex=K.expirationTime,e(h,K);else break;K=n(p)}}function B(M){if(S=!1,H(M),!v)if(n(h)!==null)v=!0,z||(z=!0,X());else{var K=n(p);K!==null&&te(B,K.startTime-M)}}var z=!1,O=-1,Y=5,U=-1;function $(){return j?!0:!(t.unstable_now()-U<Y)}function me(){if(j=!1,z){var M=t.unstable_now();U=M;var K=!0;try{e:{v=!1,S&&(S=!1,T(O),O=-1),w=!0;var ie=y;try{t:{for(H(M),x=n(h);x!==null&&!(x.expirationTime>M&&$());){var ke=x.callback;if(typeof ke=="function"){x.callback=null,y=x.priorityLevel;var Ce=ke(x.expirationTime<=M);if(M=t.unstable_now(),typeof Ce=="function"){x.callback=Ce,H(M),K=!0;break t}x===n(h)&&s(h),H(M)}else s(h);x=n(h)}if(x!==null)K=!0;else{var L=n(p);L!==null&&te(B,L.startTime-M),K=!1}}break e}finally{x=null,y=ie,w=!1}K=void 0}}finally{K?X():z=!1}}}var X;if(typeof A=="function")X=function(){A(me)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,J=G.port2;G.port1.onmessage=me,X=function(){J.postMessage(null)}}else X=function(){E(me,0)};function te(M,K){O=E(function(){M(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(M){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var ie=y;y=K;try{return M()}finally{y=ie}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(M,K){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ie=y;y=M;try{return K()}finally{y=ie}},t.unstable_scheduleCallback=function(M,K,ie){var ke=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ke+ie:ke):ie=ke,M){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ie+Ce,M={id:m++,callback:K,priorityLevel:M,startTime:ie,expirationTime:Ce,sortIndex:-1},ie>ke?(M.sortIndex=ie,e(p,M),n(h)===null&&M===n(p)&&(S?(T(O),O=-1):S=!0,te(B,ie-ke))):(M.sortIndex=Ce,e(h,M),v||w||(v=!0,z||(z=!0,X()))),M},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(M){var K=y;return function(){var ie=y;y=K;try{return M.apply(this,arguments)}finally{y=ie}}}})(Ph)),Ph}var uy;function Hk(){return uy||(uy=1,Hh.exports=Uk()),Hh.exports}var Ih={exports:{}},zt={};var dy;function Pk(){if(dy)return zt;dy=1;var t=Xl();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(h,p,m){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:h,containerInfo:p,implementation:m}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,zt.createPortal=function(h,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(h,p,null,m)},zt.flushSync=function(h){var p=c.T,m=s.p;try{if(c.T=null,s.p=2,h)return h()}finally{c.T=p,s.p=m,s.d.f()}},zt.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(h,p))},zt.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},zt.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var m=p.as,x=d(m,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?s.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:w}):m==="script"&&s.d.X(h,{crossOrigin:x,integrity:y,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},zt.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=d(p.as,p.crossOrigin);s.d.M(h,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(h)},zt.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,x=d(m,p.crossOrigin);s.d.L(h,m,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},zt.preloadModule=function(h,p){if(typeof h=="string")if(p){var m=d(p.as,p.crossOrigin);s.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(h)},zt.requestFormReset=function(h){s.d.r(h)},zt.unstable_batchedUpdates=function(h,p){return h(p)},zt.useFormState=function(h,p,m){return c.H.useFormState(h,p,m)},zt.useFormStatus=function(){return c.H.useHostTransitionStatus()},zt.version="19.2.3",zt}var fy;function S1(){if(fy)return Ih.exports;fy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ih.exports=Pk(),Ih.exports}var hy;function Ik(){if(hy)return bl;hy=1;var t=Hk(),e=Xl(),n=S1();function s(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,u=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(u=a.return),r=a.return;while(r)}return a.tag===3?u:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function h(r){if(l(r)!==r)throw Error(s(188))}function p(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(s(188));return a!==r?null:r}for(var u=r,f=a;;){var g=u.return;if(g===null)break;var b=g.alternate;if(b===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===u)return h(g),r;if(b===f)return h(g),a;b=b.sibling}throw Error(s(188))}if(u.return!==f.return)u=g,f=b;else{for(var N=!1,C=g.child;C;){if(C===u){N=!0,u=g,f=b;break}if(C===f){N=!0,f=g,u=b;break}C=C.sibling}if(!N){for(C=b.child;C;){if(C===u){N=!0,u=b,f=g;break}if(C===f){N=!0,f=b,u=g;break}C=C.sibling}if(!N)throw Error(s(189))}}if(u.alternate!==f)throw Error(s(190))}if(u.tag!==3)throw Error(s(188));return u.stateNode.current===u?r:a}function m(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=m(r),a!==null)return a;r=r.sibling}return null}var x=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),A=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function X(r){return r===null||typeof r!="object"?null:(r=me&&r[me]||r["@@iterator"],typeof r=="function"?r:null)}var G=Symbol.for("react.client.reference");function J(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===G?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case E:return"Profiler";case j:return"StrictMode";case B:return"Suspense";case z:return"SuspenseList";case U:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case v:return"Portal";case A:return r.displayName||"Context";case T:return(r._context.displayName||"Context")+".Consumer";case H:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case O:return a=r.displayName||null,a!==null?a:J(r.type)||"Memo";case Y:a=r._payload,r=r._init;try{return J(r(a))}catch{}}return null}var te=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ke=[],Ce=-1;function L(r){return{current:r}}function Z(r){0>Ce||(r.current=ke[Ce],ke[Ce]=null,Ce--)}function re(r,a){Ce++,ke[Ce]=r.current,r.current=a}var le=L(null),xe=L(null),Ee=L(null),_e=L(null);function It(r,a){switch(re(Ee,a),re(xe,r),re(le,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?Tb(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=Tb(a),r=Ab(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Z(le),re(le,r)}function it(){Z(le),Z(xe),Z(Ee)}function Sa(r){r.memoizedState!==null&&re(_e,r);var a=le.current,u=Ab(a,r.type);a!==u&&(re(xe,r),re(le,u))}function co(r){xe.current===r&&(Z(le),Z(xe)),_e.current===r&&(Z(_e),hl._currentValue=ie)}var xd,rg;function Er(r){if(xd===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);xd=a&&a[1]||"",rg=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xd+r+rg}var bd=!1;function yd(r,a){if(!r||bd)return"";bd=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(q){var F=q}Reflect.construct(r,[],ee)}else{try{ee.call()}catch(q){F=q}r.call(ee.prototype)}}else{try{throw Error()}catch(q){F=q}(ee=r())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(q){if(q&&F&&typeof q.stack=="string")return[q.stack,F.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),N=b[0],C=b[1];if(N&&C){var R=N.split(`
`),I=C.split(`
`);for(g=f=0;f<R.length&&!R[f].includes("DetermineComponentFrameRoot");)f++;for(;g<I.length&&!I[g].includes("DetermineComponentFrameRoot");)g++;if(f===R.length||g===I.length)for(f=R.length-1,g=I.length-1;1<=f&&0<=g&&R[f]!==I[g];)g--;for(;1<=f&&0<=g;f--,g--)if(R[f]!==I[g]){if(f!==1||g!==1)do if(f--,g--,0>g||R[f]!==I[g]){var W=`
`+R[f].replace(" at new "," at ");return r.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",r.displayName)),W}while(1<=f&&0<=g);break}}}finally{bd=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?Er(u):""}function fj(r,a){switch(r.tag){case 26:case 27:case 5:return Er(r.type);case 16:return Er("Lazy");case 13:return r.child!==a&&a!==null?Er("Suspense Fallback"):Er("Suspense");case 19:return Er("SuspenseList");case 0:case 15:return yd(r.type,!1);case 11:return yd(r.type.render,!1);case 1:return yd(r.type,!0);case 31:return Er("Activity");default:return""}}function ig(r){try{var a="",u=null;do a+=fj(r,u),u=r,r=r.return;while(r);return a}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var vd=Object.prototype.hasOwnProperty,wd=t.unstable_scheduleCallback,Nd=t.unstable_cancelCallback,hj=t.unstable_shouldYield,pj=t.unstable_requestPaint,on=t.unstable_now,mj=t.unstable_getCurrentPriorityLevel,ag=t.unstable_ImmediatePriority,lg=t.unstable_UserBlockingPriority,uo=t.unstable_NormalPriority,gj=t.unstable_LowPriority,og=t.unstable_IdlePriority,xj=t.log,bj=t.unstable_setDisableYieldValue,ka=null,cn=null;function zs(r){if(typeof xj=="function"&&bj(r),cn&&typeof cn.setStrictMode=="function")try{cn.setStrictMode(ka,r)}catch{}}var un=Math.clz32?Math.clz32:wj,yj=Math.log,vj=Math.LN2;function wj(r){return r>>>=0,r===0?32:31-(yj(r)/vj|0)|0}var fo=256,ho=262144,po=4194304;function Tr(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function mo(r,a,u){var f=r.pendingLanes;if(f===0)return 0;var g=0,b=r.suspendedLanes,N=r.pingedLanes;r=r.warmLanes;var C=f&134217727;return C!==0?(f=C&~b,f!==0?g=Tr(f):(N&=C,N!==0?g=Tr(N):u||(u=C&~r,u!==0&&(g=Tr(u))))):(C=f&~b,C!==0?g=Tr(C):N!==0?g=Tr(N):u||(u=f&~r,u!==0&&(g=Tr(u)))),g===0?0:a!==0&&a!==g&&(a&b)===0&&(b=g&-g,u=a&-a,b>=u||b===32&&(u&4194048)!==0)?a:g}function Ca(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Nj(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cg(){var r=po;return po<<=1,(po&62914560)===0&&(po=4194304),r}function jd(r){for(var a=[],u=0;31>u;u++)a.push(r);return a}function Ea(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function jj(r,a,u,f,g,b){var N=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var C=r.entanglements,R=r.expirationTimes,I=r.hiddenUpdates;for(u=N&~u;0<u;){var W=31-un(u),ee=1<<W;C[W]=0,R[W]=-1;var F=I[W];if(F!==null)for(I[W]=null,W=0;W<F.length;W++){var q=F[W];q!==null&&(q.lane&=-536870913)}u&=~ee}f!==0&&ug(r,f,0),b!==0&&g===0&&r.tag!==0&&(r.suspendedLanes|=b&~(N&~a))}function ug(r,a,u){r.pendingLanes|=a,r.suspendedLanes&=~a;var f=31-un(a);r.entangledLanes|=a,r.entanglements[f]=r.entanglements[f]|1073741824|u&261930}function dg(r,a){var u=r.entangledLanes|=a;for(r=r.entanglements;u;){var f=31-un(u),g=1<<f;g&a|r[f]&a&&(r[f]|=a),u&=~g}}function fg(r,a){var u=a&-a;return u=(u&42)!==0?1:Sd(u),(u&(r.suspendedLanes|a))!==0?0:u}function Sd(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function kd(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function hg(){var r=K.p;return r!==0?r:(r=window.event,r===void 0?32:Qb(r.type))}function pg(r,a){var u=K.p;try{return K.p=r,a()}finally{K.p=u}}var _s=Math.random().toString(36).slice(2),kt="__reactFiber$"+_s,Gt="__reactProps$"+_s,mi="__reactContainer$"+_s,Cd="__reactEvents$"+_s,Sj="__reactListeners$"+_s,kj="__reactHandles$"+_s,mg="__reactResources$"+_s,Ta="__reactMarker$"+_s;function Ed(r){delete r[kt],delete r[Gt],delete r[Cd],delete r[Sj],delete r[kj]}function gi(r){var a=r[kt];if(a)return a;for(var u=r.parentNode;u;){if(a=u[mi]||u[kt]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(r=_b(r);r!==null;){if(u=r[kt])return u;r=_b(r)}return a}r=u,u=r.parentNode}return null}function xi(r){if(r=r[kt]||r[mi]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function Aa(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(s(33))}function bi(r){var a=r[mg];return a||(a=r[mg]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function yt(r){r[Ta]=!0}var gg=new Set,xg={};function Ar(r,a){yi(r,a),yi(r+"Capture",a)}function yi(r,a){for(xg[r]=a,r=0;r<a.length;r++)gg.add(a[r])}var Cj=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bg={},yg={};function Ej(r){return vd.call(yg,r)?!0:vd.call(bg,r)?!1:Cj.test(r)?yg[r]=!0:(bg[r]=!0,!1)}function go(r,a,u){if(Ej(a))if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+u)}}function xo(r,a,u){if(u===null)r.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+u)}}function ss(r,a,u,f){if(f===null)r.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(a,u,""+f)}}function vn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function vg(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Tj(r,a,u){var f=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var g=f.get,b=f.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return g.call(this)},set:function(N){u=""+N,b.call(this,N)}}),Object.defineProperty(r,a,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Td(r){if(!r._valueTracker){var a=vg(r)?"checked":"value";r._valueTracker=Tj(r,a,""+r[a])}}function wg(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return r&&(f=vg(r)?r.checked?"true":"false":r.value),r=f,r!==u?(a.setValue(r),!0):!1}function bo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Aj=/[\n"\\]/g;function wn(r){return r.replace(Aj,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ad(r,a,u,f,g,b,N,C){r.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?r.type=N:r.removeAttribute("type"),a!=null?N==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+vn(a)):r.value!==""+vn(a)&&(r.value=""+vn(a)):N!=="submit"&&N!=="reset"||r.removeAttribute("value"),a!=null?Md(r,N,vn(a)):u!=null?Md(r,N,vn(u)):f!=null&&r.removeAttribute("value"),g==null&&b!=null&&(r.defaultChecked=!!b),g!=null&&(r.checked=g&&typeof g!="function"&&typeof g!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.name=""+vn(C):r.removeAttribute("name")}function Ng(r,a,u,f,g,b,N,C){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.type=b),a!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){Td(r);return}u=u!=null?""+vn(u):"",a=a!=null?""+vn(a):u,C||a===r.value||(r.value=a),r.defaultValue=a}f=f??g,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=C?r.checked:!!f,r.defaultChecked=!!f,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(r.name=N),Td(r)}function Md(r,a,u){a==="number"&&bo(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function vi(r,a,u,f){if(r=r.options,a){a={};for(var g=0;g<u.length;g++)a["$"+u[g]]=!0;for(u=0;u<r.length;u++)g=a.hasOwnProperty("$"+r[u].value),r[u].selected!==g&&(r[u].selected=g),g&&f&&(r[u].defaultSelected=!0)}else{for(u=""+vn(u),a=null,g=0;g<r.length;g++){if(r[g].value===u){r[g].selected=!0,f&&(r[g].defaultSelected=!0);return}a!==null||r[g].disabled||(a=r[g])}a!==null&&(a.selected=!0)}}function jg(r,a,u){if(a!=null&&(a=""+vn(a),a!==r.value&&(r.value=a),u==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=u!=null?""+vn(u):""}function Sg(r,a,u,f){if(a==null){if(f!=null){if(u!=null)throw Error(s(92));if(te(f)){if(1<f.length)throw Error(s(93));f=f[0]}u=f}u==null&&(u=""),a=u}u=vn(a),r.defaultValue=u,f=r.textContent,f===u&&f!==""&&f!==null&&(r.value=f),Td(r)}function wi(r,a){if(a){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=a;return}}r.textContent=a}var Mj=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kg(r,a,u){var f=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":f?r.setProperty(a,u):typeof u!="number"||u===0||Mj.has(a)?a==="float"?r.cssFloat=u:r[a]=(""+u).trim():r[a]=u+"px"}function Cg(r,a,u){if(a!=null&&typeof a!="object")throw Error(s(62));if(r=r.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var g in a)f=a[g],a.hasOwnProperty(g)&&u[g]!==f&&kg(r,g,f)}else for(var b in a)a.hasOwnProperty(b)&&kg(r,b,a[b])}function Od(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oj=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rj=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yo(r){return Rj.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function rs(){}var Rd=null;function Ld(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ni=null,ji=null;function Eg(r){var a=xi(r);if(a&&(r=a.stateNode)){var u=r[Gt]||null;e:switch(r=a.stateNode,a.type){case"input":if(Ad(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+wn(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==r&&f.form===r.form){var g=f[Gt]||null;if(!g)throw Error(s(90));Ad(f,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<u.length;a++)f=u[a],f.form===r.form&&wg(f)}break e;case"textarea":jg(r,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&vi(r,!!u.multiple,a,!1)}}}var Dd=!1;function Tg(r,a,u){if(Dd)return r(a,u);Dd=!0;try{var f=r(a);return f}finally{if(Dd=!1,(Ni!==null||ji!==null)&&(ac(),Ni&&(a=Ni,r=ji,ji=Ni=null,Eg(a),r)))for(a=0;a<r.length;a++)Eg(r[a])}}function Ma(r,a){var u=r.stateNode;if(u===null)return null;var f=u[Gt]||null;if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(s(231,a,typeof u));return u}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zd=!1;if(is)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){zd=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{zd=!1}var Bs=null,_d=null,vo=null;function Ag(){if(vo)return vo;var r,a=_d,u=a.length,f,g="value"in Bs?Bs.value:Bs.textContent,b=g.length;for(r=0;r<u&&a[r]===g[r];r++);var N=u-r;for(f=1;f<=N&&a[u-f]===g[b-f];f++);return vo=g.slice(r,1<f?1-f:void 0)}function wo(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function No(){return!0}function Mg(){return!1}function Wt(r){function a(u,f,g,b,N){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=b,this.target=N,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(u=r[C],this[C]=u?u(b):b[C]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?No:Mg,this.isPropagationStopped=Mg,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=No)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=No)},persist:function(){},isPersistent:No}),a}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jo=Wt(Mr),Ra=x({},Mr,{view:0,detail:0}),Lj=Wt(Ra),Bd,Ud,La,So=x({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pd,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==La&&(La&&r.type==="mousemove"?(Bd=r.screenX-La.screenX,Ud=r.screenY-La.screenY):Ud=Bd=0,La=r),Bd)},movementY:function(r){return"movementY"in r?r.movementY:Ud}}),Og=Wt(So),Dj=x({},So,{dataTransfer:0}),zj=Wt(Dj),_j=x({},Ra,{relatedTarget:0}),Hd=Wt(_j),Bj=x({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Uj=Wt(Bj),Hj=x({},Mr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Pj=Wt(Hj),Ij=x({},Mr,{data:0}),Rg=Wt(Ij),$j={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qj(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Vj[r])?!!a[r]:!1}function Pd(){return qj}var Kj=x({},Ra,{key:function(r){if(r.key){var a=$j[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=wo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Fj[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pd,charCode:function(r){return r.type==="keypress"?wo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?wo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Yj=Wt(Kj),Gj=x({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lg=Wt(Gj),Wj=x({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pd}),Jj=Wt(Wj),Xj=x({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qj=Wt(Xj),Zj=x({},So,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),eS=Wt(Zj),tS=x({},Mr,{newState:0,oldState:0}),nS=Wt(tS),sS=[9,13,27,32],Id=is&&"CompositionEvent"in window,Da=null;is&&"documentMode"in document&&(Da=document.documentMode);var rS=is&&"TextEvent"in window&&!Da,Dg=is&&(!Id||Da&&8<Da&&11>=Da),zg=" ",_g=!1;function Bg(r,a){switch(r){case"keyup":return sS.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ug(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Si=!1;function iS(r,a){switch(r){case"compositionend":return Ug(a);case"keypress":return a.which!==32?null:(_g=!0,zg);case"textInput":return r=a.data,r===zg&&_g?null:r;default:return null}}function aS(r,a){if(Si)return r==="compositionend"||!Id&&Bg(r,a)?(r=Ag(),vo=_d=Bs=null,Si=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Dg&&a.locale!=="ko"?null:a.data;default:return null}}var lS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hg(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!lS[r.type]:a==="textarea"}function Pg(r,a,u,f){Ni?ji?ji.push(f):ji=[f]:Ni=f,a=hc(a,"onChange"),0<a.length&&(u=new jo("onChange","change",null,u,f),r.push({event:u,listeners:a}))}var za=null,_a=null;function oS(r){Nb(r,0)}function ko(r){var a=Aa(r);if(wg(a))return r}function Ig(r,a){if(r==="change")return a}var $g=!1;if(is){var $d;if(is){var Fd="oninput"in document;if(!Fd){var Fg=document.createElement("div");Fg.setAttribute("oninput","return;"),Fd=typeof Fg.oninput=="function"}$d=Fd}else $d=!1;$g=$d&&(!document.documentMode||9<document.documentMode)}function Vg(){za&&(za.detachEvent("onpropertychange",qg),_a=za=null)}function qg(r){if(r.propertyName==="value"&&ko(_a)){var a=[];Pg(a,_a,r,Ld(r)),Tg(oS,a)}}function cS(r,a,u){r==="focusin"?(Vg(),za=a,_a=u,za.attachEvent("onpropertychange",qg)):r==="focusout"&&Vg()}function uS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ko(_a)}function dS(r,a){if(r==="click")return ko(a)}function fS(r,a){if(r==="input"||r==="change")return ko(a)}function hS(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var dn=typeof Object.is=="function"?Object.is:hS;function Ba(r,a){if(dn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var u=Object.keys(r),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!vd.call(a,g)||!dn(r[g],a[g]))return!1}return!0}function Kg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Yg(r,a){var u=Kg(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=a&&f>=a)return{node:u,offset:a-r};r=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Kg(u)}}function Gg(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Gg(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Wg(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=bo(r.document);a instanceof r.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)r=a.contentWindow;else break;a=bo(r.document)}return a}function Vd(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var pS=is&&"documentMode"in document&&11>=document.documentMode,ki=null,qd=null,Ua=null,Kd=!1;function Jg(r,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Kd||ki==null||ki!==bo(f)||(f=ki,"selectionStart"in f&&Vd(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ua&&Ba(Ua,f)||(Ua=f,f=hc(qd,"onSelect"),0<f.length&&(a=new jo("onSelect","select",null,a,u),r.push({event:a,listeners:f}),a.target=ki)))}function Or(r,a){var u={};return u[r.toLowerCase()]=a.toLowerCase(),u["Webkit"+r]="webkit"+a,u["Moz"+r]="moz"+a,u}var Ci={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},Yd={},Xg={};is&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function Rr(r){if(Yd[r])return Yd[r];if(!Ci[r])return r;var a=Ci[r],u;for(u in a)if(a.hasOwnProperty(u)&&u in Xg)return Yd[r]=a[u];return r}var Qg=Rr("animationend"),Zg=Rr("animationiteration"),ex=Rr("animationstart"),mS=Rr("transitionrun"),gS=Rr("transitionstart"),xS=Rr("transitioncancel"),tx=Rr("transitionend"),nx=new Map,Gd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gd.push("scrollEnd");function Bn(r,a){nx.set(r,a),Ar(a,[r])}var Co=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Nn=[],Ei=0,Wd=0;function Eo(){for(var r=Ei,a=Wd=Ei=0;a<r;){var u=Nn[a];Nn[a++]=null;var f=Nn[a];Nn[a++]=null;var g=Nn[a];Nn[a++]=null;var b=Nn[a];if(Nn[a++]=null,f!==null&&g!==null){var N=f.pending;N===null?g.next=g:(g.next=N.next,N.next=g),f.pending=g}b!==0&&sx(u,g,b)}}function To(r,a,u,f){Nn[Ei++]=r,Nn[Ei++]=a,Nn[Ei++]=u,Nn[Ei++]=f,Wd|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function Jd(r,a,u,f){return To(r,a,u,f),Ao(r)}function Lr(r,a){return To(r,null,null,a),Ao(r)}function sx(r,a,u){r.lanes|=u;var f=r.alternate;f!==null&&(f.lanes|=u);for(var g=!1,b=r.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(r=b.stateNode,r===null||r._visibility&1||(g=!0)),r=b,b=b.return;return r.tag===3?(b=r.stateNode,g&&a!==null&&(g=31-un(u),r=b.hiddenUpdates,f=r[g],f===null?r[g]=[a]:f.push(a),a.lane=u|536870912),b):null}function Ao(r){if(50<al)throw al=0,ah=null,Error(s(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Ti={};function bS(r,a,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(r,a,u,f){return new bS(r,a,u,f)}function Xd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function as(r,a){var u=r.alternate;return u===null?(u=fn(r.tag,a,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=a,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,a=r.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function rx(r,a){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,a=u.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Mo(r,a,u,f,g,b){var N=0;if(f=r,typeof r=="function")Xd(r)&&(N=1);else if(typeof r=="string")N=jk(r,u,le.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case U:return r=fn(31,u,a,g),r.elementType=U,r.lanes=b,r;case S:return Dr(u.children,g,b,a);case j:N=8,g|=24;break;case E:return r=fn(12,u,a,g|2),r.elementType=E,r.lanes=b,r;case B:return r=fn(13,u,a,g),r.elementType=B,r.lanes=b,r;case z:return r=fn(19,u,a,g),r.elementType=z,r.lanes=b,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case A:N=10;break e;case T:N=9;break e;case H:N=11;break e;case O:N=14;break e;case Y:N=16,f=null;break e}N=29,u=Error(s(130,r===null?"null":typeof r,"")),f=null}return a=fn(N,u,a,g),a.elementType=r,a.type=f,a.lanes=b,a}function Dr(r,a,u,f){return r=fn(7,r,f,a),r.lanes=u,r}function Qd(r,a,u){return r=fn(6,r,null,a),r.lanes=u,r}function ix(r){var a=fn(18,null,null,0);return a.stateNode=r,a}function Zd(r,a,u){return a=fn(4,r.children!==null?r.children:[],r.key,a),a.lanes=u,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var ax=new WeakMap;function jn(r,a){if(typeof r=="object"&&r!==null){var u=ax.get(r);return u!==void 0?u:(a={value:r,source:a,stack:ig(a)},ax.set(r,a),a)}return{value:r,source:a,stack:ig(a)}}var Ai=[],Mi=0,Oo=null,Ha=0,Sn=[],kn=0,Us=null,Kn=1,Yn="";function ls(r,a){Ai[Mi++]=Ha,Ai[Mi++]=Oo,Oo=r,Ha=a}function lx(r,a,u){Sn[kn++]=Kn,Sn[kn++]=Yn,Sn[kn++]=Us,Us=r;var f=Kn;r=Yn;var g=32-un(f)-1;f&=~(1<<g),u+=1;var b=32-un(a)+g;if(30<b){var N=g-g%5;b=(f&(1<<N)-1).toString(32),f>>=N,g-=N,Kn=1<<32-un(a)+g|u<<g|f,Yn=b+r}else Kn=1<<b|u<<g|f,Yn=r}function ef(r){r.return!==null&&(ls(r,1),lx(r,1,0))}function tf(r){for(;r===Oo;)Oo=Ai[--Mi],Ai[Mi]=null,Ha=Ai[--Mi],Ai[Mi]=null;for(;r===Us;)Us=Sn[--kn],Sn[kn]=null,Yn=Sn[--kn],Sn[kn]=null,Kn=Sn[--kn],Sn[kn]=null}function ox(r,a){Sn[kn++]=Kn,Sn[kn++]=Yn,Sn[kn++]=Us,Kn=a.id,Yn=a.overflow,Us=r}var Ct=null,Ge=null,Re=!1,Hs=null,Cn=!1,nf=Error(s(519));function Ps(r){var a=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pa(jn(a,r)),nf}function cx(r){var a=r.stateNode,u=r.type,f=r.memoizedProps;switch(a[kt]=r,a[Gt]=f,u){case"dialog":Ae("cancel",a),Ae("close",a);break;case"iframe":case"object":case"embed":Ae("load",a);break;case"video":case"audio":for(u=0;u<ol.length;u++)Ae(ol[u],a);break;case"source":Ae("error",a);break;case"img":case"image":case"link":Ae("error",a),Ae("load",a);break;case"details":Ae("toggle",a);break;case"input":Ae("invalid",a),Ng(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Ae("invalid",a);break;case"textarea":Ae("invalid",a),Sg(a,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||f.suppressHydrationWarning===!0||Cb(a.textContent,u)?(f.popover!=null&&(Ae("beforetoggle",a),Ae("toggle",a)),f.onScroll!=null&&Ae("scroll",a),f.onScrollEnd!=null&&Ae("scrollend",a),f.onClick!=null&&(a.onclick=rs),a=!0):a=!1,a||Ps(r,!0)}function ux(r){for(Ct=r.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:Ct=Ct.return}}function Oi(r){if(r!==Ct)return!1;if(!Re)return ux(r),Re=!0,!1;var a=r.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||wh(r.type,r.memoizedProps)),u=!u),u&&Ge&&Ps(r),ux(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Ge=zb(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));Ge=zb(r)}else a===27?(a=Ge,er(r.type)?(r=Ch,Ch=null,Ge=r):Ge=a):Ge=Ct?Tn(r.stateNode.nextSibling):null;return!0}function zr(){Ge=Ct=null,Re=!1}function sf(){var r=Hs;return r!==null&&(Zt===null?Zt=r:Zt.push.apply(Zt,r),Hs=null),r}function Pa(r){Hs===null?Hs=[r]:Hs.push(r)}var rf=L(null),_r=null,cs=null;function Is(r,a,u){re(rf,a._currentValue),a._currentValue=u}function us(r){r._currentValue=rf.current,Z(rf)}function af(r,a,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),r===u)break;r=r.return}}function lf(r,a,u,f){var g=r.child;for(g!==null&&(g.return=r);g!==null;){var b=g.dependencies;if(b!==null){var N=g.child;b=b.firstContext;e:for(;b!==null;){var C=b;b=g;for(var R=0;R<a.length;R++)if(C.context===a[R]){b.lanes|=u,C=b.alternate,C!==null&&(C.lanes|=u),af(b.return,u,r),f||(N=null);break e}b=C.next}}else if(g.tag===18){if(N=g.return,N===null)throw Error(s(341));N.lanes|=u,b=N.alternate,b!==null&&(b.lanes|=u),af(N,u,r),N=null}else N=g.child;if(N!==null)N.return=g;else for(N=g;N!==null;){if(N===r){N=null;break}if(g=N.sibling,g!==null){g.return=N.return,N=g;break}N=N.return}g=N}}function Ri(r,a,u,f){r=null;for(var g=a,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var N=g.alternate;if(N===null)throw Error(s(387));if(N=N.memoizedProps,N!==null){var C=g.type;dn(g.pendingProps.value,N.value)||(r!==null?r.push(C):r=[C])}}else if(g===_e.current){if(N=g.alternate,N===null)throw Error(s(387));N.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(r!==null?r.push(hl):r=[hl])}g=g.return}r!==null&&lf(a,r,u,f),a.flags|=262144}function Ro(r){for(r=r.firstContext;r!==null;){if(!dn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Br(r){_r=r,cs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Et(r){return dx(_r,r)}function Lo(r,a){return _r===null&&Br(r),dx(r,a)}function dx(r,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},cs===null){if(r===null)throw Error(s(308));cs=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else cs=cs.next=a;return u}var yS=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(u,f){r.push(f)}};this.abort=function(){a.aborted=!0,r.forEach(function(u){return u()})}},vS=t.unstable_scheduleCallback,wS=t.unstable_NormalPriority,dt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new yS,data:new Map,refCount:0}}function Ia(r){r.refCount--,r.refCount===0&&vS(wS,function(){r.controller.abort()})}var $a=null,cf=0,Li=0,Di=null;function NS(r,a){if($a===null){var u=$a=[];cf=0,Li=fh(),Di={status:"pending",value:void 0,then:function(f){u.push(f)}}}return cf++,a.then(fx,fx),a}function fx(){if(--cf===0&&$a!==null){Di!==null&&(Di.status="fulfilled");var r=$a;$a=null,Li=0,Di=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function jS(r,a){var u=[],f={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return r.then(function(){f.status="fulfilled",f.value=a;for(var g=0;g<u.length;g++)(0,u[g])(a)},function(g){for(f.status="rejected",f.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),f}var hx=M.S;M.S=function(r,a){J0=on(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&NS(r,a),hx!==null&&hx(r,a)};var Ur=L(null);function uf(){var r=Ur.current;return r!==null?r:qe.pooledCache}function Do(r,a){a===null?re(Ur,Ur.current):re(Ur,a.pool)}function px(){var r=uf();return r===null?null:{parent:dt._currentValue,pool:r}}var zi=Error(s(460)),df=Error(s(474)),zo=Error(s(542)),_o={then:function(){}};function mx(r){return r=r.status,r==="fulfilled"||r==="rejected"}function gx(r,a,u){switch(u=r[u],u===void 0?r.push(a):u!==a&&(a.then(rs,rs),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,bx(r),r;default:if(typeof a.status=="string")a.then(rs,rs);else{if(r=qe,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=a,r.status="pending",r.then(function(f){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=f}},function(f){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,bx(r),r}throw Pr=a,zi}}function Hr(r){try{var a=r._init;return a(r._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Pr=u,zi):u}}var Pr=null;function xx(){if(Pr===null)throw Error(s(459));var r=Pr;return Pr=null,r}function bx(r){if(r===zi||r===zo)throw Error(s(483))}var _i=null,Fa=0;function Bo(r){var a=Fa;return Fa+=1,_i===null&&(_i=[]),gx(_i,r,a)}function Va(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function Uo(r,a){throw a.$$typeof===y?Error(s(525)):(r=Object.prototype.toString.call(a),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function yx(r){function a(_,D){if(r){var P=_.deletions;P===null?(_.deletions=[D],_.flags|=16):P.push(D)}}function u(_,D){if(!r)return null;for(;D!==null;)a(_,D),D=D.sibling;return null}function f(_){for(var D=new Map;_!==null;)_.key!==null?D.set(_.key,_):D.set(_.index,_),_=_.sibling;return D}function g(_,D){return _=as(_,D),_.index=0,_.sibling=null,_}function b(_,D,P){return _.index=P,r?(P=_.alternate,P!==null?(P=P.index,P<D?(_.flags|=67108866,D):P):(_.flags|=67108866,D)):(_.flags|=1048576,D)}function N(_){return r&&_.alternate===null&&(_.flags|=67108866),_}function C(_,D,P,Q){return D===null||D.tag!==6?(D=Qd(P,_.mode,Q),D.return=_,D):(D=g(D,P),D.return=_,D)}function R(_,D,P,Q){var de=P.type;return de===S?W(_,D,P.props.children,Q,P.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Y&&Hr(de)===D.type)?(D=g(D,P.props),Va(D,P),D.return=_,D):(D=Mo(P.type,P.key,P.props,null,_.mode,Q),Va(D,P),D.return=_,D)}function I(_,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Zd(P,_.mode,Q),D.return=_,D):(D=g(D,P.children||[]),D.return=_,D)}function W(_,D,P,Q,de){return D===null||D.tag!==7?(D=Dr(P,_.mode,Q,de),D.return=_,D):(D=g(D,P),D.return=_,D)}function ee(_,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Qd(""+D,_.mode,P),D.return=_,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case w:return P=Mo(D.type,D.key,D.props,null,_.mode,P),Va(P,D),P.return=_,P;case v:return D=Zd(D,_.mode,P),D.return=_,D;case Y:return D=Hr(D),ee(_,D,P)}if(te(D)||X(D))return D=Dr(D,_.mode,P,null),D.return=_,D;if(typeof D.then=="function")return ee(_,Bo(D),P);if(D.$$typeof===A)return ee(_,Lo(_,D),P);Uo(_,D)}return null}function F(_,D,P,Q){var de=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return de!==null?null:C(_,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case w:return P.key===de?R(_,D,P,Q):null;case v:return P.key===de?I(_,D,P,Q):null;case Y:return P=Hr(P),F(_,D,P,Q)}if(te(P)||X(P))return de!==null?null:W(_,D,P,Q,null);if(typeof P.then=="function")return F(_,D,Bo(P),Q);if(P.$$typeof===A)return F(_,D,Lo(_,P),Q);Uo(_,P)}return null}function q(_,D,P,Q,de){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return _=_.get(P)||null,C(D,_,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return _=_.get(Q.key===null?P:Q.key)||null,R(D,_,Q,de);case v:return _=_.get(Q.key===null?P:Q.key)||null,I(D,_,Q,de);case Y:return Q=Hr(Q),q(_,D,P,Q,de)}if(te(Q)||X(Q))return _=_.get(P)||null,W(D,_,Q,de,null);if(typeof Q.then=="function")return q(_,D,P,Bo(Q),de);if(Q.$$typeof===A)return q(_,D,P,Lo(D,Q),de);Uo(D,Q)}return null}function oe(_,D,P,Q){for(var de=null,Le=null,ce=D,Ne=D=0,Oe=null;ce!==null&&Ne<P.length;Ne++){ce.index>Ne?(Oe=ce,ce=null):Oe=ce.sibling;var De=F(_,ce,P[Ne],Q);if(De===null){ce===null&&(ce=Oe);break}r&&ce&&De.alternate===null&&a(_,ce),D=b(De,D,Ne),Le===null?de=De:Le.sibling=De,Le=De,ce=Oe}if(Ne===P.length)return u(_,ce),Re&&ls(_,Ne),de;if(ce===null){for(;Ne<P.length;Ne++)ce=ee(_,P[Ne],Q),ce!==null&&(D=b(ce,D,Ne),Le===null?de=ce:Le.sibling=ce,Le=ce);return Re&&ls(_,Ne),de}for(ce=f(ce);Ne<P.length;Ne++)Oe=q(ce,_,Ne,P[Ne],Q),Oe!==null&&(r&&Oe.alternate!==null&&ce.delete(Oe.key===null?Ne:Oe.key),D=b(Oe,D,Ne),Le===null?de=Oe:Le.sibling=Oe,Le=Oe);return r&&ce.forEach(function(ir){return a(_,ir)}),Re&&ls(_,Ne),de}function pe(_,D,P,Q){if(P==null)throw Error(s(151));for(var de=null,Le=null,ce=D,Ne=D=0,Oe=null,De=P.next();ce!==null&&!De.done;Ne++,De=P.next()){ce.index>Ne?(Oe=ce,ce=null):Oe=ce.sibling;var ir=F(_,ce,De.value,Q);if(ir===null){ce===null&&(ce=Oe);break}r&&ce&&ir.alternate===null&&a(_,ce),D=b(ir,D,Ne),Le===null?de=ir:Le.sibling=ir,Le=ir,ce=Oe}if(De.done)return u(_,ce),Re&&ls(_,Ne),de;if(ce===null){for(;!De.done;Ne++,De=P.next())De=ee(_,De.value,Q),De!==null&&(D=b(De,D,Ne),Le===null?de=De:Le.sibling=De,Le=De);return Re&&ls(_,Ne),de}for(ce=f(ce);!De.done;Ne++,De=P.next())De=q(ce,_,Ne,De.value,Q),De!==null&&(r&&De.alternate!==null&&ce.delete(De.key===null?Ne:De.key),D=b(De,D,Ne),Le===null?de=De:Le.sibling=De,Le=De);return r&&ce.forEach(function(Dk){return a(_,Dk)}),Re&&ls(_,Ne),de}function Fe(_,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===S&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case w:e:{for(var de=P.key;D!==null;){if(D.key===de){if(de=P.type,de===S){if(D.tag===7){u(_,D.sibling),Q=g(D,P.props.children),Q.return=_,_=Q;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===Y&&Hr(de)===D.type){u(_,D.sibling),Q=g(D,P.props),Va(Q,P),Q.return=_,_=Q;break e}u(_,D);break}else a(_,D);D=D.sibling}P.type===S?(Q=Dr(P.props.children,_.mode,Q,P.key),Q.return=_,_=Q):(Q=Mo(P.type,P.key,P.props,null,_.mode,Q),Va(Q,P),Q.return=_,_=Q)}return N(_);case v:e:{for(de=P.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){u(_,D.sibling),Q=g(D,P.children||[]),Q.return=_,_=Q;break e}else{u(_,D);break}else a(_,D);D=D.sibling}Q=Zd(P,_.mode,Q),Q.return=_,_=Q}return N(_);case Y:return P=Hr(P),Fe(_,D,P,Q)}if(te(P))return oe(_,D,P,Q);if(X(P)){if(de=X(P),typeof de!="function")throw Error(s(150));return P=de.call(P),pe(_,D,P,Q)}if(typeof P.then=="function")return Fe(_,D,Bo(P),Q);if(P.$$typeof===A)return Fe(_,D,Lo(_,P),Q);Uo(_,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(u(_,D.sibling),Q=g(D,P),Q.return=_,_=Q):(u(_,D),Q=Qd(P,_.mode,Q),Q.return=_,_=Q),N(_)):u(_,D)}return function(_,D,P,Q){try{Fa=0;var de=Fe(_,D,P,Q);return _i=null,de}catch(ce){if(ce===zi||ce===zo)throw ce;var Le=fn(29,ce,null,_.mode);return Le.lanes=Q,Le.return=_,Le}}}var Ir=yx(!0),vx=yx(!1),$s=!1;function ff(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Fs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Vs(r,a,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(ze&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,a=Ao(r),sx(r,null,u),a}return To(r,f,a,u),Ao(r)}function qa(r,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var f=a.lanes;f&=r.pendingLanes,u|=f,a.lanes=u,dg(r,u)}}function pf(r,a){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?g=b=N:b=b.next=N,u=u.next}while(u!==null);b===null?g=b=a:b=b.next=a}else g=b=a;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=a:r.next=a,u.lastBaseUpdate=a}var mf=!1;function Ka(){if(mf){var r=Di;if(r!==null)throw r}}function Ya(r,a,u,f){mf=!1;var g=r.updateQueue;$s=!1;var b=g.firstBaseUpdate,N=g.lastBaseUpdate,C=g.shared.pending;if(C!==null){g.shared.pending=null;var R=C,I=R.next;R.next=null,N===null?b=I:N.next=I,N=R;var W=r.alternate;W!==null&&(W=W.updateQueue,C=W.lastBaseUpdate,C!==N&&(C===null?W.firstBaseUpdate=I:C.next=I,W.lastBaseUpdate=R))}if(b!==null){var ee=g.baseState;N=0,W=I=R=null,C=b;do{var F=C.lane&-536870913,q=F!==C.lane;if(q?(Me&F)===F:(f&F)===F){F!==0&&F===Li&&(mf=!0),W!==null&&(W=W.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var oe=r,pe=C;F=a;var Fe=u;switch(pe.tag){case 1:if(oe=pe.payload,typeof oe=="function"){ee=oe.call(Fe,ee,F);break e}ee=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=pe.payload,F=typeof oe=="function"?oe.call(Fe,ee,F):oe,F==null)break e;ee=x({},ee,F);break e;case 2:$s=!0}}F=C.callback,F!==null&&(r.flags|=64,q&&(r.flags|=8192),q=g.callbacks,q===null?g.callbacks=[F]:q.push(F))}else q={lane:F,tag:C.tag,payload:C.payload,callback:C.callback,next:null},W===null?(I=W=q,R=ee):W=W.next=q,N|=F;if(C=C.next,C===null){if(C=g.shared.pending,C===null)break;q=C,C=q.next,q.next=null,g.lastBaseUpdate=q,g.shared.pending=null}}while(!0);W===null&&(R=ee),g.baseState=R,g.firstBaseUpdate=I,g.lastBaseUpdate=W,b===null&&(g.shared.lanes=0),Ws|=N,r.lanes=N,r.memoizedState=ee}}function wx(r,a){if(typeof r!="function")throw Error(s(191,r));r.call(a)}function Nx(r,a){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)wx(u[r],a)}var Bi=L(null),Ho=L(0);function jx(r,a){r=ys,re(Ho,r),re(Bi,a),ys=r|a.baseLanes}function gf(){re(Ho,ys),re(Bi,Bi.current)}function xf(){ys=Ho.current,Z(Bi),Z(Ho)}var hn=L(null),En=null;function qs(r){var a=r.alternate;re(at,at.current&1),re(hn,r),En===null&&(a===null||Bi.current!==null||a.memoizedState!==null)&&(En=r)}function bf(r){re(at,at.current),re(hn,r),En===null&&(En=r)}function Sx(r){r.tag===22?(re(at,at.current),re(hn,r),En===null&&(En=r)):Ks()}function Ks(){re(at,at.current),re(hn,hn.current)}function pn(r){Z(hn),En===r&&(En=null),Z(at)}var at=L(0);function Po(r){for(var a=r;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Sh(u)||kh(u)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ds=0,ve=null,Ie=null,ft=null,Io=!1,Ui=!1,$r=!1,$o=0,Ga=0,Hi=null,SS=0;function tt(){throw Error(s(321))}function yf(r,a){if(a===null)return!1;for(var u=0;u<a.length&&u<r.length;u++)if(!dn(r[u],a[u]))return!1;return!0}function vf(r,a,u,f,g,b){return ds=b,ve=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,M.H=r===null||r.memoizedState===null?l0:zf,$r=!1,b=u(f,g),$r=!1,Ui&&(b=Cx(a,u,f,g)),kx(r),b}function kx(r){M.H=Xa;var a=Ie!==null&&Ie.next!==null;if(ds=0,ft=Ie=ve=null,Io=!1,Ga=0,Hi=null,a)throw Error(s(300));r===null||ht||(r=r.dependencies,r!==null&&Ro(r)&&(ht=!0))}function Cx(r,a,u,f){ve=r;var g=0;do{if(Ui&&(Hi=null),Ga=0,Ui=!1,25<=g)throw Error(s(301));if(g+=1,ft=Ie=null,r.updateQueue!=null){var b=r.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}M.H=o0,b=a(u,f)}while(Ui);return b}function kS(){var r=M.H,a=r.useState()[0];return a=typeof a.then=="function"?Wa(a):a,r=r.useState()[0],(Ie!==null?Ie.memoizedState:null)!==r&&(ve.flags|=1024),a}function wf(){var r=$o!==0;return $o=0,r}function Nf(r,a,u){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~u}function jf(r){if(Io){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Io=!1}ds=0,ft=Ie=ve=null,Ui=!1,Ga=$o=0,Hi=null}function $t(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?ve.memoizedState=ft=r:ft=ft.next=r,ft}function lt(){if(Ie===null){var r=ve.alternate;r=r!==null?r.memoizedState:null}else r=Ie.next;var a=ft===null?ve.memoizedState:ft.next;if(a!==null)ft=a,Ie=r;else{if(r===null)throw ve.alternate===null?Error(s(467)):Error(s(310));Ie=r,r={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},ft===null?ve.memoizedState=ft=r:ft=ft.next=r}return ft}function Fo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wa(r){var a=Ga;return Ga+=1,Hi===null&&(Hi=[]),r=gx(Hi,r,a),a=ve,(ft===null?a.memoizedState:ft.next)===null&&(a=a.alternate,M.H=a===null||a.memoizedState===null?l0:zf),r}function Vo(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Wa(r);if(r.$$typeof===A)return Et(r)}throw Error(s(438,String(r)))}function Sf(r){var a=null,u=ve.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var f=ve.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Fo(),ve.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(r),f=0;f<r;f++)u[f]=$;return a.index++,u}function fs(r,a){return typeof a=="function"?a(r):a}function qo(r){var a=lt();return kf(a,Ie,r)}function kf(r,a,u){var f=r.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=u;var g=r.baseQueue,b=f.pending;if(b!==null){if(g!==null){var N=g.next;g.next=b.next,b.next=N}a.baseQueue=g=b,f.pending=null}if(b=r.baseState,g===null)r.memoizedState=b;else{a=g.next;var C=N=null,R=null,I=a,W=!1;do{var ee=I.lane&-536870913;if(ee!==I.lane?(Me&ee)===ee:(ds&ee)===ee){var F=I.revertLane;if(F===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),ee===Li&&(W=!0);else if((ds&F)===F){I=I.next,F===Li&&(W=!0);continue}else ee={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},R===null?(C=R=ee,N=b):R=R.next=ee,ve.lanes|=F,Ws|=F;ee=I.action,$r&&u(b,ee),b=I.hasEagerState?I.eagerState:u(b,ee)}else F={lane:ee,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},R===null?(C=R=F,N=b):R=R.next=F,ve.lanes|=ee,Ws|=ee;I=I.next}while(I!==null&&I!==a);if(R===null?N=b:R.next=C,!dn(b,r.memoizedState)&&(ht=!0,W&&(u=Di,u!==null)))throw u;r.memoizedState=b,r.baseState=N,r.baseQueue=R,f.lastRenderedState=b}return g===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function Cf(r){var a=lt(),u=a.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=r;var f=u.dispatch,g=u.pending,b=a.memoizedState;if(g!==null){u.pending=null;var N=g=g.next;do b=r(b,N.action),N=N.next;while(N!==g);dn(b,a.memoizedState)||(ht=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),u.lastRenderedState=b}return[b,f]}function Ex(r,a,u){var f=ve,g=lt(),b=Re;if(b){if(u===void 0)throw Error(s(407));u=u()}else u=a();var N=!dn((Ie||g).memoizedState,u);if(N&&(g.memoizedState=u,ht=!0),g=g.queue,Af(Mx.bind(null,f,g,r),[r]),g.getSnapshot!==a||N||ft!==null&&ft.memoizedState.tag&1){if(f.flags|=2048,Pi(9,{destroy:void 0},Ax.bind(null,f,g,u,a),null),qe===null)throw Error(s(349));b||(ds&127)!==0||Tx(f,a,u)}return u}function Tx(r,a,u){r.flags|=16384,r={getSnapshot:a,value:u},a=ve.updateQueue,a===null?(a=Fo(),ve.updateQueue=a,a.stores=[r]):(u=a.stores,u===null?a.stores=[r]:u.push(r))}function Ax(r,a,u,f){a.value=u,a.getSnapshot=f,Ox(a)&&Rx(r)}function Mx(r,a,u){return u(function(){Ox(a)&&Rx(r)})}function Ox(r){var a=r.getSnapshot;r=r.value;try{var u=a();return!dn(r,u)}catch{return!0}}function Rx(r){var a=Lr(r,2);a!==null&&en(a,r,2)}function Ef(r){var a=$t();if(typeof r=="function"){var u=r;if(r=u(),$r){zs(!0);try{u()}finally{zs(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:r},a}function Lx(r,a,u,f){return r.baseState=u,kf(r,Ie,typeof f=="function"?f:fs)}function CS(r,a,u,f,g){if(Go(r))throw Error(s(485));if(r=a.action,r!==null){var b={payload:g,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){b.listeners.push(N)}};M.T!==null?u(!0):b.isTransition=!1,f(b),u=a.pending,u===null?(b.next=a.pending=b,Dx(a,b)):(b.next=u.next,a.pending=u.next=b)}}function Dx(r,a){var u=a.action,f=a.payload,g=r.state;if(a.isTransition){var b=M.T,N={};M.T=N;try{var C=u(g,f),R=M.S;R!==null&&R(N,C),zx(r,a,C)}catch(I){Tf(r,a,I)}finally{b!==null&&N.types!==null&&(b.types=N.types),M.T=b}}else try{b=u(g,f),zx(r,a,b)}catch(I){Tf(r,a,I)}}function zx(r,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){_x(r,a,f)},function(f){return Tf(r,a,f)}):_x(r,a,u)}function _x(r,a,u){a.status="fulfilled",a.value=u,Bx(a),r.state=u,a=r.pending,a!==null&&(u=a.next,u===a?r.pending=null:(u=u.next,a.next=u,Dx(r,u)))}function Tf(r,a,u){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=u,Bx(a),a=a.next;while(a!==f)}r.action=null}function Bx(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function Ux(r,a){return a}function Hx(r,a){if(Re){var u=qe.formState;if(u!==null){e:{var f=ve;if(Re){if(Ge){t:{for(var g=Ge,b=Cn;g.nodeType!==8;){if(!b){g=null;break t}if(g=Tn(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){Ge=Tn(g.nextSibling),f=g.data==="F!";break e}}Ps(f)}f=!1}f&&(a=u[0])}}return u=$t(),u.memoizedState=u.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ux,lastRenderedState:a},u.queue=f,u=r0.bind(null,ve,f),f.dispatch=u,f=Ef(!1),b=Df.bind(null,ve,!1,f.queue),f=$t(),g={state:a,dispatch:null,action:r,pending:null},f.queue=g,u=CS.bind(null,ve,g,b,u),g.dispatch=u,f.memoizedState=r,[a,u,!1]}function Px(r){var a=lt();return Ix(a,Ie,r)}function Ix(r,a,u){if(a=kf(r,a,Ux)[0],r=qo(fs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Wa(a)}catch(N){throw N===zi?zo:N}else f=a;a=lt();var g=a.queue,b=g.dispatch;return u!==a.memoizedState&&(ve.flags|=2048,Pi(9,{destroy:void 0},ES.bind(null,g,u),null)),[f,b,r]}function ES(r,a){r.action=a}function $x(r){var a=lt(),u=Ie;if(u!==null)return Ix(a,u,r);lt(),a=a.memoizedState,u=lt();var f=u.queue.dispatch;return u.memoizedState=r,[a,f,!1]}function Pi(r,a,u,f){return r={tag:r,create:u,deps:f,inst:a,next:null},a=ve.updateQueue,a===null&&(a=Fo(),ve.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,a.lastEffect=r),r}function Fx(){return lt().memoizedState}function Ko(r,a,u,f){var g=$t();ve.flags|=r,g.memoizedState=Pi(1|a,{destroy:void 0},u,f===void 0?null:f)}function Yo(r,a,u,f){var g=lt();f=f===void 0?null:f;var b=g.memoizedState.inst;Ie!==null&&f!==null&&yf(f,Ie.memoizedState.deps)?g.memoizedState=Pi(a,b,u,f):(ve.flags|=r,g.memoizedState=Pi(1|a,b,u,f))}function Vx(r,a){Ko(8390656,8,r,a)}function Af(r,a){Yo(2048,8,r,a)}function TS(r){ve.flags|=4;var a=ve.updateQueue;if(a===null)a=Fo(),ve.updateQueue=a,a.events=[r];else{var u=a.events;u===null?a.events=[r]:u.push(r)}}function qx(r){var a=lt().memoizedState;return TS({ref:a,nextImpl:r}),function(){if((ze&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}function Kx(r,a){return Yo(4,2,r,a)}function Yx(r,a){return Yo(4,4,r,a)}function Gx(r,a){if(typeof a=="function"){r=r();var u=a(r);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function Wx(r,a,u){u=u!=null?u.concat([r]):null,Yo(4,4,Gx.bind(null,a,r),u)}function Mf(){}function Jx(r,a){var u=lt();a=a===void 0?null:a;var f=u.memoizedState;return a!==null&&yf(a,f[1])?f[0]:(u.memoizedState=[r,a],r)}function Xx(r,a){var u=lt();a=a===void 0?null:a;var f=u.memoizedState;if(a!==null&&yf(a,f[1]))return f[0];if(f=r(),$r){zs(!0);try{r()}finally{zs(!1)}}return u.memoizedState=[f,a],f}function Of(r,a,u){return u===void 0||(ds&1073741824)!==0&&(Me&261930)===0?r.memoizedState=a:(r.memoizedState=u,r=Q0(),ve.lanes|=r,Ws|=r,u)}function Qx(r,a,u,f){return dn(u,a)?u:Bi.current!==null?(r=Of(r,u,f),dn(r,a)||(ht=!0),r):(ds&42)===0||(ds&1073741824)!==0&&(Me&261930)===0?(ht=!0,r.memoizedState=u):(r=Q0(),ve.lanes|=r,Ws|=r,a)}function Zx(r,a,u,f,g){var b=K.p;K.p=b!==0&&8>b?b:8;var N=M.T,C={};M.T=C,Df(r,!1,a,u);try{var R=g(),I=M.S;if(I!==null&&I(C,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var W=jS(R,f);Ja(r,a,W,xn(r))}else Ja(r,a,f,xn(r))}catch(ee){Ja(r,a,{then:function(){},status:"rejected",reason:ee},xn())}finally{K.p=b,N!==null&&C.types!==null&&(N.types=C.types),M.T=N}}function AS(){}function Rf(r,a,u,f){if(r.tag!==5)throw Error(s(476));var g=e0(r).queue;Zx(r,g,a,ie,u===null?AS:function(){return t0(r),u(f)})}function e0(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:ie},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:u},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function t0(r){var a=e0(r);a.next===null&&(a=r.alternate.memoizedState),Ja(r,a.next.queue,{},xn())}function Lf(){return Et(hl)}function n0(){return lt().memoizedState}function s0(){return lt().memoizedState}function MS(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var u=xn();r=Fs(u);var f=Vs(a,r,u);f!==null&&(en(f,a,u),qa(f,a,u)),a={cache:of()},r.payload=a;return}a=a.return}}function OS(r,a,u){var f=xn();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Go(r)?i0(a,u):(u=Jd(r,a,u,f),u!==null&&(en(u,r,f),a0(u,a,f)))}function r0(r,a,u){var f=xn();Ja(r,a,u,f)}function Ja(r,a,u,f){var g={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Go(r))i0(a,g);else{var b=r.alternate;if(r.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var N=a.lastRenderedState,C=b(N,u);if(g.hasEagerState=!0,g.eagerState=C,dn(C,N))return To(r,a,g,0),qe===null&&Eo(),!1}catch{}if(u=Jd(r,a,g,f),u!==null)return en(u,r,f),a0(u,a,f),!0}return!1}function Df(r,a,u,f){if(f={lane:2,revertLane:fh(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Go(r)){if(a)throw Error(s(479))}else a=Jd(r,u,f,2),a!==null&&en(a,r,2)}function Go(r){var a=r.alternate;return r===ve||a!==null&&a===ve}function i0(r,a){Ui=Io=!0;var u=r.pending;u===null?a.next=a:(a.next=u.next,u.next=a),r.pending=a}function a0(r,a,u){if((u&4194048)!==0){var f=a.lanes;f&=r.pendingLanes,u|=f,a.lanes=u,dg(r,u)}}var Xa={readContext:Et,use:Vo,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt};Xa.useEffectEvent=tt;var l0={readContext:Et,use:Vo,useCallback:function(r,a){return $t().memoizedState=[r,a===void 0?null:a],r},useContext:Et,useEffect:Vx,useImperativeHandle:function(r,a,u){u=u!=null?u.concat([r]):null,Ko(4194308,4,Gx.bind(null,a,r),u)},useLayoutEffect:function(r,a){return Ko(4194308,4,r,a)},useInsertionEffect:function(r,a){Ko(4,2,r,a)},useMemo:function(r,a){var u=$t();a=a===void 0?null:a;var f=r();if($r){zs(!0);try{r()}finally{zs(!1)}}return u.memoizedState=[f,a],f},useReducer:function(r,a,u){var f=$t();if(u!==void 0){var g=u(a);if($r){zs(!0);try{u(a)}finally{zs(!1)}}}else g=a;return f.memoizedState=f.baseState=g,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:g},f.queue=r,r=r.dispatch=OS.bind(null,ve,r),[f.memoizedState,r]},useRef:function(r){var a=$t();return r={current:r},a.memoizedState=r},useState:function(r){r=Ef(r);var a=r.queue,u=r0.bind(null,ve,a);return a.dispatch=u,[r.memoizedState,u]},useDebugValue:Mf,useDeferredValue:function(r,a){var u=$t();return Of(u,r,a)},useTransition:function(){var r=Ef(!1);return r=Zx.bind(null,ve,r.queue,!0,!1),$t().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,u){var f=ve,g=$t();if(Re){if(u===void 0)throw Error(s(407));u=u()}else{if(u=a(),qe===null)throw Error(s(349));(Me&127)!==0||Tx(f,a,u)}g.memoizedState=u;var b={value:u,getSnapshot:a};return g.queue=b,Vx(Mx.bind(null,f,b,r),[r]),f.flags|=2048,Pi(9,{destroy:void 0},Ax.bind(null,f,b,u,a),null),u},useId:function(){var r=$t(),a=qe.identifierPrefix;if(Re){var u=Yn,f=Kn;u=(f&~(1<<32-un(f)-1)).toString(32)+u,a="_"+a+"R_"+u,u=$o++,0<u&&(a+="H"+u.toString(32)),a+="_"}else u=SS++,a="_"+a+"r_"+u.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:Lf,useFormState:Hx,useActionState:Hx,useOptimistic:function(r){var a=$t();a.memoizedState=a.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Df.bind(null,ve,!0,u),u.dispatch=a,[r,a]},useMemoCache:Sf,useCacheRefresh:function(){return $t().memoizedState=MS.bind(null,ve)},useEffectEvent:function(r){var a=$t(),u={impl:r};return a.memoizedState=u,function(){if((ze&2)!==0)throw Error(s(440));return u.impl.apply(void 0,arguments)}}},zf={readContext:Et,use:Vo,useCallback:Jx,useContext:Et,useEffect:Af,useImperativeHandle:Wx,useInsertionEffect:Kx,useLayoutEffect:Yx,useMemo:Xx,useReducer:qo,useRef:Fx,useState:function(){return qo(fs)},useDebugValue:Mf,useDeferredValue:function(r,a){var u=lt();return Qx(u,Ie.memoizedState,r,a)},useTransition:function(){var r=qo(fs)[0],a=lt().memoizedState;return[typeof r=="boolean"?r:Wa(r),a]},useSyncExternalStore:Ex,useId:n0,useHostTransitionStatus:Lf,useFormState:Px,useActionState:Px,useOptimistic:function(r,a){var u=lt();return Lx(u,Ie,r,a)},useMemoCache:Sf,useCacheRefresh:s0};zf.useEffectEvent=qx;var o0={readContext:Et,use:Vo,useCallback:Jx,useContext:Et,useEffect:Af,useImperativeHandle:Wx,useInsertionEffect:Kx,useLayoutEffect:Yx,useMemo:Xx,useReducer:Cf,useRef:Fx,useState:function(){return Cf(fs)},useDebugValue:Mf,useDeferredValue:function(r,a){var u=lt();return Ie===null?Of(u,r,a):Qx(u,Ie.memoizedState,r,a)},useTransition:function(){var r=Cf(fs)[0],a=lt().memoizedState;return[typeof r=="boolean"?r:Wa(r),a]},useSyncExternalStore:Ex,useId:n0,useHostTransitionStatus:Lf,useFormState:$x,useActionState:$x,useOptimistic:function(r,a){var u=lt();return Ie!==null?Lx(u,Ie,r,a):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:s0};o0.useEffectEvent=qx;function _f(r,a,u,f){a=r.memoizedState,u=u(f,a),u=u==null?a:x({},a,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Bf={enqueueSetState:function(r,a,u){r=r._reactInternals;var f=xn(),g=Fs(f);g.payload=a,u!=null&&(g.callback=u),a=Vs(r,g,f),a!==null&&(en(a,r,f),qa(a,r,f))},enqueueReplaceState:function(r,a,u){r=r._reactInternals;var f=xn(),g=Fs(f);g.tag=1,g.payload=a,u!=null&&(g.callback=u),a=Vs(r,g,f),a!==null&&(en(a,r,f),qa(a,r,f))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var u=xn(),f=Fs(u);f.tag=2,a!=null&&(f.callback=a),a=Vs(r,f,u),a!==null&&(en(a,r,u),qa(a,r,u))}};function c0(r,a,u,f,g,b,N){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,b,N):a.prototype&&a.prototype.isPureReactComponent?!Ba(u,f)||!Ba(g,b):!0}function u0(r,a,u,f){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==r&&Bf.enqueueReplaceState(a,a.state,null)}function Fr(r,a){var u=a;if("ref"in a){u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}if(r=r.defaultProps){u===a&&(u=x({},u));for(var g in r)u[g]===void 0&&(u[g]=r[g])}return u}function d0(r){Co(r)}function f0(r){console.error(r)}function h0(r){Co(r)}function Wo(r,a){try{var u=r.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function p0(r,a,u){try{var f=r.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Uf(r,a,u){return u=Fs(u),u.tag=3,u.payload={element:null},u.callback=function(){Wo(r,a)},u}function m0(r){return r=Fs(r),r.tag=3,r}function g0(r,a,u,f){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var b=f.value;r.payload=function(){return g(b)},r.callback=function(){p0(a,u,f)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(r.callback=function(){p0(a,u,f),typeof g!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var C=f.stack;this.componentDidCatch(f.value,{componentStack:C!==null?C:""})})}function RS(r,a,u,f,g){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=u.alternate,a!==null&&Ri(a,u,g,!0),u=hn.current,u!==null){switch(u.tag){case 31:case 13:return En===null?lc():u.alternate===null&&nt===0&&(nt=3),u.flags&=-257,u.flags|=65536,u.lanes=g,f===_o?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([f]):a.add(f),ch(r,f,g)),!1;case 22:return u.flags|=65536,f===_o?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([f]):u.add(f)),ch(r,f,g)),!1}throw Error(s(435,u.tag))}return ch(r,f,g),lc(),!1}if(Re)return a=hn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,f!==nf&&(r=Error(s(422),{cause:f}),Pa(jn(r,u)))):(f!==nf&&(a=Error(s(423),{cause:f}),Pa(jn(a,u))),r=r.current.alternate,r.flags|=65536,g&=-g,r.lanes|=g,f=jn(f,u),g=Uf(r.stateNode,f,g),pf(r,g),nt!==4&&(nt=2)),!1;var b=Error(s(520),{cause:f});if(b=jn(b,u),il===null?il=[b]:il.push(b),nt!==4&&(nt=2),a===null)return!0;f=jn(f,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,r=g&-g,u.lanes|=r,r=Uf(u.stateNode,f,r),pf(u,r),!1;case 1:if(a=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Js===null||!Js.has(b))))return u.flags|=65536,g&=-g,u.lanes|=g,g=m0(g),g0(g,r,u,f),pf(u,g),!1}u=u.return}while(u!==null);return!1}var Hf=Error(s(461)),ht=!1;function Tt(r,a,u,f){a.child=r===null?vx(a,null,u,f):Ir(a,r.child,u,f)}function x0(r,a,u,f,g){u=u.render;var b=a.ref;if("ref"in f){var N={};for(var C in f)C!=="ref"&&(N[C]=f[C])}else N=f;return Br(a),f=vf(r,a,u,N,b,g),C=wf(),r!==null&&!ht?(Nf(r,a,g),hs(r,a,g)):(Re&&C&&ef(a),a.flags|=1,Tt(r,a,f,g),a.child)}function b0(r,a,u,f,g){if(r===null){var b=u.type;return typeof b=="function"&&!Xd(b)&&b.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=b,y0(r,a,b,f,g)):(r=Mo(u.type,null,f,a,a.mode,g),r.ref=a.ref,r.return=a,a.child=r)}if(b=r.child,!Yf(r,g)){var N=b.memoizedProps;if(u=u.compare,u=u!==null?u:Ba,u(N,f)&&r.ref===a.ref)return hs(r,a,g)}return a.flags|=1,r=as(b,f),r.ref=a.ref,r.return=a,a.child=r}function y0(r,a,u,f,g){if(r!==null){var b=r.memoizedProps;if(Ba(b,f)&&r.ref===a.ref)if(ht=!1,a.pendingProps=f=b,Yf(r,g))(r.flags&131072)!==0&&(ht=!0);else return a.lanes=r.lanes,hs(r,a,g)}return Pf(r,a,u,f,g)}function v0(r,a,u,f){var g=f.children,b=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,r!==null){for(f=a.child=r.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;f=g&~b}else f=0,a.child=null;return w0(r,a,b,u,f)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Do(a,b!==null?b.cachePool:null),b!==null?jx(a,b):gf(),Sx(a);else return f=a.lanes=536870912,w0(r,a,b!==null?b.baseLanes|u:u,u,f)}else b!==null?(Do(a,b.cachePool),jx(a,b),Ks(),a.memoizedState=null):(r!==null&&Do(a,null),gf(),Ks());return Tt(r,a,g,u),a.child}function Qa(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function w0(r,a,u,f,g){var b=uf();return b=b===null?null:{parent:dt._currentValue,pool:b},a.memoizedState={baseLanes:u,cachePool:b},r!==null&&Do(a,null),gf(),Sx(a),r!==null&&Ri(r,a,f,!0),a.childLanes=g,null}function Jo(r,a){return a=Qo({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function N0(r,a,u){return Ir(a,r.child,null,u),r=Jo(a,a.pendingProps),r.flags|=2,pn(a),a.memoizedState=null,r}function LS(r,a,u){var f=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(Re){if(f.mode==="hidden")return r=Jo(a,f),a.lanes=536870912,Qa(null,r);if(bf(a),(r=Ge)?(r=Db(r,Cn),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:Us!==null?{id:Kn,overflow:Yn}:null,retryLane:536870912,hydrationErrors:null},u=ix(r),u.return=a,a.child=u,Ct=a,Ge=null)):r=null,r===null)throw Ps(a);return a.lanes=536870912,null}return Jo(a,f)}var b=r.memoizedState;if(b!==null){var N=b.dehydrated;if(bf(a),g)if(a.flags&256)a.flags&=-257,a=N0(r,a,u);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(s(558));else if(ht||Ri(r,a,u,!1),g=(u&r.childLanes)!==0,ht||g){if(f=qe,f!==null&&(N=fg(f,u),N!==0&&N!==b.retryLane))throw b.retryLane=N,Lr(r,N),en(f,r,N),Hf;lc(),a=N0(r,a,u)}else r=b.treeContext,Ge=Tn(N.nextSibling),Ct=a,Re=!0,Hs=null,Cn=!1,r!==null&&ox(a,r),a=Jo(a,f),a.flags|=4096;return a}return r=as(r.child,{mode:f.mode,children:f.children}),r.ref=a.ref,a.child=r,r.return=a,r}function Xo(r,a){var u=a.ref;if(u===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(s(284));(r===null||r.ref!==u)&&(a.flags|=4194816)}}function Pf(r,a,u,f,g){return Br(a),u=vf(r,a,u,f,void 0,g),f=wf(),r!==null&&!ht?(Nf(r,a,g),hs(r,a,g)):(Re&&f&&ef(a),a.flags|=1,Tt(r,a,u,g),a.child)}function j0(r,a,u,f,g,b){return Br(a),a.updateQueue=null,u=Cx(a,f,u,g),kx(r),f=wf(),r!==null&&!ht?(Nf(r,a,b),hs(r,a,b)):(Re&&f&&ef(a),a.flags|=1,Tt(r,a,u,b),a.child)}function S0(r,a,u,f,g){if(Br(a),a.stateNode===null){var b=Ti,N=u.contextType;typeof N=="object"&&N!==null&&(b=Et(N)),b=new u(f,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Bf,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=f,b.state=a.memoizedState,b.refs={},ff(a),N=u.contextType,b.context=typeof N=="object"&&N!==null?Et(N):Ti,b.state=a.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(_f(a,u,N,f),b.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(N=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),N!==b.state&&Bf.enqueueReplaceState(b,b.state,null),Ya(a,f,b,g),Ka(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(r===null){b=a.stateNode;var C=a.memoizedProps,R=Fr(u,C);b.props=R;var I=b.context,W=u.contextType;N=Ti,typeof W=="object"&&W!==null&&(N=Et(W));var ee=u.getDerivedStateFromProps;W=typeof ee=="function"||typeof b.getSnapshotBeforeUpdate=="function",C=a.pendingProps!==C,W||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C||I!==N)&&u0(a,b,f,N),$s=!1;var F=a.memoizedState;b.state=F,Ya(a,f,b,g),Ka(),I=a.memoizedState,C||F!==I||$s?(typeof ee=="function"&&(_f(a,u,ee,f),I=a.memoizedState),(R=$s||c0(a,u,R,f,F,I,N))?(W||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=I),b.props=f,b.state=I,b.context=N,f=R):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{b=a.stateNode,hf(r,a),N=a.memoizedProps,W=Fr(u,N),b.props=W,ee=a.pendingProps,F=b.context,I=u.contextType,R=Ti,typeof I=="object"&&I!==null&&(R=Et(I)),C=u.getDerivedStateFromProps,(I=typeof C=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N!==ee||F!==R)&&u0(a,b,f,R),$s=!1,F=a.memoizedState,b.state=F,Ya(a,f,b,g),Ka();var q=a.memoizedState;N!==ee||F!==q||$s||r!==null&&r.dependencies!==null&&Ro(r.dependencies)?(typeof C=="function"&&(_f(a,u,C,f),q=a.memoizedState),(W=$s||c0(a,u,W,f,F,q,R)||r!==null&&r.dependencies!==null&&Ro(r.dependencies))?(I||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,q,R),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,q,R)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||N===r.memoizedProps&&F===r.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&F===r.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=q),b.props=f,b.state=q,b.context=R,f=W):(typeof b.componentDidUpdate!="function"||N===r.memoizedProps&&F===r.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&F===r.memoizedState||(a.flags|=1024),f=!1)}return b=f,Xo(r,a),f=(a.flags&128)!==0,b||f?(b=a.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,r!==null&&f?(a.child=Ir(a,r.child,null,g),a.child=Ir(a,null,u,g)):Tt(r,a,u,g),a.memoizedState=b.state,r=a.child):r=hs(r,a,g),r}function k0(r,a,u,f){return zr(),a.flags|=256,Tt(r,a,u,f),a.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $f(r){return{baseLanes:r,cachePool:px()}}function Ff(r,a,u){return r=r!==null?r.childLanes&~u:0,a&&(r|=gn),r}function C0(r,a,u){var f=a.pendingProps,g=!1,b=(a.flags&128)!==0,N;if((N=b)||(N=r!==null&&r.memoizedState===null?!1:(at.current&2)!==0),N&&(g=!0,a.flags&=-129),N=(a.flags&32)!==0,a.flags&=-33,r===null){if(Re){if(g?qs(a):Ks(),(r=Ge)?(r=Db(r,Cn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:Us!==null?{id:Kn,overflow:Yn}:null,retryLane:536870912,hydrationErrors:null},u=ix(r),u.return=a,a.child=u,Ct=a,Ge=null)):r=null,r===null)throw Ps(a);return kh(r)?a.lanes=32:a.lanes=536870912,null}var C=f.children;return f=f.fallback,g?(Ks(),g=a.mode,C=Qo({mode:"hidden",children:C},g),f=Dr(f,g,u,null),C.return=a,f.return=a,C.sibling=f,a.child=C,f=a.child,f.memoizedState=$f(u),f.childLanes=Ff(r,N,u),a.memoizedState=If,Qa(null,f)):(qs(a),Vf(a,C))}var R=r.memoizedState;if(R!==null&&(C=R.dehydrated,C!==null)){if(b)a.flags&256?(qs(a),a.flags&=-257,a=qf(r,a,u)):a.memoizedState!==null?(Ks(),a.child=r.child,a.flags|=128,a=null):(Ks(),C=f.fallback,g=a.mode,f=Qo({mode:"visible",children:f.children},g),C=Dr(C,g,u,null),C.flags|=2,f.return=a,C.return=a,f.sibling=C,a.child=f,Ir(a,r.child,null,u),f=a.child,f.memoizedState=$f(u),f.childLanes=Ff(r,N,u),a.memoizedState=If,a=Qa(null,f));else if(qs(a),kh(C)){if(N=C.nextSibling&&C.nextSibling.dataset,N)var I=N.dgst;N=I,f=Error(s(419)),f.stack="",f.digest=N,Pa({value:f,source:null,stack:null}),a=qf(r,a,u)}else if(ht||Ri(r,a,u,!1),N=(u&r.childLanes)!==0,ht||N){if(N=qe,N!==null&&(f=fg(N,u),f!==0&&f!==R.retryLane))throw R.retryLane=f,Lr(r,f),en(N,r,f),Hf;Sh(C)||lc(),a=qf(r,a,u)}else Sh(C)?(a.flags|=192,a.child=r.child,a=null):(r=R.treeContext,Ge=Tn(C.nextSibling),Ct=a,Re=!0,Hs=null,Cn=!1,r!==null&&ox(a,r),a=Vf(a,f.children),a.flags|=4096);return a}return g?(Ks(),C=f.fallback,g=a.mode,R=r.child,I=R.sibling,f=as(R,{mode:"hidden",children:f.children}),f.subtreeFlags=R.subtreeFlags&65011712,I!==null?C=as(I,C):(C=Dr(C,g,u,null),C.flags|=2),C.return=a,f.return=a,f.sibling=C,a.child=f,Qa(null,f),f=a.child,C=r.child.memoizedState,C===null?C=$f(u):(g=C.cachePool,g!==null?(R=dt._currentValue,g=g.parent!==R?{parent:R,pool:R}:g):g=px(),C={baseLanes:C.baseLanes|u,cachePool:g}),f.memoizedState=C,f.childLanes=Ff(r,N,u),a.memoizedState=If,Qa(r.child,f)):(qs(a),u=r.child,r=u.sibling,u=as(u,{mode:"visible",children:f.children}),u.return=a,u.sibling=null,r!==null&&(N=a.deletions,N===null?(a.deletions=[r],a.flags|=16):N.push(r)),a.child=u,a.memoizedState=null,u)}function Vf(r,a){return a=Qo({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function Qo(r,a){return r=fn(22,r,null,a),r.lanes=0,r}function qf(r,a,u){return Ir(a,r.child,null,u),r=Vf(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function E0(r,a,u){r.lanes|=a;var f=r.alternate;f!==null&&(f.lanes|=a),af(r.return,a,u)}function Kf(r,a,u,f,g,b){var N=r.memoizedState;N===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g,treeForkCount:b}:(N.isBackwards=a,N.rendering=null,N.renderingStartTime=0,N.last=f,N.tail=u,N.tailMode=g,N.treeForkCount=b)}function T0(r,a,u){var f=a.pendingProps,g=f.revealOrder,b=f.tail;f=f.children;var N=at.current,C=(N&2)!==0;if(C?(N=N&1|2,a.flags|=128):N&=1,re(at,N),Tt(r,a,f,u),f=Re?Ha:0,!C&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&E0(r,u,a);else if(r.tag===19)E0(r,u,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(g){case"forwards":for(u=a.child,g=null;u!==null;)r=u.alternate,r!==null&&Po(r)===null&&(g=u),u=u.sibling;u=g,u===null?(g=a.child,a.child=null):(g=u.sibling,u.sibling=null),Kf(a,!1,g,u,b,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,g=a.child,a.child=null;g!==null;){if(r=g.alternate,r!==null&&Po(r)===null){a.child=g;break}r=g.sibling,g.sibling=u,u=g,g=r}Kf(a,!0,u,null,b,f);break;case"together":Kf(a,!1,null,null,void 0,f);break;default:a.memoizedState=null}return a.child}function hs(r,a,u){if(r!==null&&(a.dependencies=r.dependencies),Ws|=a.lanes,(u&a.childLanes)===0)if(r!==null){if(Ri(r,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(s(153));if(a.child!==null){for(r=a.child,u=as(r,r.pendingProps),a.child=u,u.return=a;r.sibling!==null;)r=r.sibling,u=u.sibling=as(r,r.pendingProps),u.return=a;u.sibling=null}return a.child}function Yf(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Ro(r)))}function DS(r,a,u){switch(a.tag){case 3:It(a,a.stateNode.containerInfo),Is(a,dt,r.memoizedState.cache),zr();break;case 27:case 5:Sa(a);break;case 4:It(a,a.stateNode.containerInfo);break;case 10:Is(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,bf(a),null;break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(qs(a),a.flags|=128,null):(u&a.child.childLanes)!==0?C0(r,a,u):(qs(a),r=hs(r,a,u),r!==null?r.sibling:null);qs(a);break;case 19:var g=(r.flags&128)!==0;if(f=(u&a.childLanes)!==0,f||(Ri(r,a,u,!1),f=(u&a.childLanes)!==0),g){if(f)return T0(r,a,u);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),re(at,at.current),f)break;return null;case 22:return a.lanes=0,v0(r,a,u,a.pendingProps);case 24:Is(a,dt,r.memoizedState.cache)}return hs(r,a,u)}function A0(r,a,u){if(r!==null)if(r.memoizedProps!==a.pendingProps)ht=!0;else{if(!Yf(r,u)&&(a.flags&128)===0)return ht=!1,DS(r,a,u);ht=(r.flags&131072)!==0}else ht=!1,Re&&(a.flags&1048576)!==0&&lx(a,Ha,a.index);switch(a.lanes=0,a.tag){case 16:e:{var f=a.pendingProps;if(r=Hr(a.elementType),a.type=r,typeof r=="function")Xd(r)?(f=Fr(r,f),a.tag=1,a=S0(null,a,r,f,u)):(a.tag=0,a=Pf(null,a,r,f,u));else{if(r!=null){var g=r.$$typeof;if(g===H){a.tag=11,a=x0(null,a,r,f,u);break e}else if(g===O){a.tag=14,a=b0(null,a,r,f,u);break e}}throw a=J(r)||r,Error(s(306,a,""))}}return a;case 0:return Pf(r,a,a.type,a.pendingProps,u);case 1:return f=a.type,g=Fr(f,a.pendingProps),S0(r,a,f,g,u);case 3:e:{if(It(a,a.stateNode.containerInfo),r===null)throw Error(s(387));f=a.pendingProps;var b=a.memoizedState;g=b.element,hf(r,a),Ya(a,f,null,u);var N=a.memoizedState;if(f=N.cache,Is(a,dt,f),f!==b.cache&&lf(a,[dt],u,!0),Ka(),f=N.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:N.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=k0(r,a,f,u);break e}else if(f!==g){g=jn(Error(s(424)),a),Pa(g),a=k0(r,a,f,u);break e}else for(r=a.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Ge=Tn(r.firstChild),Ct=a,Re=!0,Hs=null,Cn=!0,u=vx(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(zr(),f===g){a=hs(r,a,u);break e}Tt(r,a,f,u)}a=a.child}return a;case 26:return Xo(r,a),r===null?(u=Pb(a.type,null,a.pendingProps,null))?a.memoizedState=u:Re||(u=a.type,r=a.pendingProps,f=pc(Ee.current).createElement(u),f[kt]=a,f[Gt]=r,At(f,u,r),yt(f),a.stateNode=f):a.memoizedState=Pb(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Sa(a),r===null&&Re&&(f=a.stateNode=Bb(a.type,a.pendingProps,Ee.current),Ct=a,Cn=!0,g=Ge,er(a.type)?(Ch=g,Ge=Tn(f.firstChild)):Ge=g),Tt(r,a,a.pendingProps.children,u),Xo(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Re&&((g=f=Ge)&&(f=uk(f,a.type,a.pendingProps,Cn),f!==null?(a.stateNode=f,Ct=a,Ge=Tn(f.firstChild),Cn=!1,g=!0):g=!1),g||Ps(a)),Sa(a),g=a.type,b=a.pendingProps,N=r!==null?r.memoizedProps:null,f=b.children,wh(g,b)?f=null:N!==null&&wh(g,N)&&(a.flags|=32),a.memoizedState!==null&&(g=vf(r,a,kS,null,null,u),hl._currentValue=g),Xo(r,a),Tt(r,a,f,u),a.child;case 6:return r===null&&Re&&((r=u=Ge)&&(u=dk(u,a.pendingProps,Cn),u!==null?(a.stateNode=u,Ct=a,Ge=null,r=!0):r=!1),r||Ps(a)),null;case 13:return C0(r,a,u);case 4:return It(a,a.stateNode.containerInfo),f=a.pendingProps,r===null?a.child=Ir(a,null,f,u):Tt(r,a,f,u),a.child;case 11:return x0(r,a,a.type,a.pendingProps,u);case 7:return Tt(r,a,a.pendingProps,u),a.child;case 8:return Tt(r,a,a.pendingProps.children,u),a.child;case 12:return Tt(r,a,a.pendingProps.children,u),a.child;case 10:return f=a.pendingProps,Is(a,a.type,f.value),Tt(r,a,f.children,u),a.child;case 9:return g=a.type._context,f=a.pendingProps.children,Br(a),g=Et(g),f=f(g),a.flags|=1,Tt(r,a,f,u),a.child;case 14:return b0(r,a,a.type,a.pendingProps,u);case 15:return y0(r,a,a.type,a.pendingProps,u);case 19:return T0(r,a,u);case 31:return LS(r,a,u);case 22:return v0(r,a,u,a.pendingProps);case 24:return Br(a),f=Et(dt),r===null?(g=uf(),g===null&&(g=qe,b=of(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=u),g=b),a.memoizedState={parent:f,cache:g},ff(a),Is(a,dt,g)):((r.lanes&u)!==0&&(hf(r,a),Ya(a,null,null,u),Ka()),g=r.memoizedState,b=a.memoizedState,g.parent!==f?(g={parent:f,cache:f},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Is(a,dt,f)):(f=b.cache,Is(a,dt,f),f!==g.cache&&lf(a,[dt],u,!0))),Tt(r,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function ps(r){r.flags|=4}function Gf(r,a,u,f,g){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(g&335544128)===g)if(r.stateNode.complete)r.flags|=8192;else if(nb())r.flags|=8192;else throw Pr=_o,df}else r.flags&=-16777217}function M0(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!qb(a))if(nb())r.flags|=8192;else throw Pr=_o,df}function Zo(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?cg():536870912,r.lanes|=a,Vi|=a)}function Za(r,a){if(!Re)switch(r.tailMode){case"hidden":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function We(r){var a=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(a)for(var g=r.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&65011712,f|=g.flags&65011712,g.return=r,g=g.sibling;else for(g=r.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=r,g=g.sibling;return r.subtreeFlags|=f,r.childLanes=u,a}function zS(r,a,u){var f=a.pendingProps;switch(tf(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(a),null;case 1:return We(a),null;case 3:return u=a.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),us(dt),it(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Oi(a)?ps(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,sf())),We(a),null;case 26:var g=a.type,b=a.memoizedState;return r===null?(ps(a),b!==null?(We(a),M0(a,b)):(We(a),Gf(a,g,null,f,u))):b?b!==r.memoizedState?(ps(a),We(a),M0(a,b)):(We(a),a.flags&=-16777217):(r=r.memoizedProps,r!==f&&ps(a),We(a),Gf(a,g,r,f,u)),null;case 27:if(co(a),u=Ee.current,g=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==f&&ps(a);else{if(!f){if(a.stateNode===null)throw Error(s(166));return We(a),null}r=le.current,Oi(a)?cx(a):(r=Bb(g,f,u),a.stateNode=r,ps(a))}return We(a),null;case 5:if(co(a),g=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==f&&ps(a);else{if(!f){if(a.stateNode===null)throw Error(s(166));return We(a),null}if(b=le.current,Oi(a))cx(a);else{var N=pc(Ee.current);switch(b){case 1:b=N.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:b=N.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":b=N.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":b=N.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":b=N.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof f.is=="string"?N.createElement("select",{is:f.is}):N.createElement("select"),f.multiple?b.multiple=!0:f.size&&(b.size=f.size);break;default:b=typeof f.is=="string"?N.createElement(g,{is:f.is}):N.createElement(g)}}b[kt]=a,b[Gt]=f;e:for(N=a.child;N!==null;){if(N.tag===5||N.tag===6)b.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===a)break e;for(;N.sibling===null;){if(N.return===null||N.return===a)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}a.stateNode=b;e:switch(At(b,g,f),g){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&ps(a)}}return We(a),Gf(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,u),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==f&&ps(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(s(166));if(r=Ee.current,Oi(a)){if(r=a.stateNode,u=a.memoizedProps,f=null,g=Ct,g!==null)switch(g.tag){case 27:case 5:f=g.memoizedProps}r[kt]=a,r=!!(r.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||Cb(r.nodeValue,u)),r||Ps(a,!0)}else r=pc(r).createTextNode(f),r[kt]=a,a.stateNode=r}return We(a),null;case 31:if(u=a.memoizedState,r===null||r.memoizedState!==null){if(f=Oi(a),u!==null){if(r===null){if(!f)throw Error(s(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(557));r[kt]=a}else zr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;We(a),r=!1}else u=sf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=u),r=!0;if(!r)return a.flags&256?(pn(a),a):(pn(a),null);if((a.flags&128)!==0)throw Error(s(558))}return We(a),null;case 13:if(f=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(g=Oi(a),f!==null&&f.dehydrated!==null){if(r===null){if(!g)throw Error(s(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[kt]=a}else zr(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;We(a),g=!1}else g=sf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(pn(a),a):(pn(a),null)}return pn(a),(a.flags&128)!==0?(a.lanes=u,a):(u=f!==null,r=r!==null&&r.memoizedState!==null,u&&(f=a.child,g=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(g=f.alternate.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==g&&(f.flags|=2048)),u!==r&&u&&(a.child.flags|=8192),Zo(a,a.updateQueue),We(a),null);case 4:return it(),r===null&&gh(a.stateNode.containerInfo),We(a),null;case 10:return us(a.type),We(a),null;case 19:if(Z(at),f=a.memoizedState,f===null)return We(a),null;if(g=(a.flags&128)!==0,b=f.rendering,b===null)if(g)Za(f,!1);else{if(nt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(b=Po(r),b!==null){for(a.flags|=128,Za(f,!1),r=b.updateQueue,a.updateQueue=r,Zo(a,r),a.subtreeFlags=0,r=u,u=a.child;u!==null;)rx(u,r),u=u.sibling;return re(at,at.current&1|2),Re&&ls(a,f.treeForkCount),a.child}r=r.sibling}f.tail!==null&&on()>rc&&(a.flags|=128,g=!0,Za(f,!1),a.lanes=4194304)}else{if(!g)if(r=Po(b),r!==null){if(a.flags|=128,g=!0,r=r.updateQueue,a.updateQueue=r,Zo(a,r),Za(f,!0),f.tail===null&&f.tailMode==="hidden"&&!b.alternate&&!Re)return We(a),null}else 2*on()-f.renderingStartTime>rc&&u!==536870912&&(a.flags|=128,g=!0,Za(f,!1),a.lanes=4194304);f.isBackwards?(b.sibling=a.child,a.child=b):(r=f.last,r!==null?r.sibling=b:a.child=b,f.last=b)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=on(),r.sibling=null,u=at.current,re(at,g?u&1|2:u&1),Re&&ls(a,f.treeForkCount),r):(We(a),null);case 22:case 23:return pn(a),xf(),f=a.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(u&536870912)!==0&&(a.flags&128)===0&&(We(a),a.subtreeFlags&6&&(a.flags|=8192)):We(a),u=a.updateQueue,u!==null&&Zo(a,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048),r!==null&&Z(Ur),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),us(dt),We(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function _S(r,a){switch(tf(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return us(dt),it(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return co(a),null;case 31:if(a.memoizedState!==null){if(pn(a),a.alternate===null)throw Error(s(340));zr()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(pn(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(s(340));zr()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return Z(at),null;case 4:return it(),null;case 10:return us(a.type),null;case 22:case 23:return pn(a),xf(),r!==null&&Z(Ur),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return us(dt),null;case 25:return null;default:return null}}function O0(r,a){switch(tf(a),a.tag){case 3:us(dt),it();break;case 26:case 27:case 5:co(a);break;case 4:it();break;case 31:a.memoizedState!==null&&pn(a);break;case 13:pn(a);break;case 19:Z(at);break;case 10:us(a.type);break;case 22:case 23:pn(a),xf(),r!==null&&Z(Ur);break;case 24:us(dt)}}function el(r,a){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&r)===r){f=void 0;var b=u.create,N=u.inst;f=b(),N.destroy=f}u=u.next}while(u!==g)}}catch(C){He(a,a.return,C)}}function Ys(r,a,u){try{var f=a.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var b=g.next;f=b;do{if((f.tag&r)===r){var N=f.inst,C=N.destroy;if(C!==void 0){N.destroy=void 0,g=a;var R=u,I=C;try{I()}catch(W){He(g,R,W)}}}f=f.next}while(f!==b)}}catch(W){He(a,a.return,W)}}function R0(r){var a=r.updateQueue;if(a!==null){var u=r.stateNode;try{Nx(a,u)}catch(f){He(r,r.return,f)}}}function L0(r,a,u){u.props=Fr(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(f){He(r,a,f)}}function tl(r,a){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof u=="function"?r.refCleanup=u(f):u.current=f}}catch(g){He(r,a,g)}}function Gn(r,a){var u=r.ref,f=r.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(g){He(r,a,g)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){He(r,a,g)}else u.current=null}function D0(r){var a=r.type,u=r.memoizedProps,f=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(g){He(r,r.return,g)}}function Wf(r,a,u){try{var f=r.stateNode;rk(f,r.type,u,a),f[Gt]=a}catch(g){He(r,r.return,g)}}function z0(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&er(r.type)||r.tag===4}function Jf(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||z0(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&er(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Xf(r,a,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(r),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=rs));else if(f!==4&&(f===27&&er(r.type)&&(u=r.stateNode,a=null),r=r.child,r!==null))for(Xf(r,a,u),r=r.sibling;r!==null;)Xf(r,a,u),r=r.sibling}function ec(r,a,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,a?u.insertBefore(r,a):u.appendChild(r);else if(f!==4&&(f===27&&er(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(ec(r,a,u),r=r.sibling;r!==null;)ec(r,a,u),r=r.sibling}function _0(r){var a=r.stateNode,u=r.memoizedProps;try{for(var f=r.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);At(a,f,u),a[kt]=r,a[Gt]=u}catch(b){He(r,r.return,b)}}var ms=!1,pt=!1,Qf=!1,B0=typeof WeakSet=="function"?WeakSet:Set,vt=null;function BS(r,a){if(r=r.containerInfo,yh=wc,r=Wg(r),Vd(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var N=0,C=-1,R=-1,I=0,W=0,ee=r,F=null;t:for(;;){for(var q;ee!==u||g!==0&&ee.nodeType!==3||(C=N+g),ee!==b||f!==0&&ee.nodeType!==3||(R=N+f),ee.nodeType===3&&(N+=ee.nodeValue.length),(q=ee.firstChild)!==null;)F=ee,ee=q;for(;;){if(ee===r)break t;if(F===u&&++I===g&&(C=N),F===b&&++W===f&&(R=N),(q=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=q}u=C===-1||R===-1?null:{start:C,end:R}}else u=null}u=u||{start:0,end:0}}else u=null;for(vh={focusedElem:r,selectionRange:u},wc=!1,vt=a;vt!==null;)if(a=vt,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,vt=r;else for(;vt!==null;){switch(a=vt,b=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(u=0;u<r.length;u++)g=r[u],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&b!==null){r=void 0,u=a,g=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var oe=Fr(u.type,g);r=f.getSnapshotBeforeUpdate(oe,b),f.__reactInternalSnapshotBeforeUpdate=r}catch(pe){He(u,u.return,pe)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,u=r.nodeType,u===9)jh(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":jh(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=a.sibling,r!==null){r.return=a.return,vt=r;break}vt=a.return}}function U0(r,a,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:xs(r,u),f&4&&el(5,u);break;case 1:if(xs(r,u),f&4)if(r=u.stateNode,a===null)try{r.componentDidMount()}catch(N){He(u,u.return,N)}else{var g=Fr(u.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(g,a,r.__reactInternalSnapshotBeforeUpdate)}catch(N){He(u,u.return,N)}}f&64&&R0(u),f&512&&tl(u,u.return);break;case 3:if(xs(r,u),f&64&&(r=u.updateQueue,r!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{Nx(r,a)}catch(N){He(u,u.return,N)}}break;case 27:a===null&&f&4&&_0(u);case 26:case 5:xs(r,u),a===null&&f&4&&D0(u),f&512&&tl(u,u.return);break;case 12:xs(r,u);break;case 31:xs(r,u),f&4&&I0(r,u);break;case 13:xs(r,u),f&4&&$0(r,u),f&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=KS.bind(null,u),fk(r,u))));break;case 22:if(f=u.memoizedState!==null||ms,!f){a=a!==null&&a.memoizedState!==null||pt,g=ms;var b=pt;ms=f,(pt=a)&&!b?bs(r,u,(u.subtreeFlags&8772)!==0):xs(r,u),ms=g,pt=b}break;case 30:break;default:xs(r,u)}}function H0(r){var a=r.alternate;a!==null&&(r.alternate=null,H0(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Ed(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Xe=null,Jt=!1;function gs(r,a,u){for(u=u.child;u!==null;)P0(r,a,u),u=u.sibling}function P0(r,a,u){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(ka,u)}catch{}switch(u.tag){case 26:pt||Gn(u,a),gs(r,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:pt||Gn(u,a);var f=Xe,g=Jt;er(u.type)&&(Xe=u.stateNode,Jt=!1),gs(r,a,u),ul(u.stateNode),Xe=f,Jt=g;break;case 5:pt||Gn(u,a);case 6:if(f=Xe,g=Jt,Xe=null,gs(r,a,u),Xe=f,Jt=g,Xe!==null)if(Jt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(u.stateNode)}catch(b){He(u,a,b)}else try{Xe.removeChild(u.stateNode)}catch(b){He(u,a,b)}break;case 18:Xe!==null&&(Jt?(r=Xe,Rb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),Qi(r)):Rb(Xe,u.stateNode));break;case 4:f=Xe,g=Jt,Xe=u.stateNode.containerInfo,Jt=!0,gs(r,a,u),Xe=f,Jt=g;break;case 0:case 11:case 14:case 15:Ys(2,u,a),pt||Ys(4,u,a),gs(r,a,u);break;case 1:pt||(Gn(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"&&L0(u,a,f)),gs(r,a,u);break;case 21:gs(r,a,u);break;case 22:pt=(f=pt)||u.memoizedState!==null,gs(r,a,u),pt=f;break;default:gs(r,a,u)}}function I0(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Qi(r)}catch(u){He(a,a.return,u)}}}function $0(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Qi(r)}catch(u){He(a,a.return,u)}}function US(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new B0),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new B0),a;default:throw Error(s(435,r.tag))}}function tc(r,a){var u=US(r);a.forEach(function(f){if(!u.has(f)){u.add(f);var g=YS.bind(null,r,f);f.then(g,g)}})}function Xt(r,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f],b=r,N=a,C=N;e:for(;C!==null;){switch(C.tag){case 27:if(er(C.type)){Xe=C.stateNode,Jt=!1;break e}break;case 5:Xe=C.stateNode,Jt=!1;break e;case 3:case 4:Xe=C.stateNode.containerInfo,Jt=!0;break e}C=C.return}if(Xe===null)throw Error(s(160));P0(b,N,g),Xe=null,Jt=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)F0(a,r),a=a.sibling}var Un=null;function F0(r,a){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Xt(a,r),Qt(r),f&4&&(Ys(3,r,r.return),el(3,r),Ys(5,r,r.return));break;case 1:Xt(a,r),Qt(r),f&512&&(pt||u===null||Gn(u,u.return)),f&64&&ms&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var g=Un;if(Xt(a,r),Qt(r),f&512&&(pt||u===null||Gn(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=r.memoizedState,u===null)if(f===null)if(r.stateNode===null){e:{f=r.type,u=r.memoizedProps,g=g.ownerDocument||g;t:switch(f){case"title":b=g.getElementsByTagName("title")[0],(!b||b[Ta]||b[kt]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(f),g.head.insertBefore(b,g.querySelector("head > title"))),At(b,f,u),b[kt]=r,yt(b),f=b;break e;case"link":var N=Fb("link","href",g).get(f+(u.href||""));if(N){for(var C=0;C<N.length;C++)if(b=N[C],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(C,1);break t}}b=g.createElement(f),At(b,f,u),g.head.appendChild(b);break;case"meta":if(N=Fb("meta","content",g).get(f+(u.content||""))){for(C=0;C<N.length;C++)if(b=N[C],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(C,1);break t}}b=g.createElement(f),At(b,f,u),g.head.appendChild(b);break;default:throw Error(s(468,f))}b[kt]=r,yt(b),f=b}r.stateNode=f}else Vb(g,r.type,r.stateNode);else r.stateNode=$b(g,f,r.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?Vb(g,r.type,r.stateNode):$b(g,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Wf(r,r.memoizedProps,u.memoizedProps)}break;case 27:Xt(a,r),Qt(r),f&512&&(pt||u===null||Gn(u,u.return)),u!==null&&f&4&&Wf(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Xt(a,r),Qt(r),f&512&&(pt||u===null||Gn(u,u.return)),r.flags&32){g=r.stateNode;try{wi(g,"")}catch(oe){He(r,r.return,oe)}}f&4&&r.stateNode!=null&&(g=r.memoizedProps,Wf(r,g,u!==null?u.memoizedProps:g)),f&1024&&(Qf=!0);break;case 6:if(Xt(a,r),Qt(r),f&4){if(r.stateNode===null)throw Error(s(162));f=r.memoizedProps,u=r.stateNode;try{u.nodeValue=f}catch(oe){He(r,r.return,oe)}}break;case 3:if(xc=null,g=Un,Un=mc(a.containerInfo),Xt(a,r),Un=g,Qt(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Qi(a.containerInfo)}catch(oe){He(r,r.return,oe)}Qf&&(Qf=!1,V0(r));break;case 4:f=Un,Un=mc(r.stateNode.containerInfo),Xt(a,r),Qt(r),Un=f;break;case 12:Xt(a,r),Qt(r);break;case 31:Xt(a,r),Qt(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,tc(r,f)));break;case 13:Xt(a,r),Qt(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(sc=on()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,tc(r,f)));break;case 22:g=r.memoizedState!==null;var R=u!==null&&u.memoizedState!==null,I=ms,W=pt;if(ms=I||g,pt=W||R,Xt(a,r),pt=W,ms=I,Qt(r),f&8192)e:for(a=r.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(u===null||R||ms||pt||Vr(r)),u=null,a=r;;){if(a.tag===5||a.tag===26){if(u===null){R=u=a;try{if(b=R.stateNode,g)N=b.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{C=R.stateNode;var ee=R.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;C.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(oe){He(R,R.return,oe)}}}else if(a.tag===6){if(u===null){R=a;try{R.stateNode.nodeValue=g?"":R.memoizedProps}catch(oe){He(R,R.return,oe)}}}else if(a.tag===18){if(u===null){R=a;try{var q=R.stateNode;g?Lb(q,!0):Lb(R.stateNode,!1)}catch(oe){He(R,R.return,oe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=r.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,tc(r,u))));break;case 19:Xt(a,r),Qt(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,tc(r,f)));break;case 30:break;case 21:break;default:Xt(a,r),Qt(r)}}function Qt(r){var a=r.flags;if(a&2){try{for(var u,f=r.return;f!==null;){if(z0(f)){u=f;break}f=f.return}if(u==null)throw Error(s(160));switch(u.tag){case 27:var g=u.stateNode,b=Jf(r);ec(r,b,g);break;case 5:var N=u.stateNode;u.flags&32&&(wi(N,""),u.flags&=-33);var C=Jf(r);ec(r,C,N);break;case 3:case 4:var R=u.stateNode.containerInfo,I=Jf(r);Xf(r,I,R);break;default:throw Error(s(161))}}catch(W){He(r,r.return,W)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function V0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;V0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function xs(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)U0(r,a.alternate,a),a=a.sibling}function Vr(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Ys(4,a,a.return),Vr(a);break;case 1:Gn(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&L0(a,a.return,u),Vr(a);break;case 27:ul(a.stateNode);case 26:case 5:Gn(a,a.return),Vr(a);break;case 22:a.memoizedState===null&&Vr(a);break;case 30:Vr(a);break;default:Vr(a)}r=r.sibling}}function bs(r,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,g=r,b=a,N=b.flags;switch(b.tag){case 0:case 11:case 15:bs(g,b,u),el(4,b);break;case 1:if(bs(g,b,u),f=b,g=f.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(I){He(f,f.return,I)}if(f=b,g=f.updateQueue,g!==null){var C=f.stateNode;try{var R=g.shared.hiddenCallbacks;if(R!==null)for(g.shared.hiddenCallbacks=null,g=0;g<R.length;g++)wx(R[g],C)}catch(I){He(f,f.return,I)}}u&&N&64&&R0(b),tl(b,b.return);break;case 27:_0(b);case 26:case 5:bs(g,b,u),u&&f===null&&N&4&&D0(b),tl(b,b.return);break;case 12:bs(g,b,u);break;case 31:bs(g,b,u),u&&N&4&&I0(g,b);break;case 13:bs(g,b,u),u&&N&4&&$0(g,b);break;case 22:b.memoizedState===null&&bs(g,b,u),tl(b,b.return);break;case 30:break;default:bs(g,b,u)}a=a.sibling}}function Zf(r,a){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Ia(u))}function eh(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Ia(r))}function Hn(r,a,u,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)q0(r,a,u,f),a=a.sibling}function q0(r,a,u,f){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Hn(r,a,u,f),g&2048&&el(9,a);break;case 1:Hn(r,a,u,f);break;case 3:Hn(r,a,u,f),g&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Ia(r)));break;case 12:if(g&2048){Hn(r,a,u,f),r=a.stateNode;try{var b=a.memoizedProps,N=b.id,C=b.onPostCommit;typeof C=="function"&&C(N,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(R){He(a,a.return,R)}}else Hn(r,a,u,f);break;case 31:Hn(r,a,u,f);break;case 13:Hn(r,a,u,f);break;case 23:break;case 22:b=a.stateNode,N=a.alternate,a.memoizedState!==null?b._visibility&2?Hn(r,a,u,f):nl(r,a):b._visibility&2?Hn(r,a,u,f):(b._visibility|=2,Ii(r,a,u,f,(a.subtreeFlags&10256)!==0||!1)),g&2048&&Zf(N,a);break;case 24:Hn(r,a,u,f),g&2048&&eh(a.alternate,a);break;default:Hn(r,a,u,f)}}function Ii(r,a,u,f,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=r,N=a,C=u,R=f,I=N.flags;switch(N.tag){case 0:case 11:case 15:Ii(b,N,C,R,g),el(8,N);break;case 23:break;case 22:var W=N.stateNode;N.memoizedState!==null?W._visibility&2?Ii(b,N,C,R,g):nl(b,N):(W._visibility|=2,Ii(b,N,C,R,g)),g&&I&2048&&Zf(N.alternate,N);break;case 24:Ii(b,N,C,R,g),g&&I&2048&&eh(N.alternate,N);break;default:Ii(b,N,C,R,g)}a=a.sibling}}function nl(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=r,f=a,g=f.flags;switch(f.tag){case 22:nl(u,f),g&2048&&Zf(f.alternate,f);break;case 24:nl(u,f),g&2048&&eh(f.alternate,f);break;default:nl(u,f)}a=a.sibling}}var sl=8192;function $i(r,a,u){if(r.subtreeFlags&sl)for(r=r.child;r!==null;)K0(r,a,u),r=r.sibling}function K0(r,a,u){switch(r.tag){case 26:$i(r,a,u),r.flags&sl&&r.memoizedState!==null&&Sk(u,Un,r.memoizedState,r.memoizedProps);break;case 5:$i(r,a,u);break;case 3:case 4:var f=Un;Un=mc(r.stateNode.containerInfo),$i(r,a,u),Un=f;break;case 22:r.memoizedState===null&&(f=r.alternate,f!==null&&f.memoizedState!==null?(f=sl,sl=16777216,$i(r,a,u),sl=f):$i(r,a,u));break;default:$i(r,a,u)}}function Y0(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function rl(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];vt=f,W0(f,r)}Y0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)G0(r),r=r.sibling}function G0(r){switch(r.tag){case 0:case 11:case 15:rl(r),r.flags&2048&&Ys(9,r,r.return);break;case 3:rl(r);break;case 12:rl(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,nc(r)):rl(r);break;default:rl(r)}}function nc(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];vt=f,W0(f,r)}Y0(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Ys(8,a,a.return),nc(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,nc(a));break;default:nc(a)}r=r.sibling}}function W0(r,a){for(;vt!==null;){var u=vt;switch(u.tag){case 0:case 11:case 15:Ys(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Ia(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,vt=f;else e:for(u=r;vt!==null;){f=vt;var g=f.sibling,b=f.return;if(H0(f),f===u){vt=null;break e}if(g!==null){g.return=b,vt=g;break e}vt=b}}}var HS={getCacheForType:function(r){var a=Et(dt),u=a.data.get(r);return u===void 0&&(u=r(),a.data.set(r,u)),u},cacheSignal:function(){return Et(dt).controller.signal}},PS=typeof WeakMap=="function"?WeakMap:Map,ze=0,qe=null,Te=null,Me=0,Ue=0,mn=null,Gs=!1,Fi=!1,th=!1,ys=0,nt=0,Ws=0,qr=0,nh=0,gn=0,Vi=0,il=null,Zt=null,sh=!1,sc=0,J0=0,rc=1/0,ic=null,Js=null,xt=0,Xs=null,qi=null,vs=0,rh=0,ih=null,X0=null,al=0,ah=null;function xn(){return(ze&2)!==0&&Me!==0?Me&-Me:M.T!==null?fh():hg()}function Q0(){if(gn===0)if((Me&536870912)===0||Re){var r=ho;ho<<=1,(ho&3932160)===0&&(ho=262144),gn=r}else gn=536870912;return r=hn.current,r!==null&&(r.flags|=32),gn}function en(r,a,u){(r===qe&&(Ue===2||Ue===9)||r.cancelPendingCommit!==null)&&(Ki(r,0),Qs(r,Me,gn,!1)),Ea(r,u),((ze&2)===0||r!==qe)&&(r===qe&&((ze&2)===0&&(qr|=u),nt===4&&Qs(r,Me,gn,!1)),Wn(r))}function Z0(r,a,u){if((ze&6)!==0)throw Error(s(327));var f=!u&&(a&127)===0&&(a&r.expiredLanes)===0||Ca(r,a),g=f?FS(r,a):oh(r,a,!0),b=f;do{if(g===0){Fi&&!f&&Qs(r,a,0,!1);break}else{if(u=r.current.alternate,b&&!IS(u)){g=oh(r,a,!1),b=!1;continue}if(g===2){if(b=a,r.errorRecoveryDisabledLanes&b)var N=0;else N=r.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){a=N;e:{var C=r;g=il;var R=C.current.memoizedState.isDehydrated;if(R&&(Ki(C,N).flags|=256),N=oh(C,N,!1),N!==2){if(th&&!R){C.errorRecoveryDisabledLanes|=b,qr|=b,g=4;break e}b=Zt,Zt=g,b!==null&&(Zt===null?Zt=b:Zt.push.apply(Zt,b))}g=N}if(b=!1,g!==2)continue}}if(g===1){Ki(r,0),Qs(r,a,0,!0);break}e:{switch(f=r,b=g,b){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:Qs(f,a,gn,!Gs);break e;case 2:Zt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(g=sc+300-on(),10<g)){if(Qs(f,a,gn,!Gs),mo(f,0,!0)!==0)break e;vs=a,f.timeoutHandle=Mb(eb.bind(null,f,u,Zt,ic,sh,a,gn,qr,Vi,Gs,b,"Throttled",-0,0),g);break e}eb(f,u,Zt,ic,sh,a,gn,qr,Vi,Gs,b,null,-0,0)}}break}while(!0);Wn(r)}function eb(r,a,u,f,g,b,N,C,R,I,W,ee,F,q){if(r.timeoutHandle=-1,ee=a.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:rs},K0(a,b,ee);var oe=(b&62914560)===b?sc-on():(b&4194048)===b?J0-on():0;if(oe=kk(ee,oe),oe!==null){vs=b,r.cancelPendingCommit=oe(ob.bind(null,r,a,b,u,f,g,N,C,R,W,ee,null,F,q)),Qs(r,b,N,!I);return}}ob(r,a,b,u,f,g,N,C,R)}function IS(r){for(var a=r;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var g=u[f],b=g.getSnapshot;g=g.value;try{if(!dn(b(),g))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Qs(r,a,u,f){a&=~nh,a&=~qr,r.suspendedLanes|=a,r.pingedLanes&=~a,f&&(r.warmLanes|=a),f=r.expirationTimes;for(var g=a;0<g;){var b=31-un(g),N=1<<b;f[b]=-1,g&=~N}u!==0&&ug(r,u,a)}function ac(){return(ze&6)===0?(ll(0),!1):!0}function lh(){if(Te!==null){if(Ue===0)var r=Te.return;else r=Te,cs=_r=null,jf(r),_i=null,Fa=0,r=Te;for(;r!==null;)O0(r.alternate,r),r=r.return;Te=null}}function Ki(r,a){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,lk(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),vs=0,lh(),qe=r,Te=u=as(r.current,null),Me=a,Ue=0,mn=null,Gs=!1,Fi=Ca(r,a),th=!1,Vi=gn=nh=qr=Ws=nt=0,Zt=il=null,sh=!1,(a&8)!==0&&(a|=a&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=a;0<f;){var g=31-un(f),b=1<<g;a|=r[g],f&=~b}return ys=a,Eo(),u}function tb(r,a){ve=null,M.H=Xa,a===zi||a===zo?(a=xx(),Ue=3):a===df?(a=xx(),Ue=4):Ue=a===Hf?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,mn=a,Te===null&&(nt=1,Wo(r,jn(a,r.current)))}function nb(){var r=hn.current;return r===null?!0:(Me&4194048)===Me?En===null:(Me&62914560)===Me||(Me&536870912)!==0?r===En:!1}function sb(){var r=M.H;return M.H=Xa,r===null?Xa:r}function rb(){var r=M.A;return M.A=HS,r}function lc(){nt=4,Gs||(Me&4194048)!==Me&&hn.current!==null||(Fi=!0),(Ws&134217727)===0&&(qr&134217727)===0||qe===null||Qs(qe,Me,gn,!1)}function oh(r,a,u){var f=ze;ze|=2;var g=sb(),b=rb();(qe!==r||Me!==a)&&(ic=null,Ki(r,a)),a=!1;var N=nt;e:do try{if(Ue!==0&&Te!==null){var C=Te,R=mn;switch(Ue){case 8:lh(),N=6;break e;case 3:case 2:case 9:case 6:hn.current===null&&(a=!0);var I=Ue;if(Ue=0,mn=null,Yi(r,C,R,I),u&&Fi){N=0;break e}break;default:I=Ue,Ue=0,mn=null,Yi(r,C,R,I)}}$S(),N=nt;break}catch(W){tb(r,W)}while(!0);return a&&r.shellSuspendCounter++,cs=_r=null,ze=f,M.H=g,M.A=b,Te===null&&(qe=null,Me=0,Eo()),N}function $S(){for(;Te!==null;)ib(Te)}function FS(r,a){var u=ze;ze|=2;var f=sb(),g=rb();qe!==r||Me!==a?(ic=null,rc=on()+500,Ki(r,a)):Fi=Ca(r,a);e:do try{if(Ue!==0&&Te!==null){a=Te;var b=mn;t:switch(Ue){case 1:Ue=0,mn=null,Yi(r,a,b,1);break;case 2:case 9:if(mx(b)){Ue=0,mn=null,ab(a);break}a=function(){Ue!==2&&Ue!==9||qe!==r||(Ue=7),Wn(r)},b.then(a,a);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:mx(b)?(Ue=0,mn=null,ab(a)):(Ue=0,mn=null,Yi(r,a,b,7));break;case 5:var N=null;switch(Te.tag){case 26:N=Te.memoizedState;case 5:case 27:var C=Te;if(N?qb(N):C.stateNode.complete){Ue=0,mn=null;var R=C.sibling;if(R!==null)Te=R;else{var I=C.return;I!==null?(Te=I,oc(I)):Te=null}break t}}Ue=0,mn=null,Yi(r,a,b,5);break;case 6:Ue=0,mn=null,Yi(r,a,b,6);break;case 8:lh(),nt=6;break e;default:throw Error(s(462))}}VS();break}catch(W){tb(r,W)}while(!0);return cs=_r=null,M.H=f,M.A=g,ze=u,Te!==null?0:(qe=null,Me=0,Eo(),nt)}function VS(){for(;Te!==null&&!hj();)ib(Te)}function ib(r){var a=A0(r.alternate,r,ys);r.memoizedProps=r.pendingProps,a===null?oc(r):Te=a}function ab(r){var a=r,u=a.alternate;switch(a.tag){case 15:case 0:a=j0(u,a,a.pendingProps,a.type,void 0,Me);break;case 11:a=j0(u,a,a.pendingProps,a.type.render,a.ref,Me);break;case 5:jf(a);default:O0(u,a),a=Te=rx(a,ys),a=A0(u,a,ys)}r.memoizedProps=r.pendingProps,a===null?oc(r):Te=a}function Yi(r,a,u,f){cs=_r=null,jf(a),_i=null,Fa=0;var g=a.return;try{if(RS(r,g,a,u,Me)){nt=1,Wo(r,jn(u,r.current)),Te=null;return}}catch(b){if(g!==null)throw Te=g,b;nt=1,Wo(r,jn(u,r.current)),Te=null;return}a.flags&32768?(Re||f===1?r=!0:Fi||(Me&536870912)!==0?r=!1:(Gs=r=!0,(f===2||f===9||f===3||f===6)&&(f=hn.current,f!==null&&f.tag===13&&(f.flags|=16384))),lb(a,r)):oc(a)}function oc(r){var a=r;do{if((a.flags&32768)!==0){lb(a,Gs);return}r=a.return;var u=zS(a.alternate,a,ys);if(u!==null){Te=u;return}if(a=a.sibling,a!==null){Te=a;return}Te=a=r}while(a!==null);nt===0&&(nt=5)}function lb(r,a){do{var u=_S(r.alternate,r);if(u!==null){u.flags&=32767,Te=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(r=r.sibling,r!==null)){Te=r;return}Te=r=u}while(r!==null);nt=6,Te=null}function ob(r,a,u,f,g,b,N,C,R){r.cancelPendingCommit=null;do cc();while(xt!==0);if((ze&6)!==0)throw Error(s(327));if(a!==null){if(a===r.current)throw Error(s(177));if(b=a.lanes|a.childLanes,b|=Wd,jj(r,u,b,N,C,R),r===qe&&(Te=qe=null,Me=0),qi=a,Xs=r,vs=u,rh=b,ih=g,X0=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,GS(uo,function(){return hb(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=M.T,M.T=null,g=K.p,K.p=2,N=ze,ze|=4;try{BS(r,a,u)}finally{ze=N,K.p=g,M.T=f}}xt=1,cb(),ub(),db()}}function cb(){if(xt===1){xt=0;var r=Xs,a=qi,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=M.T,M.T=null;var f=K.p;K.p=2;var g=ze;ze|=4;try{F0(a,r);var b=vh,N=Wg(r.containerInfo),C=b.focusedElem,R=b.selectionRange;if(N!==C&&C&&C.ownerDocument&&Gg(C.ownerDocument.documentElement,C)){if(R!==null&&Vd(C)){var I=R.start,W=R.end;if(W===void 0&&(W=I),"selectionStart"in C)C.selectionStart=I,C.selectionEnd=Math.min(W,C.value.length);else{var ee=C.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var q=F.getSelection(),oe=C.textContent.length,pe=Math.min(R.start,oe),Fe=R.end===void 0?pe:Math.min(R.end,oe);!q.extend&&pe>Fe&&(N=Fe,Fe=pe,pe=N);var _=Yg(C,pe),D=Yg(C,Fe);if(_&&D&&(q.rangeCount!==1||q.anchorNode!==_.node||q.anchorOffset!==_.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=ee.createRange();P.setStart(_.node,_.offset),q.removeAllRanges(),pe>Fe?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(ee=[],q=C;q=q.parentNode;)q.nodeType===1&&ee.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ee.length;C++){var Q=ee[C];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}wc=!!yh,vh=yh=null}finally{ze=g,K.p=f,M.T=u}}r.current=a,xt=2}}function ub(){if(xt===2){xt=0;var r=Xs,a=qi,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=M.T,M.T=null;var f=K.p;K.p=2;var g=ze;ze|=4;try{U0(r,a.alternate,a)}finally{ze=g,K.p=f,M.T=u}}xt=3}}function db(){if(xt===4||xt===3){xt=0,pj();var r=Xs,a=qi,u=vs,f=X0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?xt=5:(xt=0,qi=Xs=null,fb(r,r.pendingLanes));var g=r.pendingLanes;if(g===0&&(Js=null),kd(u),a=a.stateNode,cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(ka,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=M.T,g=K.p,K.p=2,M.T=null;try{for(var b=r.onRecoverableError,N=0;N<f.length;N++){var C=f[N];b(C.value,{componentStack:C.stack})}}finally{M.T=a,K.p=g}}(vs&3)!==0&&cc(),Wn(r),g=r.pendingLanes,(u&261930)!==0&&(g&42)!==0?r===ah?al++:(al=0,ah=r):al=0,ll(0)}}function fb(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Ia(a)))}function cc(){return cb(),ub(),db(),hb()}function hb(){if(xt!==5)return!1;var r=Xs,a=rh;rh=0;var u=kd(vs),f=M.T,g=K.p;try{K.p=32>u?32:u,M.T=null,u=ih,ih=null;var b=Xs,N=vs;if(xt=0,qi=Xs=null,vs=0,(ze&6)!==0)throw Error(s(331));var C=ze;if(ze|=4,G0(b.current),q0(b,b.current,N,u),ze=C,ll(0,!1),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(ka,b)}catch{}return!0}finally{K.p=g,M.T=f,fb(r,a)}}function pb(r,a,u){a=jn(u,a),a=Uf(r.stateNode,a,2),r=Vs(r,a,2),r!==null&&(Ea(r,2),Wn(r))}function He(r,a,u){if(r.tag===3)pb(r,r,u);else for(;a!==null;){if(a.tag===3){pb(a,r,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Js===null||!Js.has(f))){r=jn(u,r),u=m0(2),f=Vs(a,u,2),f!==null&&(g0(u,f,a,r),Ea(f,2),Wn(f));break}}a=a.return}}function ch(r,a,u){var f=r.pingCache;if(f===null){f=r.pingCache=new PS;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(u)||(th=!0,g.add(u),r=qS.bind(null,r,a,u),a.then(r,r))}function qS(r,a,u){var f=r.pingCache;f!==null&&f.delete(a),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,qe===r&&(Me&u)===u&&(nt===4||nt===3&&(Me&62914560)===Me&&300>on()-sc?(ze&2)===0&&Ki(r,0):nh|=u,Vi===Me&&(Vi=0)),Wn(r)}function mb(r,a){a===0&&(a=cg()),r=Lr(r,a),r!==null&&(Ea(r,a),Wn(r))}function KS(r){var a=r.memoizedState,u=0;a!==null&&(u=a.retryLane),mb(r,u)}function YS(r,a){var u=0;switch(r.tag){case 31:case 13:var f=r.stateNode,g=r.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(s(314))}f!==null&&f.delete(a),mb(r,u)}function GS(r,a){return wd(r,a)}var uc=null,Gi=null,uh=!1,dc=!1,dh=!1,Zs=0;function Wn(r){r!==Gi&&r.next===null&&(Gi===null?uc=Gi=r:Gi=Gi.next=r),dc=!0,uh||(uh=!0,JS())}function ll(r,a){if(!dh&&dc){dh=!0;do for(var u=!1,f=uc;f!==null;){if(r!==0){var g=f.pendingLanes;if(g===0)var b=0;else{var N=f.suspendedLanes,C=f.pingedLanes;b=(1<<31-un(42|r)+1)-1,b&=g&~(N&~C),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,yb(f,b))}else b=Me,b=mo(f,f===qe?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||Ca(f,b)||(u=!0,yb(f,b));f=f.next}while(u);dh=!1}}function WS(){gb()}function gb(){dc=uh=!1;var r=0;Zs!==0&&ak()&&(r=Zs);for(var a=on(),u=null,f=uc;f!==null;){var g=f.next,b=xb(f,a);b===0?(f.next=null,u===null?uc=g:u.next=g,g===null&&(Gi=u)):(u=f,(r!==0||(b&3)!==0)&&(dc=!0)),f=g}xt!==0&&xt!==5||ll(r),Zs!==0&&(Zs=0)}function xb(r,a){for(var u=r.suspendedLanes,f=r.pingedLanes,g=r.expirationTimes,b=r.pendingLanes&-62914561;0<b;){var N=31-un(b),C=1<<N,R=g[N];R===-1?((C&u)===0||(C&f)!==0)&&(g[N]=Nj(C,a)):R<=a&&(r.expiredLanes|=C),b&=~C}if(a=qe,u=Me,u=mo(r,r===a?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,u===0||r===a&&(Ue===2||Ue===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&Nd(f),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||Ca(r,u)){if(a=u&-u,a===r.callbackPriority)return a;switch(f!==null&&Nd(f),kd(u)){case 2:case 8:u=lg;break;case 32:u=uo;break;case 268435456:u=og;break;default:u=uo}return f=bb.bind(null,r),u=wd(u,f),r.callbackPriority=a,r.callbackNode=u,a}return f!==null&&f!==null&&Nd(f),r.callbackPriority=2,r.callbackNode=null,2}function bb(r,a){if(xt!==0&&xt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(cc()&&r.callbackNode!==u)return null;var f=Me;return f=mo(r,r===qe?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(Z0(r,f,a),xb(r,on()),r.callbackNode!=null&&r.callbackNode===u?bb.bind(null,r):null)}function yb(r,a){if(cc())return null;Z0(r,a,!0)}function JS(){ok(function(){(ze&6)!==0?wd(ag,WS):gb()})}function fh(){if(Zs===0){var r=Li;r===0&&(r=fo,fo<<=1,(fo&261888)===0&&(fo=256)),Zs=r}return Zs}function vb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:yo(""+r)}function wb(r,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,r.id&&u.setAttribute("form",r.id),a.parentNode.insertBefore(u,a),r=new FormData(r),u.parentNode.removeChild(u),r}function XS(r,a,u,f,g){if(a==="submit"&&u&&u.stateNode===g){var b=vb((g[Gt]||null).action),N=f.submitter;N&&(a=(a=N[Gt]||null)?vb(a.formAction):N.getAttribute("formAction"),a!==null&&(b=a,N=null));var C=new jo("action","action",null,f,g);r.push({event:C,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Zs!==0){var R=N?wb(g,N):new FormData(g);Rf(u,{pending:!0,data:R,method:g.method,action:b},null,R)}}else typeof b=="function"&&(C.preventDefault(),R=N?wb(g,N):new FormData(g),Rf(u,{pending:!0,data:R,method:g.method,action:b},b,R))},currentTarget:g}]})}}for(var hh=0;hh<Gd.length;hh++){var ph=Gd[hh],QS=ph.toLowerCase(),ZS=ph[0].toUpperCase()+ph.slice(1);Bn(QS,"on"+ZS)}Bn(Qg,"onAnimationEnd"),Bn(Zg,"onAnimationIteration"),Bn(ex,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(mS,"onTransitionRun"),Bn(gS,"onTransitionStart"),Bn(xS,"onTransitionCancel"),Bn(tx,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ar("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ek=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function Nb(r,a){a=(a&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],g=f.event;f=f.listeners;e:{var b=void 0;if(a)for(var N=f.length-1;0<=N;N--){var C=f[N],R=C.instance,I=C.currentTarget;if(C=C.listener,R!==b&&g.isPropagationStopped())break e;b=C,g.currentTarget=I;try{b(g)}catch(W){Co(W)}g.currentTarget=null,b=R}else for(N=0;N<f.length;N++){if(C=f[N],R=C.instance,I=C.currentTarget,C=C.listener,R!==b&&g.isPropagationStopped())break e;b=C,g.currentTarget=I;try{b(g)}catch(W){Co(W)}g.currentTarget=null,b=R}}}}function Ae(r,a){var u=a[Cd];u===void 0&&(u=a[Cd]=new Set);var f=r+"__bubble";u.has(f)||(jb(a,r,2,!1),u.add(f))}function mh(r,a,u){var f=0;a&&(f|=4),jb(u,r,f,a)}var fc="_reactListening"+Math.random().toString(36).slice(2);function gh(r){if(!r[fc]){r[fc]=!0,gg.forEach(function(u){u!=="selectionchange"&&(ek.has(u)||mh(u,!1,r),mh(u,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[fc]||(a[fc]=!0,mh("selectionchange",!1,a))}}function jb(r,a,u,f){switch(Qb(a)){case 2:var g=Tk;break;case 8:g=Ak;break;default:g=Oh}u=g.bind(null,a,u,r),g=void 0,!zd||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?r.addEventListener(a,u,{capture:!0,passive:g}):r.addEventListener(a,u,!0):g!==void 0?r.addEventListener(a,u,{passive:g}):r.addEventListener(a,u,!1)}function xh(r,a,u,f,g){var b=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var N=f.tag;if(N===3||N===4){var C=f.stateNode.containerInfo;if(C===g)break;if(N===4)for(N=f.return;N!==null;){var R=N.tag;if((R===3||R===4)&&N.stateNode.containerInfo===g)return;N=N.return}for(;C!==null;){if(N=gi(C),N===null)return;if(R=N.tag,R===5||R===6||R===26||R===27){f=b=N;continue e}C=C.parentNode}}f=f.return}Tg(function(){var I=b,W=Ld(u),ee=[];e:{var F=nx.get(r);if(F!==void 0){var q=jo,oe=r;switch(r){case"keypress":if(wo(u)===0)break e;case"keydown":case"keyup":q=Yj;break;case"focusin":oe="focus",q=Hd;break;case"focusout":oe="blur",q=Hd;break;case"beforeblur":case"afterblur":q=Hd;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Og;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=zj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Jj;break;case Qg:case Zg:case ex:q=Uj;break;case tx:q=Qj;break;case"scroll":case"scrollend":q=Lj;break;case"wheel":q=eS;break;case"copy":case"cut":case"paste":q=Pj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Lg;break;case"toggle":case"beforetoggle":q=nS}var pe=(a&4)!==0,Fe=!pe&&(r==="scroll"||r==="scrollend"),_=pe?F!==null?F+"Capture":null:F;pe=[];for(var D=I,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||_===null||(Q=Ma(D,_),Q!=null&&pe.push(cl(D,Q,P))),Fe)break;D=D.return}0<pe.length&&(F=new q(F,oe,null,u,W),ee.push({event:F,listeners:pe}))}}if((a&7)===0){e:{if(F=r==="mouseover"||r==="pointerover",q=r==="mouseout"||r==="pointerout",F&&u!==Rd&&(oe=u.relatedTarget||u.fromElement)&&(gi(oe)||oe[mi]))break e;if((q||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,q?(oe=u.relatedTarget||u.toElement,q=I,oe=oe?gi(oe):null,oe!==null&&(Fe=l(oe),pe=oe.tag,oe!==Fe||pe!==5&&pe!==27&&pe!==6)&&(oe=null)):(q=null,oe=I),q!==oe)){if(pe=Og,Q="onMouseLeave",_="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(pe=Lg,Q="onPointerLeave",_="onPointerEnter",D="pointer"),Fe=q==null?F:Aa(q),P=oe==null?F:Aa(oe),F=new pe(Q,D+"leave",q,u,W),F.target=Fe,F.relatedTarget=P,Q=null,gi(W)===I&&(pe=new pe(_,D+"enter",oe,u,W),pe.target=P,pe.relatedTarget=Fe,Q=pe),Fe=Q,q&&oe)t:{for(pe=tk,_=q,D=oe,P=0,Q=_;Q;Q=pe(Q))P++;Q=0;for(var de=D;de;de=pe(de))Q++;for(;0<P-Q;)_=pe(_),P--;for(;0<Q-P;)D=pe(D),Q--;for(;P--;){if(_===D||D!==null&&_===D.alternate){pe=_;break t}_=pe(_),D=pe(D)}pe=null}else pe=null;q!==null&&Sb(ee,F,q,pe,!1),oe!==null&&Fe!==null&&Sb(ee,Fe,oe,pe,!0)}}e:{if(F=I?Aa(I):window,q=F.nodeName&&F.nodeName.toLowerCase(),q==="select"||q==="input"&&F.type==="file")var Le=Ig;else if(Hg(F))if($g)Le=fS;else{Le=uS;var ce=cS}else q=F.nodeName,!q||q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?I&&Od(I.elementType)&&(Le=Ig):Le=dS;if(Le&&(Le=Le(r,I))){Pg(ee,Le,u,W);break e}ce&&ce(r,F,I),r==="focusout"&&I&&F.type==="number"&&I.memoizedProps.value!=null&&Md(F,"number",F.value)}switch(ce=I?Aa(I):window,r){case"focusin":(Hg(ce)||ce.contentEditable==="true")&&(ki=ce,qd=I,Ua=null);break;case"focusout":Ua=qd=ki=null;break;case"mousedown":Kd=!0;break;case"contextmenu":case"mouseup":case"dragend":Kd=!1,Jg(ee,u,W);break;case"selectionchange":if(pS)break;case"keydown":case"keyup":Jg(ee,u,W)}var Ne;if(Id)e:{switch(r){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Si?Bg(r,u)&&(Oe="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Oe="onCompositionStart");Oe&&(Dg&&u.locale!=="ko"&&(Si||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Si&&(Ne=Ag()):(Bs=W,_d="value"in Bs?Bs.value:Bs.textContent,Si=!0)),ce=hc(I,Oe),0<ce.length&&(Oe=new Rg(Oe,r,null,u,W),ee.push({event:Oe,listeners:ce}),Ne?Oe.data=Ne:(Ne=Ug(u),Ne!==null&&(Oe.data=Ne)))),(Ne=rS?iS(r,u):aS(r,u))&&(Oe=hc(I,"onBeforeInput"),0<Oe.length&&(ce=new Rg("onBeforeInput","beforeinput",null,u,W),ee.push({event:ce,listeners:Oe}),ce.data=Ne)),XS(ee,r,I,u,W)}Nb(ee,a)})}function cl(r,a,u){return{instance:r,listener:a,currentTarget:u}}function hc(r,a){for(var u=a+"Capture",f=[];r!==null;){var g=r,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=Ma(r,u),g!=null&&f.unshift(cl(r,g,b)),g=Ma(r,a),g!=null&&f.push(cl(r,g,b))),r.tag===3)return f;r=r.return}return[]}function tk(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Sb(r,a,u,f,g){for(var b=a._reactName,N=[];u!==null&&u!==f;){var C=u,R=C.alternate,I=C.stateNode;if(C=C.tag,R!==null&&R===f)break;C!==5&&C!==26&&C!==27||I===null||(R=I,g?(I=Ma(u,b),I!=null&&N.unshift(cl(u,I,R))):g||(I=Ma(u,b),I!=null&&N.push(cl(u,I,R)))),u=u.return}N.length!==0&&r.push({event:a,listeners:N})}var nk=/\r\n?/g,sk=/\u0000|\uFFFD/g;function kb(r){return(typeof r=="string"?r:""+r).replace(nk,`
`).replace(sk,"")}function Cb(r,a){return a=kb(a),kb(r)===a}function $e(r,a,u,f,g,b){switch(u){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||wi(r,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&wi(r,""+f);break;case"className":xo(r,"class",f);break;case"tabIndex":xo(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":xo(r,u,f);break;case"style":Cg(r,f,b);break;case"data":if(a!=="object"){xo(r,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||u!=="href")){r.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=yo(""+f),r.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(a!=="input"&&$e(r,a,"name",g.name,g,null),$e(r,a,"formEncType",g.formEncType,g,null),$e(r,a,"formMethod",g.formMethod,g,null),$e(r,a,"formTarget",g.formTarget,g,null)):($e(r,a,"encType",g.encType,g,null),$e(r,a,"method",g.method,g,null),$e(r,a,"target",g.target,g,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=yo(""+f),r.setAttribute(u,f);break;case"onClick":f!=null&&(r.onclick=rs);break;case"onScroll":f!=null&&Ae("scroll",r);break;case"onScrollEnd":f!=null&&Ae("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(u=f.__html,u!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=u}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}u=yo(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""+f):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":f===!0?r.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,f):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(u,f):r.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(u):r.setAttribute(u,f);break;case"popover":Ae("beforetoggle",r),Ae("toggle",r),go(r,"popover",f);break;case"xlinkActuate":ss(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":ss(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":ss(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":ss(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":ss(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":ss(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":ss(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":ss(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":ss(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":go(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Oj.get(u)||u,go(r,u,f))}}function bh(r,a,u,f,g,b){switch(u){case"style":Cg(r,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(u=f.__html,u!=null){if(g.children!=null)throw Error(s(60));r.innerHTML=u}}break;case"children":typeof f=="string"?wi(r,f):(typeof f=="number"||typeof f=="bigint")&&wi(r,""+f);break;case"onScroll":f!=null&&Ae("scroll",r);break;case"onScrollEnd":f!=null&&Ae("scrollend",r);break;case"onClick":f!=null&&(r.onclick=rs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xg.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),a=u.slice(2,g?u.length-7:void 0),b=r[Gt]||null,b=b!=null?b[u]:null,typeof b=="function"&&r.removeEventListener(a,b,g),typeof f=="function")){typeof b!="function"&&b!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(a,f,g);break e}u in r?r[u]=f:f===!0?r.setAttribute(u,""):go(r,u,f)}}}function At(r,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",r),Ae("load",r);var f=!1,g=!1,b;for(b in u)if(u.hasOwnProperty(b)){var N=u[b];if(N!=null)switch(b){case"src":f=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:$e(r,a,b,N,u,null)}}g&&$e(r,a,"srcSet",u.srcSet,u,null),f&&$e(r,a,"src",u.src,u,null);return;case"input":Ae("invalid",r);var C=b=N=g=null,R=null,I=null;for(f in u)if(u.hasOwnProperty(f)){var W=u[f];if(W!=null)switch(f){case"name":g=W;break;case"type":N=W;break;case"checked":R=W;break;case"defaultChecked":I=W;break;case"value":b=W;break;case"defaultValue":C=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,a));break;default:$e(r,a,f,W,u,null)}}Ng(r,b,C,R,I,N,g,!1);return;case"select":Ae("invalid",r),f=N=b=null;for(g in u)if(u.hasOwnProperty(g)&&(C=u[g],C!=null))switch(g){case"value":b=C;break;case"defaultValue":N=C;break;case"multiple":f=C;default:$e(r,a,g,C,u,null)}a=b,u=N,r.multiple=!!f,a!=null?vi(r,!!f,a,!1):u!=null&&vi(r,!!f,u,!0);return;case"textarea":Ae("invalid",r),b=g=f=null;for(N in u)if(u.hasOwnProperty(N)&&(C=u[N],C!=null))switch(N){case"value":f=C;break;case"defaultValue":g=C;break;case"children":b=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:$e(r,a,N,C,u,null)}Sg(r,f,g,b);return;case"option":for(R in u)u.hasOwnProperty(R)&&(f=u[R],f!=null)&&(R==="selected"?r.selected=f&&typeof f!="function"&&typeof f!="symbol":$e(r,a,R,f,u,null));return;case"dialog":Ae("beforetoggle",r),Ae("toggle",r),Ae("cancel",r),Ae("close",r);break;case"iframe":case"object":Ae("load",r);break;case"video":case"audio":for(f=0;f<ol.length;f++)Ae(ol[f],r);break;case"image":Ae("error",r),Ae("load",r);break;case"details":Ae("toggle",r);break;case"embed":case"source":case"link":Ae("error",r),Ae("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in u)if(u.hasOwnProperty(I)&&(f=u[I],f!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:$e(r,a,I,f,u,null)}return;default:if(Od(a)){for(W in u)u.hasOwnProperty(W)&&(f=u[W],f!==void 0&&bh(r,a,W,f,u,void 0));return}}for(C in u)u.hasOwnProperty(C)&&(f=u[C],f!=null&&$e(r,a,C,f,u,null))}function rk(r,a,u,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,N=null,C=null,R=null,I=null,W=null;for(q in u){var ee=u[q];if(u.hasOwnProperty(q)&&ee!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=ee;default:f.hasOwnProperty(q)||$e(r,a,q,null,f,ee)}}for(var F in f){var q=f[F];if(ee=u[F],f.hasOwnProperty(F)&&(q!=null||ee!=null))switch(F){case"type":b=q;break;case"name":g=q;break;case"checked":I=q;break;case"defaultChecked":W=q;break;case"value":N=q;break;case"defaultValue":C=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,a));break;default:q!==ee&&$e(r,a,F,q,f,ee)}}Ad(r,N,C,R,I,W,b,g);return;case"select":q=N=C=F=null;for(b in u)if(R=u[b],u.hasOwnProperty(b)&&R!=null)switch(b){case"value":break;case"multiple":q=R;default:f.hasOwnProperty(b)||$e(r,a,b,null,f,R)}for(g in f)if(b=f[g],R=u[g],f.hasOwnProperty(g)&&(b!=null||R!=null))switch(g){case"value":F=b;break;case"defaultValue":C=b;break;case"multiple":N=b;default:b!==R&&$e(r,a,g,b,f,R)}a=C,u=N,f=q,F!=null?vi(r,!!u,F,!1):!!f!=!!u&&(a!=null?vi(r,!!u,a,!0):vi(r,!!u,u?[]:"",!1));return;case"textarea":q=F=null;for(C in u)if(g=u[C],u.hasOwnProperty(C)&&g!=null&&!f.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:$e(r,a,C,null,f,g)}for(N in f)if(g=f[N],b=u[N],f.hasOwnProperty(N)&&(g!=null||b!=null))switch(N){case"value":F=g;break;case"defaultValue":q=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==b&&$e(r,a,N,g,f,b)}jg(r,F,q);return;case"option":for(var oe in u)F=u[oe],u.hasOwnProperty(oe)&&F!=null&&!f.hasOwnProperty(oe)&&(oe==="selected"?r.selected=!1:$e(r,a,oe,null,f,F));for(R in f)F=f[R],q=u[R],f.hasOwnProperty(R)&&F!==q&&(F!=null||q!=null)&&(R==="selected"?r.selected=F&&typeof F!="function"&&typeof F!="symbol":$e(r,a,R,F,f,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in u)F=u[pe],u.hasOwnProperty(pe)&&F!=null&&!f.hasOwnProperty(pe)&&$e(r,a,pe,null,f,F);for(I in f)if(F=f[I],q=u[I],f.hasOwnProperty(I)&&F!==q&&(F!=null||q!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,a));break;default:$e(r,a,I,F,f,q)}return;default:if(Od(a)){for(var Fe in u)F=u[Fe],u.hasOwnProperty(Fe)&&F!==void 0&&!f.hasOwnProperty(Fe)&&bh(r,a,Fe,void 0,f,F);for(W in f)F=f[W],q=u[W],!f.hasOwnProperty(W)||F===q||F===void 0&&q===void 0||bh(r,a,W,F,f,q);return}}for(var _ in u)F=u[_],u.hasOwnProperty(_)&&F!=null&&!f.hasOwnProperty(_)&&$e(r,a,_,null,f,F);for(ee in f)F=f[ee],q=u[ee],!f.hasOwnProperty(ee)||F===q||F==null&&q==null||$e(r,a,ee,F,f,q)}function Eb(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ik(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var g=u[f],b=g.transferSize,N=g.initiatorType,C=g.duration;if(b&&C&&Eb(N)){for(N=0,C=g.responseEnd,f+=1;f<u.length;f++){var R=u[f],I=R.startTime;if(I>C)break;var W=R.transferSize,ee=R.initiatorType;W&&Eb(ee)&&(R=R.responseEnd,N+=W*(R<C?1:(C-I)/(R-I)))}if(--f,a+=8*(b+N)/(g.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var yh=null,vh=null;function pc(r){return r.nodeType===9?r:r.ownerDocument}function Tb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ab(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function wh(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Nh=null;function ak(){var r=window.event;return r&&r.type==="popstate"?r===Nh?!1:(Nh=r,!0):(Nh=null,!1)}var Mb=typeof setTimeout=="function"?setTimeout:void 0,lk=typeof clearTimeout=="function"?clearTimeout:void 0,Ob=typeof Promise=="function"?Promise:void 0,ok=typeof queueMicrotask=="function"?queueMicrotask:typeof Ob<"u"?function(r){return Ob.resolve(null).then(r).catch(ck)}:Mb;function ck(r){setTimeout(function(){throw r})}function er(r){return r==="head"}function Rb(r,a){var u=a,f=0;do{var g=u.nextSibling;if(r.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"||u==="/&"){if(f===0){r.removeChild(g),Qi(a);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")ul(r.ownerDocument.documentElement);else if(u==="head"){u=r.ownerDocument.head,ul(u);for(var b=u.firstChild;b;){var N=b.nextSibling,C=b.nodeName;b[Ta]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=N}}else u==="body"&&ul(r.ownerDocument.body);u=g}while(u);Qi(a)}function Lb(r,a){var u=r;r=0;do{var f=u.nextSibling;if(u.nodeType===1?a?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(a?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(r===0)break;r--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||r++;u=f}while(u)}function jh(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":jh(u),Ed(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function uk(r,a,u,f){for(;r.nodeType===1;){var g=u;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Ta])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(b=r.getAttribute("rel"),b==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(b!==g.rel||r.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||r.getAttribute("title")!==(g.title==null?null:g.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(b=r.getAttribute("src"),(b!==(g.src==null?null:g.src)||r.getAttribute("type")!==(g.type==null?null:g.type)||r.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&r.getAttribute("name")===b)return r}else return r;if(r=Tn(r.nextSibling),r===null)break}return null}function dk(r,a,u){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Tn(r.nextSibling),r===null))return null;return r}function Db(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Tn(r.nextSibling),r===null))return null;return r}function Sh(r){return r.data==="$?"||r.data==="$~"}function kh(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function fk(r,a){var u=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||u.readyState!=="loading")a();else{var f=function(){a(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function Tn(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var Ch=null;function zb(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"||u==="/&"){if(a===0)return Tn(r.nextSibling);a--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||a++}r=r.nextSibling}return null}function _b(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(a===0)return r;a--}else u!=="/$"&&u!=="/&"||a++}r=r.previousSibling}return null}function Bb(r,a,u){switch(a=pc(u),r){case"html":if(r=a.documentElement,!r)throw Error(s(452));return r;case"head":if(r=a.head,!r)throw Error(s(453));return r;case"body":if(r=a.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function ul(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Ed(r)}var An=new Map,Ub=new Set;function mc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ws=K.d;K.d={f:hk,r:pk,D:mk,C:gk,L:xk,m:bk,X:vk,S:yk,M:wk};function hk(){var r=ws.f(),a=ac();return r||a}function pk(r){var a=xi(r);a!==null&&a.tag===5&&a.type==="form"?t0(a):ws.r(r)}var Wi=typeof document>"u"?null:document;function Hb(r,a,u){var f=Wi;if(f&&typeof a=="string"&&a){var g=wn(a);g='link[rel="'+r+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),Ub.has(g)||(Ub.add(g),r={rel:r,crossOrigin:u,href:a},f.querySelector(g)===null&&(a=f.createElement("link"),At(a,"link",r),yt(a),f.head.appendChild(a)))}}function mk(r){ws.D(r),Hb("dns-prefetch",r,null)}function gk(r,a){ws.C(r,a),Hb("preconnect",r,a)}function xk(r,a,u){ws.L(r,a,u);var f=Wi;if(f&&r&&a){var g='link[rel="preload"][as="'+wn(a)+'"]';a==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+wn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+wn(u.imageSizes)+'"]')):g+='[href="'+wn(r)+'"]';var b=g;switch(a){case"style":b=Ji(r);break;case"script":b=Xi(r)}An.has(b)||(r=x({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:r,as:a},u),An.set(b,r),f.querySelector(g)!==null||a==="style"&&f.querySelector(dl(b))||a==="script"&&f.querySelector(fl(b))||(a=f.createElement("link"),At(a,"link",r),yt(a),f.head.appendChild(a)))}}function bk(r,a){ws.m(r,a);var u=Wi;if(u&&r){var f=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+wn(f)+'"][href="'+wn(r)+'"]',b=g;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Xi(r)}if(!An.has(b)&&(r=x({rel:"modulepreload",href:r},a),An.set(b,r),u.querySelector(g)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(fl(b)))return}f=u.createElement("link"),At(f,"link",r),yt(f),u.head.appendChild(f)}}}function yk(r,a,u){ws.S(r,a,u);var f=Wi;if(f&&r){var g=bi(f).hoistableStyles,b=Ji(r);a=a||"default";var N=g.get(b);if(!N){var C={loading:0,preload:null};if(N=f.querySelector(dl(b)))C.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":a},u),(u=An.get(b))&&Eh(r,u);var R=N=f.createElement("link");yt(R),At(R,"link",r),R._p=new Promise(function(I,W){R.onload=I,R.onerror=W}),R.addEventListener("load",function(){C.loading|=1}),R.addEventListener("error",function(){C.loading|=2}),C.loading|=4,gc(N,a,f)}N={type:"stylesheet",instance:N,count:1,state:C},g.set(b,N)}}}function vk(r,a){ws.X(r,a);var u=Wi;if(u&&r){var f=bi(u).hoistableScripts,g=Xi(r),b=f.get(g);b||(b=u.querySelector(fl(g)),b||(r=x({src:r,async:!0},a),(a=An.get(g))&&Th(r,a),b=u.createElement("script"),yt(b),At(b,"link",r),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(g,b))}}function wk(r,a){ws.M(r,a);var u=Wi;if(u&&r){var f=bi(u).hoistableScripts,g=Xi(r),b=f.get(g);b||(b=u.querySelector(fl(g)),b||(r=x({src:r,async:!0,type:"module"},a),(a=An.get(g))&&Th(r,a),b=u.createElement("script"),yt(b),At(b,"link",r),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(g,b))}}function Pb(r,a,u,f){var g=(g=Ee.current)?mc(g):null;if(!g)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=Ji(u.href),u=bi(g).hoistableStyles,f=u.get(a),f||(f={type:"style",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=Ji(u.href);var b=bi(g).hoistableStyles,N=b.get(r);if(N||(g=g.ownerDocument||g,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(r,N),(b=g.querySelector(dl(r)))&&!b._p&&(N.instance=b,N.state.loading=5),An.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},An.set(r,u),b||Nk(g,r,u,N.state))),a&&f===null)throw Error(s(528,""));return N}if(a&&f!==null)throw Error(s(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Xi(u),u=bi(g).hoistableScripts,f=u.get(a),f||(f={type:"script",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Ji(r){return'href="'+wn(r)+'"'}function dl(r){return'link[rel="stylesheet"]['+r+"]"}function Ib(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function Nk(r,a,u,f){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=r.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),At(a,"link",u),yt(a),r.head.appendChild(a))}function Xi(r){return'[src="'+wn(r)+'"]'}function fl(r){return"script[async]"+r}function $b(r,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var f=r.querySelector('style[data-href~="'+wn(u.href)+'"]');if(f)return a.instance=f,yt(f),f;var g=x({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),yt(f),At(f,"style",g),gc(f,u.precedence,r),a.instance=f;case"stylesheet":g=Ji(u.href);var b=r.querySelector(dl(g));if(b)return a.state.loading|=4,a.instance=b,yt(b),b;f=Ib(u),(g=An.get(g))&&Eh(f,g),b=(r.ownerDocument||r).createElement("link"),yt(b);var N=b;return N._p=new Promise(function(C,R){N.onload=C,N.onerror=R}),At(b,"link",f),a.state.loading|=4,gc(b,u.precedence,r),a.instance=b;case"script":return b=Xi(u.src),(g=r.querySelector(fl(b)))?(a.instance=g,yt(g),g):(f=u,(g=An.get(b))&&(f=x({},u),Th(f,g)),r=r.ownerDocument||r,g=r.createElement("script"),yt(g),At(g,"link",f),r.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,gc(f,u.precedence,r));return a.instance}function gc(r,a,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=f.length?f[f.length-1]:null,b=g,N=0;N<f.length;N++){var C=f[N];if(C.dataset.precedence===a)b=C;else if(b!==g)break}b?b.parentNode.insertBefore(r,b.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(r,a.firstChild))}function Eh(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Th(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var xc=null;function Fb(r,a,u){if(xc===null){var f=new Map,g=xc=new Map;g.set(u,f)}else g=xc,f=g.get(u),f||(f=new Map,g.set(u,f));if(f.has(r))return f;for(f.set(r,null),u=u.getElementsByTagName(r),g=0;g<u.length;g++){var b=u[g];if(!(b[Ta]||b[kt]||r==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var N=b.getAttribute(a)||"";N=r+N;var C=f.get(N);C?C.push(b):f.set(N,[b])}}return f}function Vb(r,a,u){r=r.ownerDocument||r,r.head.insertBefore(u,a==="title"?r.querySelector("head > title"):null)}function jk(r,a,u){if(u===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(r=a.disabled,typeof a.precedence=="string"&&r==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function qb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function Sk(r,a,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var g=Ji(f.href),b=a.querySelector(dl(g));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=bc.bind(r),a.then(r,r)),u.state.loading|=4,u.instance=b,yt(b);return}b=a.ownerDocument||a,f=Ib(f),(g=An.get(g))&&Eh(f,g),b=b.createElement("link"),yt(b);var N=b;N._p=new Promise(function(C,R){N.onload=C,N.onerror=R}),At(b,"link",f),u.instance=b}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(u,a),(a=u.state.preload)&&(u.state.loading&3)===0&&(r.count++,u=bc.bind(r),a.addEventListener("load",u),a.addEventListener("error",u))}}var Ah=0;function kk(r,a){return r.stylesheets&&r.count===0&&vc(r,r.stylesheets),0<r.count||0<r.imgCount?function(u){var f=setTimeout(function(){if(r.stylesheets&&vc(r,r.stylesheets),r.unsuspend){var b=r.unsuspend;r.unsuspend=null,b()}},6e4+a);0<r.imgBytes&&Ah===0&&(Ah=62500*ik());var g=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&vc(r,r.stylesheets),r.unsuspend)){var b=r.unsuspend;r.unsuspend=null,b()}},(r.imgBytes>Ah?50:800)+a);return r.unsuspend=u,function(){r.unsuspend=null,clearTimeout(f),clearTimeout(g)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var yc=null;function vc(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,yc=new Map,a.forEach(Ck,r),yc=null,bc.call(r))}function Ck(r,a){if(!(a.state.loading&4)){var u=yc.get(r);if(u)var f=u.get(null);else{u=new Map,yc.set(r,u);for(var g=r.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var N=g[b];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),f=N)}f&&u.set(null,f)}g=a.instance,N=g.getAttribute("data-precedence"),b=u.get(N)||f,b===f&&u.set(null,g),u.set(N,g),this.count++,f=bc.bind(this),g.addEventListener("load",f),g.addEventListener("error",f),b?b.parentNode.insertBefore(g,b.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(g,r.firstChild)),a.state.loading|=4}}var hl={$$typeof:A,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function Ek(r,a,u,f,g,b,N,C,R){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jd(0),this.hiddenUpdates=jd(null),this.identifierPrefix=f,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Kb(r,a,u,f,g,b,N,C,R,I,W,ee){return r=new Ek(r,a,u,N,R,I,W,ee,C),a=1,b===!0&&(a|=24),b=fn(3,null,null,a),r.current=b,b.stateNode=r,a=of(),a.refCount++,r.pooledCache=a,a.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:a},ff(b),r}function Yb(r){return r?(r=Ti,r):Ti}function Gb(r,a,u,f,g,b){g=Yb(g),f.context===null?f.context=g:f.pendingContext=g,f=Fs(a),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=Vs(r,f,a),u!==null&&(en(u,r,a),qa(u,r,a))}function Wb(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<a?u:a}}function Mh(r,a){Wb(r,a),(r=r.alternate)&&Wb(r,a)}function Jb(r){if(r.tag===13||r.tag===31){var a=Lr(r,67108864);a!==null&&en(a,r,67108864),Mh(r,67108864)}}function Xb(r){if(r.tag===13||r.tag===31){var a=xn();a=Sd(a);var u=Lr(r,a);u!==null&&en(u,r,a),Mh(r,a)}}var wc=!0;function Tk(r,a,u,f){var g=M.T;M.T=null;var b=K.p;try{K.p=2,Oh(r,a,u,f)}finally{K.p=b,M.T=g}}function Ak(r,a,u,f){var g=M.T;M.T=null;var b=K.p;try{K.p=8,Oh(r,a,u,f)}finally{K.p=b,M.T=g}}function Oh(r,a,u,f){if(wc){var g=Rh(f);if(g===null)xh(r,a,f,Nc,u),Zb(r,f);else if(Ok(g,r,a,u,f))f.stopPropagation();else if(Zb(r,f),a&4&&-1<Mk.indexOf(r)){for(;g!==null;){var b=xi(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var N=Tr(b.pendingLanes);if(N!==0){var C=b;for(C.pendingLanes|=2,C.entangledLanes|=2;N;){var R=1<<31-un(N);C.entanglements[1]|=R,N&=~R}Wn(b),(ze&6)===0&&(rc=on()+500,ll(0))}}break;case 31:case 13:C=Lr(b,2),C!==null&&en(C,b,2),ac(),Mh(b,2)}if(b=Rh(f),b===null&&xh(r,a,f,Nc,u),b===g)break;g=b}g!==null&&f.stopPropagation()}else xh(r,a,f,null,u)}}function Rh(r){return r=Ld(r),Lh(r)}var Nc=null;function Lh(r){if(Nc=null,r=gi(r),r!==null){var a=l(r);if(a===null)r=null;else{var u=a.tag;if(u===13){if(r=c(a),r!==null)return r;r=null}else if(u===31){if(r=d(a),r!==null)return r;r=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Nc=r,null}function Qb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mj()){case ag:return 2;case lg:return 8;case uo:case gj:return 32;case og:return 268435456;default:return 32}default:return 32}}var Dh=!1,tr=null,nr=null,sr=null,pl=new Map,ml=new Map,rr=[],Mk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zb(r,a){switch(r){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":pl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(a.pointerId)}}function gl(r,a,u,f,g,b){return r===null||r.nativeEvent!==b?(r={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[g]},a!==null&&(a=xi(a),a!==null&&Jb(a)),r):(r.eventSystemFlags|=f,a=r.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),r)}function Ok(r,a,u,f,g){switch(a){case"focusin":return tr=gl(tr,r,a,u,f,g),!0;case"dragenter":return nr=gl(nr,r,a,u,f,g),!0;case"mouseover":return sr=gl(sr,r,a,u,f,g),!0;case"pointerover":var b=g.pointerId;return pl.set(b,gl(pl.get(b)||null,r,a,u,f,g)),!0;case"gotpointercapture":return b=g.pointerId,ml.set(b,gl(ml.get(b)||null,r,a,u,f,g)),!0}return!1}function ey(r){var a=gi(r.target);if(a!==null){var u=l(a);if(u!==null){if(a=u.tag,a===13){if(a=c(u),a!==null){r.blockedOn=a,pg(r.priority,function(){Xb(u)});return}}else if(a===31){if(a=d(u),a!==null){r.blockedOn=a,pg(r.priority,function(){Xb(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function jc(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var u=Rh(r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);Rd=f,u.target.dispatchEvent(f),Rd=null}else return a=xi(u),a!==null&&Jb(a),r.blockedOn=u,!1;a.shift()}return!0}function ty(r,a,u){jc(r)&&u.delete(a)}function Rk(){Dh=!1,tr!==null&&jc(tr)&&(tr=null),nr!==null&&jc(nr)&&(nr=null),sr!==null&&jc(sr)&&(sr=null),pl.forEach(ty),ml.forEach(ty)}function Sc(r,a){r.blockedOn===a&&(r.blockedOn=null,Dh||(Dh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Rk)))}var kc=null;function ny(r){kc!==r&&(kc=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){kc===r&&(kc=null);for(var a=0;a<r.length;a+=3){var u=r[a],f=r[a+1],g=r[a+2];if(typeof f!="function"){if(Lh(f||u)===null)continue;break}var b=xi(u);b!==null&&(r.splice(a,3),a-=3,Rf(b,{pending:!0,data:g,method:u.method,action:f},f,g))}}))}function Qi(r){function a(R){return Sc(R,r)}tr!==null&&Sc(tr,r),nr!==null&&Sc(nr,r),sr!==null&&Sc(sr,r),pl.forEach(a),ml.forEach(a);for(var u=0;u<rr.length;u++){var f=rr[u];f.blockedOn===r&&(f.blockedOn=null)}for(;0<rr.length&&(u=rr[0],u.blockedOn===null);)ey(u),u.blockedOn===null&&rr.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var g=u[f],b=u[f+1],N=g[Gt]||null;if(typeof b=="function")N||ny(u);else if(N){var C=null;if(b&&b.hasAttribute("formAction")){if(g=b,N=b[Gt]||null)C=N.formAction;else if(Lh(g)!==null)continue}else C=N.action;typeof C=="function"?u[f+1]=C:(u.splice(f,3),f-=3),ny(u)}}}function sy(){function r(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(N){return g=N})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,g=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function zh(r){this._internalRoot=r}Cc.prototype.render=zh.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(s(409));var u=a.current,f=xn();Gb(u,f,r,a,null,null)},Cc.prototype.unmount=zh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;Gb(r.current,2,null,r,null,null),ac(),a[mi]=null}};function Cc(r){this._internalRoot=r}Cc.prototype.unstable_scheduleHydration=function(r){if(r){var a=hg();r={blockedOn:null,target:r,priority:a};for(var u=0;u<rr.length&&a!==0&&a<rr[u].priority;u++);rr.splice(u,0,r),u===0&&ey(r)}};var ry=e.version;if(ry!=="19.2.3")throw Error(s(527,ry,"19.2.3"));K.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=p(a),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var Lk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{ka=Ec.inject(Lk),cn=Ec}catch{}}return bl.createRoot=function(r,a){if(!i(r))throw Error(s(299));var u=!1,f="",g=d0,b=f0,N=h0;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError)),a=Kb(r,1,!1,null,null,u,f,null,g,b,N,sy),r[mi]=a.current,gh(r),new zh(a)},bl.hydrateRoot=function(r,a,u){if(!i(r))throw Error(s(299));var f=!1,g="",b=d0,N=f0,C=h0,R=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(C=u.onRecoverableError),u.formState!==void 0&&(R=u.formState)),a=Kb(r,1,!0,a,u??null,f,g,R,b,N,C,sy),a.context=Yb(null),u=a.current,f=xn(),f=Sd(f),g=Fs(f),g.callback=null,Vs(u,g,f),u=f,a.current.lanes=u,Ea(a,u),Wn(a),r[mi]=a.current,gh(r),new Cc(a)},bl.version="19.2.3",bl}var py;function $k(){if(py)return Uh.exports;py=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Uh.exports=Ik(),Uh.exports}var Fk=$k();function k1(t,e){return function(){return t.apply(e,arguments)}}const{toString:Vk}=Object.prototype,{getPrototypeOf:om}=Object,{iterator:Wu,toStringTag:C1}=Symbol,Ju=(t=>e=>{const n=Vk.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),qn=t=>(t=t.toLowerCase(),e=>Ju(e)===t),Xu=t=>e=>typeof e===t,{isArray:ga}=Array,oa=Xu("undefined");function Ql(t){return t!==null&&!oa(t)&&t.constructor!==null&&!oa(t.constructor)&&sn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const E1=qn("ArrayBuffer");function qk(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&E1(t.buffer),e}const Kk=Xu("string"),sn=Xu("function"),T1=Xu("number"),Zl=t=>t!==null&&typeof t=="object",Yk=t=>t===!0||t===!1,Fc=t=>{if(Ju(t)!=="object")return!1;const e=om(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(C1 in t)&&!(Wu in t)},Gk=t=>{if(!Zl(t)||Ql(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Wk=qn("Date"),Jk=qn("File"),Xk=qn("Blob"),Qk=qn("FileList"),Zk=t=>Zl(t)&&sn(t.pipe),eC=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||sn(t.append)&&((e=Ju(t))==="formdata"||e==="object"&&sn(t.toString)&&t.toString()==="[object FormData]"))},tC=qn("URLSearchParams"),[nC,sC,rC,iC]=["ReadableStream","Request","Response","Headers"].map(qn),aC=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eo(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,i;if(typeof t!="object"&&(t=[t]),ga(t))for(s=0,i=t.length;s<i;s++)e.call(null,t[s],s,t);else{if(Ql(t))return;const l=n?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let d;for(s=0;s<c;s++)d=l[s],e.call(null,t[d],d,t)}}function A1(t,e){if(Ql(t))return null;e=e.toLowerCase();const n=Object.keys(t);let s=n.length,i;for(;s-- >0;)if(i=n[s],e===i.toLowerCase())return i;return null}const Gr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,M1=t=>!oa(t)&&t!==Gr;function Cp(){const{caseless:t,skipUndefined:e}=M1(this)&&this||{},n={},s=(i,l)=>{const c=t&&A1(n,l)||l;Fc(n[c])&&Fc(i)?n[c]=Cp(n[c],i):Fc(i)?n[c]=Cp({},i):ga(i)?n[c]=i.slice():(!e||!oa(i))&&(n[c]=i)};for(let i=0,l=arguments.length;i<l;i++)arguments[i]&&eo(arguments[i],s);return n}const lC=(t,e,n,{allOwnKeys:s}={})=>(eo(e,(i,l)=>{n&&sn(i)?t[l]=k1(i,n):t[l]=i},{allOwnKeys:s}),t),oC=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),cC=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},uC=(t,e,n,s)=>{let i,l,c;const d={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),l=i.length;l-- >0;)c=i[l],(!s||s(c,t,e))&&!d[c]&&(e[c]=t[c],d[c]=!0);t=n!==!1&&om(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},dC=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},fC=t=>{if(!t)return null;if(ga(t))return t;let e=t.length;if(!T1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},hC=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&om(Uint8Array)),pC=(t,e)=>{const s=(t&&t[Wu]).call(t);let i;for(;(i=s.next())&&!i.done;){const l=i.value;e.call(t,l[0],l[1])}},mC=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},gC=qn("HTMLFormElement"),xC=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),my=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),bC=qn("RegExp"),O1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};eo(n,(i,l)=>{let c;(c=e(i,l,t))!==!1&&(s[l]=c||i)}),Object.defineProperties(t,s)},yC=t=>{O1(t,(e,n)=>{if(sn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(sn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},vC=(t,e)=>{const n={},s=i=>{i.forEach(l=>{n[l]=!0})};return ga(t)?s(t):s(String(t).split(e)),n},wC=()=>{},NC=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function jC(t){return!!(t&&sn(t.append)&&t[C1]==="FormData"&&t[Wu])}const SC=t=>{const e=new Array(10),n=(s,i)=>{if(Zl(s)){if(e.indexOf(s)>=0)return;if(Ql(s))return s;if(!("toJSON"in s)){e[i]=s;const l=ga(s)?[]:{};return eo(s,(c,d)=>{const h=n(c,i+1);!oa(h)&&(l[d]=h)}),e[i]=void 0,l}}return s};return n(t,0)},kC=qn("AsyncFunction"),CC=t=>t&&(Zl(t)||sn(t))&&sn(t.then)&&sn(t.catch),R1=((t,e)=>t?setImmediate:e?((n,s)=>(Gr.addEventListener("message",({source:i,data:l})=>{i===Gr&&l===n&&s.length&&s.shift()()},!1),i=>{s.push(i),Gr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",sn(Gr.postMessage)),EC=typeof queueMicrotask<"u"?queueMicrotask.bind(Gr):typeof process<"u"&&process.nextTick||R1,TC=t=>t!=null&&sn(t[Wu]),V={isArray:ga,isArrayBuffer:E1,isBuffer:Ql,isFormData:eC,isArrayBufferView:qk,isString:Kk,isNumber:T1,isBoolean:Yk,isObject:Zl,isPlainObject:Fc,isEmptyObject:Gk,isReadableStream:nC,isRequest:sC,isResponse:rC,isHeaders:iC,isUndefined:oa,isDate:Wk,isFile:Jk,isBlob:Xk,isRegExp:bC,isFunction:sn,isStream:Zk,isURLSearchParams:tC,isTypedArray:hC,isFileList:Qk,forEach:eo,merge:Cp,extend:lC,trim:aC,stripBOM:oC,inherits:cC,toFlatObject:uC,kindOf:Ju,kindOfTest:qn,endsWith:dC,toArray:fC,forEachEntry:pC,matchAll:mC,isHTMLForm:gC,hasOwnProperty:my,hasOwnProp:my,reduceDescriptors:O1,freezeMethods:yC,toObjectSet:vC,toCamelCase:xC,noop:wC,toFiniteNumber:NC,findKey:A1,global:Gr,isContextDefined:M1,isSpecCompliantForm:jC,toJSONObject:SC,isAsyncFn:kC,isThenable:CC,setImmediate:R1,asap:EC,isIterable:TC};function we(t,e,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}V.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.status}}});const L1=we.prototype,D1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{D1[t]={value:t}});Object.defineProperties(we,D1);Object.defineProperty(L1,"isAxiosError",{value:!0});we.from=(t,e,n,s,i,l)=>{const c=Object.create(L1);V.toFlatObject(t,c,function(m){return m!==Error.prototype},p=>p!=="isAxiosError");const d=t&&t.message?t.message:"Error",h=e==null&&t?t.code:e;return we.call(c,d,h,n,s,i),t&&c.cause==null&&Object.defineProperty(c,"cause",{value:t,configurable:!0}),c.name=t&&t.name||"Error",l&&Object.assign(c,l),c};const AC=null;function Ep(t){return V.isPlainObject(t)||V.isArray(t)}function z1(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function gy(t,e,n){return t?t.concat(e).map(function(i,l){return i=z1(i),!n&&l?"["+i+"]":i}).join(n?".":""):e}function MC(t){return V.isArray(t)&&!t.some(Ep)}const OC=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function Qu(t,e,n){if(!V.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,j){return!V.isUndefined(j[S])});const s=n.metaTokens,i=n.visitor||m,l=n.dots,c=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(i))throw new TypeError("visitor must be a function");function p(v){if(v===null)return"";if(V.isDate(v))return v.toISOString();if(V.isBoolean(v))return v.toString();if(!h&&V.isBlob(v))throw new we("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(v)||V.isTypedArray(v)?h&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function m(v,S,j){let E=v;if(v&&!j&&typeof v=="object"){if(V.endsWith(S,"{}"))S=s?S:S.slice(0,-2),v=JSON.stringify(v);else if(V.isArray(v)&&MC(v)||(V.isFileList(v)||V.endsWith(S,"[]"))&&(E=V.toArray(v)))return S=z1(S),E.forEach(function(A,H){!(V.isUndefined(A)||A===null)&&e.append(c===!0?gy([S],H,l):c===null?S:S+"[]",p(A))}),!1}return Ep(v)?!0:(e.append(gy(j,S,l),p(v)),!1)}const x=[],y=Object.assign(OC,{defaultVisitor:m,convertValue:p,isVisitable:Ep});function w(v,S){if(!V.isUndefined(v)){if(x.indexOf(v)!==-1)throw Error("Circular reference detected in "+S.join("."));x.push(v),V.forEach(v,function(E,T){(!(V.isUndefined(E)||E===null)&&i.call(e,E,V.isString(T)?T.trim():T,S,y))===!0&&w(E,S?S.concat(T):[T])}),x.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return w(t),e}function xy(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function cm(t,e){this._pairs=[],t&&Qu(t,this,e)}const _1=cm.prototype;_1.append=function(e,n){this._pairs.push([e,n])};_1.toString=function(e){const n=e?function(s){return e.call(this,s,xy)}:xy;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function RC(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function B1(t,e,n){if(!e)return t;const s=n&&n.encode||RC;V.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let l;if(i?l=i(e,n):l=V.isURLSearchParams(e)?e.toString():new cm(e,n).toString(s),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class by{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(s){s!==null&&e(s)})}}const U1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},LC=typeof URLSearchParams<"u"?URLSearchParams:cm,DC=typeof FormData<"u"?FormData:null,zC=typeof Blob<"u"?Blob:null,_C={isBrowser:!0,classes:{URLSearchParams:LC,FormData:DC,Blob:zC},protocols:["http","https","file","blob","url","data"]},um=typeof window<"u"&&typeof document<"u",Tp=typeof navigator=="object"&&navigator||void 0,BC=um&&(!Tp||["ReactNative","NativeScript","NS"].indexOf(Tp.product)<0),UC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",HC=um&&window.location.href||"http://localhost",PC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:um,hasStandardBrowserEnv:BC,hasStandardBrowserWebWorkerEnv:UC,navigator:Tp,origin:HC},Symbol.toStringTag,{value:"Module"})),Bt={...PC,..._C};function IC(t,e){return Qu(t,new Bt.classes.URLSearchParams,{visitor:function(n,s,i,l){return Bt.isNode&&V.isBuffer(n)?(this.append(s,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...e})}function $C(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function FC(t){const e={},n=Object.keys(t);let s;const i=n.length;let l;for(s=0;s<i;s++)l=n[s],e[l]=t[l];return e}function H1(t){function e(n,s,i,l){let c=n[l++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),h=l>=n.length;return c=!c&&V.isArray(i)?i.length:c,h?(V.hasOwnProp(i,c)?i[c]=[i[c],s]:i[c]=s,!d):((!i[c]||!V.isObject(i[c]))&&(i[c]=[]),e(n,s,i[c],l)&&V.isArray(i[c])&&(i[c]=FC(i[c])),!d)}if(V.isFormData(t)&&V.isFunction(t.entries)){const n={};return V.forEachEntry(t,(s,i)=>{e($C(s),i,n,0)}),n}return null}function VC(t,e,n){if(V.isString(t))try{return(e||JSON.parse)(t),V.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const to={transitional:U1,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,l=V.isObject(e);if(l&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return i?JSON.stringify(H1(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e)||V.isReadableStream(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return IC(e,this.formSerializer).toString();if((d=V.isFileList(e))||s.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Qu(d?{"files[]":e}:e,h&&new h,this.formSerializer)}}return l||i?(n.setContentType("application/json",!1),VC(e)):e}],transformResponse:[function(e){const n=this.transitional||to.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(V.isResponse(e)||V.isReadableStream(e))return e;if(e&&V.isString(e)&&(s&&!this.responseType||i)){const c=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(d){if(c)throw d.name==="SyntaxError"?we.from(d,we.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bt.classes.FormData,Blob:Bt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{to.headers[t]={}});const qC=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),KC=t=>{const e={};let n,s,i;return t&&t.split(`
`).forEach(function(c){i=c.indexOf(":"),n=c.substring(0,i).trim().toLowerCase(),s=c.substring(i+1).trim(),!(!n||e[n]&&qC[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},yy=Symbol("internals");function yl(t){return t&&String(t).trim().toLowerCase()}function Vc(t){return t===!1||t==null?t:V.isArray(t)?t.map(Vc):String(t)}function YC(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const GC=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function $h(t,e,n,s,i){if(V.isFunction(s))return s.call(this,e,n);if(i&&(e=n),!!V.isString(e)){if(V.isString(s))return e.indexOf(s)!==-1;if(V.isRegExp(s))return s.test(e)}}function WC(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function JC(t,e){const n=V.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(i,l,c){return this[s].call(this,e,i,l,c)},configurable:!0})})}let rn=class{constructor(e){e&&this.set(e)}set(e,n,s){const i=this;function l(d,h,p){const m=yl(h);if(!m)throw new Error("header name must be a non-empty string");const x=V.findKey(i,m);(!x||i[x]===void 0||p===!0||p===void 0&&i[x]!==!1)&&(i[x||h]=Vc(d))}const c=(d,h)=>V.forEach(d,(p,m)=>l(p,m,h));if(V.isPlainObject(e)||e instanceof this.constructor)c(e,n);else if(V.isString(e)&&(e=e.trim())&&!GC(e))c(KC(e),n);else if(V.isObject(e)&&V.isIterable(e)){let d={},h,p;for(const m of e){if(!V.isArray(m))throw TypeError("Object iterator must return a key-value pair");d[p=m[0]]=(h=d[p])?V.isArray(h)?[...h,m[1]]:[h,m[1]]:m[1]}c(d,n)}else e!=null&&l(n,e,s);return this}get(e,n){if(e=yl(e),e){const s=V.findKey(this,e);if(s){const i=this[s];if(!n)return i;if(n===!0)return YC(i);if(V.isFunction(n))return n.call(this,i,s);if(V.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=yl(e),e){const s=V.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||$h(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let i=!1;function l(c){if(c=yl(c),c){const d=V.findKey(s,c);d&&(!n||$h(s,s[d],d,n))&&(delete s[d],i=!0)}}return V.isArray(e)?e.forEach(l):l(e),i}clear(e){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const l=n[s];(!e||$h(this,this[l],l,e,!0))&&(delete this[l],i=!0)}return i}normalize(e){const n=this,s={};return V.forEach(this,(i,l)=>{const c=V.findKey(s,l);if(c){n[c]=Vc(i),delete n[l];return}const d=e?WC(l):String(l).trim();d!==l&&delete n[l],n[d]=Vc(i),s[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return V.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=e&&V.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[yy]=this[yy]={accessors:{}}).accessors,i=this.prototype;function l(c){const d=yl(c);s[d]||(JC(i,c),s[d]=!0)}return V.isArray(e)?e.forEach(l):l(e),this}};rn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(rn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});V.freezeMethods(rn);function Fh(t,e){const n=this||to,s=e||n,i=rn.from(s.headers);let l=s.data;return V.forEach(t,function(d){l=d.call(n,l,i.normalize(),e?e.status:void 0)}),i.normalize(),l}function P1(t){return!!(t&&t.__CANCEL__)}function xa(t,e,n){we.call(this,t??"canceled",we.ERR_CANCELED,e,n),this.name="CanceledError"}V.inherits(xa,we,{__CANCEL__:!0});function I1(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new we("Request failed with status code "+n.status,[we.ERR_BAD_REQUEST,we.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function XC(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function QC(t,e){t=t||10;const n=new Array(t),s=new Array(t);let i=0,l=0,c;return e=e!==void 0?e:1e3,function(h){const p=Date.now(),m=s[l];c||(c=p),n[i]=h,s[i]=p;let x=l,y=0;for(;x!==i;)y+=n[x++],x=x%t;if(i=(i+1)%t,i===l&&(l=(l+1)%t),p-c<e)return;const w=m&&p-m;return w?Math.round(y*1e3/w):void 0}}function ZC(t,e){let n=0,s=1e3/e,i,l;const c=(p,m=Date.now())=>{n=m,i=null,l&&(clearTimeout(l),l=null),t(...p)};return[(...p)=>{const m=Date.now(),x=m-n;x>=s?c(p,m):(i=p,l||(l=setTimeout(()=>{l=null,c(i)},s-x)))},()=>i&&c(i)]}const tu=(t,e,n=3)=>{let s=0;const i=QC(50,250);return ZC(l=>{const c=l.loaded,d=l.lengthComputable?l.total:void 0,h=c-s,p=i(h),m=c<=d;s=c;const x={loaded:c,total:d,progress:d?c/d:void 0,bytes:h,rate:p||void 0,estimated:p&&d&&m?(d-c)/p:void 0,event:l,lengthComputable:d!=null,[e?"download":"upload"]:!0};t(x)},n)},vy=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},wy=t=>(...e)=>V.asap(()=>t(...e)),eE=Bt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Bt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Bt.origin),Bt.navigator&&/(msie|trident)/i.test(Bt.navigator.userAgent)):()=>!0,tE=Bt.hasStandardBrowserEnv?{write(t,e,n,s,i,l,c){if(typeof document>"u")return;const d=[`${t}=${encodeURIComponent(e)}`];V.isNumber(n)&&d.push(`expires=${new Date(n).toUTCString()}`),V.isString(s)&&d.push(`path=${s}`),V.isString(i)&&d.push(`domain=${i}`),l===!0&&d.push("secure"),V.isString(c)&&d.push(`SameSite=${c}`),document.cookie=d.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function nE(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function sE(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function $1(t,e,n){let s=!nE(e);return t&&(s||n==!1)?sE(t,e):e}const Ny=t=>t instanceof rn?{...t}:t;function ii(t,e){e=e||{};const n={};function s(p,m,x,y){return V.isPlainObject(p)&&V.isPlainObject(m)?V.merge.call({caseless:y},p,m):V.isPlainObject(m)?V.merge({},m):V.isArray(m)?m.slice():m}function i(p,m,x,y){if(V.isUndefined(m)){if(!V.isUndefined(p))return s(void 0,p,x,y)}else return s(p,m,x,y)}function l(p,m){if(!V.isUndefined(m))return s(void 0,m)}function c(p,m){if(V.isUndefined(m)){if(!V.isUndefined(p))return s(void 0,p)}else return s(void 0,m)}function d(p,m,x){if(x in e)return s(p,m);if(x in t)return s(void 0,p)}const h={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(p,m,x)=>i(Ny(p),Ny(m),x,!0)};return V.forEach(Object.keys({...t,...e}),function(m){const x=h[m]||i,y=x(t[m],e[m],m);V.isUndefined(y)&&x!==d||(n[m]=y)}),n}const F1=t=>{const e=ii({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:l,headers:c,auth:d}=e;if(e.headers=c=rn.from(c),e.url=B1($1(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),V.isFormData(n)){if(Bt.hasStandardBrowserEnv||Bt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(V.isFunction(n.getHeaders)){const h=n.getHeaders(),p=["content-type","content-length"];Object.entries(h).forEach(([m,x])=>{p.includes(m.toLowerCase())&&c.set(m,x)})}}if(Bt.hasStandardBrowserEnv&&(s&&V.isFunction(s)&&(s=s(e)),s||s!==!1&&eE(e.url))){const h=i&&l&&tE.read(l);h&&c.set(i,h)}return e},rE=typeof XMLHttpRequest<"u",iE=rE&&function(t){return new Promise(function(n,s){const i=F1(t);let l=i.data;const c=rn.from(i.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:p}=i,m,x,y,w,v;function S(){w&&w(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let j=new XMLHttpRequest;j.open(i.method.toUpperCase(),i.url,!0),j.timeout=i.timeout;function E(){if(!j)return;const A=rn.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),B={data:!d||d==="text"||d==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:A,config:t,request:j};I1(function(O){n(O),S()},function(O){s(O),S()},B),j=null}"onloadend"in j?j.onloadend=E:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(E)},j.onabort=function(){j&&(s(new we("Request aborted",we.ECONNABORTED,t,j)),j=null)},j.onerror=function(H){const B=H&&H.message?H.message:"Network Error",z=new we(B,we.ERR_NETWORK,t,j);z.event=H||null,s(z),j=null},j.ontimeout=function(){let H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const B=i.transitional||U1;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),s(new we(H,B.clarifyTimeoutError?we.ETIMEDOUT:we.ECONNABORTED,t,j)),j=null},l===void 0&&c.setContentType(null),"setRequestHeader"in j&&V.forEach(c.toJSON(),function(H,B){j.setRequestHeader(B,H)}),V.isUndefined(i.withCredentials)||(j.withCredentials=!!i.withCredentials),d&&d!=="json"&&(j.responseType=i.responseType),p&&([y,v]=tu(p,!0),j.addEventListener("progress",y)),h&&j.upload&&([x,w]=tu(h),j.upload.addEventListener("progress",x),j.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(m=A=>{j&&(s(!A||A.type?new xa(null,t,j):A),j.abort(),j=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const T=XC(i.url);if(T&&Bt.protocols.indexOf(T)===-1){s(new we("Unsupported protocol "+T+":",we.ERR_BAD_REQUEST,t));return}j.send(l||null)})},aE=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,i;const l=function(p){if(!i){i=!0,d();const m=p instanceof Error?p:this.reason;s.abort(m instanceof we?m:new xa(m instanceof Error?m.message:m))}};let c=e&&setTimeout(()=>{c=null,l(new we(`timeout ${e} of ms exceeded`,we.ETIMEDOUT))},e);const d=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(l):p.removeEventListener("abort",l)}),t=null)};t.forEach(p=>p.addEventListener("abort",l));const{signal:h}=s;return h.unsubscribe=()=>V.asap(d),h}},lE=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,i;for(;s<n;)i=s+e,yield t.slice(s,i),s=i},oE=async function*(t,e){for await(const n of cE(t))yield*lE(n,e)},cE=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},jy=(t,e,n,s)=>{const i=oE(t,e);let l=0,c,d=h=>{c||(c=!0,s&&s(h))};return new ReadableStream({async pull(h){try{const{done:p,value:m}=await i.next();if(p){d(),h.close();return}let x=m.byteLength;if(n){let y=l+=x;n(y)}h.enqueue(new Uint8Array(m))}catch(p){throw d(p),p}},cancel(h){return d(h),i.return()}},{highWaterMark:2})},Sy=64*1024,{isFunction:Tc}=V,uE=(({Request:t,Response:e})=>({Request:t,Response:e}))(V.global),{ReadableStream:ky,TextEncoder:Cy}=V.global,Ey=(t,...e)=>{try{return!!t(...e)}catch{return!1}},dE=t=>{t=V.merge.call({skipUndefined:!0},uE,t);const{fetch:e,Request:n,Response:s}=t,i=e?Tc(e):typeof fetch=="function",l=Tc(n),c=Tc(s);if(!i)return!1;const d=i&&Tc(ky),h=i&&(typeof Cy=="function"?(v=>S=>v.encode(S))(new Cy):async v=>new Uint8Array(await new n(v).arrayBuffer())),p=l&&d&&Ey(()=>{let v=!1;const S=new n(Bt.origin,{body:new ky,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!S}),m=c&&d&&Ey(()=>V.isReadableStream(new s("").body)),x={stream:m&&(v=>v.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!x[v]&&(x[v]=(S,j)=>{let E=S&&S[v];if(E)return E.call(S);throw new we(`Response type '${v}' is not supported`,we.ERR_NOT_SUPPORT,j)})});const y=async v=>{if(v==null)return 0;if(V.isBlob(v))return v.size;if(V.isSpecCompliantForm(v))return(await new n(Bt.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(V.isArrayBufferView(v)||V.isArrayBuffer(v))return v.byteLength;if(V.isURLSearchParams(v)&&(v=v+""),V.isString(v))return(await h(v)).byteLength},w=async(v,S)=>{const j=V.toFiniteNumber(v.getContentLength());return j??y(S)};return async v=>{let{url:S,method:j,data:E,signal:T,cancelToken:A,timeout:H,onDownloadProgress:B,onUploadProgress:z,responseType:O,headers:Y,withCredentials:U="same-origin",fetchOptions:$}=F1(v),me=e||fetch;O=O?(O+"").toLowerCase():"text";let X=aE([T,A&&A.toAbortSignal()],H),G=null;const J=X&&X.unsubscribe&&(()=>{X.unsubscribe()});let te;try{if(z&&p&&j!=="get"&&j!=="head"&&(te=await w(Y,E))!==0){let L=new n(S,{method:"POST",body:E,duplex:"half"}),Z;if(V.isFormData(E)&&(Z=L.headers.get("content-type"))&&Y.setContentType(Z),L.body){const[re,le]=vy(te,tu(wy(z)));E=jy(L.body,Sy,re,le)}}V.isString(U)||(U=U?"include":"omit");const M=l&&"credentials"in n.prototype,K={...$,signal:X,method:j.toUpperCase(),headers:Y.normalize().toJSON(),body:E,duplex:"half",credentials:M?U:void 0};G=l&&new n(S,K);let ie=await(l?me(G,$):me(S,K));const ke=m&&(O==="stream"||O==="response");if(m&&(B||ke&&J)){const L={};["status","statusText","headers"].forEach(xe=>{L[xe]=ie[xe]});const Z=V.toFiniteNumber(ie.headers.get("content-length")),[re,le]=B&&vy(Z,tu(wy(B),!0))||[];ie=new s(jy(ie.body,Sy,re,()=>{le&&le(),J&&J()}),L)}O=O||"text";let Ce=await x[V.findKey(x,O)||"text"](ie,v);return!ke&&J&&J(),await new Promise((L,Z)=>{I1(L,Z,{data:Ce,headers:rn.from(ie.headers),status:ie.status,statusText:ie.statusText,config:v,request:G})})}catch(M){throw J&&J(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new we("Network Error",we.ERR_NETWORK,v,G),{cause:M.cause||M}):we.from(M,M&&M.code,v,G)}}},fE=new Map,V1=t=>{let e=t&&t.env||{};const{fetch:n,Request:s,Response:i}=e,l=[s,i,n];let c=l.length,d=c,h,p,m=fE;for(;d--;)h=l[d],p=m.get(h),p===void 0&&m.set(h,p=d?new Map:dE(e)),m=p;return p};V1();const dm={http:AC,xhr:iE,fetch:{get:V1}};V.forEach(dm,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ty=t=>`- ${t}`,hE=t=>V.isFunction(t)||t===null||t===!1;function pE(t,e){t=V.isArray(t)?t:[t];const{length:n}=t;let s,i;const l={};for(let c=0;c<n;c++){s=t[c];let d;if(i=s,!hE(s)&&(i=dm[(d=String(s)).toLowerCase()],i===void 0))throw new we(`Unknown adapter '${d}'`);if(i&&(V.isFunction(i)||(i=i.get(e))))break;l[d||"#"+c]=i}if(!i){const c=Object.entries(l).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let d=n?c.length>1?`since :
`+c.map(Ty).join(`
`):" "+Ty(c[0]):"as no adapter specified";throw new we("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return i}const q1={getAdapter:pE,adapters:dm};function Vh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xa(null,t)}function Ay(t){return Vh(t),t.headers=rn.from(t.headers),t.data=Fh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),q1.getAdapter(t.adapter||to.adapter,t)(t).then(function(s){return Vh(t),s.data=Fh.call(t,t.transformResponse,s),s.headers=rn.from(s.headers),s},function(s){return P1(s)||(Vh(t),s&&s.response&&(s.response.data=Fh.call(t,t.transformResponse,s.response),s.response.headers=rn.from(s.response.headers))),Promise.reject(s)})}const K1="1.13.2",Zu={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Zu[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const My={};Zu.transitional=function(e,n,s){function i(l,c){return"[Axios v"+K1+"] Transitional option '"+l+"'"+c+(s?". "+s:"")}return(l,c,d)=>{if(e===!1)throw new we(i(c," has been removed"+(n?" in "+n:"")),we.ERR_DEPRECATED);return n&&!My[c]&&(My[c]=!0,console.warn(i(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,c,d):!0}};Zu.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function mE(t,e,n){if(typeof t!="object")throw new we("options must be an object",we.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let i=s.length;for(;i-- >0;){const l=s[i],c=e[l];if(c){const d=t[l],h=d===void 0||c(d,l,t);if(h!==!0)throw new we("option "+l+" must be "+h,we.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new we("Unknown option "+l,we.ERR_BAD_OPTION)}}const qc={assertOptions:mE,validators:Zu},Jn=qc.validators;let Zr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new by,response:new by}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const l=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ii(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:l}=n;s!==void 0&&qc.assertOptions(s,{silentJSONParsing:Jn.transitional(Jn.boolean),forcedJSONParsing:Jn.transitional(Jn.boolean),clarifyTimeoutError:Jn.transitional(Jn.boolean)},!1),i!=null&&(V.isFunction(i)?n.paramsSerializer={serialize:i}:qc.assertOptions(i,{encode:Jn.function,serialize:Jn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),qc.assertOptions(n,{baseUrl:Jn.spelling("baseURL"),withXsrfToken:Jn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=l&&V.merge(l.common,l[n.method]);l&&V.forEach(["delete","get","head","post","put","patch","common"],v=>{delete l[v]}),n.headers=rn.concat(c,l);const d=[];let h=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(h=h&&S.synchronous,d.unshift(S.fulfilled,S.rejected))});const p=[];this.interceptors.response.forEach(function(S){p.push(S.fulfilled,S.rejected)});let m,x=0,y;if(!h){const v=[Ay.bind(this),void 0];for(v.unshift(...d),v.push(...p),y=v.length,m=Promise.resolve(n);x<y;)m=m.then(v[x++],v[x++]);return m}y=d.length;let w=n;for(;x<y;){const v=d[x++],S=d[x++];try{w=v(w)}catch(j){S.call(this,j);break}}try{m=Ay.call(this,w)}catch(v){return Promise.reject(v)}for(x=0,y=p.length;x<y;)m=m.then(p[x++],p[x++]);return m}getUri(e){e=ii(this.defaults,e);const n=$1(e.baseURL,e.url,e.allowAbsoluteUrls);return B1(n,e.params,e.paramsSerializer)}};V.forEach(["delete","get","head","options"],function(e){Zr.prototype[e]=function(n,s){return this.request(ii(s||{},{method:e,url:n,data:(s||{}).data}))}});V.forEach(["post","put","patch"],function(e){function n(s){return function(l,c,d){return this.request(ii(d||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Zr.prototype[e]=n(),Zr.prototype[e+"Form"]=n(!0)});let gE=class Y1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const s=this;this.promise.then(i=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](i);s._listeners=null}),this.promise.then=i=>{let l;const c=new Promise(d=>{s.subscribe(d),l=d}).then(i);return c.cancel=function(){s.unsubscribe(l)},c},e(function(l,c,d){s.reason||(s.reason=new xa(l,c,d),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new Y1(function(i){e=i}),cancel:e}}};function xE(t){return function(n){return t.apply(null,n)}}function bE(t){return V.isObject(t)&&t.isAxiosError===!0}const Ap={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ap).forEach(([t,e])=>{Ap[e]=t});function G1(t){const e=new Zr(t),n=k1(Zr.prototype.request,e);return V.extend(n,Zr.prototype,e,{allOwnKeys:!0}),V.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return G1(ii(t,i))},n}const ye=G1(to);ye.Axios=Zr;ye.CanceledError=xa;ye.CancelToken=gE;ye.isCancel=P1;ye.VERSION=K1;ye.toFormData=Qu;ye.AxiosError=we;ye.Cancel=ye.CanceledError;ye.all=function(e){return Promise.all(e)};ye.spread=xE;ye.isAxiosError=bE;ye.mergeConfig=ii;ye.AxiosHeaders=rn;ye.formToJSON=t=>H1(V.isHTMLForm(t)?new FormData(t):t);ye.getAdapter=q1.getAdapter;ye.HttpStatusCode=Ap;ye.default=ye;const{Axios:rD,AxiosError:iD,CanceledError:aD,isCancel:lD,CancelToken:oD,VERSION:cD,all:uD,Cancel:dD,isAxiosError:fD,spread:hD,toFormData:pD,AxiosHeaders:mD,HttpStatusCode:gD,formToJSON:xD,getAdapter:bD,mergeConfig:yD}=ye,yE="https://patricia-macadam.onrender.com/api",W1=yE,ot=W1.replace("/api","/api/public");function qt(){const[t,e]=k.useState(null),[n,s]=k.useState(!1),[i,l]=k.useState([]),[c,d]=k.useState(!0),[h,p]=k.useState([]),[m,x]=k.useState([]),[y,w]=k.useState(null),[v,S]=k.useState(!0),[j,E]=k.useState([]),[T,A]=k.useState(!0);k.useEffect(()=>{H(),B(),z()},[]);const H=async()=>{try{const $=await ye.get(`${ot}/topics`);l($.data.topics||[])}catch($){console.error("Error fetching topics:",$)}finally{d(!1)}},B=async()=>{try{S(!0);const $=await ye.get(`${ot}/podcasts/series`);$.data&&(w($.data.series||null),p(($.data.episodes||[]).slice(0,3)));const me=await ye.get(`${ot}/articles/recent/limit?limit=3`);me.data&&x(me.data.articles||[])}catch($){console.error("Error fetching resources:",$)}finally{S(!1)}},z=async()=>{try{A(!0);const $=await ye.get(`${ot}/courses`);E(($.data.courses||[]).slice(0,4))}catch($){console.error("Error fetching courses:",$)}finally{A(!1)}},O=$=>{e($)},Y=()=>{e(null)},U=()=>{s(!n)};return o.jsx("section",{id:"navbar",className:"navbar w-full bg-black sticky top-0 z-50",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("nav",{className:"flex items-center justify-between py-5",children:[o.jsx("a",{href:"/",className:"flex items-center group",children:o.jsx("div",{className:"text-2xl font-bold text-white group-hover:text-gray-300 transition-colors",children:"Patricia Macadam"})}),o.jsxs("div",{className:"hidden lg:flex items-center space-x-6",children:[o.jsxs("div",{className:"relative",onMouseEnter:()=>O("resources"),onMouseLeave:Y,children:[o.jsxs("button",{className:"flex items-center space-x-1 text-white hover:text-gray-300 py-2 transition-colors font-medium",children:[o.jsx("span",{children:"Resources"}),o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t==="resources"&&o.jsx("div",{className:"absolute top-full right-0 pt-2 w-[600px] max-w-[calc(100vw-2rem)]",children:o.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6 border border-gray-100",children:[o.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-900",children:"Resources"}),v?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"w-6 h-6 border-2 border-gray-900 border-t-transparent rounded-full animate-spin"})}):o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-3",children:[y?.coverImage?o.jsx("img",{src:y.coverImage,alt:"Podcast Series",className:"w-32 h-32 rounded-lg mb-3 object-cover"}):o.jsx("div",{className:"w-32 h-32 bg-linear-to-br from-purple-400 to-pink-400 rounded-lg mb-3"}),o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Podcasts"}),o.jsx("a",{href:"/podcast",className:"text-sm text-gray-900 hover:underline",children:"View All"})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Recent Episodes"}),h.length>0?o.jsx("div",{className:"space-y-2",children:h.map($=>o.jsx("a",{href:`/podcasts/${$.slug}`,className:"block text-sm text-gray-900 hover:underline line-clamp-2",children:$.title},$._id))}):o.jsx("p",{className:"text-sm text-gray-500",children:"No recent episodes"})]}),o.jsxs("div",{className:"space-y-3",children:[m.length>0&&m[0]?.featuredImage?o.jsx("img",{src:m[0].featuredImage,alt:"Recent Article",className:"w-32 h-32 rounded-lg mb-3 object-cover"}):o.jsx("div",{className:"w-32 h-32 bg-linear-to-br from-blue-400 to-cyan-400 rounded-lg mb-3"}),o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs font-semibold text-gray-600 uppercase",children:"Articles"}),o.jsx("a",{href:"/articles",className:"text-sm text-gray-900 hover:underline",children:"View All"})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Recent Articles"}),m.length>0?o.jsx("div",{className:"space-y-2",children:m.map($=>o.jsx("a",{href:`/articles/${$.slug}`,className:"block text-sm text-gray-900 hover:underline line-clamp-2",children:$.title},$._id))}):o.jsx("p",{className:"text-sm text-gray-500",children:"No recent articles"})]})]})]})})]}),o.jsxs("div",{className:"relative",onMouseEnter:()=>O("courses"),onMouseLeave:Y,children:[o.jsxs("button",{className:"flex items-center space-x-1 text-white hover:text-gray-300 py-2 transition-colors font-medium",children:[o.jsx("span",{children:"Courses"}),o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t==="courses"&&o.jsx("div",{className:"absolute top-full right-0 pt-2 w-[800px] max-w-[calc(100vw-2rem)]",children:o.jsxs("div",{className:"bg-white shadow-2xl rounded-xl p-6 border border-gray-200",children:[o.jsx("h3",{className:"text-2xl font-bold mb-6 text-gray-900",children:"Courses"}),T?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"w-6 h-6 border-2 border-gray-900 border-t-transparent rounded-full animate-spin"})}):j.length===0?o.jsx("p",{className:"text-gray-500 text-center py-12",children:"No courses available."}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-2 gap-4 mb-4",children:j.map($=>o.jsx("a",{href:$.courseLink||`/courses/${$.slug}`,target:$.courseLink?"_blank":void 0,rel:$.courseLink?"noopener noreferrer":void 0,className:"group block",children:o.jsxs("div",{className:"bg-gray-100 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[$.thumbnail?o.jsx("div",{className:"h-40 bg-cover bg-center",style:{backgroundImage:`url(${$.thumbnail})`}}):o.jsx("div",{className:"h-40 bg-gradient-to-br from-gray-200 to-gray-400 flex items-center justify-center",children:o.jsx("span",{className:"text-4xl font-bold text-gray-600",children:$.name.charAt(0)})}),o.jsxs("div",{className:"p-4",children:[o.jsx("h4",{className:"font-bold text-gray-900 mb-1 line-clamp-2 group-hover:text-gray-700 transition-colors",children:$.name}),o.jsx("p",{className:"text-sm text-gray-600",children:$.price&&$.price>0?`$${$.price.toFixed(2)}`:"Free"})]})]})},$._id))}),o.jsxs("a",{href:"/courses",className:"inline-flex items-center gap-2 mt-4 text-sm font-semibold text-gray-900 hover:text-gray-700 transition-colors",children:["View All Courses",o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})})]}),o.jsxs("div",{className:"relative",onMouseEnter:()=>O("topics"),onMouseLeave:Y,children:[o.jsxs("button",{className:"flex items-center space-x-1 text-white hover:text-gray-300 py-2 transition-colors font-medium",children:[o.jsx("span",{children:"Topics"}),o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t==="topics"&&o.jsx("div",{className:"absolute top-full right-0 pt-2 w-[800px] max-w-[calc(100vw-2rem)]",children:o.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6 border border-gray-100",children:[o.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-900",children:"Topics"}),c?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"w-6 h-6 border-2 border-gray-900 border-t-transparent rounded-full animate-spin"})}):i.length===0?o.jsx("p",{className:"text-gray-500 text-center py-8",children:"No topics available."}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-4",children:i.map($=>o.jsxs("a",{href:`/topics/${$.slug}`,className:"shrink-0 w-32 group",children:[$.image?o.jsx("div",{className:"w-32 h-32 rounded-lg mb-2 bg-cover bg-center transition-transform duration-300 group-hover:scale-105",style:{backgroundImage:`url(${$.image})`}}):o.jsx("div",{className:"w-32 h-32 rounded-lg mb-2 bg-gradient-to-br from-gray-200 to-gray-400 flex items-center justify-center",children:o.jsx("span",{className:"text-gray-600 text-2xl font-bold",children:$.name.charAt(0)})}),o.jsx("div",{className:"text-sm font-medium text-gray-900 text-center",children:$.name})]},$._id))}),o.jsx("a",{href:"/topics",className:"inline-block mt-4 text-sm text-gray-900 hover:underline",children:"View All"})]})]})})]}),o.jsxs("div",{className:"relative",onMouseEnter:()=>O("shop"),onMouseLeave:Y,children:[o.jsxs("button",{className:"flex items-center space-x-1 text-white hover:text-gray-300 py-2 transition-colors font-medium",children:[o.jsx("span",{children:"Shop"}),o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t==="shop"&&o.jsx("div",{className:"absolute top-full right-0 pt-2 w-64 max-w-[calc(100vw-2rem)]",children:o.jsxs("div",{className:"bg-white shadow-xl rounded-lg p-6 border border-gray-100",children:[o.jsx("h3",{className:"text-2xl font-semibold mb-4 text-gray-900",children:"Shop Products"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("a",{href:"/where-should-we-begin-a-game-of-stories",className:"block group",children:[o.jsx("div",{className:"w-full h-32 bg-linear-to-br from-purple-400 to-pink-400 rounded-lg mb-2"}),o.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"Games"})]}),o.jsxs("a",{href:"/books",className:"block group",children:[o.jsx("div",{className:"w-full h-32 bg-linear-to-br from-amber-400 to-orange-400 rounded-lg mb-2"}),o.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"Books"})]})]})]})})]}),o.jsx("a",{href:"/about",className:"text-white hover:text-gray-300 transition-colors font-medium py-2",children:"About"}),o.jsxs("a",{href:"https://patriciamacadam.substack.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-white hover:text-gray-300 transition-colors font-medium py-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M22.539 8.242H1.46V5.406h21.08v2.836zM1.46 10.812V24l10.77-5.926L23 24V10.812H1.46zm21.08-5.406H1.46C.655 5.406 0 4.751 0 3.946V1.46C0 .655.655 0 1.46 0h21.08C23.345 0 24 .655 24 1.46v2.486c0 .805-.655 1.46-1.46 1.46z"})}),o.jsx("span",{className:"hidden xl:inline",children:"Subscribe"}),o.jsx("span",{className:"xl:hidden",children:"Substack"})]})]}),o.jsx("button",{className:"lg:hidden p-2 text-white",onClick:U,"aria-label":"menu",children:o.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n?o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),n&&o.jsx("div",{className:"lg:hidden py-4 border-t border-gray-800",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("a",{href:"/about",className:"block text-white hover:text-gray-300 py-2 font-medium transition-colors",children:"About"}),o.jsxs("a",{href:"https://patriciamacadam.substack.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-white hover:text-gray-300 py-2 font-medium transition-colors",children:[o.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M22.539 8.242H1.46V5.406h21.08v2.836zM1.46 10.812V24l10.77-5.926L23 24V10.812H1.46zm21.08-5.406H1.46C.655 5.406 0 4.751 0 3.946V1.46C0 .655.655 0 1.46 0h21.08C23.345 0 24 .655 24 1.46v2.486c0 .805-.655 1.46-1.46 1.46z"})}),o.jsx("span",{children:"Subscribe on Substack"})]}),o.jsx("div",{className:"pt-4 border-t border-gray-800",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("a",{href:"/podcast",className:"block text-white hover:text-gray-300 font-semibold py-2 transition-colors",children:"Podcasts"}),o.jsx("a",{href:"/articles",className:"block text-white hover:text-gray-300 font-semibold py-2 transition-colors",children:"Articles"}),o.jsx("a",{href:"/courses",className:"block text-white hover:text-gray-300 font-semibold py-2 transition-colors",children:"Courses"}),o.jsx("a",{href:"/topics",className:"block text-white hover:text-gray-300 font-semibold py-2 transition-colors",children:"Topics"})]})})]})})]})})}var Oy="popstate";function vE(t={}){function e(s,i){let{pathname:l,search:c,hash:d}=s.location;return Mp("",{pathname:l,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:Hl(i)}return NE(e,n,null,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wE(){return Math.random().toString(36).substring(2,10)}function Ry(t,e){return{usr:t.state,key:t.key,idx:e}}function Mp(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ba(e):e,state:n,key:e&&e.key||s||wE()}}function Hl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ba(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function NE(t,e,n,s={}){let{window:i=document.defaultView,v5Compat:l=!1}=s,c=i.history,d="POP",h=null,p=m();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function m(){return(c.state||{idx:null}).idx}function x(){d="POP";let j=m(),E=j==null?null:j-p;p=j,h&&h({action:d,location:S.location,delta:E})}function y(j,E){d="PUSH";let T=Mp(S.location,j,E);p=m()+1;let A=Ry(T,p),H=S.createHref(T);try{c.pushState(A,"",H)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(H)}l&&h&&h({action:d,location:S.location,delta:1})}function w(j,E){d="REPLACE";let T=Mp(S.location,j,E);p=m();let A=Ry(T,p),H=S.createHref(T);c.replaceState(A,"",H),l&&h&&h({action:d,location:S.location,delta:0})}function v(j){return jE(j)}let S={get action(){return d},get location(){return t(i,c)},listen(j){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Oy,x),h=j,()=>{i.removeEventListener(Oy,x),h=null}},createHref(j){return e(i,j)},createURL:v,encodeLocation(j){let E=v(j);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:y,replace:w,go(j){return c.go(j)}};return S}function jE(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Hl(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function J1(t,e,n="/"){return SE(t,e,n,!1)}function SE(t,e,n,s){let i=typeof e=="string"?ba(e):e,l=Rs(i.pathname||"/",n);if(l==null)return null;let c=X1(t);kE(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let p=_E(l);d=DE(c[h],p,s)}return d}function X1(t,e=[],n=[],s="",i=!1){let l=(c,d,h=i,p)=>{let m={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(s)&&h)return;Ze(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length)}let x=As([s,m.relativePath]),y=n.concat(m);c.children&&c.children.length>0&&(Ze(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),X1(c.children,e,y,x,h)),!(c.path==null&&!c.index)&&e.push({path:x,score:RE(x,c.index),routesMeta:y})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let h of Q1(c.path))l(c,d,!0,h)}),e}function Q1(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return i?[l,""]:[l];let c=Q1(s.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),i&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function kE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:LE(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var CE=/^:[\w-]+$/,EE=3,TE=2,AE=1,ME=10,OE=-2,Ly=t=>t==="*";function RE(t,e){let n=t.split("/"),s=n.length;return n.some(Ly)&&(s+=OE),e&&(s+=TE),n.filter(i=>!Ly(i)).reduce((i,l)=>i+(CE.test(l)?EE:l===""?AE:ME),s)}function LE(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function DE(t,e,n=!1){let{routesMeta:s}=t,i={},l="/",c=[];for(let d=0;d<s.length;++d){let h=s[d],p=d===s.length-1,m=l==="/"?e:e.slice(l.length)||"/",x=nu({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),y=h.route;if(!x&&p&&n&&!s[s.length-1].route.index&&(x=nu({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!x)return null;Object.assign(i,x.params),c.push({params:i,pathname:As([l,x.pathname]),pathnameBase:PE(As([l,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(l=As([l,x.pathnameBase]))}return c}function nu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=zE(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:s.reduce((p,{paramName:m,isOptional:x},y)=>{if(m==="*"){let v=d[y]||"";c=l.slice(0,l.length-v.length).replace(/(.)\/+$/,"$1")}const w=d[y];return x&&!w?p[m]=void 0:p[m]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function zE(t,e=!1,n=!0){Vn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function _E(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Rs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var Z1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BE=t=>Z1.test(t);function UE(t,e="/"){let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?ba(t):t,l;if(n)if(BE(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Vn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=Dy(n.substring(1),"/"):l=Dy(n,e)}else l=e;return{pathname:l,search:IE(s),hash:$E(i)}}function Dy(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qh(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ew(t){let e=HE(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function tw(t,e,n,s=!1){let i;typeof t=="string"?i=ba(t):(i={...t},Ze(!i.pathname||!i.pathname.includes("?"),qh("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),qh("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),qh("#","search","hash",i)));let l=t===""||i.pathname==="",c=l?"/":i.pathname,d;if(c==null)d=n;else{let x=e.length-1;if(!s&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),x-=1;i.pathname=y.join("/")}d=x>=0?e[x]:"/"}let h=UE(i,d),p=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}var As=t=>t.join("/").replace(/\/\/+/g,"/"),PE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$E=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,FE=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function VE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function qE(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var nw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function sw(t,e){let n=t;if(typeof n!="string"||!Z1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,i=!1;if(nw)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Rs(c.pathname,e);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:i=!0}catch{Vn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rw=["POST","PUT","PATCH","DELETE"];new Set(rw);var KE=["GET",...rw];new Set(KE);var ya=k.createContext(null);ya.displayName="DataRouter";var ed=k.createContext(null);ed.displayName="DataRouterState";var YE=k.createContext(!1),iw=k.createContext({isTransitioning:!1});iw.displayName="ViewTransition";var GE=k.createContext(new Map);GE.displayName="Fetchers";var WE=k.createContext(null);WE.displayName="Await";var _n=k.createContext(null);_n.displayName="Navigation";var no=k.createContext(null);no.displayName="Location";var ns=k.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var fm=k.createContext(null);fm.displayName="RouteError";var aw="REACT_ROUTER_ERROR",JE="REDIRECT",XE="ROUTE_ERROR_RESPONSE";function QE(t){if(t.startsWith(`${aw}:${JE}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ZE(t){if(t.startsWith(`${aw}:${XE}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new FE(e.status,e.statusText,e.data)}catch{}}function e4(t,{relative:e}={}){Ze(so(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(_n),{hash:i,pathname:l,search:c}=ro(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:As([n,l])),s.createHref({pathname:d,search:c,hash:i})}function so(){return k.useContext(no)!=null}function Ls(){return Ze(so(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(no).location}var lw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ow(t){k.useContext(_n).static||k.useLayoutEffect(t)}function Ht(){let{isDataRoute:t}=k.useContext(ns);return t?h4():t4()}function t4(){Ze(so(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(ya),{basename:e,navigator:n}=k.useContext(_n),{matches:s}=k.useContext(ns),{pathname:i}=Ls(),l=JSON.stringify(ew(s)),c=k.useRef(!1);return ow(()=>{c.current=!0}),k.useCallback((h,p={})=>{if(Vn(c.current,lw),!c.current)return;if(typeof h=="number"){n.go(h);return}let m=tw(h,JSON.parse(l),i,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:As([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,l,i,t])}k.createContext(null);function Nr(){let{matches:t}=k.useContext(ns),e=t[t.length-1];return e?e.params:{}}function ro(t,{relative:e}={}){let{matches:n}=k.useContext(ns),{pathname:s}=Ls(),i=JSON.stringify(ew(n));return k.useMemo(()=>tw(t,JSON.parse(i),s,e==="path"),[t,i,s,e])}function n4(t,e){return cw(t,e)}function cw(t,e,n,s,i){Ze(so(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=k.useContext(_n),{matches:c}=k.useContext(ns),d=c[c.length-1],h=d?d.params:{},p=d?d.pathname:"/",m=d?d.pathnameBase:"/",x=d&&d.route;{let T=x&&x.path||"";dw(p,!x||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let y=Ls(),w;if(e){let T=typeof e=="string"?ba(e):e;Ze(m==="/"||T.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${T.pathname}" was given in the \`location\` prop.`),w=T}else w=y;let v=w.pathname||"/",S=v;if(m!=="/"){let T=m.replace(/^\//,"").split("/");S="/"+v.replace(/^\//,"").split("/").slice(T.length).join("/")}let j=J1(t,{pathname:S});Vn(x||j!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Vn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=l4(j&&j.map(T=>Object.assign({},T,{params:Object.assign({},h,T.params),pathname:As([m,l.encodeLocation?l.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?m:As([m,l.encodeLocation?l.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),c,n,s,i);return e&&E?k.createElement(no.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},E):E}function s4(){let t=f4(),e=VE(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,c)}var r4=k.createElement(s4,null),uw=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=ZE(t.digest);n&&(t=n)}let e=t!==void 0?k.createElement(ns.Provider,{value:this.props.routeContext},k.createElement(fm.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?k.createElement(i4,{error:t},e):e}};uw.contextType=YE;var Kh=new WeakMap;function i4({children:t,error:e}){let{basename:n}=k.useContext(_n);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=QE(e.digest);if(s){let i=Kh.get(e);if(i)throw i;let l=sw(s.location,n);if(nw&&!Kh.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw Kh.set(e,c),c}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function a4({routeContext:t,match:e,children:n}){let s=k.useContext(ya);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(ns.Provider,{value:t},n)}function l4(t,e=[],n=null,s=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let m=l.findIndex(x=>x.route.id&&c?.[x.route.id]!==void 0);Ze(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let d=!1,h=-1;if(n)for(let m=0;m<l.length;m++){let x=l[m];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(h=m),x.route.id){let{loaderData:y,errors:w}=n,v=x.route.loader&&!y.hasOwnProperty(x.route.id)&&(!w||w[x.route.id]===void 0);if(x.route.lazy||v){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let p=n&&s?(m,x)=>{s(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:qE(n.matches),errorInfo:x})}:void 0;return l.reduceRight((m,x,y)=>{let w,v=!1,S=null,j=null;n&&(w=c&&x.route.id?c[x.route.id]:void 0,S=x.route.errorElement||r4,d&&(h<0&&y===0?(dw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,j=null):h===y&&(v=!0,j=x.route.hydrateFallbackElement||null)));let E=e.concat(l.slice(0,y+1)),T=()=>{let A;return w?A=S:v?A=j:x.route.Component?A=k.createElement(x.route.Component,null):x.route.element?A=x.route.element:A=m,k.createElement(a4,{match:x,routeContext:{outlet:m,matches:E,isDataRoute:n!=null},children:A})};return n&&(x.route.ErrorBoundary||x.route.errorElement||y===0)?k.createElement(uw,{location:n.location,revalidation:n.revalidation,component:S,error:w,children:T(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:p}):T()},null)}function hm(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function o4(t){let e=k.useContext(ya);return Ze(e,hm(t)),e}function c4(t){let e=k.useContext(ed);return Ze(e,hm(t)),e}function u4(t){let e=k.useContext(ns);return Ze(e,hm(t)),e}function pm(t){let e=u4(t),n=e.matches[e.matches.length-1];return Ze(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function d4(){return pm("useRouteId")}function f4(){let t=k.useContext(fm),e=c4("useRouteError"),n=pm("useRouteError");return t!==void 0?t:e.errors?.[n]}function h4(){let{router:t}=o4("useNavigate"),e=pm("useNavigate"),n=k.useRef(!1);return ow(()=>{n.current=!0}),k.useCallback(async(i,l={})=>{Vn(n.current,lw),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var zy={};function dw(t,e,n){!e&&!zy[t]&&(zy[t]=!0,Vn(!1,n))}k.memo(p4);function p4({routes:t,future:e,state:n,onError:s}){return cw(t,void 0,n,s,e)}function Be(t){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function m4({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:i,static:l=!1,unstable_useTransitions:c}){Ze(!so(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),h=k.useMemo(()=>({basename:d,navigator:i,static:l,unstable_useTransitions:c,future:{}}),[d,i,l,c]);typeof n=="string"&&(n=ba(n));let{pathname:p="/",search:m="",hash:x="",state:y=null,key:w="default"}=n,v=k.useMemo(()=>{let S=Rs(p,d);return S==null?null:{location:{pathname:S,search:m,hash:x,state:y,key:w},navigationType:s}},[d,p,m,x,y,w,s]);return Vn(v!=null,`<Router basename="${d}"> is not able to match the URL "${p}${m}${x}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:k.createElement(_n.Provider,{value:h},k.createElement(no.Provider,{children:e,value:v}))}function g4({children:t,location:e}){return n4(Op(t),e)}function Op(t,e=[]){let n=[];return k.Children.forEach(t,(s,i)=>{if(!k.isValidElement(s))return;let l=[...e,i];if(s.type===k.Fragment){n.push.apply(n,Op(s.props.children,l));return}Ze(s.type===Be,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Op(s.props.children,l)),n.push(c)}),n}var Kc="get",Yc="application/x-www-form-urlencoded";function td(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function x4(t){return td(t)&&t.tagName.toLowerCase()==="button"}function b4(t){return td(t)&&t.tagName.toLowerCase()==="form"}function y4(t){return td(t)&&t.tagName.toLowerCase()==="input"}function v4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function w4(t,e){return t.button===0&&(!e||e==="_self")&&!v4(t)}var Ac=null;function N4(){if(Ac===null)try{new FormData(document.createElement("form"),0),Ac=!1}catch{Ac=!0}return Ac}var j4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yh(t){return t!=null&&!j4.has(t)?(Vn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):t}function S4(t,e){let n,s,i,l,c;if(b4(t)){let d=t.getAttribute("action");s=d?Rs(d,e):null,n=t.getAttribute("method")||Kc,i=Yh(t.getAttribute("enctype"))||Yc,l=new FormData(t)}else if(x4(t)||y4(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(s=h?Rs(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Kc,i=Yh(t.getAttribute("formenctype"))||Yh(d.getAttribute("enctype"))||Yc,l=new FormData(d,t),!N4()){let{name:p,type:m,value:x}=t;if(m==="image"){let y=p?`${p}.`:"";l.append(`${y}x`,"0"),l.append(`${y}y`,"0")}else p&&l.append(p,x)}}else{if(td(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kc,s=null,i=Yc,c=t}return l&&i==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function k4(t,e,n,s){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${s}`:i.pathname=`${i.pathname}.${s}`:i.pathname==="/"?i.pathname=`_root.${s}`:e&&Rs(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${s}`,i}async function C4(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function E4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function T4(t,e,n){let s=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let c=await C4(l,n);return c.links?c.links():[]}return[]}));return R4(s.flat(1).filter(E4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function _y(t,e,n,s,i,l){let c=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,d=(h,p)=>n[p].pathname!==h.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,p)=>c(h,p)||d(h,p)):l==="data"?e.filter((h,p)=>{let m=s.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(c(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function A4(t,e,{includeHydrateFallback:n}={}){return M4(t.map(s=>{let i=e.routes[s.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function M4(t){return[...new Set(t)]}function O4(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function R4(t,e){let n=new Set;return new Set(e),t.reduce((s,i)=>{let l=JSON.stringify(O4(i));return n.has(l)||(n.add(l),s.push({key:l,link:i})),s},[])}function fw(){let t=k.useContext(ya);return mm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function L4(){let t=k.useContext(ed);return mm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var gm=k.createContext(void 0);gm.displayName="FrameworkContext";function hw(){let t=k.useContext(gm);return mm(t,"You must render this element inside a <HydratedRouter> element"),t}function D4(t,e){let n=k.useContext(gm),[s,i]=k.useState(!1),[l,c]=k.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:m,onTouchStart:x}=e,y=k.useRef(null);k.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let S=E=>{E.forEach(T=>{c(T.isIntersecting)})},j=new IntersectionObserver(S,{threshold:.5});return y.current&&j.observe(y.current),()=>{j.disconnect()}}},[t]),k.useEffect(()=>{if(s){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[s]);let w=()=>{i(!0)},v=()=>{i(!1),c(!1)};return n?t!=="intent"?[l,y,{}]:[l,y,{onFocus:vl(d,w),onBlur:vl(h,v),onMouseEnter:vl(p,w),onMouseLeave:vl(m,v),onTouchStart:vl(x,w)}]:[!1,y,{}]}function vl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function z4({page:t,...e}){let{router:n}=fw(),s=k.useMemo(()=>J1(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?k.createElement(B4,{page:t,matches:s,...e}):null}function _4(t){let{manifest:e,routeModules:n}=hw(),[s,i]=k.useState([]);return k.useEffect(()=>{let l=!1;return T4(t,e,n).then(c=>{l||i(c)}),()=>{l=!0}},[t,e,n]),s}function B4({page:t,matches:e,...n}){let s=Ls(),{future:i,manifest:l,routeModules:c}=hw(),{basename:d}=fw(),{loaderData:h,matches:p}=L4(),m=k.useMemo(()=>_y(t,e,p,l,s,"data"),[t,e,p,l,s]),x=k.useMemo(()=>_y(t,e,p,l,s,"assets"),[t,e,p,l,s]),y=k.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let S=new Set,j=!1;if(e.forEach(T=>{let A=l.routes[T.route.id];!A||!A.hasLoader||(!m.some(H=>H.route.id===T.route.id)&&T.route.id in h&&c[T.route.id]?.shouldRevalidate||A.hasClientLoader?j=!0:S.add(T.route.id))}),S.size===0)return[];let E=k4(t,d,i.unstable_trailingSlashAwareDataRequests,"data");return j&&S.size>0&&E.searchParams.set("_routes",e.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[E.pathname+E.search]},[d,i.unstable_trailingSlashAwareDataRequests,h,s,l,m,e,t,c]),w=k.useMemo(()=>A4(x,l),[x,l]),v=_4(x);return k.createElement(k.Fragment,null,y.map(S=>k.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),w.map(S=>k.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),v.map(({key:S,link:j})=>k.createElement("link",{key:S,nonce:n.nonce,...j})))}function U4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var H4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H4&&(window.__reactRouterVersion="7.12.0")}catch{}function P4({basename:t,children:e,unstable_useTransitions:n,window:s}){let i=k.useRef();i.current==null&&(i.current=vE({window:s,v5Compat:!0}));let l=i.current,[c,d]=k.useState({action:l.action,location:l.location}),h=k.useCallback(p=>{n===!1?d(p):k.startTransition(()=>d(p))},[n]);return k.useLayoutEffect(()=>l.listen(h),[l,h]),k.createElement(m4,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var pw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ft=k.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:i,reloadDocument:l,replace:c,state:d,target:h,to:p,preventScrollReset:m,viewTransition:x,unstable_defaultShouldRevalidate:y,...w},v){let{basename:S,unstable_useTransitions:j}=k.useContext(_n),E=typeof p=="string"&&pw.test(p),T=sw(p,S);p=T.to;let A=e4(p,{relative:i}),[H,B,z]=D4(s,w),O=V4(p,{replace:c,state:d,target:h,preventScrollReset:m,relative:i,viewTransition:x,unstable_defaultShouldRevalidate:y,unstable_useTransitions:j});function Y($){e&&e($),$.defaultPrevented||O($)}let U=k.createElement("a",{...w,...z,href:T.absoluteURL||A,onClick:T.isExternal||l?e:Y,ref:U4(v,B),target:h,"data-discover":!E&&n==="render"?"true":void 0});return H&&!E?k.createElement(k.Fragment,null,U,k.createElement(z4,{page:A})):U});Ft.displayName="Link";var I4=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:i=!1,style:l,to:c,viewTransition:d,children:h,...p},m){let x=ro(c,{relative:p.relative}),y=Ls(),w=k.useContext(ed),{navigator:v,basename:S}=k.useContext(_n),j=w!=null&&W4(x)&&d===!0,E=v.encodeLocation?v.encodeLocation(x).pathname:x.pathname,T=y.pathname,A=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(T=T.toLowerCase(),A=A?A.toLowerCase():null,E=E.toLowerCase()),A&&S&&(A=Rs(A,S)||A);const H=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let B=T===E||!i&&T.startsWith(E)&&T.charAt(H)==="/",z=A!=null&&(A===E||!i&&A.startsWith(E)&&A.charAt(E.length)==="/"),O={isActive:B,isPending:z,isTransitioning:j},Y=B?e:void 0,U;typeof s=="function"?U=s(O):U=[s,B?"active":null,z?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let $=typeof l=="function"?l(O):l;return k.createElement(Ft,{...p,"aria-current":Y,className:U,ref:m,style:$,to:c,viewTransition:d},typeof h=="function"?h(O):h)});I4.displayName="NavLink";var $4=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:i,state:l,method:c=Kc,action:d,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:x,unstable_defaultShouldRevalidate:y,...w},v)=>{let{unstable_useTransitions:S}=k.useContext(_n),j=Y4(),E=G4(d,{relative:p}),T=c.toLowerCase()==="get"?"get":"post",A=typeof d=="string"&&pw.test(d),H=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let z=B.nativeEvent.submitter,O=z?.getAttribute("formmethod")||c,Y=()=>j(z||B.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:l,relative:p,preventScrollReset:m,viewTransition:x,unstable_defaultShouldRevalidate:y});S&&n!==!1?k.startTransition(()=>Y()):Y()};return k.createElement("form",{ref:v,method:T,action:E,onSubmit:s?h:H,...w,"data-discover":!A&&t==="render"?"true":void 0})});$4.displayName="Form";function F4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mw(t){let e=k.useContext(ya);return Ze(e,F4(t)),e}function V4(t,{target:e,replace:n,state:s,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h}={}){let p=Ht(),m=Ls(),x=ro(t,{relative:l});return k.useCallback(y=>{if(w4(y,e)){y.preventDefault();let w=n!==void 0?n:Hl(m)===Hl(x),v=()=>p(t,{replace:w,state:s,preventScrollReset:i,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});h?k.startTransition(()=>v()):v()}},[m,p,x,n,s,e,t,i,l,c,d,h])}var q4=0,K4=()=>`__${String(++q4)}__`;function Y4(){let{router:t}=mw("useSubmit"),{basename:e}=k.useContext(_n),n=d4(),s=t.fetch,i=t.navigate;return k.useCallback(async(l,c={})=>{let{action:d,method:h,encType:p,formData:m,body:x}=S4(l,e);if(c.navigate===!1){let y=c.fetcherKey||K4();await s(y,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:m,body:x,formMethod:c.method||h,formEncType:c.encType||p,flushSync:c.flushSync})}else await i(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:m,body:x,formMethod:c.method||h,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,i,e,n])}function G4(t,{relative:e}={}){let{basename:n}=k.useContext(_n),s=k.useContext(ns);Ze(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),l={...ro(t||".",{relative:e})},c=Ls();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(m=>m==="")){d.delete("index"),h.filter(x=>x).forEach(x=>d.append("index",x));let m=d.toString();l.search=m?`?${m}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:As([n,l.pathname])),Hl(l)}function W4(t,{relative:e}={}){let n=k.useContext(iw);Ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=mw("useViewTransitionState"),i=ro(t,{relative:e});if(!n.isTransitioning)return!1;let l=Rs(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Rs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return nu(i.pathname,c)!=null||nu(i.pathname,l)!=null}var J4=S1();const X4=j1(J4),Ns=[{id:"main-hero",title:"Patricia Macadam",subtitle:"Redefine How You Think, Reshape How You Live",description:"Uncover valuable perspectives and actionable guidance that help you move through life's challenges with greater understanding and direction.",buttonText:"Browse Resources",buttonLink:"/resources",backgroundColor:"#0D074D",textColor:"white"},{id:"courses",title:"Learning That Changes You",description:"Enroll in flexible online programs crafted to support you in reaching your goals and making lasting improvements in how you approach life.",buttonText:"See All Courses",buttonLink:"/courses",backgroundColor:"#E7E0D7",textColor:"#0D074D"},{id:"podcast",title:"Meaningful Dialogues",subtitle:"Fresh Content Every Week",description:"Tune into engaging conversations about self-improvement, human connections, and intentional living.",buttonText:"Start Listening",buttonLink:"/podcast",backgroundColor:"#090b18",textColor:"white",badge:"Fresh Content Every Week"},{id:"books",title:"Wisdom in Every Page",description:"Dive into life-changing concepts through written works and materials accessible globally.",buttonText:"Browse Books",buttonLink:"/books",backgroundColor:"#365264",textColor:"white"},{id:"community",title:"Become Part of Our Network",description:"Engage with others who share your interests as you embark on a path of learning and exploration together.",buttonText:"Join Today",buttonLink:"/community",backgroundColor:"#c3adab",textColor:"#0D074D"},{id:"resources",title:"Everything You Need to Grow",description:"Find written materials, step-by-step guides, and helpful tools to enhance your journey of self-improvement.",buttonText:"Explore Resources",buttonLink:"/resources",backgroundColor:"#d1c2b4",textColor:"#0D074D"}];function Q4(){const[t,e]=k.useState(0),[n,s]=k.useState(null);k.useEffect(()=>{const d=setInterval(()=>{e(h=>(h+1)%Ns.length)},4e3);return s(d),()=>{d&&clearInterval(d)}},[]);const i=d=>{e(d),n&&clearInterval(n);const h=setInterval(()=>{e(p=>(p+1)%Ns.length)},4e3);s(h)},l=()=>{e(h=>(h+1)%Ns.length),n&&clearInterval(n);const d=setInterval(()=>{e(h=>(h+1)%Ns.length)},4e3);s(d)},c=()=>{e(h=>(h-1+Ns.length)%Ns.length),n&&clearInterval(n);const d=setInterval(()=>{e(h=>(h+1)%Ns.length)},4e3);s(d)};return o.jsxs("section",{className:"relative w-full h-screen overflow-hidden",children:[o.jsx("div",{className:"relative w-full h-full",children:Ns.map((d,h)=>o.jsxs("div",{"data-slide-id":d.id,className:`absolute inset-0 transition-opacity duration-700 ease-in-out ${h===t?"opacity-100 z-10":"opacity-0 z-0"}`,style:{backgroundColor:d.backgroundColor},children:[o.jsx("div",{className:"container mx-auto px-4 h-full flex items-center",children:o.jsxs("div",{className:`slide-content max-w-2xl transition-all duration-700 ${h===t?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[d.badge&&o.jsx("div",{className:`inline-block px-4 py-2 rounded mb-4 text-sm font-semibold transition-all duration-700 delay-100 ${h===t?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{backgroundColor:d.id==="podcast"?"#5E58A4":"rgba(255,255,255,0.2)",color:d.textColor},children:d.badge}),d.subtitle&&o.jsx("p",{className:`text-lg mb-3 transition-all duration-700 delay-100 ${h===t?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{color:d.textColor},children:d.subtitle}),o.jsx("h2",{className:`text-3xl md:text-4xl lg:text-5xl font-bold mb-6 leading-tight transition-all duration-700 delay-150 ${h===t?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{color:d.textColor},children:d.title}),o.jsx("p",{className:`text-base md:text-lg lg:text-xl mb-8 leading-relaxed transition-all duration-700 delay-200 ${h===t?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,style:{color:d.textColor},children:d.description}),o.jsx("a",{href:d.buttonLink,className:`inline-block px-8 py-4 rounded font-semibold transition-all duration-700 delay-300 ${h===t?"opacity-100 translate-y-0":"opacity-0 translate-y-4"} ${d.textColor==="white"?"bg-white text-gray-900 hover:bg-gray-100":"bg-gray-900 text-white hover:bg-gray-800"}`,children:d.buttonText})]})}),o.jsx("div",{className:"absolute inset-0 pointer-events-none md:hidden",style:{background:`linear-gradient(to bottom, transparent 0%, ${d.backgroundColor} 50%)`}})]},d.id))}),o.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20 flex space-x-2",children:Ns.map((d,h)=>o.jsx("button",{onClick:()=>i(h),className:`h-2 rounded-full transition-all duration-300 ${h===t?"bg-white w-8":"bg-white/50 hover:bg-white/75 w-2"}`,"aria-label":`Go to slide ${h+1}`},h))}),o.jsx("button",{onClick:c,className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-20 w-12 h-12 bg-white/90 hover:bg-white rounded-full flex items-center justify-center transition-all duration-300 shadow-lg","aria-label":"Previous slide",children:o.jsx("svg",{className:"w-6 h-6 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsx("button",{onClick:l,className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-20 w-12 h-12 bg-white/90 hover:bg-white rounded-full flex items-center justify-center transition-all duration-300 shadow-lg","aria-label":"Next slide",children:o.jsx("svg",{className:"w-6 h-6 text-gray-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}function Z4(){const t=k.useRef(null),[e,n]=k.useState(!1),[s,i]=k.useState(!0),[l,c]=k.useState([]),[d,h]=k.useState(!0);k.useEffect(()=>{p()},[]);const p=async()=>{try{const w=await ye.get(`${ot}/topics`);c(w.data.topics||[])}catch(w){console.error("Error fetching topics:",w)}finally{h(!1)}},m=()=>{if(t.current){const{scrollLeft:w,scrollWidth:v,clientWidth:S}=t.current;n(w>0),i(w<v-S-10)}};k.useEffect(()=>(m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)),[l]);const x=()=>{t.current&&(t.current.scrollBy({left:-300,behavior:"smooth"}),setTimeout(m,300))},y=()=>{t.current&&(t.current.scrollBy({left:300,behavior:"smooth"}),setTimeout(m,300))};return o.jsxs("section",{className:"home-topics w-full py-16 bg-white",children:[o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-8 text-gray-900",children:"Explore Topics"}),o.jsxs("div",{className:"relative",children:[d?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"w-8 h-8 border-2 border-gray-900 border-t-transparent rounded-full animate-spin"})}):l.length===0?o.jsx("div",{className:"text-center py-12 text-gray-500",children:o.jsx("p",{children:"No topics available."})}):o.jsx("div",{ref:t,onScroll:m,className:"topics-container flex space-x-4 overflow-x-auto scrollbar-hide pb-4 scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:l.map(w=>o.jsxs("a",{href:`/topics/${w.slug}`,className:"topic-card shrink-0 w-32 group",children:[w.image?o.jsx("div",{className:"w-32 h-32 rounded-lg mb-3 transition-transform duration-300 group-hover:scale-105 bg-cover bg-center",style:{backgroundImage:`url(${w.image})`}}):o.jsx("div",{className:"w-32 h-32 rounded-lg mb-3 transition-transform duration-300 group-hover:scale-105 bg-gradient-to-br from-gray-200 to-gray-400 flex items-center justify-center",children:o.jsx("span",{className:"text-gray-600 text-4xl font-bold",children:w.name.charAt(0)})}),o.jsx("div",{className:"text-sm font-medium text-gray-900 text-center group-hover:text-gray-700 transition-colors",children:w.name})]},w._id))}),o.jsx("div",{className:"topics-slider_nav flex justify-end mt-4",children:o.jsxs("div",{className:"topics-slider__nav-btns flex space-x-2",children:[o.jsx("button",{onClick:x,disabled:!e,className:`slider__nav-arrow w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${e?"bg-gray-900 text-white hover:bg-gray-800 cursor-pointer":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,"aria-label":"Previous slide",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsx("button",{onClick:y,disabled:!s,className:`slider__nav-arrow w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${s?"bg-gray-900 text-white hover:bg-gray-800 cursor-pointer":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,"aria-label":"Next slide",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})})]}),o.jsxs("div",{className:"substack-cta__container mt-16 flex flex-col md:flex-row items-center md:items-start gap-6 bg-gray-50 rounded-lg p-8",children:[o.jsx("div",{className:"w-full md:w-96 shrink-0",children:o.jsx("img",{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68c7b185876c240bfde01b40_Rectangle%202-min.avif",alt:"Substack",className:"w-full h-auto rounded-lg",loading:"lazy"})}),o.jsxs("div",{className:"cta-right flex-1 text-center md:text-left",children:[o.jsx("div",{className:"text-2xl md:text-3xl font-bold mb-4 text-gray-900",children:"Find thoughtful perspectives and additional content from Patricia on Substack."}),o.jsx("a",{href:"https://estherperel.substack.com",target:"_blank",rel:"noopener noreferrer",className:"inline-block px-8 py-4 bg-gray-900 text-white rounded font-semibold hover:bg-gray-800 transition-colors duration-300",children:"Subscribe on Substack"})]})]})]}),o.jsx("style",{children:`
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
      `})]})}const eT=[{title:"The Permission to Be and Not Just the Pressure to Do",href:"/podcasts/the-permission-to-be-and-not-just-the-pressure-to-do",image:"https://cdn.prod.website-files.com/68b897e5b24a44a33dd27cc1/69419510392a15d8c83de6d7_Esther%20Calling%20-%20The%20Permission%20to%20Be%20and%20Not%20Just%20the%20Pressure%20to%20Do%20(yellow)_text-2.avif",description:"Someone reaches out to Patricia wondering how to feel valuable without needing to constantly prove themselves. Achievement has turned into both a weight they carry and how they define who they are. In this session, they examine together what it looks like to find peace and self-worth, not by accomplishing more, but by accepting who you already are.",date:"December 15, 2025",duration:"49 min"},{title:"Love in War - Where Are They Now?",href:"/podcasts/love-in-war---where-are-they-now",image:"https://cdn.prod.website-files.com/68b897e5b24a44a33dd27cc1/693737c1a6efdc6a6779f69d_Session%20-%20Love%20in%20a%20Time%20of%20War%20-%20Where%20Are%20They%20Now.avif",description:"Patricia reconnects with a pair she worked with three years ago when they were apart due to difficult circumstances. Now physically together again, they discover their emotional bond has weakened. Patricia shares strategies for keeping joy, creativity, and closeness alive even when life feels overwhelming.",date:"December 8, 2025",duration:"57 min"}];function tT(){return o.jsx("section",{className:"wswb-podcast w-full py-16 bg-white",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-12",children:[o.jsxs("div",{className:"left wswb-podcast flex-1",children:[o.jsx("img",{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b9c0be8e80a7930466997d_image%205.avif",alt:"Where Should We Begin Podcast Cover",className:"w-full max-w-md mb-6",loading:"lazy"}),o.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-gray-900",children:"Where Should We Begin? with Patricia Macadam"}),o.jsx("div",{className:"text-lg mb-6 text-gray-700 leading-relaxed",children:"Every Monday, step into Patricia's practice and hear authentic conversations as individuals seeking support open up about the most personal and meaningful moments of their lives."}),o.jsx("a",{href:"/podcast",className:"inline-block px-8 py-4 bg-gray-900 text-white rounded font-semibold hover:bg-gray-800 transition-colors duration-300",children:"Listen to the Podcast"})]}),o.jsxs("div",{className:"right-home-podcasts flex-1",children:[o.jsx("h5",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Recent Episodes"}),o.jsx("div",{className:"podcast-episodes-wrapper space-y-6 mb-8",children:eT.map(t=>o.jsxs("a",{href:t.href,className:"podcast-ep-card flex flex-col md:flex-row gap-4 group hover:opacity-90 transition-opacity",children:[o.jsx("div",{className:"podcast-ep-card__img w-full md:w-48 h-48 shrink-0 rounded-lg bg-cover bg-center hidden md:block",style:{backgroundImage:`url(${t.image})`}}),o.jsx("img",{src:t.image,alt:t.title,className:"podcast-ep-card__img mobile w-full h-48 object-cover rounded-lg md:hidden mb-3",loading:"lazy"}),o.jsxs("div",{className:"podcast-ep-card__content flex-1",children:[o.jsx("div",{className:"podcast-ep-card__title mb-3",children:o.jsx("div",{className:"text-xl md:text-2xl font-bold mb-2 text-gray-900 group-hover:text-gray-700 transition-colors",children:t.title})}),o.jsx("div",{className:"body-m mb-3 text-gray-600 leading-relaxed line-clamp-3",children:t.description}),o.jsxs("div",{className:"podcast-ep-card__details flex items-center gap-2 text-sm text-gray-500",children:[o.jsx("div",{children:t.date}),o.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"}),o.jsx("div",{className:"lowercase",children:t.duration})]})]})]},t.href))}),o.jsx("a",{href:"/podcast",className:"inline-block px-8 py-4 border-2 border-gray-900 text-gray-900 rounded font-semibold hover:bg-gray-900 hover:text-white transition-colors duration-300",children:"View All Episodes"})]})]})})})}const Gh=[{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b9c149647d3f4ce3ccb16b_Vector.svg",alt:"Time Logo"},{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b9c1493a8cd0fc210c8c43_Group.svg",alt:"New York Times Logo"},{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b9c1492489ffdf697e8136_Group-1.svg",alt:"TED Logo"},{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b9c1499ef53d4f4f70df06_Group-2.svg",alt:"ABC News Logo"},{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b9c1495029e853d2e95a1a_Group-3.svg",alt:"Yahoo Logo"},{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b9c149762789ac7c15a9fa_Group-4.svg",alt:"The Cut Logo"}];function nT(){const t=k.useRef(null);return k.useEffect(()=>{const e=t.current;if(!e)return;const n=e.querySelector(".logo-set");if(!n)return;let s,i=0;const l=.5,c=()=>n.offsetWidth,d=()=>{i-=l;const x=c();Math.abs(i)>=x&&(i=0),e.style.transform=`translate3d(${i}px, 0px, 0px)`,s=requestAnimationFrame(d)},h=e.querySelectorAll("img");let p=0;const m=h.length;return m===0?s=requestAnimationFrame(d):(h.forEach(x=>{x.complete?p++:x.addEventListener("load",()=>{p++,p===m&&(s=requestAnimationFrame(d))})}),p===m&&(s=requestAnimationFrame(d))),()=>{s&&cancelAnimationFrame(s)}},[]),o.jsx("section",{className:"as-seen-on__container w-full py-16 bg-white",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row gap-12 mb-12",children:[o.jsx("div",{className:"left as-seen-son flex-1",children:o.jsx("img",{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b9c35cf22d4224a252f799_Rectangle%205.avif",alt:"Patricia Macadam",className:"w-full h-auto rounded-lg",loading:"lazy"})}),o.jsxs("div",{className:"as-seen-on right flex-1",children:[o.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-4 text-gray-900",children:"Patricia Macadam stands as a leading voice in understanding human connections and professional dynamics."}),o.jsxs("div",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:["As an accomplished therapist and ",o.jsx("em",{className:"font-semibold",children:"New York Times"})," bestselling writer, Patricia has dedicated her career to examining how people relate to one another in both personal and professional settings. Her work delves into the complexities of modern connections, exploring how we build trust, navigate challenges, and create meaningful bonds. Through her books, workshops, and popular podcast ",o.jsx("em",{className:"font-semibold",children:"Where Should We Begin?"}),", Patricia offers practical insights that help people transform their relationships and find deeper understanding in their interactions with others."]}),o.jsx("a",{href:"/about",className:"hidden lg:inline-block px-8 py-4 border-2 border-gray-900 text-gray-900 rounded font-semibold hover:bg-gray-900 hover:text-white transition-colors duration-300",children:"Learn More"})]})]}),o.jsx("div",{className:"as-seen-on carousel-label mb-6",children:o.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"As seen on:"})}),o.jsx("div",{className:"as-seen-on__carousel overflow-hidden relative w-full",children:o.jsxs("div",{ref:t,className:"marquee-track flex items-center gap-8 whitespace-nowrap",children:[o.jsx("div",{className:"logo-set flex items-center gap-8 shrink-0",children:Gh.map((e,n)=>o.jsx("img",{src:e.src,alt:e.alt,className:"as-seen-on-logos h-12 w-auto opacity-60 hover:opacity-100 transition-opacity shrink-0",loading:"lazy"},`first-${n}`))}),o.jsx("div",{className:"logo-set flex items-center gap-8 shrink-0",children:Gh.map((e,n)=>o.jsx("img",{src:e.src,alt:e.alt,className:"as-seen-on-logos h-12 w-auto opacity-60 hover:opacity-100 transition-opacity shrink-0",loading:"lazy"},`second-${n}`))}),o.jsx("div",{className:"logo-set flex items-center gap-8 shrink-0",children:Gh.map((e,n)=>o.jsx("img",{src:e.src,alt:e.alt,className:"as-seen-on-logos h-12 w-auto opacity-60 hover:opacity-100 transition-opacity shrink-0",loading:"lazy"},`third-${n}`))})]})}),o.jsx("div",{className:"mt-8 lg:hidden text-center",children:o.jsx("a",{href:"/about",className:"inline-block px-8 py-4 border-2 border-gray-900 text-gray-900 rounded font-semibold hover:bg-gray-900 hover:text-white transition-colors duration-300",children:"Learn More"})})]})})}function gw(){const[t,e]=k.useState([]),[n,s]=k.useState(!0),i=k.useRef(null),[l,c]=k.useState(!1),[d,h]=k.useState(!0);k.useEffect(()=>{p()},[]);const p=async()=>{try{s(!0);const w=await ye.get(`${ot}/courses`);e(w.data.courses||[])}catch(w){console.error("Error fetching courses:",w)}finally{s(!1)}},m=()=>{if(i.current){const{scrollLeft:w,scrollWidth:v,clientWidth:S}=i.current;c(w>0),h(w<v-S-10)}};k.useEffect(()=>{if(t.length>0)return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[t]);const x=()=>{i.current&&(i.current.scrollBy({left:-400,behavior:"smooth"}),setTimeout(m,300))},y=()=>{i.current&&(i.current.scrollBy({left:400,behavior:"smooth"}),setTimeout(m,300))};return n?o.jsx("section",{className:"courses-slider w-full py-16 bg-white",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-black font-semibold",children:"Loading courses..."})]})})})}):t.length===0?null:o.jsxs("section",{className:"courses-slider w-full py-16 bg-white",children:[o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsx("h3",{className:"text-3xl md:text-4xl font-bold mb-8 text-gray-900",children:"Courses Taught by Patricia"}),o.jsxs("div",{className:"courses-carouse__container",children:[o.jsx("div",{ref:i,onScroll:m,className:"courses-slider__wrapper flex gap-6 overflow-x-auto scrollbar-hide pb-4 scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:t.map(w=>{const v="#f3f4f6";return o.jsx("div",{className:"course-slider-slide shrink-0 w-full md:w-[500px]",children:o.jsxs("div",{className:"course-card rounded-lg overflow-hidden",style:{backgroundColor:v},children:[o.jsxs("div",{className:"course-card__img relative h-64 md:h-96 bg-cover bg-center bg-gray-200",style:{backgroundImage:w.thumbnail?`url(${w.thumbnail})`:"none"},children:[o.jsx("div",{className:"hidden md:block absolute right-0 top-0 bottom-0 w-16",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 63 746",fill:"none",className:"h-full w-auto",preserveAspectRatio:"xMidYMid meet",children:o.jsx("path",{d:"M63 0C63 0 7.73684 137.814 7.73683 373C7.73682 608.186 63 746 63 746L0 746L0 0L63 0Z",fill:v})})}),o.jsx("div",{className:"md:hidden absolute bottom-0 left-0 right-0 h-12",children:o.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 88",fill:"inherit",className:"w-full h-auto",preserveAspectRatio:"xMidYMid meet",children:o.jsx("path",{d:"M1440 87.1527C1440 87.1527 1173.98 10.703 720 10.703C266.023 10.7031 7.61913e-06 87.1528 7.61913e-06 87.1528L0 0.000125889L1440 0L1440 87.1527Z",fill:v})})})]}),o.jsx("div",{className:"course-card__body p-6",style:{backgroundColor:v},children:o.jsxs("div",{className:"course-card__body-content",children:[o.jsx("h4",{className:"text-2xl md:text-3xl font-bold mb-3 text-gray-900",children:w.name}),o.jsx("div",{className:"text-base md:text-lg mb-6 text-gray-700 opacity-70 leading-relaxed prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:w.description||""}}),w.courseLink&&o.jsx("a",{href:w.courseLink,target:"_blank",rel:"noopener noreferrer",className:"inline-block w-full text-center px-8 py-4 rounded font-semibold text-white hover:opacity-90 transition-opacity",style:{backgroundColor:"#000000"},children:w.price&&w.price>0?`View Course - $${w.price.toFixed(2)}`:"View Course"})]})})]})},w._id)})}),o.jsxs("div",{className:"courses-slider__nav flex flex-col md:flex-row items-center justify-between gap-4 mt-6",children:[o.jsx("a",{href:"/courses",className:"px-8 py-4 border-2 border-gray-900 text-gray-900 rounded font-semibold hover:bg-gray-900 hover:text-white transition-colors duration-300",children:"View All Courses"}),o.jsxs("div",{className:"courses-slider__nav-btns flex space-x-2",children:[o.jsx("button",{onClick:x,disabled:!l,className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${l?"bg-gray-900 text-white hover:bg-gray-800 cursor-pointer":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,"aria-label":"Previous slide",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsx("button",{onClick:y,disabled:!d,className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-300 ${d?"bg-gray-900 text-white hover:bg-gray-800 cursor-pointer":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,"aria-label":"Next slide",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]})]}),o.jsx("style",{children:`
        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
      `})]})}function sT(){return k.useEffect(()=>{document.title="Patricia Macadam - A Path to Relational Intelligence"},[]),o.jsxs("div",{children:[o.jsx(Q4,{}),o.jsx(Z4,{}),o.jsx(tT,{}),o.jsx(nT,{}),o.jsx(gw,{})]})}const rT=[{icon:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68bf8b2db7c420a0635d1990_Vector.svg",text:"Key insights to help you build stronger relational skills."},{icon:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68bf8b2db7c420a0635d1990_Vector.svg",text:"Personal thoughts and reflections from Patricia on meaningful connection topics."},{icon:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68bf8b2db7c420a0635d1990_Vector.svg",text:"A handpicked selection of additional materials to dive deeper."}];function iT(){const[t,e]=k.useState(""),[n,s]=k.useState(!1),[i,l]=k.useState(null),c=async d=>{if(d.preventDefault(),!!t){s(!0),l(null);try{const h=await ye.post(`${ot}/newsletter/subscribe`,{email:t.trim(),source:"website"});l({type:"success",text:h.data.message||"Thank you for subscribing!"}),e(""),setTimeout(()=>l(null),5e3)}catch(h){const p=h.response?.data?.message||"Failed to subscribe. Please try again later.";l({type:"error",text:p}),setTimeout(()=>l(null),5e3)}finally{s(!1)}}};return o.jsx("section",{className:"newsletter-cta w-full py-20 bg-gradient-to-br from-gray-50 via-white to-gray-50",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"newsletter-cta__section flex flex-col lg:flex-row gap-16 items-center max-w-6xl mx-auto",children:[o.jsxs("div",{className:"left img-container hidden lg:flex flex-col gap-6 flex-1 max-w-md",children:[o.jsx("div",{className:"relative group",children:o.jsx("img",{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68bf8a3b65bc806846d07e42_image%208-min.avif",alt:"A person reading in bed illustration",className:"newsletter-cta top-img w-full h-auto rounded-2xl shadow-lg group-hover:shadow-xl transition-shadow duration-300",loading:"lazy"})}),o.jsx("div",{className:"relative group",children:o.jsx("img",{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68fb2d70d3574461fa7555f7_image%207.avif",alt:"",className:"newsletter-cta btm-img w-full h-auto rounded-2xl shadow-lg group-hover:shadow-xl transition-shadow duration-300",loading:"lazy"})})]}),o.jsxs("div",{className:"newsletter-form_container flex-1 w-full lg:max-w-xl",children:[o.jsx("div",{className:"mb-8 lg:hidden",children:o.jsx("img",{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68bf8a3b65bc806846d07e42_image%208-min.avif",alt:"A person reading in bed illustration",className:"mobile-img newsletter-cta w-full h-auto rounded-2xl shadow-lg",loading:"lazy"})}),o.jsxs("div",{className:"right newsletter-cta newsletter-form-container",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 text-gray-900 leading-tight",children:"Enhance your connections with wisdom from Patricia."}),o.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"Join thousands of readers who receive weekly insights, exclusive content, and practical guidance delivered directly to your inbox."}),o.jsxs("form",{onSubmit:c,className:"newsletter-embed mb-10","aria-live":"polite",children:[i&&o.jsx("div",{className:`mb-4 p-4 rounded-lg ${i.type==="success"?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"}`,children:o.jsx("p",{className:"font-medium",children:i.text})}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.jsx("input",{id:"newsletter-email",type:"email",value:t,onChange:d=>e(d.target.value),placeholder:"Enter your email",required:!0,"aria-required":"true",disabled:n,className:"flex-1 px-6 py-4 rounded-full border-2 border-gray-200 text-gray-900 text-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-gray-900 transition-all duration-300 bg-white disabled:opacity-50"}),o.jsx("button",{type:"submit",disabled:n,className:"px-8 py-4 bg-gray-900 text-white rounded-full font-bold text-lg hover:bg-gray-800 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 active:scale-95 sm:shrink-0",children:n?"Signing Up...":"Sign Up"})]})]}),o.jsxs("div",{className:"newsletter-features space-y-5 bg-white rounded-2xl p-6 shadow-sm",children:[o.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-4 uppercase tracking-wide",children:"What You'll Receive"}),rT.map((d,h)=>o.jsxs("div",{className:"newsletter-feature_container flex items-start gap-4",children:[o.jsx("div",{className:"w-6 h-6 shrink-0 mt-0.5 flex items-center justify-center bg-gray-100 rounded-full",children:o.jsx("img",{src:d.icon,alt:"checkmark icon",className:"w-4 h-4",loading:"lazy"})}),o.jsx("div",{className:"newsletter-feature text-base text-gray-700 leading-relaxed",children:d.text})]},h))]}),o.jsx("div",{className:"mt-8 lg:hidden",children:o.jsx("img",{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68bf8a3f45ab2b387a455c13_image%207-min.avif",alt:"",className:"mobile-img newsletter-cta w-full h-auto rounded-2xl shadow-lg",loading:"lazy"})})]})]})]})})})}const aT=[{name:"Facebook",href:"https://www.facebook.com/patriciamacadam/",icon:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b9280e0ae49a22c63b3409_Facebook.svg"},{name:"TikTok",href:"https://www.tiktok.com/@patriciamacadam?lang=en",icon:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68c8721244079222ed107f5e_Vector.svg"},{name:"Instagram",href:"https://www.instagram.com/patriciamacadam/?hl=en",icon:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b927f7ea9da4a5ce5aba06_Instagram.svg"},{name:"LinkedIn",href:"https://www.linkedin.com/in/patriciamacadam",icon:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68b927f7248f983b426a76db_Vector.svg"},{name:"Substack",href:"https://patriciamacadam.substack.com/",icon:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68c871ee6a552c0fe8ec11dc_Vector.svg"}];function lT(){const[t,e]=k.useState(""),[n,s]=k.useState(!1),[i,l]=k.useState([]),[c,d]=k.useState([]),[h,p]=k.useState([]),[m,x]=k.useState([]),[y,w]=k.useState(!0);k.useEffect(()=>{v()},[]);const v=async()=>{try{w(!0);const j=await ye.get(`${ot}/topics`);l((j.data.topics||[]).slice(0,5));const E=await ye.get(`${ot}/courses`);d((E.data.courses||[]).slice(0,5));const T=await ye.get(`${ot}/articles/recent/limit?limit=5`);p(T.data.articles||[]);const A=await ye.get(`${ot}/podcasts/series`);A.data?.episodes&&x((A.data.episodes||[]).slice(0,5))}catch(j){console.error("Error fetching footer data:",j)}finally{w(!1)}},S=async j=>{if(j.preventDefault(),!!t){s(!0);try{await ye.post(`${ot}/newsletter/subscribe`,{email:t.trim(),source:"footer"}),e(""),alert("Thank you for subscribing!")}catch(E){const T=E.response?.data?.message||"Failed to subscribe. Please try again.";alert(T)}finally{s(!1)}}};return o.jsx("section",{className:"footer w-full py-16 bg-gray-50",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"footer-container flex flex-col lg:flex-row gap-12",children:[o.jsx("div",{className:"footer-left flex-1",children:o.jsxs("div",{className:"footer-links grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-8",children:[o.jsxs("div",{className:"footer-links__col",children:[o.jsx("div",{className:"footer-links__col-label text-sm font-semibold text-gray-900 mb-4",children:"Topics"}),y?o.jsx("div",{className:"space-y-2",children:[1,2,3].map(j=>o.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"},j))}):i.length>0?o.jsxs("div",{className:"footer-links__collection-wrapper space-y-2",children:[i.map(j=>o.jsx("a",{href:`/topics/${j.slug}`,className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors",children:j.name},j._id)),o.jsx("a",{href:"/topics",className:"footer-links__col-link block text-sm font-semibold text-gray-900 hover:underline transition-colors mt-2",children:"View All"})]}):o.jsx("p",{className:"text-sm text-gray-500",children:"No topics available"})]}),o.jsxs("div",{className:"footer-links__col",children:[o.jsx("div",{className:"footer-links__col-label text-sm font-semibold text-gray-900 mb-4",children:"Courses"}),y?o.jsx("div",{className:"space-y-2",children:[1,2,3].map(j=>o.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"},j))}):c.length>0?o.jsxs("div",{className:"footer-links__collection-wrapper space-y-2",children:[c.map(j=>o.jsx("a",{href:j.courseLink||`/courses/${j.slug}`,target:j.courseLink?"_blank":void 0,rel:j.courseLink?"noopener noreferrer":void 0,className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors",children:j.name},j._id)),o.jsx("a",{href:"/courses",className:"footer-links__col-link view-all-courses block text-sm font-semibold text-gray-900 hover:underline transition-colors mt-2",children:"View All Courses"})]}):o.jsx("p",{className:"text-sm text-gray-500",children:"No courses available"})]}),o.jsxs("div",{className:"footer-links__col",children:[o.jsx("div",{className:"footer-links__col-label text-sm font-semibold text-gray-900 mb-4",children:"Podcast"}),y?o.jsx("div",{className:"space-y-2",children:[1,2,3].map(j=>o.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"},j))}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"footer-links__collection-wrapper space-y-2 mb-2",children:m.length>0?m.map(j=>o.jsx("a",{href:`/podcasts/${j.slug}`,className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors line-clamp-1",children:j.title},j._id)):o.jsxs(o.Fragment,{children:[o.jsx("a",{href:"https://open.spotify.com/show/3fKOTwtnX5oZLaiNntKWAV",target:"_blank",rel:"noopener noreferrer",className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors",children:"Spotify"}),o.jsx("a",{href:"https://podcasts.apple.com/gb/channel/patricias-office-hours/id6450481836",target:"_blank",rel:"noopener noreferrer",className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors",children:"Apple Podcasts"}),o.jsx("a",{href:"https://www.youtube.com/@patriciamacadam/podcasts",target:"_blank",rel:"noopener noreferrer",className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors",children:"Youtube"})]})}),o.jsx("a",{href:"/podcast",className:"footer-links__col-link view-all-courses block text-sm font-semibold text-gray-900 hover:underline transition-colors",children:"View Episodes"})]})]}),o.jsxs("div",{className:"footer-links__col",children:[o.jsx("div",{className:"footer-links__col-label text-sm font-semibold text-gray-900 mb-4",children:"Articles"}),y?o.jsx("div",{className:"space-y-2",children:[1,2,3].map(j=>o.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"},j))}):h.length>0?o.jsxs("div",{className:"footer-links__collection-wrapper space-y-2",children:[h.map(j=>o.jsx("a",{href:`/articles/${j.slug}`,className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors line-clamp-1",children:j.title},j._id)),o.jsx("a",{href:"/articles",className:"footer-links__col-link block text-sm font-semibold text-gray-900 hover:underline transition-colors mt-2",children:"View All"})]}):o.jsx("p",{className:"text-sm text-gray-500",children:"No articles available"})]}),o.jsxs("div",{className:"footer-links__col",children:[o.jsx("div",{className:"footer-links__col-label text-sm font-semibold text-gray-900 mb-4",children:"Patricia"}),o.jsxs("div",{className:"footer-links__collection-wrapper space-y-2",children:[o.jsx("a",{href:"/about",className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors",children:"About"}),o.jsx("a",{href:"https://forms.gle/M4yGStrok79entkC6",target:"_blank",rel:"noopener noreferrer",className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors",children:"Speaking"}),o.jsx("a",{href:"/contact",className:"footer-links__col-link block text-sm text-gray-600 hover:text-gray-900 hover:underline transition-colors",children:"Contact"})]})]}),o.jsxs("div",{className:"footer-links__col",children:[o.jsx("div",{className:"footer-links__col-label text-sm font-semibold text-gray-900 mb-4",children:"Social Links"}),o.jsx("div",{className:"footer-social-links flex flex-wrap gap-3",children:aT.map(j=>o.jsx("a",{href:j.href,target:"_blank",rel:"noopener noreferrer",className:"social-link w-8 h-8 flex items-center justify-center hover:opacity-70 transition-opacity","aria-label":j.name,children:o.jsx("img",{src:j.icon,alt:j.name,className:"social-link-image w-full h-full",loading:"lazy"})},j.name))})]})]})}),o.jsx("div",{className:"footer-right lg:w-96",children:o.jsxs("div",{className:"footer-newsletter-cta",children:[o.jsx("div",{className:"mb-6",children:o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Patricia Macadam"})}),o.jsxs("div",{className:"footer-newsletter_left",children:[o.jsx("p",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Enhance your connections with wisdom from Patricia."}),o.jsxs("form",{onSubmit:S,className:"space-y-3","aria-live":"polite",children:[o.jsx("input",{id:"footer-email",type:"email",value:t,onChange:j=>e(j.target.value),placeholder:"Email",required:!0,"aria-required":"true",className:"w-full px-4 py-3 rounded-xl border border-gray-300 text-gray-900 text-base focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent placeholder:text-gray-500"}),o.jsx("button",{type:"submit",disabled:n,className:"w-full px-8 py-3 bg-gray-900 text-white rounded-full font-bold text-base hover:opacity-80 transition-opacity duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Signing Up...":"Sign Up"})]})]})]})})]})})})}var xw={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},By=nn.createContext&&nn.createContext(xw),oT=["attr","size","title"];function cT(t,e){if(t==null)return{};var n=uT(t,e),s,i;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)s=l[i],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function uT(t,e){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;n[s]=t[s]}return n}function su(){return su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},su.apply(this,arguments)}function Uy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,s)}return n}function ru(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uy(Object(n),!0).forEach(function(s){dT(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uy(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function dT(t,e,n){return e=fT(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fT(t){var e=hT(t,"string");return typeof e=="symbol"?e:e+""}function hT(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bw(t){return t&&t.map((e,n)=>nn.createElement(e.tag,ru({key:n},e.attr),bw(e.child)))}function Ye(t){return e=>nn.createElement(pT,su({attr:ru({},t.attr)},e),bw(t.child))}function pT(t){var e=n=>{var{attr:s,size:i,title:l}=t,c=cT(t,oT),d=i||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),nn.createElement("svg",su({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:h,style:ru(ru({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&nn.createElement("title",null,l),t.children)};return By!==void 0?nn.createElement(By.Consumer,null,n=>e(n)):e(xw)}function yw(t){return Ye({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5.34 0A5.328 5.328 0 000 5.34v13.32A5.328 5.328 0 005.34 24h13.32A5.328 5.328 0 0024 18.66V5.34A5.328 5.328 0 0018.66 0zm6.525 2.568c2.336 0 4.448.902 6.056 2.587 1.224 1.272 1.912 2.619 2.264 4.392.12.59.12 2.2.007 2.864a8.506 8.506 0 01-3.24 5.296c-.608.46-2.096 1.261-2.336 1.261-.088 0-.096-.091-.056-.46.072-.592.144-.715.48-.856.536-.224 1.448-.874 2.008-1.435a7.644 7.644 0 002.008-3.536c.208-.824.184-2.656-.048-3.504-.728-2.696-2.928-4.792-5.624-5.352-.784-.16-2.208-.16-3 0-2.728.56-4.984 2.76-5.672 5.528-.184.752-.184 2.584 0 3.336.456 1.832 1.64 3.512 3.192 4.512.304.2.672.408.824.472.336.144.408.264.472.856.04.36.03.464-.056.464-.056 0-.464-.176-.896-.384l-.04-.03c-2.472-1.216-4.056-3.274-4.632-6.012-.144-.706-.168-2.392-.03-3.04.36-1.74 1.048-3.1 2.192-4.304 1.648-1.737 3.768-2.656 6.128-2.656zm.134 2.81c.409.004.803.04 1.106.106 2.784.62 4.76 3.408 4.376 6.174-.152 1.114-.536 2.03-1.216 2.88-.336.43-1.152 1.15-1.296 1.15-.023 0-.048-.272-.048-.603v-.605l.416-.496c1.568-1.878 1.456-4.502-.256-6.224-.664-.67-1.432-1.064-2.424-1.246-.64-.118-.776-.118-1.448-.008-1.02.167-1.81.562-2.512 1.256-1.72 1.704-1.832 4.342-.264 6.222l.413.496v.608c0 .336-.027.608-.06.608-.03 0-.264-.16-.512-.36l-.034-.011c-.832-.664-1.568-1.842-1.872-2.997-.184-.698-.184-2.024.008-2.72.504-1.878 1.888-3.335 3.808-4.019.41-.145 1.133-.22 1.814-.211zm-.13 2.99c.31 0 .62.06.844.178.488.253.888.745 1.04 1.259.464 1.578-1.208 2.96-2.72 2.254h-.015c-.712-.331-1.096-.956-1.104-1.77 0-.733.408-1.371 1.112-1.745.224-.117.534-.176.844-.176zm-.011 4.728c.988-.004 1.706.349 1.97.97.198.464.124 1.932-.218 4.302-.232 1.656-.36 2.074-.68 2.356-.44.39-1.064.498-1.656.288h-.003c-.716-.257-.87-.605-1.164-2.644-.341-2.37-.416-3.838-.218-4.302.262-.616.974-.966 1.97-.97z"},child:[]}]})(t)}function Gc(t){return Ye({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"},child:[]}]})(t)}function vw(t){return Ye({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22.539 8.242H1.46V5.406h21.08v2.836zM1.46 10.812V24L12 18.11 22.54 24V10.812H1.46zM22.54 0H1.46v2.836h21.08V0z"},child:[]}]})(t)}function Wc(t){return Ye({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"},child:[]}]})(t)}function mT(){const t=k.useRef(null),[e,n]=k.useState(0),[s,i]=k.useState(null),[l,c]=k.useState([]),[d,h]=k.useState(!0);k.useEffect(()=>{p()},[]),k.useEffect(()=>{const y=t.current;if(!y)return;const w=()=>{const v=y.scrollLeft,S=y.scrollWidth-y.clientWidth,j=S>0?v/S*100:0;n(j)};return y.addEventListener("scroll",w),w(),()=>y.removeEventListener("scroll",w)},[l]);const p=async()=>{try{h(!0);const y=await ye.get(`${ot}/podcasts/series`);y.data&&(i(y.data.series||null),c(y.data.episodes||[]))}catch(y){console.error("Error fetching podcast data:",y)}finally{h(!1)}},m=()=>{t.current&&t.current.scrollBy({left:-400,behavior:"smooth"})},x=()=>{t.current&&t.current.scrollBy({left:400,behavior:"smooth"})};return o.jsxs("div",{className:"podcasts-hero-page",children:[o.jsx(qt,{}),o.jsx("section",{className:"podcasts-hero bg-white py-12 md:py-16 lg:py-20",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:"flex flex-col lg:flex-row gap-12 lg:gap-16 items-start",children:[s?.coverImage&&o.jsx("div",{className:"shrink-0 w-full lg:w-96 lg:sticky lg:top-24",children:o.jsx("img",{src:s.coverImage,alt:s.name,className:"w-full h-auto rounded-2xl shadow-2xl",loading:"eager"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"inline-block px-4 py-2 bg-blue-900 text-white rounded-full mb-6 text-sm font-semibold",children:"Fresh Content Every Week"}),o.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6 text-gray-900 leading-tight",children:d?"Loading...":s?.name||"Where Should We Begin? with Patricia Macadam"}),o.jsx("p",{className:"text-xl md:text-2xl text-gray-700 leading-relaxed mb-8",children:d?"Loading...":s?.description||"Every Monday, step into Patricia's practice and hear authentic conversations as individuals seeking support open up about the most personal and meaningful moments of their lives."}),s?.platformLinks&&Object.keys(s.platformLinks).some(y=>s.platformLinks?.[y])&&o.jsxs("div",{className:"space-y-6 mb-12",children:[(s.platformLinks.spotify||s.platformLinks.apple)&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold text-gray-600 mb-4 uppercase tracking-wide",children:"Listen On"}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.platformLinks.spotify&&o.jsxs("a",{href:s.platformLinks.spotify,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-6 py-4 bg-white border-2 border-gray-200 text-gray-900 rounded-full font-semibold hover:border-gray-900 hover:shadow-lg transition-all duration-300",children:[o.jsx(Gc,{className:"w-5 h-5 text-green-500"}),o.jsx("span",{children:"Spotify"})]}),s.platformLinks.apple&&o.jsxs("a",{href:s.platformLinks.apple,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-6 py-4 bg-white border-2 border-gray-200 text-gray-900 rounded-full font-semibold hover:border-gray-900 hover:shadow-lg transition-all duration-300",children:[o.jsx(yw,{className:"w-5 h-5 text-gray-900"}),o.jsx("span",{children:"Apple Podcasts"})]})]})]}),s.platformLinks.youtube&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold text-gray-600 mb-4 uppercase tracking-wide",children:"Watch On"}),o.jsx("div",{children:o.jsxs("a",{href:s.platformLinks.youtube,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 px-6 py-4 bg-white border-2 border-gray-200 text-gray-900 rounded-full font-semibold hover:border-gray-900 hover:shadow-lg transition-all duration-300",children:[o.jsx(Wc,{className:"w-5 h-5 text-red-600"}),o.jsx("span",{children:"YouTube"})]})})]}),s.platformLinks.substack&&o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold text-gray-600 mb-4 uppercase tracking-wide",children:"Subscribe On"}),o.jsx("div",{children:o.jsxs("a",{href:s.platformLinks.substack,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 px-6 py-4 bg-white border-2 border-gray-200 text-gray-900 rounded-full font-semibold hover:border-gray-900 hover:shadow-lg transition-all duration-300",children:[o.jsx(vw,{className:"w-5 h-5 text-orange-600"}),o.jsx("span",{children:"Substack"})]})})]})]})]})]})})})}),l.length>0&&o.jsx("section",{className:"recent-episodes bg-gray-50 py-12 md:py-16",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:"Recent Episodes"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:m,className:"p-3 bg-white border-2 border-gray-200 rounded-full hover:border-gray-900 hover:shadow-lg transition-all","aria-label":"Scroll left",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),o.jsx("button",{onClick:x,className:"p-3 bg-white border-2 border-gray-200 rounded-full hover:border-gray-900 hover:shadow-lg transition-all","aria-label":"Scroll right",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),o.jsx("div",{className:"relative mb-6",children:o.jsx("div",{className:"h-1 bg-gray-200 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-gray-900 transition-all duration-300",style:{width:`${e}%`}})})}),o.jsx("div",{ref:t,className:"flex gap-6 overflow-x-auto scrollbar-hide scroll-smooth pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:l.slice(0,10).map(y=>o.jsx(Ft,{to:`/podcasts/${y.slug}`,className:"shrink-0 w-80 group",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden h-full",children:[y.coverImage?o.jsx("div",{className:"w-full h-48 bg-cover bg-center",style:{backgroundImage:`url(${y.coverImage})`}}):o.jsx("div",{className:"w-full h-48 bg-gray-200 flex items-center justify-center",children:o.jsx("span",{className:"text-4xl font-bold text-gray-400",children:y.title.charAt(0)})}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2 group-hover:text-gray-700 transition-colors",children:y.title}),y.description&&o.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4 line-clamp-3",children:y.description}),o.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[y.publishedDate&&o.jsx("span",{children:new Date(y.publishedDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),y.duration&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx("span",{children:y.duration})]})]})]})]})},y._id))}),l.length>10&&o.jsx("div",{className:"mt-8 text-center",children:o.jsxs(Ft,{to:"/podcast#search",className:"inline-flex items-center gap-2 px-8 py-4 bg-white border-2 border-gray-900 text-gray-900 rounded-full font-semibold hover:bg-gray-900 hover:text-white transition-all duration-300",children:["View All Episodes",o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]})})})]})}function gT(){return o.jsx("section",{className:"office-hours w-full py-16 bg-gray-900",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"office-hours-container text-center",children:[o.jsx("h4",{className:"office-hours-heading text-3xl md:text-4xl font-bold mb-4 text-white",children:"Patricia's Office Hours"}),o.jsx("div",{className:"office-hours-subheading text-lg mb-8 text-gray-300 leading-relaxed max-w-2xl mx-auto",children:"Access new episodes first, special content only for subscribers, and uninterrupted listening to Patricia's perspectives."}),o.jsxs("div",{className:"office-hours-btns flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsx("a",{href:"https://estherperel.substack.com/",target:"_blank",rel:"noopener noreferrer",className:"button lg on-dark substack px-8 py-4 bg-white text-gray-900 rounded-full font-semibold hover:bg-gray-100 transition-colors inline-block text-center",children:"Listen on Substack"}),o.jsx("a",{href:"https://podcasts.apple.com/gb/channel/esthers-office-hours/id6450481836",target:"_blank",rel:"noopener noreferrer",className:"button lg on-dark apple-podcast office-hours px-8 py-4 bg-white text-gray-900 rounded-full font-semibold hover:bg-gray-100 transition-colors inline-block text-center",children:"Listen on Apple Podcasts"})]})]})})})}function xT(){const[t,e]=k.useState(""),[n,s]=k.useState(8),[i,l]=k.useState([]),[c,d]=k.useState(!0);k.useEffect(()=>{h()},[]);const h=async()=>{try{d(!0);const v=await ye.get(`${ot}/podcasts/series`);v.data.episodes&&l(v.data.episodes||[])}catch(v){console.error("Error fetching episodes:",v)}finally{d(!1)}},p=k.useMemo(()=>{if(!t.trim())return i;const v=t.toLowerCase();return i.filter(S=>S.title.toLowerCase().includes(v)||S.description&&S.description.toLowerCase().includes(v))},[t,i]),m=p.slice(0,n),x=p.length>n,y=v=>{v.preventDefault()},w=()=>{s(v=>v+8)};return o.jsx("section",{className:"podcast-search w-full py-16 bg-white",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"podcast-search-form mb-12",children:[o.jsx("div",{className:"search-label text-lg font-semibold mb-4 text-gray-900",children:"All Episodes"}),o.jsxs("form",{onSubmit:y,className:"search-input flex gap-3","aria-label":"Search Episodes",children:[o.jsx("input",{type:"text",value:t,onChange:v=>{e(v.target.value),s(8)},placeholder:"Search",className:"search-text-input flex-1 px-4 py-3 border border-gray-300 rounded-lg text-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",maxLength:256}),o.jsx("button",{type:"submit",className:"submit-search w-12 h-12 bg-gray-900 text-white rounded-lg flex items-center justify-center hover:bg-gray-800 transition-colors","aria-label":"Search",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),o.jsx("div",{className:"podcast-search-grid__wrapper",children:c?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-gray-900 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading episodes..."})]}):m.length>0?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"search-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(v=>o.jsxs("a",{href:`/podcasts/${v.slug}`,className:"podcast-search-item podcast-ep-card group hover:opacity-90 transition-opacity",children:[o.jsxs("div",{className:"top podcast-search-item mb-4",children:[o.jsx("div",{className:"podcast-image podcast-search-result w-full h-48 rounded-lg bg-cover bg-center mb-3",style:{backgroundImage:v.coverImage?`url(${v.coverImage})`:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}}),o.jsx("div",{className:"display-xs podcast-search-result text-xl font-bold text-gray-900 group-hover:text-gray-700 transition-colors",children:v.title})]}),v.description&&o.jsx("p",{className:"body-m opacity-70 podcast-search-result podcast-line-clamp text-gray-600 leading-relaxed mb-4 line-clamp-3",children:v.description}),o.jsxs("div",{className:"podcast-details podcast-search-result flex items-center gap-2 text-sm text-gray-500",children:[v.duration&&o.jsx("div",{className:"lowercase",children:v.duration}),v.duration&&v.publishedDate&&o.jsx("div",{className:"w-1 h-1 rounded-full bg-gray-400"}),v.publishedDate&&o.jsx("div",{children:new Date(v.publishedDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]},v._id))}),x&&o.jsx("div",{className:"mt-8 text-center",children:o.jsx("button",{onClick:w,className:"button show-more px-8 py-4 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors",children:"Show More"})})]}):o.jsx("div",{className:"podcast-search-empty text-center py-12",children:o.jsx("div",{className:"text-lg text-gray-600",children:"No results found"})})})]})})}function bT(){return o.jsx("div",{className:"substack-cta__container w-full py-16 bg-white",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-start",children:[o.jsx("div",{className:"w-full md:w-96 shrink-0",children:o.jsx("img",{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68c7b185876c240bfde01b40_Rectangle%202-min.avif",alt:"Substack",className:"topics-substack-cta__img w-full h-auto rounded-lg",loading:"lazy"})}),o.jsxs("div",{className:"cta-right flex-1",children:[o.jsx("div",{className:"text-3xl md:text-4xl font-bold mb-4 text-gray-900",children:"Discover more from Patricia on Substack."}),o.jsx("div",{className:"text-lg text-gray-700 leading-relaxed mb-6",children:"Explore articles and resources to help you find energy and vibrancy in your relationships."}),o.jsx("a",{href:"https://estherperel.substack.com/",target:"_blank",rel:"noopener noreferrer",className:"inline-block px-8 py-4 border-2 border-gray-900 text-gray-900 rounded-full font-semibold hover:bg-gray-900 hover:text-white transition-colors duration-300",children:"Subscribe on Substack"})]})]})})})}function yT(){return k.useEffect(()=>{document.title="Patricia Macadam - Podcasts"},[]),o.jsxs("div",{children:[o.jsx(mT,{}),o.jsx(gT,{}),o.jsx(xT,{}),o.jsx(bT,{}),o.jsx(gw,{})]})}const vT=`${ot}/podcasts`;function Hy(t){if(!t)return;const e=t.match(/episode\/([a-zA-Z0-9]+)/);if(e)return`https://open.spotify.com/embed/episode/${e[1]}`}function Py(t){if(!t)return;const e=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([a-zA-Z0-9_-]+)/,/youtube\.com\/watch\?.*v=([a-zA-Z0-9_-]+)/];for(const n of e){const s=t.match(n);if(s&&s[1])return`https://www.youtube.com/embed/${s[1]}`}}function wT(){const{slug:t}=Nr(),e=Ht(),[n,s]=k.useState(null),[i,l]=k.useState(!0),[c,d]=k.useState(null);k.useEffect(()=>{t&&h()},[t]),k.useEffect(()=>{n?document.title=`${n.title} - Patricia Macadam`:c?document.title="Podcast Not Found - Patricia Macadam":document.title="Loading Podcast - Patricia Macadam"},[n,c]);const h=async()=>{try{l(!0),d(null);const p=await ye.get(`${vT}/${t}`);s(p.data.podcast)}catch(p){console.error("Error fetching podcast:",p),p.response?.status===404?d("Podcast not found"):d("Failed to load podcast")}finally{l(!1)}};return i?o.jsxs("div",{children:[o.jsx(qt,{}),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-gray-900 border-t-transparent rounded-full animate-spin mx-auto mb-6"}),o.jsx("p",{className:"text-xl font-semibold text-gray-900",children:"Loading podcast..."}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Please wait while we fetch the episode details"})]})})]}):c||!n?o.jsxs("div",{children:[o.jsx(qt,{}),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:o.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Podcast Not Found"}),o.jsx("p",{className:"text-gray-600 mb-8",children:c||"The podcast you are looking for does not exist."}),o.jsx("button",{onClick:()=>e("/podcast"),className:"px-6 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors",children:"Back to Podcasts"})]})})]}):o.jsxs("div",{className:"podcast-detail-page bg-white",children:[o.jsx(qt,{}),o.jsx("section",{className:"podcast-header bg-white py-12 md:py-16",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsxs("button",{onClick:()=>e("/podcast"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-8 transition-colors group",children:[o.jsx("svg",{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),o.jsx("span",{className:"font-medium",children:"Back to Podcasts"})]}),o.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 lg:gap-12",children:[n.coverImage&&o.jsx("div",{className:"flex-shrink-0 lg:w-80",children:o.jsx("img",{src:n.coverImage,alt:n.title,className:"w-full h-auto rounded-2xl shadow-xl",loading:"eager"})}),o.jsxs("div",{className:"flex-1",children:[n.topic&&o.jsx("div",{className:"inline-block px-4 py-2 bg-blue-900 text-white rounded-full mb-4 text-sm font-semibold",children:n.topic.name}),n.episodeNumber&&o.jsxs("div",{className:"text-sm font-semibold text-gray-600 mb-3",children:["Episode #",n.episodeNumber]}),o.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-6 leading-tight",children:n.title}),n.description&&o.jsx("p",{className:"text-lg md:text-xl text-gray-700 leading-relaxed mb-8",children:n.description}),o.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-gray-600 border-t border-gray-200 pt-6",children:[n.duration&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsx("span",{className:"font-medium",children:n.duration})]}),n.publishedDate&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),o.jsx("span",{className:"font-medium",children:new Date(n.publishedDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),o.jsxs("span",{className:"font-medium",children:[n.views||0," views"]})]})]})]})]})]})})}),n.audioUrl&&o.jsx("section",{className:"podcast-audio bg-gray-50 py-12",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-lg",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Listen Now"}),o.jsxs("audio",{controls:!0,className:"w-full",children:[o.jsx("source",{src:n.audioUrl}),"Your browser does not support the audio element."]})]})})})}),(n.platformLinks?.spotify||n.platformLinks?.youtube)&&o.jsx("section",{className:"podcast-embedded-players bg-white py-12",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Watch & Listen"}),o.jsxs("div",{className:"space-y-8",children:[n.platformLinks?.spotify&&o.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 shadow-lg",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Gc,{className:"w-6 h-6 text-green-500"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Spotify"})]}),Hy(n.platformLinks.spotify)?o.jsx("iframe",{src:Hy(n.platformLinks.spotify),width:"100%",height:"352",frameBorder:"0",allowTransparency:!0,allow:"encrypted-media",className:"rounded-lg",style:{minHeight:"352px"}}):o.jsxs("a",{href:n.platformLinks.spotify,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-white border-2 border-gray-200 text-gray-900 rounded-full font-semibold hover:border-gray-900 hover:shadow-lg transition-all",children:[o.jsx(Gc,{className:"w-5 h-5 text-green-500"}),"Listen on Spotify"]})]}),n.platformLinks?.youtube&&o.jsxs("div",{className:"bg-gray-50 rounded-2xl p-6 shadow-lg",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx(Wc,{className:"w-6 h-6 text-red-600"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"YouTube"})]}),Py(n.platformLinks.youtube)?o.jsx("div",{className:"relative w-full",style:{paddingBottom:"56.25%"},children:o.jsx("iframe",{src:Py(n.platformLinks.youtube),width:"100%",height:"100%",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"absolute top-0 left-0 rounded-lg"})}):o.jsxs("a",{href:n.platformLinks.youtube,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-white border-2 border-gray-200 text-gray-900 rounded-full font-semibold hover:border-gray-900 hover:shadow-lg transition-all",children:[o.jsx(Wc,{className:"w-5 h-5 text-red-600"}),"Watch on YouTube"]})]})]})]})})}),n.platformLinks&&Object.keys(n.platformLinks).some(p=>n.platformLinks?.[p])&&o.jsx("section",{className:"podcast-platform-links bg-white py-12",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Listen on Your Platform"}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[n.platformLinks.spotify&&o.jsxs("a",{href:n.platformLinks.spotify,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-6 py-4 bg-white border-2 border-gray-200 text-gray-900 rounded-full font-semibold hover:border-gray-900 hover:shadow-lg transition-all duration-300",children:[o.jsx(Gc,{className:"w-6 h-6 text-green-500"}),o.jsx("span",{children:"Spotify"})]}),n.platformLinks.apple&&o.jsxs("a",{href:n.platformLinks.apple,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-6 py-4 bg-white border-2 border-gray-200 text-gray-900 rounded-full font-semibold hover:border-gray-900 hover:shadow-lg transition-all duration-300",children:[o.jsx(yw,{className:"w-6 h-6 text-gray-900"}),o.jsx("span",{children:"Apple Podcasts"})]}),n.platformLinks.youtube&&o.jsxs("a",{href:n.platformLinks.youtube,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-6 py-4 bg-white border-2 border-gray-200 text-gray-900 rounded-full font-semibold hover:border-gray-900 hover:shadow-lg transition-all duration-300",children:[o.jsx(Wc,{className:"w-6 h-6 text-red-600"}),o.jsx("span",{children:"YouTube"})]}),n.platformLinks.substack&&o.jsxs("a",{href:n.platformLinks.substack,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 px-6 py-4 bg-white border-2 border-gray-200 text-gray-900 rounded-full font-semibold hover:border-gray-900 hover:shadow-lg transition-all duration-300",children:[o.jsx(vw,{className:"w-6 h-6 text-orange-600"}),o.jsx("span",{children:"Substack"})]})]})]})})}),o.jsx("section",{className:"podcast-footer bg-gray-50 py-12",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-8",children:[o.jsxs("button",{onClick:()=>e("/podcast"),className:"flex items-center gap-2 px-6 py-3 bg-white border-2 border-gray-900 text-gray-900 rounded-full font-semibold hover:bg-gray-900 hover:text-white transition-colors",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Podcasts"]}),n.topic&&o.jsxs("a",{href:`/topics/${n.topic.slug}`,className:"flex items-center gap-2 px-6 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors",children:["More from ",n.topic.name,o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})})})]})}const NT=`${ot}/articles`;function jT(){const t=k.useRef(null),[e,n]=k.useState(0),[s,i]=k.useState([]),[l,c]=k.useState(!0);k.useEffect(()=>{d()},[]);const d=async()=>{try{const h=await ye.get(`${NT}/recent/limit?limit=6`);i(h.data.articles||[])}catch(h){console.error("Error fetching recent articles:",h)}finally{c(!1)}};return k.useEffect(()=>{const h=t.current;if(!h)return;const p=()=>{const{scrollLeft:m,scrollWidth:x,clientWidth:y}=h,w=m/(x-y)*100;n(w)};return h.addEventListener("scroll",p),p(),()=>h.removeEventListener("scroll",p)},[s]),o.jsxs("section",{className:"articles-hero w-full bg-white",children:[o.jsx("div",{className:"top articles",children:o.jsx(qt,{})}),o.jsx("div",{className:"bottom articles bg-gradient-to-b from-gray-50 to-white",children:o.jsx("div",{className:"container mx-auto px-4 py-20",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("div",{className:"flex justify-center mb-12",children:o.jsx("img",{src:"https://cdn.prod.website-files.com/68a4ceab2a1eb85b0d214930/68c9c69bb59101106f930e9d_Rectangle%2020.avif",alt:"Patricia Macadam",className:"w-full max-w-md h-auto rounded-2xl shadow-xl",loading:"lazy"})}),o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("div",{className:"inline-block px-4 py-2 bg-blue-900 text-white rounded-full mb-6 text-sm font-semibold",children:"Latest Insights"}),o.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold mb-6 text-gray-900 leading-tight",children:"Articles by Patricia Macadam"}),o.jsx("p",{className:"text-xl md:text-2xl text-gray-700 leading-relaxed max-w-3xl mx-auto mb-8",children:"Explore thought-provoking articles on relationships, communication, and personal growth. Discover insights that help you navigate life's complexities with wisdom and understanding."})]}),l?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"inline-block w-8 h-8 border-4 border-gray-900 border-t-transparent rounded-full animate-spin"})}):s.length>0?o.jsxs("div",{className:"recent-articles-section",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-8 text-center",children:"Recent Articles"}),o.jsx("div",{className:"w-full h-1 bg-gray-200 rounded-full mb-6 overflow-hidden",children:o.jsx("div",{className:"h-full bg-gray-900 transition-all duration-150",style:{width:`${e}%`}})}),o.jsx("div",{ref:t,className:"flex gap-6 overflow-x-auto scroll-smooth scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:s.map(h=>o.jsxs(Ft,{to:`/articles/${h.slug}`,className:"article-card flex-shrink-0 w-80 bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 group border border-gray-100",children:[h.featuredImage?o.jsx("div",{className:"article-image-wrapper h-56 overflow-hidden bg-gray-100",children:o.jsx("img",{src:h.featuredImage,alt:h.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"})}):h.topic?.image?o.jsx("div",{className:"article-image-wrapper h-56 overflow-hidden bg-gray-100",children:o.jsx("img",{src:h.topic.image,alt:h.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"})}):o.jsx("div",{className:"article-image-wrapper h-56 bg-gradient-to-br from-gray-200 via-gray-300 to-gray-400 flex items-center justify-center",children:o.jsx("span",{className:"text-gray-600 text-6xl font-bold",children:h.title.charAt(0)})}),o.jsxs("div",{className:"article-content p-6",children:[h.topic&&o.jsx("div",{className:"article-topic text-xs font-bold text-blue-900 mb-3 uppercase tracking-wider",children:h.topic.name}),o.jsx("h3",{className:"article-title text-xl font-bold text-gray-900 mb-3 line-clamp-2 group-hover:text-blue-900 transition-colors leading-tight",children:h.title}),h.excerpt&&o.jsx("p",{className:"article-excerpt text-gray-600 text-sm mb-4 line-clamp-3 leading-relaxed",children:h.excerpt}),o.jsxs("div",{className:"article-meta flex items-center justify-between text-xs text-gray-500 pt-4 border-t border-gray-200",children:[o.jsx("span",{className:"font-semibold",children:h.writtenBy||h.author}),o.jsx("span",{children:new Date(h.publishedAt||h._id).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]})]},h._id))})]}):o.jsx("div",{className:"text-center py-12 text-gray-500",children:o.jsx("p",{className:"text-lg",children:"No articles available yet."})})]})})})]})}const ST=`${ot}/articles`;function kT(){const[t,e]=k.useState([]),[n,s]=k.useState(""),[i,l]=k.useState(""),[c,d]=k.useState(1),[h,p]=k.useState(1),[m,x]=k.useState(!0),[y,w]=k.useState(!1);k.useEffect(()=>{v(),S()},[]),k.useEffect(()=>{S()},[n,i,c]);const v=async()=>{},S=async()=>{try{c===1?x(!0):w(!0);const T={page:c,limit:12};n&&(T.search=n),i&&(T.topic=i);const H=(await ye.get(ST,{params:T})).data;e(c===1?H.articles||[]:B=>[...B,...H.articles||[]]),p(H.pagination?.totalPages||1)}catch(T){console.error("Error fetching articles:",T)}finally{x(!1),w(!1)}},j=T=>{T.preventDefault(),d(1),S()},E=()=>{c<h&&!y&&d(T=>T+1)};return o.jsx("section",{className:"articles-search w-full py-16 bg-white",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"articles-search-form mb-12",children:[o.jsx("div",{className:"search-label text-lg font-semibold mb-4 text-gray-900",children:"All Articles"}),o.jsxs("form",{onSubmit:j,className:"search-input flex gap-3","aria-label":"Search Articles",children:[o.jsx("input",{type:"text",value:n,onChange:T=>{s(T.target.value),d(1)},placeholder:"Search articles...",className:"search-text-input flex-1 px-4 py-3 border border-gray-300 rounded-lg text-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",maxLength:256}),o.jsx("button",{type:"submit",className:"submit-search w-12 h-12 bg-gray-900 text-white rounded-lg flex items-center justify-center hover:bg-gray-800 transition-colors","aria-label":"Search",children:o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),m&&t.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"inline-block w-8 h-8 border-4 border-gray-900 border-t-transparent rounded-full animate-spin"})}):t.length===0?o.jsx("div",{className:"text-center py-12 text-gray-500",children:o.jsx("p",{children:"No articles found."})}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"articles-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:t.map(T=>o.jsxs(Ft,{to:`/articles/${T.slug}`,className:"article-card bg-white rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow duration-300 group",children:[T.featuredImage?o.jsx("div",{className:"article-image-wrapper h-56 overflow-hidden",children:o.jsx("img",{src:T.featuredImage,alt:T.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"})}):T.topic?.image?o.jsx("div",{className:"article-image-wrapper h-56 overflow-hidden",children:o.jsx("img",{src:T.topic.image,alt:T.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"})}):o.jsx("div",{className:"article-image-wrapper h-56 bg-gradient-to-br from-gray-200 to-gray-300 flex items-center justify-center",children:o.jsx("span",{className:"text-gray-500 text-5xl font-bold",children:T.title.charAt(0)})}),o.jsxs("div",{className:"article-content p-6",children:[T.topic&&o.jsx("div",{className:"article-topic text-xs font-semibold text-blue-900 mb-2 uppercase tracking-wide",children:T.topic.name}),o.jsx("h3",{className:"article-title text-2xl font-bold text-gray-900 mb-3 line-clamp-2 group-hover:text-blue-900 transition-colors",children:T.title}),T.excerpt&&o.jsx("p",{className:"article-excerpt text-gray-600 mb-4 line-clamp-3",children:T.excerpt}),o.jsxs("div",{className:"article-meta flex items-center justify-between text-sm text-gray-500 pt-4 border-t border-gray-200",children:[o.jsx("span",{className:"font-medium",children:T.writtenBy||T.author}),o.jsx("span",{children:new Date(T.publishedAt||T._id).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),o.jsxs("div",{className:"article-views text-xs text-gray-400 mt-2",children:[T.views," views"]})]})]},T._id))}),c<h&&o.jsx("div",{className:"text-center",children:o.jsx("button",{onClick:E,disabled:y,className:"px-8 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Loading...":"Load More Articles"})})]})]})})}function CT(){return k.useEffect(()=>{document.title="Patricia Macadam - Articles"},[]),o.jsxs("div",{children:[o.jsx(jT,{}),o.jsx(kT,{})]})}const ET=`${ot}/articles`;function TT(){const{slug:t}=Nr(),e=Ht(),[n,s]=k.useState(null),[i,l]=k.useState(!0),[c,d]=k.useState(null);k.useEffect(()=>{t&&h()},[t]),k.useEffect(()=>{n?document.title=`${n.title} - Patricia Macadam`:c?document.title="Article Not Found - Patricia Macadam":document.title="Loading Article - Patricia Macadam"},[n,c]);const h=async()=>{try{l(!0),d(null);const p=await ye.get(`${ET}/${t}`);s(p.data.article)}catch(p){console.error("Error fetching article:",p),p.response?.status===404?d("Article not found"):d("Failed to load article")}finally{l(!1)}};return i?o.jsxs("div",{children:[o.jsx(qt,{}),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-gray-900 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading article..."})]})})]}):c||!n?o.jsxs("div",{children:[o.jsx(qt,{}),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:o.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Article Not Found"}),o.jsx("p",{className:"text-gray-600 mb-8",children:c||"The article you are looking for does not exist."}),o.jsx("button",{onClick:()=>e("/articles"),className:"px-6 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors",children:"Back to Articles"})]})})]}):o.jsxs("div",{className:"article-detail-page",children:[o.jsx(qt,{}),o.jsx("section",{className:"article-header bg-gradient-to-b from-gray-50 to-white py-16",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("button",{onClick:()=>e("/articles"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-8 transition-colors",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),o.jsx("span",{children:"Back to Articles"})]}),n.topic&&o.jsx("div",{className:"inline-block px-4 py-2 bg-blue-900 text-white rounded-full mb-6 text-sm font-semibold",children:n.topic.name}),o.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:n.title}),n.excerpt&&o.jsx("p",{className:"text-xl md:text-2xl text-gray-700 leading-relaxed mb-8",children:n.excerpt}),o.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-gray-600 border-t border-b border-gray-200 py-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-semibold",children:"By"}),o.jsx("span",{children:n.writtenBy||n.author})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),o.jsx("span",{children:new Date(n.publishedAt||n._id).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),o.jsxs("span",{children:[n.views," views"]})]})]})]})})}),n.featuredImage&&o.jsx("section",{className:"article-featured-image py-8 bg-white",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx("img",{src:n.featuredImage,alt:n.title,className:"w-full h-auto rounded-2xl shadow-xl",loading:"lazy"})})})}),o.jsx("section",{className:"article-content bg-white py-12",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsx("div",{className:"prose prose-lg max-w-none article-body",dangerouslySetInnerHTML:{__html:n.content},style:{fontFamily:"inherit"}}),o.jsx("style",{children:`
              .article-body {
                color: #1f2937;
                line-height: 1.75;
              }
              .article-body h1,
              .article-body h2,
              .article-body h3,
              .article-body h4 {
                font-weight: 700;
                margin-top: 2rem;
                margin-bottom: 1rem;
                color: #111827;
              }
              .article-body h1 {
                font-size: 2.5rem;
              }
              .article-body h2 {
                font-size: 2rem;
              }
              .article-body h3 {
                font-size: 1.5rem;
              }
              .article-body p {
                margin-bottom: 1.5rem;
                font-size: 1.125rem;
              }
              .article-body ul,
              .article-body ol {
                margin-bottom: 1.5rem;
                padding-left: 1.5rem;
              }
              .article-body li {
                margin-bottom: 0.5rem;
              }
              .article-body a {
                color: #2563eb;
                text-decoration: underline;
              }
              .article-body a:hover {
                color: #1d4ed8;
              }
              .article-body img {
                max-width: 100%;
                height: auto;
                border-radius: 0.5rem;
                margin: 2rem 0;
              }
              .article-body strong {
                font-weight: 700;
              }
              .article-body em {
                font-style: italic;
              }
              .article-body blockquote {
                border-left: 4px solid #e5e7eb;
                padding-left: 1.5rem;
                margin: 2rem 0;
                font-style: italic;
                color: #6b7280;
              }
            `})]})})}),o.jsx("section",{className:"article-footer bg-gray-50 py-12",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"max-w-3xl mx-auto",children:o.jsxs("div",{className:"flex items-center justify-between border-t border-gray-200 pt-8",children:[o.jsxs("button",{onClick:()=>e("/articles"),className:"flex items-center gap-2 px-6 py-3 bg-white border-2 border-gray-900 text-gray-900 rounded-full font-semibold hover:bg-gray-900 hover:text-white transition-colors",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Articles"]}),n.topic&&o.jsxs("a",{href:`/topics/${n.topic.slug}`,className:"flex items-center gap-2 px-6 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors",children:["More from ",n.topic.name,o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})})})})]})}const AT=`${ot}/topics`;function MT(){const[t,e]=k.useState([]),[n,s]=k.useState(!0);k.useEffect(()=>{document.title="Topics - Patricia Macadam"},[]),k.useEffect(()=>{i()},[]);const i=async()=>{try{const l=await ye.get(AT);e(l.data.topics||[])}catch(l){console.error("Error fetching topics:",l)}finally{s(!1)}};return o.jsxs("div",{children:[o.jsx(qt,{}),o.jsx("section",{className:"topics-page w-full py-20 bg-gradient-to-b from-gray-50 to-white",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6",children:"Topics"}),o.jsx("p",{className:"text-xl text-gray-700 max-w-2xl mx-auto",children:"Explore articles organized by topics that matter to you"})]}),n?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"inline-block w-8 h-8 border-4 border-gray-900 border-t-transparent rounded-full animate-spin"})}):t.length===0?o.jsx("div",{className:"text-center py-12 text-gray-500",children:o.jsx("p",{children:"No topics available."})}):o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:t.map(l=>o.jsxs(Ft,{to:`/topics/${l.slug}`,className:"topic-card group bg-white rounded-xl overflow-hidden shadow-md hover:shadow-2xl transition-all duration-300 border border-gray-100",children:[l.image?o.jsx("div",{className:"topic-image-wrapper h-48 overflow-hidden bg-gray-100",children:o.jsx("img",{src:l.image,alt:l.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"})}):o.jsx("div",{className:"topic-image-wrapper h-48 bg-gradient-to-br from-gray-200 via-gray-300 to-gray-400 flex items-center justify-center",children:o.jsx("span",{className:"text-gray-600 text-5xl font-bold",children:l.name.charAt(0)})}),o.jsx("div",{className:"topic-content p-6",children:o.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-blue-900 transition-colors text-center",children:l.name})})]},l._id))})]})})})]})}const Iy=ot;function OT(){const{slug:t}=Nr(),e=Ht(),[n,s]=k.useState(null),[i,l]=k.useState([]),[c,d]=k.useState(!0),[h,p]=k.useState(!1),[m,x]=k.useState(1),[y,w]=k.useState(1),[v,S]=k.useState(null);k.useEffect(()=>{t&&j()},[t]),k.useEffect(()=>{t&&m>1&&E()},[m]),k.useEffect(()=>{n?document.title=`${n.name} - Topics - Patricia Macadam`:v?document.title="Topic Not Found - Patricia Macadam":c&&(document.title="Loading Topic - Patricia Macadam")},[n,v,c]);const j=async()=>{try{d(!0),S(null);const A=await ye.get(`${Iy}/topics/${t}?page=1&limit=12`);s(A.data.topic),l(A.data.articles||[]),w(A.data.pagination?.totalPages||1)}catch(A){console.error("Error fetching topic:",A),A.response?.status===404?S("Topic not found"):S("Failed to load topic")}finally{d(!1)}},E=async()=>{try{p(!0);const A=await ye.get(`${Iy}/topics/${t}?page=${m}&limit=12`);l(H=>[...H,...A.data.articles||[]])}catch(A){console.error("Error loading more articles:",A)}finally{p(!1)}},T=()=>{m<y&&!h&&x(A=>A+1)};return c?o.jsxs("div",{children:[o.jsx(qt,{}),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-gray-900 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading topic..."})]})})]}):v||!n?o.jsxs("div",{children:[o.jsx(qt,{}),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:o.jsxs("div",{className:"text-center max-w-md mx-auto px-4",children:[o.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Topic Not Found"}),o.jsx("p",{className:"text-gray-600 mb-8",children:v||"The topic you are looking for does not exist."}),o.jsx("button",{onClick:()=>e("/topics"),className:"px-6 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors",children:"Back to Topics"})]})})]}):o.jsxs("div",{className:"topic-detail-page",children:[o.jsx(qt,{}),o.jsx("section",{className:"topic-header bg-gradient-to-b from-gray-50 to-white py-16",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("button",{onClick:()=>e("/topics"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-8 transition-colors",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),o.jsx("span",{children:"Back to Topics"})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-start mb-12",children:[n.image?o.jsx("div",{className:"flex-shrink-0",children:o.jsx("img",{src:n.image,alt:n.name,className:"w-48 h-48 md:w-64 md:h-64 rounded-2xl object-cover shadow-xl",loading:"lazy"})}):o.jsx("div",{className:"flex-shrink-0 w-48 h-48 md:w-64 md:h-64 bg-gradient-to-br from-gray-200 via-gray-300 to-gray-400 rounded-2xl flex items-center justify-center shadow-xl",children:o.jsx("span",{className:"text-gray-600 text-7xl font-bold",children:n.name.charAt(0)})}),o.jsxs("div",{className:"flex-1 text-center md:text-left",children:[o.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-4",children:n.name}),o.jsxs("p",{className:"text-lg text-gray-600",children:["Explore articles about ",n.name.toLowerCase()]})]})]})]})})}),o.jsx("section",{className:"topic-articles bg-white py-12",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"max-w-6xl mx-auto",children:i.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx("p",{className:"text-lg",children:"No articles available for this topic yet."}),o.jsx(Ft,{to:"/articles",className:"inline-block mt-4 px-6 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors",children:"Browse All Articles"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-8",children:["Articles (",i.length," ",i.length===1?"article":"articles",")"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:i.map(A=>o.jsxs(Ft,{to:`/articles/${A.slug}`,className:"article-card bg-white rounded-xl overflow-hidden shadow-md hover:shadow-2xl transition-all duration-300 group border border-gray-100",children:[A.featuredImage?o.jsx("div",{className:"article-image-wrapper h-56 overflow-hidden bg-gray-100",children:o.jsx("img",{src:A.featuredImage,alt:A.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"})}):o.jsx("div",{className:"article-image-wrapper h-56 bg-gradient-to-br from-gray-200 via-gray-300 to-gray-400 flex items-center justify-center",children:o.jsx("span",{className:"text-gray-600 text-5xl font-bold",children:A.title.charAt(0)})}),o.jsxs("div",{className:"article-content p-6",children:[o.jsx("h3",{className:"article-title text-xl font-bold text-gray-900 mb-3 line-clamp-2 group-hover:text-blue-900 transition-colors leading-tight",children:A.title}),A.excerpt&&o.jsx("p",{className:"article-excerpt text-gray-600 text-sm mb-4 line-clamp-3 leading-relaxed",children:A.excerpt}),o.jsxs("div",{className:"article-meta flex items-center justify-between text-xs text-gray-500 pt-4 border-t border-gray-200",children:[o.jsx("span",{className:"font-semibold",children:A.writtenBy||A.author}),o.jsx("span",{children:new Date(A.publishedAt||A._id).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),o.jsxs("div",{className:"article-views text-xs text-gray-400 mt-2",children:[A.views," views"]})]})]},A._id))}),m<y&&o.jsx("div",{className:"text-center",children:o.jsx("button",{onClick:T,disabled:h,className:"px-8 py-3 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Loading...":"Load More Articles"})})]})})})})]})}function RT(){return k.useEffect(()=>{document.title="About - Patricia Macadam"},[]),o.jsxs("div",{className:"about-page min-h-screen bg-white",children:[o.jsx("section",{className:"about-hero bg-gradient-to-b from-gray-50 to-white py-20",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("div",{className:"mb-12 max-w-2xl mx-auto",children:o.jsx("img",{src:"https://substackcdn.com/image/fetch/$s_!e4rC!,f_auto,q_auto:best,fl_progressive:steep/https%3A%2F%2Fpmacadam.substack.com%2Fapi%2Fv1%2Fpress_kit%2Fasset%2F185212681%2Foverlay%2Fcomposed%3FaspectRatio%3Dgrid",alt:"Patricia Macadam",className:"w-full h-auto rounded-2xl shadow-lg max-h-[600px] object-cover",loading:"eager"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-gray-900 mb-6 leading-tight",children:"On Clarity"}),o.jsx("p",{className:"text-xl md:text-2xl text-gray-600 leading-relaxed max-w-3xl mx-auto",children:"I am no longer interested in being inspirational; I want to be clear."})]})]})})}),o.jsx("section",{className:"about-content bg-white py-16",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"prose prose-lg max-w-none mb-16",children:[o.jsx("p",{className:"text-xl md:text-2xl text-gray-800 leading-relaxed mb-8",children:"Clarity isn't a feeling. It isn't about motivation or optimism. Clarity is the moment when you can finally see what is happening without collapsing, blaming, or abandoning yourself."}),o.jsx("p",{className:"text-lg md:text-xl text-gray-700 leading-relaxed mb-8",children:"Most people do not need more insight; they already know what hurts, what they have lost, and what isn't working. The real question is much quieter:"}),o.jsx("blockquote",{className:"text-2xl md:text-3xl font-semibold text-gray-900 italic border-l-4 border-gray-900 pl-6 my-12 leading-relaxed",children:"Can you remain present with your life as it truly is, after the loss, after the trauma, after the story you thought you would be living has come to an end?"}),o.jsx("p",{className:"text-lg md:text-xl text-gray-700 leading-relaxed mb-8",children:'This is where many people struggle. Not because they are weak or unhealed, but because no one ever taught them how to confront reality without dissociating from it. As a result, they compensate in various ways. They over-function, intellectualize, hustle, and care for others as a way to navigate their grief. They mistakenly label survival as "strength."'}),o.jsx("p",{className:"text-lg md:text-xl text-gray-700 leading-relaxed mb-8",children:"I went through this too. For a long time, I relied on my intuition, empathy, intelligence, and charisma to guide me. It workeduntil it didn't."})]}),o.jsxs("div",{className:"bg-gray-50 rounded-2xl p-8 md:p-12 mb-16",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:"The Shift"}),o.jsxs("div",{className:"space-y-6 text-lg text-gray-700 leading-relaxed",children:[o.jsxs("p",{children:[o.jsx("strong",{className:"text-gray-900",children:"Intuition without structure"})," can lead to burnout."]}),o.jsxs("p",{children:[o.jsx("strong",{className:"text-gray-900",children:"Empathy without boundaries"})," turns into unpaid labor."]}),o.jsxs("p",{children:[o.jsx("strong",{className:"text-gray-900",children:"Insight without proper support"})," results in exhaustion."]})]}),o.jsx("p",{className:"text-xl text-gray-800 leading-relaxed mt-8 font-semibold",children:"My approach now is different."})]}),o.jsxs("div",{className:"mb-16",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-8",children:"My Work Focuses on Providing Clarity"}),o.jsx("p",{className:"text-lg md:text-xl text-gray-700 leading-relaxed mb-8",children:"So you can see and recognize the areas in your life where you are leaking energy:"}),o.jsxs("ul",{className:"space-y-4 mb-12 text-lg text-gray-700",children:[o.jsxs("li",{className:"flex items-start gap-4",children:[o.jsx("span",{className:"text-gray-900 font-bold mt-1",children:""}),o.jsx("span",{children:"Where you confuse effort with love."})]}),o.jsxs("li",{className:"flex items-start gap-4",children:[o.jsx("span",{className:"text-gray-900 font-bold mt-1",children:""}),o.jsx("span",{children:"Where you are merely surviving instead of truly living."})]})]}),o.jsx("p",{className:"text-lg md:text-xl text-gray-700 leading-relaxed mb-8",children:"This awareness is not about fixing yourself, but about reconnecting with your body."})]}),o.jsxs("div",{className:"mb-16",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-8",children:"What Clarity Enables"}),o.jsx("p",{className:"text-lg md:text-xl text-gray-700 leading-relaxed mb-6",children:"Clarity is what allows you to be present with:"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3 text-lg text-gray-700",children:[o.jsx("span",{className:"text-gray-900 font-bold",children:""}),o.jsx("span",{children:"Your spouse"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-lg text-gray-700",children:[o.jsx("span",{className:"text-gray-900 font-bold",children:""}),o.jsx("span",{children:"Your children"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-lg text-gray-700",children:[o.jsx("span",{className:"text-gray-900 font-bold",children:""}),o.jsx("span",{children:"Your work"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-lg text-gray-700",children:[o.jsx("span",{className:"text-gray-900 font-bold",children:""}),o.jsx("span",{children:"Your relationships"})]}),o.jsxs("div",{className:"flex items-center gap-3 text-lg text-gray-700",children:[o.jsx("span",{className:"text-gray-900 font-bold",children:""}),o.jsx("span",{children:"Your grief"})]})]}),o.jsx("p",{className:"text-lg md:text-xl text-gray-700 leading-relaxed mb-8",children:"It enables you to experience these aspects of life without being overwhelmed by them."})]}),o.jsxs("div",{className:"bg-gray-900 text-white rounded-2xl p-8 md:p-12",children:[o.jsx("p",{className:"text-xl md:text-2xl leading-relaxed mb-6",children:"This is how you can learn to fully engage in life, even after experiencing loss, disappointment, or when things haven't gone as planned."}),o.jsx("p",{className:"text-lg md:text-xl leading-relaxed mb-6 opacity-90",children:"It's not about being numb, avoiding your feelings, or projecting strength."}),o.jsx("p",{className:"text-xl md:text-2xl font-semibold leading-relaxed",children:"It's about simply being present and finding peace amidst it all."}),o.jsx("p",{className:"text-2xl md:text-3xl font-bold mt-8 italic",children:"This is the work."}),o.jsx("p",{className:"text-lg mt-6 opacity-80",children:"~Patricia"})]})]})})})]})}function LT(){const[t,e]=k.useState([]),[n,s]=k.useState(!0),[i,l]=k.useState("");k.useEffect(()=>{document.title="Courses - Patricia Macadam",c()},[]);const c=async()=>{try{s(!0);const h=await ye.get(`${ot}/courses`);e(h.data.courses||[])}catch(h){console.error("Error fetching courses:",h)}finally{s(!1)}},d=t.filter(h=>h.name.toLowerCase().includes(i.toLowerCase())||h.description&&h.description.toLowerCase().includes(i.toLowerCase()));return n?o.jsxs("div",{children:[o.jsx(qt,{}),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-gray-900 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading courses..."})]})})]}):o.jsxs("div",{className:"courses-page min-h-screen bg-white",children:[o.jsx(qt,{}),o.jsx("section",{className:"courses-hero bg-gradient-to-b from-gray-50 to-white py-16",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-4 text-center",children:"Courses Taught by Patricia"}),o.jsx("p",{className:"text-xl text-gray-600 text-center mb-8",children:"Discover transformative courses designed to help you build stronger connections and navigate life's complexities."}),o.jsx("div",{className:"max-w-2xl mx-auto",children:o.jsx("input",{type:"text",placeholder:"Search courses...",value:i,onChange:h=>l(h.target.value),className:"w-full px-6 py-4 border-2 border-gray-300 rounded-full focus:outline-none focus:border-gray-900 text-lg"})})]})})}),o.jsx("section",{className:"courses-grid bg-white py-16",children:o.jsx("div",{className:"container mx-auto px-4",children:d.length===0?o.jsx("div",{className:"text-center py-20",children:o.jsx("p",{className:"text-xl text-gray-600",children:t.length===0?"No courses available at the moment.":"No courses match your search."})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto",children:d.map(h=>o.jsxs("div",{className:"course-card bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-xl transition-shadow duration-300",children:[o.jsxs("div",{className:"course-thumbnail h-64 bg-gray-200 relative overflow-hidden",children:[h.thumbnail?o.jsx("img",{src:h.thumbnail,alt:h.name,className:"w-full h-full object-cover",loading:"lazy"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center",children:o.jsx("span",{className:"text-4xl font-bold text-gray-400",children:h.name.charAt(0)})}),h.youtubeLink&&o.jsx("div",{className:"absolute top-4 right-4 bg-red-600 text-white px-3 py-1 rounded-full text-xs font-semibold",children:"Video"})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:h.name}),o.jsx("div",{className:"text-gray-700 mb-4 line-clamp-3 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:h.description||""}}),o.jsxs("div",{className:"flex items-center justify-between mt-6",children:[o.jsx("div",{className:"text-xl font-bold text-gray-900",children:h.price&&h.price>0?`$${h.price.toFixed(2)}`:"Free"}),h.courseLink&&o.jsx("a",{href:h.courseLink,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-2 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-colors",children:"View Course"})]})]})]},h._id))})})})]})}function DT(){return k.useEffect(()=>{document.title="404 - Page Not Found - Patricia Macadam"},[]),o.jsx("div",{className:"min-h-screen bg-white",children:o.jsx("div",{className:"min-h-[calc(100vh-200px)] flex items-center justify-center px-4",children:o.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("h1",{className:"text-9xl md:text-[12rem] font-bold text-gray-900 mb-2",children:["4",o.jsx("span",{className:"text-gray-400",children:"0"}),"4"]})}),o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Page Not Found"}),o.jsx("p",{className:"text-lg md:text-xl text-gray-600 max-w-md mx-auto leading-relaxed",children:"The page you're looking for doesn't exist or has been moved."})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[o.jsxs(Ft,{to:"/",className:"inline-flex items-center gap-2 px-8 py-4 bg-gray-900 text-white rounded-full font-semibold hover:bg-gray-800 transition-all shadow-lg hover:shadow-xl",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Go Home"]}),o.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center gap-2 px-8 py-4 bg-white text-gray-900 border-2 border-gray-300 rounded-full font-semibold hover:bg-gray-50 hover:border-gray-400 transition-all shadow-lg hover:shadow-xl",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Go Back"]})]}),o.jsxs("div",{className:"mt-16 pt-8 border-t border-gray-200",children:[o.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"You might be looking for:"}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[o.jsx(Ft,{to:"/articles",className:"text-gray-700 hover:text-gray-900 hover:underline transition-colors",children:"Articles"}),o.jsx(Ft,{to:"/podcast",className:"text-gray-700 hover:text-gray-900 hover:underline transition-colors",children:"Podcasts"}),o.jsx(Ft,{to:"/topics",className:"text-gray-700 hover:text-gray-900 hover:underline transition-colors",children:"Topics"}),o.jsx(Ft,{to:"/courses",className:"text-gray-700 hover:text-gray-900 hover:underline transition-colors",children:"Courses"}),o.jsx(Ft,{to:"/about",className:"text-gray-700 hover:text-gray-900 hover:underline transition-colors",children:"About"})]})]})]})})})}const he=ye.create({baseURL:W1,headers:{"Content-Type":"application/json"},withCredentials:!0});he.interceptors.request.use(t=>{const e=localStorage.getItem("adminToken");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));he.interceptors.response.use(t=>t,t=>(t.response?.status===401&&localStorage.removeItem("adminToken"),Promise.reject(t)));const ww=k.createContext(void 0);function va(){const t=k.useContext(ww);if(t===void 0)throw new Error("useAdmin must be used within an AdminProvider");return t}function zT({children:t}){const[e,n]=k.useState(null),[s,i]=k.useState(!0),l=async()=>{try{const d=await he.get("/auth/me");n(d.data.admin)}catch(d){console.error("Error fetching admin:",d),localStorage.removeItem("adminToken"),n(null)}finally{i(!1)}},c=async()=>{try{await he.post("/auth/logout")}catch(d){console.error("Error during logout:",d)}finally{localStorage.removeItem("adminToken"),n(null)}};return k.useEffect(()=>{l()},[]),o.jsx(ww.Provider,{value:{admin:e,loading:s,setAdmin:n,fetchAdmin:l,logout:c},children:t})}function _T(){k.useEffect(()=>{document.title="Admin Sign In - Patricia Macadam",T()},[]);const[t,e]=k.useState(!0),[n,s]=k.useState(!1),[i,l]=k.useState(!1),[c,d]=k.useState({name:"",email:"",password:"",confirmPassword:"",secretKey:""}),[h,p]=k.useState(""),[m,x]=k.useState(!1),[y,w]=k.useState(""),[v,S]=k.useState(!1),j=Ht(),{setAdmin:E}=va(),T=async()=>{s(!1),e(!0),l(!1)},A=B=>{d({...c,[B.target.name]:B.target.value}),p("")},H=async B=>{B.preventDefault(),p(""),x(!0);try{if(t){const z=navigator.userAgent;try{const O=await he.post("/auth/login",{email:c.email,password:c.password,device:z,secretKey:c.secretKey||void 0});O.data.admin&&E(O.data.admin),j("/admin")}catch(O){const Y=O.response?.data||{};Y.requiresSecretKey?(S(!0),p(Y.message||"New device detected. Please enter your secret key.")):p(Y.message||"Login failed")}}else{if(!n){p("Admin signup is currently disabled. Please contact an existing administrator."),x(!1);return}if(c.password!==c.confirmPassword){p("Passwords do not match"),x(!1);return}const z=navigator.userAgent;try{const O=await he.post("/auth/register",{name:c.name,email:c.email,password:c.password,device:z});O.data.admin&&E(O.data.admin),O.data.secretKey?w(O.data.secretKey):j("/admin")}catch(O){const Y=O.response?.data||{};p(Y.message||"Registration failed")}}}catch(z){p("An error occurred. Please try again."),console.error(z)}finally{x(!1)}};return o.jsx("div",{className:"min-h-screen bg-linear-to-br from-gray-50 to-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-2xl shadow-xl",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:t?"Admin Sign In":"Admin Sign Up"}),o.jsx("p",{className:"text-gray-600",children:t?"Sign in to access the admin dashboard":"Create a new admin account"})]}),n&&o.jsxs("div",{className:"flex gap-2 p-1 bg-gray-100 rounded-lg",children:[o.jsx("button",{type:"button",onClick:()=>{e(!0),p(""),S(!1),w(""),d({name:"",email:"",password:"",confirmPassword:"",secretKey:""})},className:`flex-1 py-2 px-4 rounded-md font-semibold transition-all duration-300 ${t?"bg-gray-900 text-white shadow-md":"text-gray-600 hover:text-gray-900"}`,children:"Sign In"}),o.jsx("button",{type:"button",onClick:()=>{e(!1),p(""),S(!1),w(""),d({name:"",email:"",password:"",confirmPassword:"",secretKey:""})},className:`flex-1 py-2 px-4 rounded-md font-semibold transition-all duration-300 ${t?"text-gray-600 hover:text-gray-900":"bg-gray-900 text-white shadow-md"}`,children:"Sign Up"})]}),!i&&!n&&!t&&o.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("svg",{className:"w-5 h-5 text-yellow-600 shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm text-yellow-800",children:"Admin signup is currently disabled. Please contact an existing administrator to create an account."}),o.jsx("button",{type:"button",onClick:()=>e(!0),className:"mt-2 text-sm text-yellow-900 hover:text-yellow-700 underline",children:"Go to Sign In"})]})]})}),y&&o.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("svg",{className:"w-6 h-6 text-yellow-600 shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-bold text-yellow-900 mb-2",children:"Save Your Secret Key!"}),o.jsx("p",{className:"text-sm text-yellow-800 mb-3",children:"This is your secret key for device verification. Save it securely - you'll need it when logging in from a new device."}),o.jsx("div",{className:"bg-white p-3 rounded border border-yellow-300 mb-3",children:o.jsx("code",{className:"text-sm font-mono text-gray-900 break-all",children:y})}),o.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(y),alert("Secret key copied to clipboard!")},className:"text-sm text-yellow-900 hover:text-yellow-700 underline",children:"Copy to Clipboard"})]})]}),o.jsx("button",{type:"button",onClick:()=>{w(""),j("/admin")},className:"w-full py-2 bg-yellow-600 text-white rounded-lg font-semibold hover:bg-yellow-700 transition-all",children:"I've Saved My Secret Key - Continue"})]}),h&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:h}),o.jsxs("form",{onSubmit:H,className:"space-y-6",children:[!t&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name"}),o.jsx("input",{id:"name",name:"name",type:"text",required:!t,value:c.name,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Enter your full name"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),o.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:c.email,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Enter your email"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),o.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:c.password,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Enter your password"})]}),!t&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),o.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!t,value:c.confirmPassword,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Confirm your password"})]}),t&&v&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"secretKey",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Secret Key (Required for New Device)"}),o.jsx("input",{id:"secretKey",name:"secretKey",type:"text",required:v,value:c.secretKey,onChange:A,className:"w-full px-4 py-3 border-2 border-yellow-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-transparent",placeholder:"Enter your secret key"}),o.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"This device is not recognized. Please enter the secret key you received during registration."})]}),o.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 bg-gray-900 text-white rounded-lg font-semibold hover:bg-gray-800 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-[1.02] active:scale-[0.98]",children:m?"Processing...":t?"Sign In":"Sign Up"})]})]})})}function xm(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function BT(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},child:[]},{tag:"path",attr:{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},child:[]}]})(t)}function UT(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function $n(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function HT(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function PT(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function Nw(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(t)}function IT(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 18v-6a9 9 0 0 1 18 0v6"},child:[]},{tag:"path",attr:{d:"M21 19a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3zM3 19a2 2 0 0 0 2 2h1a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H3z"},child:[]}]})(t)}function $T(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"},child:[]},{tag:"polyline",attr:{points:"21 15 16 10 5 21"},child:[]}]})(t)}function FT(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"3",y1:"9",x2:"21",y2:"9"},child:[]},{tag:"line",attr:{x1:"9",y1:"21",x2:"9",y2:"9"},child:[]}]})(t)}function VT(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function Sl(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function wa(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function bm(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function di(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function qT(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(t)}function KT(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function YT(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"path",attr:{d:"M16 10a4 4 0 0 1-8 0"},child:[]}]})(t)}function GT(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}function jr(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function Na(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function Ut(t){return Ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}function WT(){const t=Ht(),e=Ls(),{admin:n,logout:s}=va(),i=()=>{s(),window.location.href="/"},l=[{name:"Dashboard",path:"/admin",icon:FT},{name:"Articles",path:"/admin/articles",icon:PT},{name:"Topics",path:"/admin/topics",icon:GT},{name:"Podcasts",path:"/admin/podcasts",icon:IT},{name:"Courses",path:"/admin/courses",icon:BT},{name:"Products",path:"/admin/products",icon:YT},{name:"Newsletter",path:"/admin/newsletter",icon:Sl},{name:"Settings",path:"/admin/settings",icon:KT}];return o.jsxs("div",{className:"w-64 bg-black text-white min-h-screen flex flex-col border-r border-gray-800 fixed left-0 top-0 overflow-y-auto",children:[o.jsxs("div",{className:"p-6 border-b border-gray-800",children:[o.jsx("h1",{className:"text-xl font-bold text-white",children:"Patricia Macadam"}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Admin Panel"})]}),n&&o.jsx("div",{className:"p-4 border-b border-gray-800",children:o.jsxs("div",{className:"bg-white rounded p-4",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.profilePic?o.jsx("img",{src:n.profilePic,alt:n.name,className:"w-10 h-10 rounded-full object-cover"}):o.jsx("div",{className:"w-10 h-10 bg-black rounded-full flex items-center justify-center text-sm font-bold text-white",children:n.name.charAt(0).toUpperCase()}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-semibold text-black text-sm truncate",children:n.name}),o.jsx("p",{className:"text-xs text-gray-600 truncate",children:n.email})]})]}),o.jsx("button",{onClick:()=>t("/admin/profile"),className:"w-full mt-3 px-3 py-2 text-xs font-semibold bg-black text-white rounded hover:bg-gray-900 transition-colors",children:"Edit Profile"})]})}),o.jsx("nav",{className:"flex-1 p-4",children:o.jsx("ul",{className:"space-y-1",children:l.map(c=>{const d=c.icon,h=e.pathname===c.path;return o.jsx("li",{children:o.jsxs("button",{onClick:()=>t(c.path),className:`w-full flex items-center gap-3 px-4 py-2.5 rounded transition-colors text-sm font-medium ${h?"bg-white text-black":"text-gray-300 hover:bg-gray-900 hover:text-white"}`,children:[o.jsx(d,{className:"text-lg"}),o.jsx("span",{children:c.name})]})},c.path)})})}),o.jsx("div",{className:"p-4 border-t border-gray-800",children:o.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded bg-white text-black text-sm font-semibold hover:bg-gray-100 transition-colors",children:[o.jsx(VT,{className:"w-4 h-4"}),o.jsx("span",{children:"Logout"})]})})]})}function Ve({children:t}){return o.jsxs("div",{className:"flex min-h-screen bg-white",children:[o.jsx("title",{children:"Patricia Macadam - Admin"}),o.jsx(WT,{}),o.jsx("main",{className:"flex-1 p-8 bg-white ml-64",children:t})]})}function JT(){const{admin:t,loading:e,fetchAdmin:n}=va();return k.useEffect(()=>{document.title="Admin Dashboard - Patricia Macadam"},[]),k.useEffect(()=>{!t&&!e&&n()},[t,e,n]),e?o.jsx(Ve,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):o.jsx(Ve,{children:o.jsxs("div",{className:"space-y-6 max-w-7xl",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Dashboard"}),o.jsxs("p",{className:"text-gray-600",children:["Welcome",t?`, ${t.name}`:""]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-black text-white p-6 rounded border border-gray-800",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),o.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Total Admins"}),o.jsx("p",{className:"text-2xl font-bold",children:"-"})]}),o.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active Sessions"}),o.jsx("p",{className:"text-2xl font-bold text-black",children:"-"})]}),o.jsxs("div",{className:"bg-black text-white p-6 rounded border border-gray-800",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"System Status"}),o.jsx("p",{className:"text-2xl font-bold",children:"Online"})]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded",children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("h2",{className:"text-xl font-semibold text-black",children:"Recent Activity"})}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex items-center gap-3 p-4 border border-gray-200 rounded",children:[o.jsx("div",{className:"w-2 h-2 bg-black rounded-full"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"No recent activity to display."})]})})]})]})})}function XT(){const{admin:t,loading:e}=va(),[n,s]=k.useState(null),[i,l]=k.useState(!0),[c,d]=k.useState(!1),[h,p]=k.useState(null);k.useEffect(()=>{document.title="Settings - Admin - Patricia Macadam"},[]),k.useEffect(()=>{m()},[]);const m=async()=>{try{const y=await he.get("/settings");s(y.data.settings)}catch(y){console.error("Error fetching settings:",y),p({type:"error",text:"Failed to load settings"})}finally{l(!1)}},x=async y=>{d(!0),p(null);try{const w=await he.put("/settings",{allowAdminSignup:y});s(w.data.settings),p({type:"success",text:`Admin signup has been ${y?"enabled":"disabled"}`}),setTimeout(()=>p(null),3e3)}catch(w){console.error("Error updating settings:",w),p({type:"error",text:w.response?.data?.message||"Failed to update settings"})}finally{d(!1)}};return e||i?o.jsx(Ve,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-black font-semibold",children:"Loading settings..."})]})})}):o.jsx(Ve,{children:o.jsxs("div",{className:"space-y-6 max-w-4xl",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Settings"}),o.jsx("p",{className:"text-gray-600",children:"Manage your admin panel settings"})]}),h&&o.jsx("div",{className:`p-4 rounded border ${h.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:o.jsx("p",{className:"text-sm font-medium",children:h.text})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-white border border-gray-200 p-6 rounded",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Admin Signup"}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:n?.allowAdminSignup?"New admins can currently register accounts":"Admin registration is currently disabled"}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Control whether new administrators can create accounts"})]}),o.jsx("div",{className:"ml-6",children:o.jsx("button",{onClick:()=>x(!n?.allowAdminSignup),disabled:c,className:`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-black transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-black/20 ${n?.allowAdminSignup?"bg-black":"bg-white"} ${c?"opacity-50 cursor-not-allowed":""}`,role:"switch","aria-checked":n?.allowAdminSignup,children:o.jsx("span",{className:`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white border-2 border-black shadow transition duration-200 ease-in-out ${n?.allowAdminSignup?"translate-x-5":"translate-x-0"}`})})})]})}),o.jsx("div",{className:"bg-black text-white p-6 rounded border border-gray-800",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("svg",{className:"w-5 h-5 text-white mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-base mb-2",children:"About Admin Signup"}),o.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:"When disabled, new administrators cannot register accounts. Only existing admins can access the admin panel. This helps secure your system from unauthorized access. You can always re-enable signup later if needed."})]})]})})]})]})})}function QT(){const t=Ht(),[e,n]=k.useState([]),[s,i]=k.useState(!0),[l,c]=k.useState(""),[d,h]=k.useState("all"),[p,m]=k.useState(1),[x]=k.useState(10),[y,w]=k.useState(null),[v,S]=k.useState(null),[j,E]=k.useState(!1),[T,A]=k.useState(!1);k.useEffect(()=>{document.title="Articles - Admin - Patricia Macadam"},[]),k.useEffect(()=>{H()},[]);const H=async()=>{try{i(!0);const J=await he.get("/articles");n(J.data.articles||[])}catch(J){console.error("Error fetching articles:",J),w({type:"error",text:"Failed to load articles"})}finally{i(!1)}},B=e.filter(J=>{const te=J.title.toLowerCase().includes(l.toLowerCase())||J.author.toLowerCase().includes(l.toLowerCase()),M=d==="all"||J.status===d;return te&&M}),z=Math.ceil(B.length/x),O=(p-1)*x,Y=O+x,U=B.slice(O,Y),$=J=>{m(J),window.scrollTo({top:0,behavior:"smooth"})},me=async J=>{if(confirm("Are you sure you want to delete this article?"))try{await he.delete(`/articles/${J}`),w({type:"success",text:"Article deleted successfully!"}),await H(),setTimeout(()=>w(null),2e3)}catch(te){w({type:"error",text:te.response?.data?.message||"Failed to delete article"})}},X=async(J,te)=>{if(!te.target.closest("button"))try{A(!0);const K=await he.get(`/articles/${J}`);S(K.data.article),E(!0)}catch(K){console.error("Error fetching article:",K),w({type:"error",text:K.response?.data?.message||"Failed to load article details"})}finally{A(!1)}},G=()=>{E(!1),S(null)};return s?o.jsx(Ve,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):o.jsx(Ve,{children:o.jsxs("div",{className:"space-y-6 max-w-7xl",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Articles"}),o.jsx("p",{className:"text-gray-600",children:"Manage your articles and content"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs("button",{onClick:()=>t("/admin/articles/new"),className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:[o.jsx(wa,{className:"w-4 h-4"}),"Add New Article"]})})]}),y&&o.jsx("div",{className:`p-4 rounded border ${y.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:o.jsx("p",{className:"font-medium",children:y.text})}),o.jsxs("div",{className:"bg-white border border-gray-200 p-4 rounded",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Search articles...",value:l,onChange:J=>{c(J.target.value),m(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Nw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsxs("select",{value:d,onChange:J=>{h(J.target.value),m(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black appearance-none bg-white",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"published",children:"Published"}),o.jsx("option",{value:"draft",children:"Draft"})]})]})]}),o.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",O+1,"-",Math.min(Y,B.length)," of ",B.length," articles"]})]}),o.jsx("div",{className:"bg-white border border-gray-200 rounded overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-black text-white",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Title"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Author"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Created"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Views"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:U.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:"No articles found"})}):U.map(J=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:te=>X(J._id,te),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm font-medium text-black",children:J.title})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-600",children:J.author})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${J.status==="published"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:J.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-600",children:new Date(J.createdAt).toLocaleDateString()})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-600",children:J.views.toLocaleString()})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsx("button",{onClick:()=>t(`/admin/articles/edit/${J._id}`),className:"text-black hover:text-gray-600 transition-colors",children:o.jsx($n,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>me(J._id),className:"text-black hover:text-red-600 transition-colors",children:o.jsx(jr,{className:"w-4 h-4"})})]})})]},J._id))})]})})}),z>1&&o.jsxs("div",{className:"flex items-center justify-between bg-white border border-gray-200 p-4 rounded",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:["Page ",p," of ",z]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>$(p-1),disabled:p===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Previous"}),[...Array(z)].map((J,te)=>{const M=te+1;return M===1||M===z||M>=p-1&&M<=p+1?o.jsx("button",{onClick:()=>$(M),className:`px-4 py-2 border rounded transition-colors ${p===M?"bg-black text-white border-black":"border-gray-300 hover:bg-gray-50"}`,children:M},M):M===p-2||M===p+2?o.jsx("span",{className:"px-2 text-gray-400",children:"..."},M):null}),o.jsx("button",{onClick:()=>$(p+1),disabled:p===z,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"})]})]}),j&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto relative",children:[o.jsx("button",{onClick:G,className:"absolute top-4 right-4 text-gray-400 hover:text-black transition-colors z-10",children:o.jsx(Ut,{className:"w-6 h-6"})}),T?o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading article details..."})]}):v?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6 pr-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-black mb-4",children:v.title}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[v.topic&&o.jsxs("span",{className:"px-3 py-1 bg-gray-100 rounded",children:["Topic: ",typeof v.topic=="object"?v.topic.name:v.topic]}),o.jsx("span",{className:`px-3 py-1 rounded font-semibold ${v.status==="published"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:v.status}),o.jsxs("span",{children:["Views: ",v.views.toLocaleString()]})]})]}),v.featuredImage&&o.jsx("div",{className:"mb-6",children:o.jsx("img",{src:v.featuredImage,alt:v.title,className:"w-full h-64 object-cover rounded border border-gray-200"})}),o.jsx("div",{className:"mb-6 pb-6 border-b border-gray-200",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Author:"})," ",o.jsx("span",{className:"font-semibold text-black",children:typeof v.writtenBy=="object"?v.writtenBy.name:v.writtenBy||v.author})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Created:"})," ",o.jsx("span",{className:"font-semibold text-black",children:new Date(v.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),v.publishedAt&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Published:"})," ",o.jsx("span",{className:"font-semibold text-black",children:new Date(v.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Slug:"})," ",o.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:v.slug})]})]})}),v.excerpt&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Excerpt"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:v.excerpt})]}),v.content&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-black mb-4",children:"Content"}),o.jsx("div",{className:"prose prose-sm max-w-none text-gray-700 article-content-preview",dangerouslySetInnerHTML:{__html:v.content.length>500?v.content.substring(0,500)+"...":v.content},style:{maxHeight:"300px",overflow:"hidden"}})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsxs("button",{onClick:()=>{G(),t(`/admin/articles/edit/${v._id}`)},className:"flex items-center gap-2 px-6 py-3 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:[o.jsx($n,{className:"w-4 h-4"}),"Edit Article"]}),o.jsx("button",{onClick:G,className:"flex items-center gap-2 px-6 py-3 border-2 border-gray-300 text-black rounded hover:bg-gray-50 transition-colors font-semibold",children:"Close"})]})]}):null]})}),o.jsx("style",{children:`
          .article-content-preview h1,
          .article-content-preview h2,
          .article-content-preview h3 {
            font-weight: 700;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
          }
          .article-content-preview p {
            margin-bottom: 1rem;
          }
          .article-content-preview ul,
          .article-content-preview ol {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
          }
        `})]})})}var Wh={exports:{}},Jh={};var $y;function ZT(){if($y)return Jh;$y=1;var t=Xl();function e(x,y){return x===y&&(x!==0||1/x===1/y)||x!==x&&y!==y}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,i=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function d(x,y){var w=y(),v=s({inst:{value:w,getSnapshot:y}}),S=v[0].inst,j=v[1];return l(function(){S.value=w,S.getSnapshot=y,h(S)&&j({inst:S})},[x,w,y]),i(function(){return h(S)&&j({inst:S}),x(function(){h(S)&&j({inst:S})})},[x]),c(w),w}function h(x){var y=x.getSnapshot;x=x.value;try{var w=y();return!n(x,w)}catch{return!0}}function p(x,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return Jh.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Jh}var Fy;function jw(){return Fy||(Fy=1,Wh.exports=ZT()),Wh.exports}var Sw=jw();function Ot(t){this.content=t}Ot.prototype={constructor:Ot,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var s=n&&n!=t?this.remove(n):this,i=s.find(t),l=s.content.slice();return i==-1?l.push(n||t,e):(l[i+1]=e,n&&(l[i]=n)),new Ot(l)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ot(n)},addToStart:function(t,e){return new Ot([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ot(n)},addBefore:function(t,e,n){var s=this.remove(e),i=s.content.slice(),l=s.find(t);return i.splice(l==-1?i.length:l,0,e,n),new Ot(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ot.from(t),t.size?new Ot(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ot.from(t),t.size?new Ot(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ot.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Ot.from=function(t){if(t instanceof Ot)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ot(e)};function kw(t,e,n){for(let s=0;;s++){if(s==t.childCount||s==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(s),l=e.child(s);if(i==l){n+=i.nodeSize;continue}if(!i.sameMarkup(l))return n;if(i.isText&&i.text!=l.text){for(let c=0;i.text[c]==l.text[c];c++)n++;return n}if(i.content.size||l.content.size){let c=kw(i.content,l.content,n+1);if(c!=null)return c}n+=i.nodeSize}}function Cw(t,e,n,s){for(let i=t.childCount,l=e.childCount;;){if(i==0||l==0)return i==l?null:{a:n,b:s};let c=t.child(--i),d=e.child(--l),h=c.nodeSize;if(c==d){n-=h,s-=h;continue}if(!c.sameMarkup(d))return{a:n,b:s};if(c.isText&&c.text!=d.text){let p=0,m=Math.min(c.text.length,d.text.length);for(;p<m&&c.text[c.text.length-p-1]==d.text[d.text.length-p-1];)p++,n--,s--;return{a:n,b:s}}if(c.content.size||d.content.size){let p=Cw(c.content,d.content,n-1,s-1);if(p)return p}n-=h,s-=h}}class ne{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let s=0;s<e.length;s++)this.size+=e[s].nodeSize}nodesBetween(e,n,s,i=0,l){for(let c=0,d=0;d<n;c++){let h=this.content[c],p=d+h.nodeSize;if(p>e&&s(h,i+d,l||null,c)!==!1&&h.content.size){let m=d+1;h.nodesBetween(Math.max(0,e-m),Math.min(h.content.size,n-m),s,i+m)}d=p}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,s,i){let l="",c=!0;return this.nodesBetween(e,n,(d,h)=>{let p=d.isText?d.text.slice(Math.max(e,h)-h,n-h):d.isLeaf?i?typeof i=="function"?i(d):i:d.type.spec.leafText?d.type.spec.leafText(d):"":"";d.isBlock&&(d.isLeaf&&p||d.isTextblock)&&s&&(c?c=!1:l+=s),l+=p},0),l}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,s=e.firstChild,i=this.content.slice(),l=0;for(n.isText&&n.sameMarkup(s)&&(i[i.length-1]=n.withText(n.text+s.text),l=1);l<e.content.length;l++)i.push(e.content[l]);return new ne(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let s=[],i=0;if(n>e)for(let l=0,c=0;c<n;l++){let d=this.content[l],h=c+d.nodeSize;h>e&&((c<e||h>n)&&(d.isText?d=d.cut(Math.max(0,e-c),Math.min(d.text.length,n-c)):d=d.cut(Math.max(0,e-c-1),Math.min(d.content.size,n-c-1))),s.push(d),i+=d.nodeSize),c=h}return new ne(s,i)}cutByIndex(e,n){return e==n?ne.empty:e==0&&n==this.content.length?this:new ne(this.content.slice(e,n))}replaceChild(e,n){let s=this.content[e];if(s==n)return this;let i=this.content.slice(),l=this.size+n.nodeSize-s.nodeSize;return i[e]=n,new ne(i,l)}addToStart(e){return new ne([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ne(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,s=0;n<this.content.length;n++){let i=this.content[n];e(i,s,n),s+=i.nodeSize}}findDiffStart(e,n=0){return kw(this,e,n)}findDiffEnd(e,n=this.size,s=e.size){return Cw(this,e,n,s)}findIndex(e){if(e==0)return Mc(0,e);if(e==this.size)return Mc(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,s=0;;n++){let i=this.child(n),l=s+i.nodeSize;if(l>=e)return l==e?Mc(n+1,l):Mc(n,s);s=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return ne.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new ne(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ne.empty;let n,s=0;for(let i=0;i<e.length;i++){let l=e[i];s+=l.nodeSize,i&&l.isText&&e[i-1].sameMarkup(l)?(n||(n=e.slice(0,i)),n[n.length-1]=l.withText(n[n.length-1].text+l.text)):n&&n.push(l)}return new ne(n||e,s)}static from(e){if(!e)return ne.empty;if(e instanceof ne)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ne([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ne.empty=new ne([],0);const Xh={index:0,offset:0};function Mc(t,e){return Xh.index=t,Xh.offset=e,Xh}function iu(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let s=0;s<t.length;s++)if(!iu(t[s],e[s]))return!1}else{for(let s in t)if(!(s in e)||!iu(t[s],e[s]))return!1;for(let s in e)if(!(s in t))return!1}return!0}let Ke=class Rp{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,s=!1;for(let i=0;i<e.length;i++){let l=e[i];if(this.eq(l))return e;if(this.type.excludes(l.type))n||(n=e.slice(0,i));else{if(l.type.excludes(this.type))return e;!s&&l.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),s=!0),n&&n.push(l)}}return n||(n=e.slice()),s||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&iu(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let s=e.marks[n.type];if(!s)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=s.create(n.attrs);return s.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let s=0;s<e.length;s++)if(!e[s].eq(n[s]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Rp.none;if(e instanceof Rp)return[e];let n=e.slice();return n.sort((s,i)=>s.type.rank-i.type.rank),n}};Ke.none=[];class au extends Error{}class ae{constructor(e,n,s){this.content=e,this.openStart=n,this.openEnd=s}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let s=Tw(this.content,e+this.openStart,n);return s&&new ae(s,this.openStart,this.openEnd)}removeBetween(e,n){return new ae(Ew(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ae.empty;let s=n.openStart||0,i=n.openEnd||0;if(typeof s!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ae(ne.fromJSON(e,n.content),s,i)}static maxOpen(e,n=!0){let s=0,i=0;for(let l=e.firstChild;l&&!l.isLeaf&&(n||!l.type.spec.isolating);l=l.firstChild)s++;for(let l=e.lastChild;l&&!l.isLeaf&&(n||!l.type.spec.isolating);l=l.lastChild)i++;return new ae(e,s,i)}}ae.empty=new ae(ne.empty,0,0);function Ew(t,e,n){let{index:s,offset:i}=t.findIndex(e),l=t.maybeChild(s),{index:c,offset:d}=t.findIndex(n);if(i==e||l.isText){if(d!=n&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(s!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(s,l.copy(Ew(l.content,e-i-1,n-i-1)))}function Tw(t,e,n,s){let{index:i,offset:l}=t.findIndex(e),c=t.maybeChild(i);if(l==e||c.isText)return s&&!s.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let d=Tw(c.content,e-l-1,n,c);return d&&t.replaceChild(i,c.copy(d))}function e3(t,e,n){if(n.openStart>t.depth)throw new au("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new au("Inconsistent open depths");return Aw(t,e,n,0)}function Aw(t,e,n,s){let i=t.index(s),l=t.node(s);if(i==e.index(s)&&s<t.depth-n.openStart){let c=Aw(t,e,n,s+1);return l.copy(l.content.replaceChild(i,c))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==s&&e.depth==s){let c=t.parent,d=c.content;return ti(c,d.cut(0,t.parentOffset).append(n.content).append(d.cut(e.parentOffset)))}else{let{start:c,end:d}=t3(n,t);return ti(l,Ow(t,c,d,e,s))}else return ti(l,lu(t,e,s))}function Mw(t,e){if(!e.type.compatibleContent(t.type))throw new au("Cannot join "+e.type.name+" onto "+t.type.name)}function Lp(t,e,n){let s=t.node(n);return Mw(s,e.node(n)),s}function ei(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Al(t,e,n,s){let i=(e||t).node(n),l=0,c=e?e.index(n):i.childCount;t&&(l=t.index(n),t.depth>n?l++:t.textOffset&&(ei(t.nodeAfter,s),l++));for(let d=l;d<c;d++)ei(i.child(d),s);e&&e.depth==n&&e.textOffset&&ei(e.nodeBefore,s)}function ti(t,e){return t.type.checkContent(e),t.copy(e)}function Ow(t,e,n,s,i){let l=t.depth>i&&Lp(t,e,i+1),c=s.depth>i&&Lp(n,s,i+1),d=[];return Al(null,t,i,d),l&&c&&e.index(i)==n.index(i)?(Mw(l,c),ei(ti(l,Ow(t,e,n,s,i+1)),d)):(l&&ei(ti(l,lu(t,e,i+1)),d),Al(e,n,i,d),c&&ei(ti(c,lu(n,s,i+1)),d)),Al(s,null,i,d),new ne(d)}function lu(t,e,n){let s=[];if(Al(null,t,n,s),t.depth>n){let i=Lp(t,e,n+1);ei(ti(i,lu(t,e,n+1)),s)}return Al(e,null,n,s),new ne(s)}function t3(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let l=n-1;l>=0;l--)i=e.node(l).copy(ne.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Pl{constructor(e,n,s){this.pos=e,this.path=n,this.parentOffset=s,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let s=this.pos-this.path[this.path.length-1],i=e.child(n);return s?e.child(n).cut(s):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let s=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let l=0;l<e;l++)i+=s.child(l).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Ke.none;if(this.textOffset)return e.child(n).marks;let s=e.maybeChild(n-1),i=e.maybeChild(n);if(!s){let d=s;s=i,i=d}let l=s.marks;for(var c=0;c<l.length;c++)l[c].type.spec.inclusive===!1&&(!i||!l[c].isInSet(i.marks))&&(l=l[c--].removeFromSet(l));return l}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let s=n.marks,i=e.parent.maybeChild(e.index());for(var l=0;l<s.length;l++)s[l].type.spec.inclusive===!1&&(!i||!s[l].isInSet(i.marks))&&(s=s[l--].removeFromSet(s));return s}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let s=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);s>=0;s--)if(e.pos<=this.end(s)&&(!n||n(this.node(s))))return new ou(this,e,s);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let s=[],i=0,l=n;for(let c=e;;){let{index:d,offset:h}=c.content.findIndex(l),p=l-h;if(s.push(c,d,i+h),!p||(c=c.child(d),c.isText))break;l=p-1,i+=h+1}return new Pl(n,s,l)}static resolveCached(e,n){let s=Vy.get(e);if(s)for(let l=0;l<s.elts.length;l++){let c=s.elts[l];if(c.pos==n)return c}else Vy.set(e,s=new n3);let i=s.elts[s.i]=Pl.resolve(e,n);return s.i=(s.i+1)%s3,i}}class n3{constructor(){this.elts=[],this.i=0}}const s3=12,Vy=new WeakMap;class ou{constructor(e,n,s){this.$from=e,this.$to=n,this.depth=s}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const r3=Object.create(null);class Fn{constructor(e,n,s,i=Ke.none){this.type=e,this.attrs=n,this.marks=i,this.content=s||ne.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,s,i=0){this.content.nodesBetween(e,n,s,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,s,i){return this.content.textBetween(e,n,s,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,s){return this.type==e&&iu(this.attrs,n||e.defaultAttrs||r3)&&Ke.sameSet(this.marks,s||Ke.none)}copy(e=null){return e==this.content?this:new Fn(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Fn(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,s=!1){if(e==n)return ae.empty;let i=this.resolve(e),l=this.resolve(n),c=s?0:i.sharedDepth(n),d=i.start(c),p=i.node(c).content.cut(i.pos-d,l.pos-d);return new ae(p,i.depth-c,l.depth-c)}replace(e,n,s){return e3(this.resolve(e),this.resolve(n),s)}nodeAt(e){for(let n=this;;){let{index:s,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(s),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:s}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:s}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:s}=this.content.findIndex(e);if(s<e)return{node:this.content.child(n),index:n,offset:s};let i=this.content.child(n-1);return{node:i,index:n-1,offset:s-i.nodeSize}}resolve(e){return Pl.resolveCached(this,e)}resolveNoCache(e){return Pl.resolve(this,e)}rangeHasMark(e,n,s){let i=!1;return n>e&&this.nodesBetween(e,n,l=>(s.isInSet(l.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Rw(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,s=ne.empty,i=0,l=s.childCount){let c=this.contentMatchAt(e).matchFragment(s,i,l),d=c&&c.matchFragment(this.content,n);if(!d||!d.validEnd)return!1;for(let h=i;h<l;h++)if(!this.type.allowsMarks(s.child(h).marks))return!1;return!0}canReplaceWith(e,n,s,i){if(i&&!this.type.allowsMarks(i))return!1;let l=this.contentMatchAt(e).matchType(s),c=l&&l.matchFragment(this.content,n);return c?c.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ke.none;for(let n=0;n<this.marks.length;n++){let s=this.marks[n];s.type.checkAttrs(s.attrs),e=s.addToSet(e)}if(!Ke.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let s;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");s=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,s)}let i=ne.fromJSON(e,n.content),l=e.nodeType(n.type).create(n.attrs,i,s);return l.type.checkAttrs(l.attrs),l}}Fn.prototype.text=void 0;class cu extends Fn{constructor(e,n,s,i){if(super(e,n,null,i),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Rw(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new cu(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new cu(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Rw(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class ai{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let s=new i3(e,n);if(s.next==null)return ai.empty;let i=Lw(s);s.next&&s.err("Unexpected trailing text");let l=f3(d3(i));return h3(l,s),l}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,s=e.childCount){let i=this;for(let l=n;i&&l<s;l++)i=i.matchType(e.child(l).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let s=0;s<e.next.length;s++)if(this.next[n].type==e.next[s].type)return!0;return!1}fillBefore(e,n=!1,s=0){let i=[this];function l(c,d){let h=c.matchFragment(e,s);if(h&&(!n||h.validEnd))return ne.from(d.map(p=>p.createAndFill()));for(let p=0;p<c.next.length;p++){let{type:m,next:x}=c.next[p];if(!(m.isText||m.hasRequiredAttrs())&&i.indexOf(x)==-1){i.push(x);let y=l(x,d.concat(m));if(y)return y}}return null}return l(this,[])}findWrapping(e){for(let s=0;s<this.wrapCache.length;s+=2)if(this.wrapCache[s]==e)return this.wrapCache[s+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),s=[{match:this,type:null,via:null}];for(;s.length;){let i=s.shift(),l=i.match;if(l.matchType(e)){let c=[];for(let d=i;d.type;d=d.via)c.push(d.type);return c.reverse()}for(let c=0;c<l.next.length;c++){let{type:d,next:h}=l.next[c];!d.isLeaf&&!d.hasRequiredAttrs()&&!(d.name in n)&&(!i.type||h.validEnd)&&(s.push({match:d.contentMatch,type:d,via:i}),n[d.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(s){e.push(s);for(let i=0;i<s.next.length;i++)e.indexOf(s.next[i].next)==-1&&n(s.next[i].next)}return n(this),e.map((s,i)=>{let l=i+(s.validEnd?"*":" ")+" ";for(let c=0;c<s.next.length;c++)l+=(c?", ":"")+s.next[c].type.name+"->"+e.indexOf(s.next[c].next);return l}).join(`
`)}}ai.empty=new ai(!0);class i3{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Lw(t){let e=[];do e.push(a3(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function a3(t){let e=[];do e.push(l3(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function l3(t){let e=u3(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=o3(t,e);else break;return e}function qy(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function o3(t,e){let n=qy(t),s=n;return t.eat(",")&&(t.next!="}"?s=qy(t):s=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:s,expr:e}}function c3(t,e){let n=t.nodeTypes,s=n[e];if(s)return[s];let i=[];for(let l in n){let c=n[l];c.isInGroup(e)&&i.push(c)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function u3(t){if(t.eat("(")){let e=Lw(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=c3(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function d3(t){let e=[[]];return i(l(t,0),n()),e;function n(){return e.push([])-1}function s(c,d,h){let p={term:h,to:d};return e[c].push(p),p}function i(c,d){c.forEach(h=>h.to=d)}function l(c,d){if(c.type=="choice")return c.exprs.reduce((h,p)=>h.concat(l(p,d)),[]);if(c.type=="seq")for(let h=0;;h++){let p=l(c.exprs[h],d);if(h==c.exprs.length-1)return p;i(p,d=n())}else if(c.type=="star"){let h=n();return s(d,h),i(l(c.expr,h),h),[s(h)]}else if(c.type=="plus"){let h=n();return i(l(c.expr,d),h),i(l(c.expr,h),h),[s(h)]}else{if(c.type=="opt")return[s(d)].concat(l(c.expr,d));if(c.type=="range"){let h=d;for(let p=0;p<c.min;p++){let m=n();i(l(c.expr,h),m),h=m}if(c.max==-1)i(l(c.expr,h),h);else for(let p=c.min;p<c.max;p++){let m=n();s(h,m),i(l(c.expr,h),m),h=m}return[s(h)]}else{if(c.type=="name")return[s(d,void 0,c.value)];throw new Error("Unknown expr type")}}}}function Dw(t,e){return e-t}function Ky(t,e){let n=[];return s(e),n.sort(Dw);function s(i){let l=t[i];if(l.length==1&&!l[0].term)return s(l[0].to);n.push(i);for(let c=0;c<l.length;c++){let{term:d,to:h}=l[c];!d&&n.indexOf(h)==-1&&s(h)}}}function f3(t){let e=Object.create(null);return n(Ky(t,0));function n(s){let i=[];s.forEach(c=>{t[c].forEach(({term:d,to:h})=>{if(!d)return;let p;for(let m=0;m<i.length;m++)i[m][0]==d&&(p=i[m][1]);Ky(t,h).forEach(m=>{p||i.push([d,p=[]]),p.indexOf(m)==-1&&p.push(m)})})});let l=e[s.join(",")]=new ai(s.indexOf(t.length-1)>-1);for(let c=0;c<i.length;c++){let d=i[c][1].sort(Dw);l.next.push({type:i[c][0],next:e[d.join(",")]||n(d)})}return l}}function h3(t,e){for(let n=0,s=[t];n<s.length;n++){let i=s[n],l=!i.validEnd,c=[];for(let d=0;d<i.next.length;d++){let{type:h,next:p}=i.next[d];c.push(h.name),l&&!(h.isText||h.hasRequiredAttrs())&&(l=!1),s.indexOf(p)==-1&&s.push(p)}l&&e.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function zw(t){let e=Object.create(null);for(let n in t){let s=t[n];if(!s.hasDefault)return null;e[n]=s.default}return e}function _w(t,e){let n=Object.create(null);for(let s in t){let i=e&&e[s];if(i===void 0){let l=t[s];if(l.hasDefault)i=l.default;else throw new RangeError("No value supplied for attribute "+s)}n[s]=i}return n}function Bw(t,e,n,s){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let l=t[i];l.validate&&l.validate(e[i])}}function Uw(t,e){let n=Object.create(null);if(e)for(let s in e)n[s]=new m3(t,s,e[s]);return n}let Yy=class Hw{constructor(e,n,s){this.name=e,this.schema=n,this.spec=s,this.markSet=null,this.groups=s.group?s.group.split(" "):[],this.attrs=Uw(e,s.attrs),this.defaultAttrs=zw(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(s.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ai.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:_w(this.attrs,e)}create(e=null,n,s){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Fn(this,this.computeAttrs(e),ne.from(n),Ke.setFrom(s))}createChecked(e=null,n,s){return n=ne.from(n),this.checkContent(n),new Fn(this,this.computeAttrs(e),n,Ke.setFrom(s))}createAndFill(e=null,n,s){if(e=this.computeAttrs(e),n=ne.from(n),n.size){let c=this.contentMatch.fillBefore(n);if(!c)return null;n=c.append(n)}let i=this.contentMatch.matchFragment(n),l=i&&i.fillBefore(ne.empty,!0);return l?new Fn(this,e,n.append(l),Ke.setFrom(s)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let s=0;s<e.childCount;s++)if(!this.allowsMarks(e.child(s).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Bw(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let s=0;s<e.length;s++)this.allowsMarkType(e[s].type)?n&&n.push(e[s]):n||(n=e.slice(0,s));return n?n.length?n:Ke.none:e}static compile(e,n){let s=Object.create(null);e.forEach((l,c)=>s[l]=new Hw(l,n,c));let i=n.spec.topNode||"doc";if(!s[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!s.text)throw new RangeError("Every schema needs a 'text' type");for(let l in s.text.attrs)throw new RangeError("The text node type should not have attributes");return s}};function p3(t,e,n){let s=n.split("|");return i=>{let l=i===null?"null":typeof i;if(s.indexOf(l)<0)throw new RangeError(`Expected value of type ${s} for attribute ${e} on type ${t}, got ${l}`)}}class m3{constructor(e,n,s){this.hasDefault=Object.prototype.hasOwnProperty.call(s,"default"),this.default=s.default,this.validate=typeof s.validate=="string"?p3(e,n,s.validate):s.validate}get isRequired(){return!this.hasDefault}}class nd{constructor(e,n,s,i){this.name=e,this.rank=n,this.schema=s,this.spec=i,this.attrs=Uw(e,i.attrs),this.excluded=null;let l=zw(this.attrs);this.instance=l?new Ke(this,l):null}create(e=null){return!e&&this.instance?this.instance:new Ke(this,_w(this.attrs,e))}static compile(e,n){let s=Object.create(null),i=0;return e.forEach((l,c)=>s[l]=new nd(l,i++,n,c)),s}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){Bw(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Pw{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Ot.from(e.nodes),n.marks=Ot.from(e.marks||{}),this.nodes=Yy.compile(this.spec.nodes,this),this.marks=nd.compile(this.spec.marks,this);let s=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let l=this.nodes[i],c=l.spec.content||"",d=l.spec.marks;if(l.contentMatch=s[c]||(s[c]=ai.parse(c,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=d=="_"?null:d?Gy(this,d.split(" ")):d==""||!l.inlineContent?[]:null}for(let i in this.marks){let l=this.marks[i],c=l.spec.excludes;l.excluded=c==null?[l]:c==""?[]:Gy(this,c.split(" "))}this.nodeFromJSON=i=>Fn.fromJSON(this,i),this.markFromJSON=i=>Ke.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,s,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Yy){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,s,i)}text(e,n){let s=this.nodes.text;return new cu(s,s.defaultAttrs,e,Ke.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Gy(t,e){let n=[];for(let s=0;s<e.length;s++){let i=e[s],l=t.marks[i],c=l;if(l)n.push(l);else for(let d in t.marks){let h=t.marks[d];(i=="_"||h.spec.group&&h.spec.group.split(" ").indexOf(i)>-1)&&n.push(c=h)}if(!c)throw new SyntaxError("Unknown mark type: '"+e[s]+"'")}return n}function g3(t){return t.tag!=null}function x3(t){return t.style!=null}class gr{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let s=this.matchedStyles=[];n.forEach(i=>{if(g3(i))this.tags.push(i);else if(x3(i)){let l=/[^=]*/.exec(i.style)[0];s.indexOf(l)<0&&s.push(l),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let l=e.nodes[i.node];return l.contentMatch.matchType(l)})}parse(e,n={}){let s=new Jy(this,n,!1);return s.addAll(e,Ke.none,n.from,n.to),s.finish()}parseSlice(e,n={}){let s=new Jy(this,n,!0);return s.addAll(e,Ke.none,n.from,n.to),ae.maxOpen(s.finish())}matchTag(e,n,s){for(let i=s?this.tags.indexOf(s)+1:0;i<this.tags.length;i++){let l=this.tags[i];if(v3(e,l.tag)&&(l.namespace===void 0||e.namespaceURI==l.namespace)&&(!l.context||n.matchesContext(l.context))){if(l.getAttrs){let c=l.getAttrs(e);if(c===!1)continue;l.attrs=c||void 0}return l}}}matchStyle(e,n,s,i){for(let l=i?this.styles.indexOf(i)+1:0;l<this.styles.length;l++){let c=this.styles[l],d=c.style;if(!(d.indexOf(e)!=0||c.context&&!s.matchesContext(c.context)||d.length>e.length&&(d.charCodeAt(e.length)!=61||d.slice(e.length+1)!=n))){if(c.getAttrs){let h=c.getAttrs(n);if(h===!1)continue;c.attrs=h||void 0}return c}}}static schemaRules(e){let n=[];function s(i){let l=i.priority==null?50:i.priority,c=0;for(;c<n.length;c++){let d=n[c];if((d.priority==null?50:d.priority)<l)break}n.splice(c,0,i)}for(let i in e.marks){let l=e.marks[i].spec.parseDOM;l&&l.forEach(c=>{s(c=Xy(c)),c.mark||c.ignore||c.clearMark||(c.mark=i)})}for(let i in e.nodes){let l=e.nodes[i].spec.parseDOM;l&&l.forEach(c=>{s(c=Xy(c)),c.node||c.ignore||c.mark||(c.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new gr(e,gr.schemaRules(e)))}}const Iw={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},b3={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},$w={ol:!0,ul:!0},Il=1,Dp=2,Ml=4;function Wy(t,e,n){return e!=null?(e?Il:0)|(e==="full"?Dp:0):t&&t.whitespace=="pre"?Il|Dp:n&~Ml}class Oc{constructor(e,n,s,i,l,c){this.type=e,this.attrs=n,this.marks=s,this.solid=i,this.options=c,this.content=[],this.activeMarks=Ke.none,this.match=l||(c&Ml?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(ne.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let s=this.type.contentMatch,i;return(i=s.findWrapping(e.type))?(this.match=s,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Il)){let s=this.content[this.content.length-1],i;if(s&&s.isText&&(i=/[ \t\r\n\u000c]+$/.exec(s.text))){let l=s;s.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-i[0].length))}}let n=ne.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(ne.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Iw.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Jy{constructor(e,n,s){this.parser=e,this.options=n,this.isOpen=s,this.open=0,this.localPreserveWS=!1;let i=n.topNode,l,c=Wy(null,n.preserveWhitespace,0)|(s?Ml:0);i?l=new Oc(i.type,i.attrs,Ke.none,!0,n.topMatch||i.type.contentMatch,c):s?l=new Oc(null,null,Ke.none,!0,null,c):l=new Oc(e.schema.topNodeType,null,Ke.none,!0,null,c),this.nodes=[l],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let s=e.nodeValue,i=this.top,l=i.options&Dp?"full":this.localPreserveWS||(i.options&Il)>0,{schema:c}=this.parser;if(l==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(s)){if(l)if(l==="full")s=s.replace(/\r\n?/g,`
`);else if(c.linebreakReplacement&&/[\r\n]/.test(s)&&this.top.findWrapping(c.linebreakReplacement.create())){let d=s.split(/\r?\n|\r/);for(let h=0;h<d.length;h++)h&&this.insertNode(c.linebreakReplacement.create(),n,!0),d[h]&&this.insertNode(c.text(d[h]),n,!/\S/.test(d[h]));s=""}else s=s.replace(/\r?\n|\r/g," ");else if(s=s.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(s)&&this.open==this.nodes.length-1){let d=i.content[i.content.length-1],h=e.previousSibling;(!d||h&&h.nodeName=="BR"||d.isText&&/[ \t\r\n\u000c]$/.test(d.text))&&(s=s.slice(1))}s&&this.insertNode(c.text(s),n,!/\S/.test(s)),this.findInText(e)}else this.findInside(e)}addElement(e,n,s){let i=this.localPreserveWS,l=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let c=e.nodeName.toLowerCase(),d;$w.hasOwnProperty(c)&&this.parser.normalizeLists&&y3(e);let h=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(d=this.parser.matchTag(e,this,s));e:if(h?h.ignore:b3.hasOwnProperty(c))this.findInside(e),this.ignoreFallback(e,n);else if(!h||h.skip||h.closeParent){h&&h.closeParent?this.open=Math.max(0,this.open-1):h&&h.skip.nodeType&&(e=h.skip);let p,m=this.needsBlock;if(Iw.hasOwnProperty(c))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),p=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let x=h&&h.skip?n:this.readStyles(e,n);x&&this.addAll(e,x),p&&this.sync(l),this.needsBlock=m}else{let p=this.readStyles(e,n);p&&this.addElementByRule(e,h,p,h.consuming===!1?d:void 0)}this.localPreserveWS=i}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let s=e.style;if(s&&s.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let l=this.parser.matchedStyles[i],c=s.getPropertyValue(l);if(c)for(let d=void 0;;){let h=this.parser.matchStyle(l,c,this,d);if(!h)break;if(h.ignore)return null;if(h.clearMark?n=n.filter(p=>!h.clearMark(p)):n=n.concat(this.parser.schema.marks[h.mark].create(h.attrs)),h.consuming===!1)d=h;else break}}return n}addElementByRule(e,n,s,i){let l,c;if(n.node)if(c=this.parser.schema.nodes[n.node],c.isLeaf)this.insertNode(c.create(n.attrs),s,e.nodeName=="BR")||this.leafFallback(e,s);else{let h=this.enter(c,n.attrs||null,s,n.preserveWhitespace);h&&(l=!0,s=h)}else{let h=this.parser.schema.marks[n.mark];s=s.concat(h.create(n.attrs))}let d=this.top;if(c&&c.isLeaf)this.findInside(e);else if(i)this.addElement(e,s,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(h=>this.insertNode(h,s,!1));else{let h=e;typeof n.contentElement=="string"?h=e.querySelector(n.contentElement):typeof n.contentElement=="function"?h=n.contentElement(e):n.contentElement&&(h=n.contentElement),this.findAround(e,h,!0),this.addAll(h,s),this.findAround(e,h,!1)}l&&this.sync(d)&&this.open--}addAll(e,n,s,i){let l=s||0;for(let c=s?e.childNodes[s]:e.firstChild,d=i==null?null:e.childNodes[i];c!=d;c=c.nextSibling,++l)this.findAtPoint(e,l),this.addDOM(c,n);this.findAtPoint(e,l)}findPlace(e,n,s){let i,l;for(let c=this.open,d=0;c>=0;c--){let h=this.nodes[c],p=h.findWrapping(e);if(p&&(!i||i.length>p.length+d)&&(i=p,l=h,!p.length))break;if(h.solid){if(s)break;d+=2}}if(!i)return null;this.sync(l);for(let c=0;c<i.length;c++)n=this.enterInner(i[c],null,n,!1);return n}insertNode(e,n,s){if(e.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&(n=this.enterInner(l,null,n))}let i=this.findPlace(e,n,s);if(i){this.closeExtra();let l=this.top;l.match&&(l.match=l.match.matchType(e.type));let c=Ke.none;for(let d of i.concat(e.marks))(l.type?l.type.allowsMarkType(d.type):Qy(d.type,e.type))&&(c=d.addToSet(c));return l.content.push(e.mark(c)),!0}return!1}enter(e,n,s,i){let l=this.findPlace(e.create(n),s,!1);return l&&(l=this.enterInner(e,n,s,!0,i)),l}enterInner(e,n,s,i=!1,l){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(e);let d=Wy(e,l,c.options);c.options&Ml&&c.content.length==0&&(d|=Ml);let h=Ke.none;return s=s.filter(p=>(c.type?c.type.allowsMarkType(p.type):Qy(p.type,e))?(h=p.addToSet(h),!1):!0),this.nodes.push(new Oc(e,n,h,i,null,d)),this.open++,s}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Il)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let s=this.nodes[n].content;for(let i=s.length-1;i>=0;i--)e+=s[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==e&&this.find[s].offset==n&&(this.find[s].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,s){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(s?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),s=this.options.context,i=!this.isOpen&&(!s||s.parent.type==this.nodes[0].type),l=-(s?s.depth+1:0)+(i?0:1),c=(d,h)=>{for(;d>=0;d--){let p=n[d];if(p==""){if(d==n.length-1||d==0)continue;for(;h>=l;h--)if(c(d-1,h))return!0;return!1}else{let m=h>0||h==0&&i?this.nodes[h].type:s&&h>=l?s.node(h-l).type:null;if(!m||m.name!=p&&!m.isInGroup(p))return!1;h--}}return!0};return c(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(s&&s.isTextblock&&s.defaultAttrs)return s}for(let n in this.parser.schema.nodes){let s=this.parser.schema.nodes[n];if(s.isTextblock&&s.defaultAttrs)return s}}}function y3(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let s=e.nodeType==1?e.nodeName.toLowerCase():null;s&&$w.hasOwnProperty(s)&&n?(n.appendChild(e),e=n):s=="li"?n=e:s&&(n=null)}}function v3(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Xy(t){let e={};for(let n in t)e[n]=t[n];return e}function Qy(t,e){let n=e.schema.nodes;for(let s in n){let i=n[s];if(!i.allowsMarkType(t))continue;let l=[],c=d=>{l.push(d);for(let h=0;h<d.edgeCount;h++){let{type:p,next:m}=d.edge(h);if(p==e||l.indexOf(m)<0&&c(m))return!0}};if(c(i.contentMatch))return!0}}class fi{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},s){s||(s=Qh(n).createDocumentFragment());let i=s,l=[];return e.forEach(c=>{if(l.length||c.marks.length){let d=0,h=0;for(;d<l.length&&h<c.marks.length;){let p=c.marks[h];if(!this.marks[p.type.name]){h++;continue}if(!p.eq(l[d][0])||p.type.spec.spanning===!1)break;d++,h++}for(;d<l.length;)i=l.pop()[1];for(;h<c.marks.length;){let p=c.marks[h++],m=this.serializeMark(p,c.isInline,n);m&&(l.push([p,i]),i.appendChild(m.dom),i=m.contentDOM||m.dom)}}i.appendChild(this.serializeNodeInner(c,n))}),s}serializeNodeInner(e,n){let{dom:s,contentDOM:i}=Jc(Qh(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return s}serializeNode(e,n={}){let s=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let l=this.serializeMark(e.marks[i],e.isInline,n);l&&((l.contentDOM||l.dom).appendChild(s),s=l.dom)}return s}serializeMark(e,n,s={}){let i=this.marks[e.type.name];return i&&Jc(Qh(s),i(e,n),null,e.attrs)}static renderSpec(e,n,s=null,i){return Jc(e,n,s,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new fi(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Zy(e.nodes);return n.text||(n.text=s=>s.text),n}static marksFromSchema(e){return Zy(e.marks)}}function Zy(t){let e={};for(let n in t){let s=t[n].spec.toDOM;s&&(e[n]=s)}return e}function Qh(t){return t.document||window.document}const ev=new WeakMap;function w3(t){let e=ev.get(t);return e===void 0&&ev.set(t,e=N3(t)),e}function N3(t){let e=null;function n(s){if(s&&typeof s=="object")if(Array.isArray(s))if(typeof s[0]=="string")e||(e=[]),e.push(s);else for(let i=0;i<s.length;i++)n(s[i]);else for(let i in s)n(s[i])}return n(t),e}function Jc(t,e,n,s){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],l;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(s&&(l=w3(s))&&l.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=i.indexOf(" ");c>0&&(n=i.slice(0,c),i=i.slice(c+1));let d,h=n?t.createElementNS(n,i):t.createElement(i),p=e[1],m=1;if(p&&typeof p=="object"&&p.nodeType==null&&!Array.isArray(p)){m=2;for(let x in p)if(p[x]!=null){let y=x.indexOf(" ");y>0?h.setAttributeNS(x.slice(0,y),x.slice(y+1),p[x]):x=="style"&&h.style?h.style.cssText=p[x]:h.setAttribute(x,p[x])}}for(let x=m;x<e.length;x++){let y=e[x];if(y===0){if(x<e.length-1||x>m)throw new RangeError("Content hole must be the only child of its parent node");return{dom:h,contentDOM:h}}else{let{dom:w,contentDOM:v}=Jc(t,y,n,s);if(h.appendChild(w),v){if(d)throw new RangeError("Multiple content holes");d=v}}}return{dom:h,contentDOM:d}}const Fw=65535,Vw=Math.pow(2,16);function j3(t,e){return t+e*Vw}function tv(t){return t&Fw}function S3(t){return(t-(t&Fw))/Vw}const qw=1,Kw=2,Xc=4,Yw=8;class zp{constructor(e,n,s){this.pos=e,this.delInfo=n,this.recover=s}get deleted(){return(this.delInfo&Yw)>0}get deletedBefore(){return(this.delInfo&(qw|Xc))>0}get deletedAfter(){return(this.delInfo&(Kw|Xc))>0}get deletedAcross(){return(this.delInfo&Xc)>0}}class bn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&bn.empty)return bn.empty}recover(e){let n=0,s=tv(e);if(!this.inverted)for(let i=0;i<s;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[s*3]+n+S3(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,s){let i=0,l=this.inverted?2:1,c=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let h=this.ranges[d]-(this.inverted?i:0);if(h>e)break;let p=this.ranges[d+l],m=this.ranges[d+c],x=h+p;if(e<=x){let y=p?e==h?-1:e==x?1:n:n,w=h+i+(y<0?0:m);if(s)return w;let v=e==(n<0?h:x)?null:j3(d/3,e-h),S=e==h?Kw:e==x?qw:Xc;return(n<0?e!=h:e!=x)&&(S|=Yw),new zp(w,S,v)}i+=m-p}return s?e+i:new zp(e+i,0,null)}touches(e,n){let s=0,i=tv(n),l=this.inverted?2:1,c=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let h=this.ranges[d]-(this.inverted?s:0);if(h>e)break;let p=this.ranges[d+l],m=h+p;if(e<=m&&d==i*3)return!0;s+=this.ranges[d+c]-p}return!1}forEach(e){let n=this.inverted?2:1,s=this.inverted?1:2;for(let i=0,l=0;i<this.ranges.length;i+=3){let c=this.ranges[i],d=c-(this.inverted?l:0),h=c+(this.inverted?0:l),p=this.ranges[i+n],m=this.ranges[i+s];e(d,d+p,h,h+m),l+=m-p}}invert(){return new bn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?bn.empty:new bn(e<0?[0,-e,0]:[0,0,e])}}bn.empty=new bn([]);class $l{constructor(e,n,s=0,i=e?e.length:0){this.mirror=n,this.from=s,this.to=i,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new $l(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,s=this._maps.length;n<e._maps.length;n++){let i=e.getMirror(n);this.appendMap(e._maps[n],i!=null&&i<n?s+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,s=this._maps.length+e._maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e._maps[n].invert(),i!=null&&i>n?s-i-1:void 0)}}invert(){let e=new $l;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let s=this.from;s<this.to;s++)e=this._maps[s].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,s){let i=0;for(let l=this.from;l<this.to;l++){let c=this._maps[l],d=c.mapResult(e,n);if(d.recover!=null){let h=this.getMirror(l);if(h!=null&&h>l&&h<this.to){l=h,e=this._maps[h].recover(d.recover);continue}}i|=d.delInfo,e=d.pos}return s?e:new zp(e,i,null)}}const Zh=Object.create(null);class Pt{getMap(){return bn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let s=Zh[n.stepType];if(!s)throw new RangeError(`No step type ${n.stepType} defined`);return s.fromJSON(e,n)}static jsonID(e,n){if(e in Zh)throw new RangeError("Duplicate use of step JSON ID "+e);return Zh[e]=n,n.prototype.jsonID=e,n}}class mt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new mt(e,null)}static fail(e){return new mt(null,e)}static fromReplace(e,n,s,i){try{return mt.ok(e.replace(n,s,i))}catch(l){if(l instanceof au)return mt.fail(l.message);throw l}}}function ym(t,e,n){let s=[];for(let i=0;i<t.childCount;i++){let l=t.child(i);l.content.size&&(l=l.copy(ym(l.content,e,l))),l.isInline&&(l=e(l,n,i)),s.push(l)}return ne.fromArray(s)}class hr extends Pt{constructor(e,n,s){super(),this.from=e,this.to=n,this.mark=s}apply(e){let n=e.slice(this.from,this.to),s=e.resolve(this.from),i=s.node(s.sharedDepth(this.to)),l=new ae(ym(n.content,(c,d)=>!c.isAtom||!d.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),i),n.openStart,n.openEnd);return mt.fromReplace(e,this.from,this.to,l)}invert(){return new In(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deleted&&s.deleted||n.pos>=s.pos?null:new hr(n.pos,s.pos,this.mark)}merge(e){return e instanceof hr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new hr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new hr(n.from,n.to,e.markFromJSON(n.mark))}}Pt.jsonID("addMark",hr);class In extends Pt{constructor(e,n,s){super(),this.from=e,this.to=n,this.mark=s}apply(e){let n=e.slice(this.from,this.to),s=new ae(ym(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return mt.fromReplace(e,this.from,this.to,s)}invert(){return new hr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deleted&&s.deleted||n.pos>=s.pos?null:new In(n.pos,s.pos,this.mark)}merge(e){return e instanceof In&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new In(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new In(n.from,n.to,e.markFromJSON(n.mark))}}Pt.jsonID("removeMark",In);class pr extends Pt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return mt.fail("No node at mark step's position");let s=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return mt.fromReplace(e,this.pos,this.pos+1,new ae(ne.from(s),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let s=this.mark.addToSet(n.marks);if(s.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(s))return new pr(this.pos,n.marks[i]);return new pr(this.pos,this.mark)}}return new li(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new pr(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new pr(n.pos,e.markFromJSON(n.mark))}}Pt.jsonID("addNodeMark",pr);class li extends Pt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return mt.fail("No node at mark step's position");let s=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return mt.fromReplace(e,this.pos,this.pos+1,new ae(ne.from(s),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new pr(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new li(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new li(n.pos,e.markFromJSON(n.mark))}}Pt.jsonID("removeNodeMark",li);class wt extends Pt{constructor(e,n,s,i=!1){super(),this.from=e,this.to=n,this.slice=s,this.structure=i}apply(e){return this.structure&&_p(e,this.from,this.to)?mt.fail("Structure replace would overwrite content"):mt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new bn([this.from,this.to-this.from,this.slice.size])}invert(e){return new wt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deletedAcross&&s.deletedAcross?null:new wt(n.pos,Math.max(n.pos,s.pos),this.slice,this.structure)}merge(e){if(!(e instanceof wt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ae.empty:new ae(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new wt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ae.empty:new ae(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new wt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new wt(n.from,n.to,ae.fromJSON(e,n.slice),!!n.structure)}}Pt.jsonID("replace",wt);class jt extends Pt{constructor(e,n,s,i,l,c,d=!1){super(),this.from=e,this.to=n,this.gapFrom=s,this.gapTo=i,this.slice=l,this.insert=c,this.structure=d}apply(e){if(this.structure&&(_p(e,this.from,this.gapFrom)||_p(e,this.gapTo,this.to)))return mt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return mt.fail("Gap is not a flat range");let s=this.slice.insertAt(this.insert,n.content);return s?mt.fromReplace(e,this.from,this.to,s):mt.fail("Content does not fit in gap")}getMap(){return new bn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new jt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),l=this.to==this.gapTo?s.pos:e.map(this.gapTo,1);return n.deletedAcross&&s.deletedAcross||i<n.pos||l>s.pos?null:new jt(n.pos,s.pos,i,l,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new jt(n.from,n.to,n.gapFrom,n.gapTo,ae.fromJSON(e,n.slice),n.insert,!!n.structure)}}Pt.jsonID("replaceAround",jt);function _p(t,e,n){let s=t.resolve(e),i=n-e,l=s.depth;for(;i>0&&l>0&&s.indexAfter(l)==s.node(l).childCount;)l--,i--;if(i>0){let c=s.node(l).maybeChild(s.indexAfter(l));for(;i>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,i--}}return!1}function k3(t,e,n,s){let i=[],l=[],c,d;t.doc.nodesBetween(e,n,(h,p,m)=>{if(!h.isInline)return;let x=h.marks;if(!s.isInSet(x)&&m.type.allowsMarkType(s.type)){let y=Math.max(p,e),w=Math.min(p+h.nodeSize,n),v=s.addToSet(x);for(let S=0;S<x.length;S++)x[S].isInSet(v)||(c&&c.to==y&&c.mark.eq(x[S])?c.to=w:i.push(c=new In(y,w,x[S])));d&&d.to==y?d.to=w:l.push(d=new hr(y,w,s))}}),i.forEach(h=>t.step(h)),l.forEach(h=>t.step(h))}function C3(t,e,n,s){let i=[],l=0;t.doc.nodesBetween(e,n,(c,d)=>{if(!c.isInline)return;l++;let h=null;if(s instanceof nd){let p=c.marks,m;for(;m=s.isInSet(p);)(h||(h=[])).push(m),p=m.removeFromSet(p)}else s?s.isInSet(c.marks)&&(h=[s]):h=c.marks;if(h&&h.length){let p=Math.min(d+c.nodeSize,n);for(let m=0;m<h.length;m++){let x=h[m],y;for(let w=0;w<i.length;w++){let v=i[w];v.step==l-1&&x.eq(i[w].style)&&(y=v)}y?(y.to=p,y.step=l):i.push({style:x,from:Math.max(d,e),to:p,step:l})}}}),i.forEach(c=>t.step(new In(c.from,c.to,c.style)))}function vm(t,e,n,s=n.contentMatch,i=!0){let l=t.doc.nodeAt(e),c=[],d=e+1;for(let h=0;h<l.childCount;h++){let p=l.child(h),m=d+p.nodeSize,x=s.matchType(p.type);if(!x)c.push(new wt(d,m,ae.empty));else{s=x;for(let y=0;y<p.marks.length;y++)n.allowsMarkType(p.marks[y].type)||t.step(new In(d,m,p.marks[y]));if(i&&p.isText&&n.whitespace!="pre"){let y,w=/\r?\n|\r/g,v;for(;y=w.exec(p.text);)v||(v=new ae(ne.from(n.schema.text(" ",n.allowedMarks(p.marks))),0,0)),c.push(new wt(d+y.index,d+y.index+y[0].length,v))}}d=m}if(!s.validEnd){let h=s.fillBefore(ne.empty,!0);t.replace(d,d,new ae(h,0,0))}for(let h=c.length-1;h>=0;h--)t.step(c[h])}function E3(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function ja(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let s=t.depth,i=0,l=0;;--s){let c=t.$from.node(s),d=t.$from.index(s)+i,h=t.$to.indexAfter(s)-l;if(s<t.depth&&c.canReplace(d,h,n))return s;if(s==0||c.type.spec.isolating||!E3(c,d,h))break;d&&(i=1),h<c.childCount&&(l=1)}return null}function T3(t,e,n){let{$from:s,$to:i,depth:l}=e,c=s.before(l+1),d=i.after(l+1),h=c,p=d,m=ne.empty,x=0;for(let v=l,S=!1;v>n;v--)S||s.index(v)>0?(S=!0,m=ne.from(s.node(v).copy(m)),x++):h--;let y=ne.empty,w=0;for(let v=l,S=!1;v>n;v--)S||i.after(v+1)<i.end(v)?(S=!0,y=ne.from(i.node(v).copy(y)),w++):p++;t.step(new jt(h,p,c,d,new ae(m.append(y),x,w),m.size-x,!0))}function wm(t,e,n=null,s=t){let i=A3(t,e),l=i&&M3(s,e);return l?i.map(nv).concat({type:e,attrs:n}).concat(l.map(nv)):null}function nv(t){return{type:t,attrs:null}}function A3(t,e){let{parent:n,startIndex:s,endIndex:i}=t,l=n.contentMatchAt(s).findWrapping(e);if(!l)return null;let c=l.length?l[0]:e;return n.canReplaceWith(s,i,c)?l:null}function M3(t,e){let{parent:n,startIndex:s,endIndex:i}=t,l=n.child(s),c=e.contentMatch.findWrapping(l.type);if(!c)return null;let h=(c.length?c[c.length-1]:e).contentMatch;for(let p=s;h&&p<i;p++)h=h.matchType(n.child(p).type);return!h||!h.validEnd?null:c}function O3(t,e,n){let s=ne.empty;for(let c=n.length-1;c>=0;c--){if(s.size){let d=n[c].type.contentMatch.matchFragment(s);if(!d||!d.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}s=ne.from(n[c].type.create(n[c].attrs,s))}let i=e.start,l=e.end;t.step(new jt(i,l,i,l,new ae(s,0,0),n.length,!0))}function R3(t,e,n,s,i){if(!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=t.steps.length;t.doc.nodesBetween(e,n,(c,d)=>{let h=typeof i=="function"?i(c):i;if(c.isTextblock&&!c.hasMarkup(s,h)&&L3(t.doc,t.mapping.slice(l).map(d),s)){let p=null;if(s.schema.linebreakReplacement){let w=s.whitespace=="pre",v=!!s.contentMatch.matchType(s.schema.linebreakReplacement);w&&!v?p=!1:!w&&v&&(p=!0)}p===!1&&Ww(t,c,d,l),vm(t,t.mapping.slice(l).map(d,1),s,void 0,p===null);let m=t.mapping.slice(l),x=m.map(d,1),y=m.map(d+c.nodeSize,1);return t.step(new jt(x,y,x+1,y-1,new ae(ne.from(s.create(h,null,c.marks)),0,0),1,!0)),p===!0&&Gw(t,c,d,l),!1}})}function Gw(t,e,n,s){e.forEach((i,l)=>{if(i.isText){let c,d=/\r?\n|\r/g;for(;c=d.exec(i.text);){let h=t.mapping.slice(s).map(n+1+l+c.index);t.replaceWith(h,h+1,e.type.schema.linebreakReplacement.create())}}})}function Ww(t,e,n,s){e.forEach((i,l)=>{if(i.type==i.type.schema.linebreakReplacement){let c=t.mapping.slice(s).map(n+1+l);t.replaceWith(c,c+1,e.type.schema.text(`
`))}})}function L3(t,e,n){let s=t.resolve(e),i=s.index();return s.parent.canReplaceWith(i,i+1,n)}function D3(t,e,n,s,i){let l=t.doc.nodeAt(e);if(!l)throw new RangeError("No node at given position");n||(n=l.type);let c=n.create(s,null,i||l.marks);if(l.isLeaf)return t.replaceWith(e,e+l.nodeSize,c);if(!n.validContent(l.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new jt(e,e+l.nodeSize,e+1,e+l.nodeSize-1,new ae(ne.from(c),0,0),1,!0))}function Ms(t,e,n=1,s){let i=t.resolve(e),l=i.depth-n,c=s&&s[s.length-1]||i.parent;if(l<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!c.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let p=i.depth-1,m=n-2;p>l;p--,m--){let x=i.node(p),y=i.index(p);if(x.type.spec.isolating)return!1;let w=x.content.cutByIndex(y,x.childCount),v=s&&s[m+1];v&&(w=w.replaceChild(0,v.type.create(v.attrs)));let S=s&&s[m]||x;if(!x.canReplace(y+1,x.childCount)||!S.type.validContent(w))return!1}let d=i.indexAfter(l),h=s&&s[0];return i.node(l).canReplaceWith(d,d,h?h.type:i.node(l+1).type)}function z3(t,e,n=1,s){let i=t.doc.resolve(e),l=ne.empty,c=ne.empty;for(let d=i.depth,h=i.depth-n,p=n-1;d>h;d--,p--){l=ne.from(i.node(d).copy(l));let m=s&&s[p];c=ne.from(m?m.type.create(m.attrs,c):i.node(d).copy(c))}t.step(new wt(e,e,new ae(l.append(c),n,n),!0))}function Sr(t,e){let n=t.resolve(e),s=n.index();return Jw(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(s,s+1)}function _3(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:s}=t.type.schema;for(let i=0;i<e.childCount;i++){let l=e.child(i),c=l.type==s?t.type.schema.nodes.text:l.type;if(n=n.matchType(c),!n||!t.type.allowsMarks(l.marks))return!1}return n.validEnd}function Jw(t,e){return!!(t&&e&&!t.isLeaf&&_3(t,e))}function sd(t,e,n=-1){let s=t.resolve(e);for(let i=s.depth;;i--){let l,c,d=s.index(i);if(i==s.depth?(l=s.nodeBefore,c=s.nodeAfter):n>0?(l=s.node(i+1),d++,c=s.node(i).maybeChild(d)):(l=s.node(i).maybeChild(d-1),c=s.node(i+1)),l&&!l.isTextblock&&Jw(l,c)&&s.node(i).canReplace(d,d+1))return e;if(i==0)break;e=n<0?s.before(i):s.after(i)}}function B3(t,e,n){let s=null,{linebreakReplacement:i}=t.doc.type.schema,l=t.doc.resolve(e-n),c=l.node().type;if(i&&c.inlineContent){let m=c.whitespace=="pre",x=!!c.contentMatch.matchType(i);m&&!x?s=!1:!m&&x&&(s=!0)}let d=t.steps.length;if(s===!1){let m=t.doc.resolve(e+n);Ww(t,m.node(),m.before(),d)}c.inlineContent&&vm(t,e+n-1,c,l.node().contentMatchAt(l.index()),s==null);let h=t.mapping.slice(d),p=h.map(e-n);if(t.step(new wt(p,h.map(e+n,-1),ae.empty,!0)),s===!0){let m=t.doc.resolve(p);Gw(t,m.node(),m.before(),t.steps.length)}return t}function U3(t,e,n){let s=t.resolve(e);if(s.parent.canReplaceWith(s.index(),s.index(),n))return e;if(s.parentOffset==0)for(let i=s.depth-1;i>=0;i--){let l=s.index(i);if(s.node(i).canReplaceWith(l,l,n))return s.before(i+1);if(l>0)return null}if(s.parentOffset==s.parent.content.size)for(let i=s.depth-1;i>=0;i--){let l=s.indexAfter(i);if(s.node(i).canReplaceWith(l,l,n))return s.after(i+1);if(l<s.node(i).childCount)return null}return null}function Xw(t,e,n){let s=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let l=0;l<n.openStart;l++)i=i.firstChild.content;for(let l=1;l<=(n.openStart==0&&n.size?2:1);l++)for(let c=s.depth;c>=0;c--){let d=c==s.depth?0:s.pos<=(s.start(c+1)+s.end(c+1))/2?-1:1,h=s.index(c)+(d>0?1:0),p=s.node(c),m=!1;if(l==1)m=p.canReplace(h,h,i);else{let x=p.contentMatchAt(h).findWrapping(i.firstChild.type);m=x&&p.canReplaceWith(h,h,x[0])}if(m)return d==0?s.pos:d<0?s.before(c+1):s.after(c+1)}return null}function rd(t,e,n=e,s=ae.empty){if(e==n&&!s.size)return null;let i=t.resolve(e),l=t.resolve(n);return Qw(i,l,s)?new wt(e,n,s):new H3(i,l,s).fit()}function Qw(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class H3{constructor(e,n,s){this.$from=e,this.$to=n,this.unplaced=s,this.frontier=[],this.placed=ne.empty;for(let i=0;i<=e.depth;i++){let l=e.node(i);this.frontier.push({type:l.type,match:l.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ne.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let p=this.findFittable();p?this.placeNodes(p):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,s=this.$from,i=this.close(e<0?this.$to:s.doc.resolve(e));if(!i)return null;let l=this.placed,c=s.depth,d=i.depth;for(;c&&d&&l.childCount==1;)l=l.firstChild.content,c--,d--;let h=new ae(l,c,d);return e>-1?new jt(s.pos,e,this.$to.pos,this.$to.end(),h,n):h.size||s.pos!=this.$to.pos?new wt(s.pos,i.pos,h):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,s=0,i=this.unplaced.openEnd;s<e;s++){let l=n.firstChild;if(n.childCount>1&&(i=0),l.type.spec.isolating&&i<=s){e=s;break}n=l.content}for(let n=1;n<=2;n++)for(let s=n==1?e:this.unplaced.openStart;s>=0;s--){let i,l=null;s?(l=ep(this.unplaced.content,s-1).firstChild,i=l.content):i=this.unplaced.content;let c=i.firstChild;for(let d=this.depth;d>=0;d--){let{type:h,match:p}=this.frontier[d],m,x=null;if(n==1&&(c?p.matchType(c.type)||(x=p.fillBefore(ne.from(c),!1)):l&&h.compatibleContent(l.type)))return{sliceDepth:s,frontierDepth:d,parent:l,inject:x};if(n==2&&c&&(m=p.findWrapping(c.type)))return{sliceDepth:s,frontierDepth:d,parent:l,wrap:m};if(l&&p.matchType(l.type))break}}}openMore(){let{content:e,openStart:n,openEnd:s}=this.unplaced,i=ep(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new ae(e,n+1,Math.max(s,i.size+n>=e.size-s?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:s}=this.unplaced,i=ep(e,n);if(i.childCount<=1&&n>0){let l=e.size-n<=n+i.size;this.unplaced=new ae(kl(e,n-1,1),n-1,l?n-1:s)}else this.unplaced=new ae(kl(e,n,1),n,s)}placeNodes({sliceDepth:e,frontierDepth:n,parent:s,inject:i,wrap:l}){for(;this.depth>n;)this.closeFrontierNode();if(l)for(let S=0;S<l.length;S++)this.openFrontierNode(l[S]);let c=this.unplaced,d=s?s.content:c.content,h=c.openStart-e,p=0,m=[],{match:x,type:y}=this.frontier[n];if(i){for(let S=0;S<i.childCount;S++)m.push(i.child(S));x=x.matchFragment(i)}let w=d.size+e-(c.content.size-c.openEnd);for(;p<d.childCount;){let S=d.child(p),j=x.matchType(S.type);if(!j)break;p++,(p>1||h==0||S.content.size)&&(x=j,m.push(Zw(S.mark(y.allowedMarks(S.marks)),p==1?h:0,p==d.childCount?w:-1)))}let v=p==d.childCount;v||(w=-1),this.placed=Cl(this.placed,n,ne.from(m)),this.frontier[n].match=x,v&&w<0&&s&&s.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,j=d;S<w;S++){let E=j.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),j=E.content}this.unplaced=v?e==0?ae.empty:new ae(kl(c.content,e-1,1),e-1,w<0?c.openEnd:e-1):new ae(kl(c.content,e,p),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!tp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:s}=this.$to,i=this.$to.after(s);for(;s>1&&i==this.$to.end(--s);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:s,type:i}=this.frontier[n],l=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),c=tp(e,n,i,s,l);if(c){for(let d=n-1;d>=0;d--){let{match:h,type:p}=this.frontier[d],m=tp(e,d,p,h,!0);if(!m||m.childCount)continue e}return{depth:n,fit:c,move:l?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Cl(this.placed,n.depth,n.fit)),e=n.move;for(let s=n.depth+1;s<=e.depth;s++){let i=e.node(s),l=i.type.contentMatch.fillBefore(i.content,!0,e.index(s));this.openFrontierNode(i.type,i.attrs,l)}return e}openFrontierNode(e,n=null,s){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Cl(this.placed,this.depth,ne.from(e.create(n,s))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(ne.empty,!0);n.childCount&&(this.placed=Cl(this.placed,this.frontier.length,n))}}function kl(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(kl(t.firstChild.content,e-1,n)))}function Cl(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Cl(t.lastChild.content,e-1,n)))}function ep(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Zw(t,e,n){if(e<=0)return t;let s=t.content;return e>1&&(s=s.replaceChild(0,Zw(s.firstChild,e-1,s.childCount==1?n-1:0))),e>0&&(s=t.type.contentMatch.fillBefore(s).append(s),n<=0&&(s=s.append(t.type.contentMatch.matchFragment(s).fillBefore(ne.empty,!0)))),t.copy(s)}function tp(t,e,n,s,i){let l=t.node(e),c=i?t.indexAfter(e):t.index(e);if(c==l.childCount&&!n.compatibleContent(l.type))return null;let d=s.fillBefore(l.content,!0,c);return d&&!P3(n,l.content,c)?d:null}function P3(t,e,n){for(let s=n;s<e.childCount;s++)if(!t.allowsMarks(e.child(s).marks))return!0;return!1}function I3(t){return t.spec.defining||t.spec.definingForContent}function $3(t,e,n,s){if(!s.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),l=t.doc.resolve(n);if(Qw(i,l,s))return t.step(new wt(e,n,s));let c=tN(i,l);c[c.length-1]==0&&c.pop();let d=-(i.depth+1);c.unshift(d);for(let y=i.depth,w=i.pos-1;y>0;y--,w--){let v=i.node(y).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;c.indexOf(y)>-1?d=y:i.before(y)==w&&c.splice(1,0,-y)}let h=c.indexOf(d),p=[],m=s.openStart;for(let y=s.content,w=0;;w++){let v=y.firstChild;if(p.push(v),w==s.openStart)break;y=v.content}for(let y=m-1;y>=0;y--){let w=p[y],v=I3(w.type);if(v&&!w.sameMarkup(i.node(Math.abs(d)-1)))m=y;else if(v||!w.type.isTextblock)break}for(let y=s.openStart;y>=0;y--){let w=(y+m+1)%(s.openStart+1),v=p[w];if(v)for(let S=0;S<c.length;S++){let j=c[(S+h)%c.length],E=!0;j<0&&(E=!1,j=-j);let T=i.node(j-1),A=i.index(j-1);if(T.canReplaceWith(A,A,v.type,v.marks))return t.replace(i.before(j),E?l.after(j):n,new ae(eN(s.content,0,s.openStart,w),w,s.openEnd))}}let x=t.steps.length;for(let y=c.length-1;y>=0&&(t.replace(e,n,s),!(t.steps.length>x));y--){let w=c[y];w<0||(e=i.before(w),n=l.after(w))}}function eN(t,e,n,s,i){if(e<n){let l=t.firstChild;t=t.replaceChild(0,l.copy(eN(l.content,e+1,n,s,l)))}if(e>s){let l=i.contentMatchAt(0),c=l.fillBefore(t).append(t);t=c.append(l.matchFragment(c).fillBefore(ne.empty,!0))}return t}function F3(t,e,n,s){if(!s.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=U3(t.doc,e,s.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new ae(ne.from(s),0,0))}function V3(t,e,n){let s=t.doc.resolve(e),i=t.doc.resolve(n),l=tN(s,i);for(let c=0;c<l.length;c++){let d=l[c],h=c==l.length-1;if(h&&d==0||s.node(d).type.contentMatch.validEnd)return t.delete(s.start(d),i.end(d));if(d>0&&(h||s.node(d-1).canReplace(s.index(d-1),i.indexAfter(d-1))))return t.delete(s.before(d),i.after(d))}for(let c=1;c<=s.depth&&c<=i.depth;c++)if(e-s.start(c)==s.depth-c&&n>s.end(c)&&i.end(c)-n!=i.depth-c&&s.start(c-1)==i.start(c-1)&&s.node(c-1).canReplace(s.index(c-1),i.index(c-1)))return t.delete(s.before(c),n);t.delete(e,n)}function tN(t,e){let n=[],s=Math.min(t.depth,e.depth);for(let i=s;i>=0;i--){let l=t.start(i);if(l<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(l==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==l-1)&&n.push(i)}return n}class aa extends Pt{constructor(e,n,s){super(),this.pos=e,this.attr=n,this.value=s}apply(e){let n=e.nodeAt(this.pos);if(!n)return mt.fail("No node at attribute step's position");let s=Object.create(null);for(let l in n.attrs)s[l]=n.attrs[l];s[this.attr]=this.value;let i=n.type.create(s,null,n.marks);return mt.fromReplace(e,this.pos,this.pos+1,new ae(ne.from(i),0,n.isLeaf?0:1))}getMap(){return bn.empty}invert(e){return new aa(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new aa(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new aa(n.pos,n.attr,n.value)}}Pt.jsonID("attr",aa);class Fl extends Pt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let s=e.type.create(n,e.content,e.marks);return mt.ok(s)}getMap(){return bn.empty}invert(e){return new Fl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Fl(n.attr,n.value)}}Pt.jsonID("docAttr",Fl);let ca=class extends Error{};ca=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};ca.prototype=Object.create(Error.prototype);ca.prototype.constructor=ca;ca.prototype.name="TransformError";class nN{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new $l}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new ca(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,s=ae.empty){let i=rd(this.doc,e,n,s);return i&&this.step(i),this}replaceWith(e,n,s){return this.replace(e,n,new ae(ne.from(s),0,0))}delete(e,n){return this.replace(e,n,ae.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,s){return $3(this,e,n,s),this}replaceRangeWith(e,n,s){return F3(this,e,n,s),this}deleteRange(e,n){return V3(this,e,n),this}lift(e,n){return T3(this,e,n),this}join(e,n=1){return B3(this,e,n),this}wrap(e,n){return O3(this,e,n),this}setBlockType(e,n=e,s,i=null){return R3(this,e,n,s,i),this}setNodeMarkup(e,n,s=null,i){return D3(this,e,n,s,i),this}setNodeAttribute(e,n,s){return this.step(new aa(e,n,s)),this}setDocAttribute(e,n){return this.step(new Fl(e,n)),this}addNodeMark(e,n){return this.step(new pr(e,n)),this}removeNodeMark(e,n){let s=this.doc.nodeAt(e);if(!s)throw new RangeError("No node at position "+e);if(n instanceof Ke)n.isInSet(s.marks)&&this.step(new li(e,n));else{let i=s.marks,l,c=[];for(;l=n.isInSet(i);)c.push(new li(e,l)),i=l.removeFromSet(i);for(let d=c.length-1;d>=0;d--)this.step(c[d])}return this}split(e,n=1,s){return z3(this,e,n,s),this}addMark(e,n,s){return k3(this,e,n,s),this}removeMark(e,n,s){return C3(this,e,n,s),this}clearIncompatible(e,n,s){return vm(this,e,n,s),this}}const np=Object.create(null);class Se{constructor(e,n,s){this.$anchor=e,this.$head=n,this.ranges=s||[new q3(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ae.empty){let s=n.content.lastChild,i=null;for(let d=0;d<n.openEnd;d++)i=s,s=s.lastChild;let l=e.steps.length,c=this.ranges;for(let d=0;d<c.length;d++){let{$from:h,$to:p}=c[d],m=e.mapping.slice(l);e.replaceRange(m.map(h.pos),m.map(p.pos),d?ae.empty:n),d==0&&iv(e,l,(s?s.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let s=e.steps.length,i=this.ranges;for(let l=0;l<i.length;l++){let{$from:c,$to:d}=i[l],h=e.mapping.slice(s),p=h.map(c.pos),m=h.map(d.pos);l?e.deleteRange(p,m):(e.replaceRangeWith(p,m,n),iv(e,s,n.isInline?-1:1))}}static findFrom(e,n,s=!1){let i=e.parent.inlineContent?new ge(e):ta(e.node(0),e.parent,e.pos,e.index(),n,s);if(i)return i;for(let l=e.depth-1;l>=0;l--){let c=n<0?ta(e.node(0),e.node(l),e.before(l+1),e.index(l),n,s):ta(e.node(0),e.node(l),e.after(l+1),e.index(l)+1,n,s);if(c)return c}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new yn(e.node(0))}static atStart(e){return ta(e,e,0,0,1)||new yn(e)}static atEnd(e){return ta(e,e,e.content.size,e.childCount,-1)||new yn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let s=np[n.type];if(!s)throw new RangeError(`No selection type ${n.type} defined`);return s.fromJSON(e,n)}static jsonID(e,n){if(e in np)throw new RangeError("Duplicate use of selection JSON ID "+e);return np[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ge.between(this.$anchor,this.$head).getBookmark()}}Se.prototype.visible=!0;class q3{constructor(e,n){this.$from=e,this.$to=n}}let sv=!1;function rv(t){!sv&&!t.parent.inlineContent&&(sv=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ge extends Se{constructor(e,n=e){rv(e),rv(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let s=e.resolve(n.map(this.head));if(!s.parent.inlineContent)return Se.near(s);let i=e.resolve(n.map(this.anchor));return new ge(i.parent.inlineContent?i:s,s)}replace(e,n=ae.empty){if(super.replace(e,n),n==ae.empty){let s=this.$from.marksAcross(this.$to);s&&e.ensureMarks(s)}}eq(e){return e instanceof ge&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new id(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ge(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,s=n){let i=e.resolve(n);return new this(i,s==n?i:e.resolve(s))}static between(e,n,s){let i=e.pos-n.pos;if((!s||i)&&(s=i>=0?1:-1),!n.parent.inlineContent){let l=Se.findFrom(n,s,!0)||Se.findFrom(n,-s,!0);if(l)n=l.$head;else return Se.near(n,s)}return e.parent.inlineContent||(i==0?e=n:(e=(Se.findFrom(e,-s,!0)||Se.findFrom(e,s,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new ge(e,n)}}Se.jsonID("text",ge);class id{constructor(e,n){this.anchor=e,this.head=n}map(e){return new id(e.map(this.anchor),e.map(this.head))}resolve(e){return ge.between(e.resolve(this.anchor),e.resolve(this.head))}}class fe extends Se{constructor(e){let n=e.nodeAfter,s=e.node(0).resolve(e.pos+n.nodeSize);super(e,s),this.node=n}map(e,n){let{deleted:s,pos:i}=n.mapResult(this.anchor),l=e.resolve(i);return s?Se.near(l):new fe(l)}content(){return new ae(ne.from(this.node),0,0)}eq(e){return e instanceof fe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Nm(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new fe(e.resolve(n.anchor))}static create(e,n){return new fe(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}fe.prototype.visible=!1;Se.jsonID("node",fe);class Nm{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:s}=e.mapResult(this.anchor);return n?new id(s,s):new Nm(s)}resolve(e){let n=e.resolve(this.anchor),s=n.nodeAfter;return s&&fe.isSelectable(s)?new fe(n):Se.near(n)}}class yn extends Se{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ae.empty){if(n==ae.empty){e.delete(0,e.doc.content.size);let s=Se.atStart(e.doc);s.eq(e.selection)||e.setSelection(s)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new yn(e)}map(e){return new yn(e)}eq(e){return e instanceof yn}getBookmark(){return K3}}Se.jsonID("all",yn);const K3={map(){return this},resolve(t){return new yn(t)}};function ta(t,e,n,s,i,l=!1){if(e.inlineContent)return ge.create(t,n);for(let c=s-(i>0?0:1);i>0?c<e.childCount:c>=0;c+=i){let d=e.child(c);if(d.isAtom){if(!l&&fe.isSelectable(d))return fe.create(t,n-(i<0?d.nodeSize:0))}else{let h=ta(t,d,n+i,i<0?d.childCount:0,i,l);if(h)return h}n+=d.nodeSize*i}return null}function iv(t,e,n){let s=t.steps.length-1;if(s<e)return;let i=t.steps[s];if(!(i instanceof wt||i instanceof jt))return;let l=t.mapping.maps[s],c;l.forEach((d,h,p,m)=>{c==null&&(c=m)}),t.setSelection(Se.near(t.doc.resolve(c),n))}const av=1,Rc=2,lv=4;class Y3 extends nN{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|av)&~Rc,this.storedMarks=null,this}get selectionSet(){return(this.updated&av)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Rc,this}ensureMarks(e){return Ke.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Rc)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Rc,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let s=this.selection;return n&&(e=e.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||Ke.none))),s.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,s){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(s==null&&(s=n),!e)return this.deleteRange(n,s);let l=this.storedMarks;if(!l){let c=this.doc.resolve(n);l=s==n?c.marks():c.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(n,s,i.text(e,l)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(Se.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=lv,this}get scrolledIntoView(){return(this.updated&lv)>0}}function ov(t,e){return!e||!t?t:t.bind(e)}class El{constructor(e,n,s){this.name=e,this.init=ov(n.init,s),this.apply=ov(n.apply,s)}}const G3=[new El("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new El("selection",{init(t,e){return t.selection||Se.atStart(e.doc)},apply(t){return t.selection}}),new El("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,s){return s.selection.$cursor?t.storedMarks:null}}),new El("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class sp{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=G3.slice(),n&&n.forEach(s=>{if(this.pluginsByKey[s.key])throw new RangeError("Adding different instances of a keyed plugin ("+s.key+")");this.plugins.push(s),this.pluginsByKey[s.key]=s,s.spec.state&&this.fields.push(new El(s.key,s.spec.state,s))})}}class ia{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let s=0;s<this.config.plugins.length;s++)if(s!=n){let i=this.config.plugins[s];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],s=this.applyInner(e),i=null;for(;;){let l=!1;for(let c=0;c<this.config.plugins.length;c++){let d=this.config.plugins[c];if(d.spec.appendTransaction){let h=i?i[c].n:0,p=i?i[c].state:this,m=h<n.length&&d.spec.appendTransaction.call(d,h?n.slice(h):n,p,s);if(m&&s.filterTransaction(m,c)){if(m.setMeta("appendedTransaction",e),!i){i=[];for(let x=0;x<this.config.plugins.length;x++)i.push(x<c?{state:s,n:n.length}:{state:this,n:0})}n.push(m),s=s.applyInner(m),l=!0}i&&(i[c]={state:s,n:n.length})}}if(!l)return{state:s,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ia(this.config),s=this.config.fields;for(let i=0;i<s.length;i++){let l=s[i];n[l.name]=l.apply(e,this[l.name],this,n)}return n}get tr(){return new Y3(this)}static create(e){let n=new sp(e.doc?e.doc.type.schema:e.schema,e.plugins),s=new ia(n);for(let i=0;i<n.fields.length;i++)s[n.fields[i].name]=n.fields[i].init(e,s);return s}reconfigure(e){let n=new sp(this.schema,e.plugins),s=n.fields,i=new ia(n);for(let l=0;l<s.length;l++){let c=s[l].name;i[c]=this.hasOwnProperty(c)?this[c]:s[l].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(s=>s.toJSON())),e&&typeof e=="object")for(let s in e){if(s=="doc"||s=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[s],l=i.spec.state;l&&l.toJSON&&(n[s]=l.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,s){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new sp(e.schema,e.plugins),l=new ia(i);return i.fields.forEach(c=>{if(c.name=="doc")l.doc=Fn.fromJSON(e.schema,n.doc);else if(c.name=="selection")l.selection=Se.fromJSON(l.doc,n.selection);else if(c.name=="storedMarks")n.storedMarks&&(l.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(s)for(let d in s){let h=s[d],p=h.spec.state;if(h.key==c.name&&p&&p.fromJSON&&Object.prototype.hasOwnProperty.call(n,d)){l[c.name]=p.fromJSON.call(h,e,n[d],l);return}}l[c.name]=c.init(e,l)}}),l}}function sN(t,e,n){for(let s in t){let i=t[s];i instanceof Function?i=i.bind(e):s=="handleDOMEvents"&&(i=sN(i,e,{})),n[s]=i}return n}class et{constructor(e){this.spec=e,this.props={},e.props&&sN(e.props,this,this.props),this.key=e.key?e.key.key:rN("plugin")}getState(e){return e[this.key]}}const rp=Object.create(null);function rN(t){return t in rp?t+"$"+ ++rp[t]:(rp[t]=0,t+"$")}class bt{constructor(e="key"){this.key=rN(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const jm=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function iN(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const aN=(t,e,n)=>{let s=iN(t,n);if(!s)return!1;let i=Sm(s);if(!i){let c=s.blockRange(),d=c&&ja(c);return d==null?!1:(e&&e(t.tr.lift(c,d).scrollIntoView()),!0)}let l=i.nodeBefore;if(mN(t,i,e,-1))return!0;if(s.parent.content.size==0&&(ua(l,"end")||fe.isSelectable(l)))for(let c=s.depth;;c--){let d=rd(t.doc,s.before(c),s.after(c),ae.empty);if(d&&d.slice.size<d.to-d.from){if(e){let h=t.tr.step(d);h.setSelection(ua(l,"end")?Se.findFrom(h.doc.resolve(h.mapping.map(i.pos,-1)),-1):fe.create(h.doc,i.pos-l.nodeSize)),e(h.scrollIntoView())}return!0}if(c==1||s.node(c-1).childCount>1)break}return l.isAtom&&i.depth==s.depth-1?(e&&e(t.tr.delete(i.pos-l.nodeSize,i.pos).scrollIntoView()),!0):!1},W3=(t,e,n)=>{let s=iN(t,n);if(!s)return!1;let i=Sm(s);return i?lN(t,i,e):!1},J3=(t,e,n)=>{let s=cN(t,n);if(!s)return!1;let i=km(s);return i?lN(t,i,e):!1};function lN(t,e,n){let s=e.nodeBefore,i=s,l=e.pos-1;for(;!i.isTextblock;l--){if(i.type.spec.isolating)return!1;let m=i.lastChild;if(!m)return!1;i=m}let c=e.nodeAfter,d=c,h=e.pos+1;for(;!d.isTextblock;h++){if(d.type.spec.isolating)return!1;let m=d.firstChild;if(!m)return!1;d=m}let p=rd(t.doc,l,h,ae.empty);if(!p||p.from!=l||p instanceof wt&&p.slice.size>=h-l)return!1;if(n){let m=t.tr.step(p);m.setSelection(ge.create(m.doc,l)),n(m.scrollIntoView())}return!0}function ua(t,e,n=!1){for(let s=t;s;s=e=="start"?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(n&&s.childCount!=1)return!1}return!1}const oN=(t,e,n)=>{let{$head:s,empty:i}=t.selection,l=s;if(!i)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):s.parentOffset>0)return!1;l=Sm(s)}let c=l&&l.nodeBefore;return!c||!fe.isSelectable(c)?!1:(e&&e(t.tr.setSelection(fe.create(t.doc,l.pos-c.nodeSize)).scrollIntoView()),!0)};function Sm(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function cN(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const uN=(t,e,n)=>{let s=cN(t,n);if(!s)return!1;let i=km(s);if(!i)return!1;let l=i.nodeAfter;if(mN(t,i,e,1))return!0;if(s.parent.content.size==0&&(ua(l,"start")||fe.isSelectable(l))){let c=rd(t.doc,s.before(),s.after(),ae.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=t.tr.step(c);d.setSelection(ua(l,"start")?Se.findFrom(d.doc.resolve(d.mapping.map(i.pos)),1):fe.create(d.doc,d.mapping.map(i.pos))),e(d.scrollIntoView())}return!0}}return l.isAtom&&i.depth==s.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+l.nodeSize).scrollIntoView()),!0):!1},dN=(t,e,n)=>{let{$head:s,empty:i}=t.selection,l=s;if(!i)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):s.parentOffset<s.parent.content.size)return!1;l=km(s)}let c=l&&l.nodeAfter;return!c||!fe.isSelectable(c)?!1:(e&&e(t.tr.setSelection(fe.create(t.doc,l.pos)).scrollIntoView()),!0)};function km(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const X3=(t,e)=>{let n=t.selection,s=n instanceof fe,i;if(s){if(n.node.isTextblock||!Sr(t.doc,n.from))return!1;i=n.from}else if(i=sd(t.doc,n.from,-1),i==null)return!1;if(e){let l=t.tr.join(i);s&&l.setSelection(fe.create(l.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(l.scrollIntoView())}return!0},Q3=(t,e)=>{let n=t.selection,s;if(n instanceof fe){if(n.node.isTextblock||!Sr(t.doc,n.to))return!1;s=n.to}else if(s=sd(t.doc,n.to,1),s==null)return!1;return e&&e(t.tr.join(s).scrollIntoView()),!0},Z3=(t,e)=>{let{$from:n,$to:s}=t.selection,i=n.blockRange(s),l=i&&ja(i);return l==null?!1:(e&&e(t.tr.lift(i,l).scrollIntoView()),!0)},fN=(t,e)=>{let{$head:n,$anchor:s}=t.selection;return!n.parent.type.spec.code||!n.sameParent(s)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Cm(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const eA=(t,e)=>{let{$head:n,$anchor:s}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(s))return!1;let i=n.node(-1),l=n.indexAfter(-1),c=Cm(i.contentMatchAt(l));if(!c||!i.canReplaceWith(l,l,c))return!1;if(e){let d=n.after(),h=t.tr.replaceWith(d,d,c.createAndFill());h.setSelection(Se.near(h.doc.resolve(d),1)),e(h.scrollIntoView())}return!0},hN=(t,e)=>{let n=t.selection,{$from:s,$to:i}=n;if(n instanceof yn||s.parent.inlineContent||i.parent.inlineContent)return!1;let l=Cm(i.parent.contentMatchAt(i.indexAfter()));if(!l||!l.isTextblock)return!1;if(e){let c=(!s.parentOffset&&i.index()<i.parent.childCount?s:i).pos,d=t.tr.insert(c,l.createAndFill());d.setSelection(ge.create(d.doc,c+1)),e(d.scrollIntoView())}return!0},pN=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let l=n.before();if(Ms(t.doc,l))return e&&e(t.tr.split(l).scrollIntoView()),!0}let s=n.blockRange(),i=s&&ja(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)};function tA(t){return(e,n)=>{let{$from:s,$to:i}=e.selection;if(e.selection instanceof fe&&e.selection.node.isBlock)return!s.parentOffset||!Ms(e.doc,s.pos)?!1:(n&&n(e.tr.split(s.pos).scrollIntoView()),!0);if(!s.depth)return!1;let l=[],c,d,h=!1,p=!1;for(let w=s.depth;;w--)if(s.node(w).isBlock){h=s.end(w)==s.pos+(s.depth-w),p=s.start(w)==s.pos-(s.depth-w),d=Cm(s.node(w-1).contentMatchAt(s.indexAfter(w-1))),l.unshift(h&&d?{type:d}:null),c=w;break}else{if(w==1)return!1;l.unshift(null)}let m=e.tr;(e.selection instanceof ge||e.selection instanceof yn)&&m.deleteSelection();let x=m.mapping.map(s.pos),y=Ms(m.doc,x,l.length,l);if(y||(l[0]=d?{type:d}:null,y=Ms(m.doc,x,l.length,l)),!y)return!1;if(m.split(x,l.length,l),!h&&p&&s.node(c).type!=d){let w=m.mapping.map(s.before(c)),v=m.doc.resolve(w);d&&s.node(c-1).canReplaceWith(v.index(),v.index()+1,d)&&m.setNodeMarkup(m.mapping.map(s.before(c)),d)}return n&&n(m.scrollIntoView()),!0}}const nA=tA(),sA=(t,e)=>{let{$from:n,to:s}=t.selection,i,l=n.sharedDepth(s);return l==0?!1:(i=n.before(l),e&&e(t.tr.setSelection(fe.create(t.doc,i))),!0)};function rA(t,e,n){let s=e.nodeBefore,i=e.nodeAfter,l=e.index();return!s||!i||!s.type.compatibleContent(i.type)?!1:!s.content.size&&e.parent.canReplace(l-1,l)?(n&&n(t.tr.delete(e.pos-s.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(l,l+1)||!(i.isTextblock||Sr(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function mN(t,e,n,s){let i=e.nodeBefore,l=e.nodeAfter,c,d,h=i.type.spec.isolating||l.type.spec.isolating;if(!h&&rA(t,e,n))return!0;let p=!h&&e.parent.canReplace(e.index(),e.index()+1);if(p&&(c=(d=i.contentMatchAt(i.childCount)).findWrapping(l.type))&&d.matchType(c[0]||l.type).validEnd){if(n){let w=e.pos+l.nodeSize,v=ne.empty;for(let E=c.length-1;E>=0;E--)v=ne.from(c[E].create(null,v));v=ne.from(i.copy(v));let S=t.tr.step(new jt(e.pos-1,w,e.pos,w,new ae(v,1,0),c.length,!0)),j=S.doc.resolve(w+2*c.length);j.nodeAfter&&j.nodeAfter.type==i.type&&Sr(S.doc,j.pos)&&S.join(j.pos),n(S.scrollIntoView())}return!0}let m=l.type.spec.isolating||s>0&&h?null:Se.findFrom(e,1),x=m&&m.$from.blockRange(m.$to),y=x&&ja(x);if(y!=null&&y>=e.depth)return n&&n(t.tr.lift(x,y).scrollIntoView()),!0;if(p&&ua(l,"start",!0)&&ua(i,"end")){let w=i,v=[];for(;v.push(w),!w.isTextblock;)w=w.lastChild;let S=l,j=1;for(;!S.isTextblock;S=S.firstChild)j++;if(w.canReplace(w.childCount,w.childCount,S.content)){if(n){let E=ne.empty;for(let A=v.length-1;A>=0;A--)E=ne.from(v[A].copy(E));let T=t.tr.step(new jt(e.pos-v.length,e.pos+l.nodeSize,e.pos+j,e.pos+l.nodeSize-j,new ae(E,v.length,0),0,!0));n(T.scrollIntoView())}return!0}}return!1}function gN(t){return function(e,n){let s=e.selection,i=t<0?s.$from:s.$to,l=i.depth;for(;i.node(l).isInline;){if(!l)return!1;l--}return i.node(l).isTextblock?(n&&n(e.tr.setSelection(ge.create(e.doc,t<0?i.start(l):i.end(l)))),!0):!1}}const iA=gN(-1),aA=gN(1);function lA(t,e=null){return function(n,s){let{$from:i,$to:l}=n.selection,c=i.blockRange(l),d=c&&wm(c,t,e);return d?(s&&s(n.tr.wrap(c,d).scrollIntoView()),!0):!1}}function cv(t,e=null){return function(n,s){let i=!1;for(let l=0;l<n.selection.ranges.length&&!i;l++){let{$from:{pos:c},$to:{pos:d}}=n.selection.ranges[l];n.doc.nodesBetween(c,d,(h,p)=>{if(i)return!1;if(!(!h.isTextblock||h.hasMarkup(t,e)))if(h.type==t)i=!0;else{let m=n.doc.resolve(p),x=m.index();i=m.parent.canReplaceWith(x,x+1,t)}})}if(!i)return!1;if(s){let l=n.tr;for(let c=0;c<n.selection.ranges.length;c++){let{$from:{pos:d},$to:{pos:h}}=n.selection.ranges[c];l.setBlockType(d,h,t,e)}s(l.scrollIntoView())}return!0}}function Em(...t){return function(e,n,s){for(let i=0;i<t.length;i++)if(t[i](e,n,s))return!0;return!1}}Em(jm,aN,oN);Em(jm,uN,dN);Em(fN,hN,pN,nA);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function oA(t,e=null){return function(n,s){let{$from:i,$to:l}=n.selection,c=i.blockRange(l);if(!c)return!1;let d=s?n.tr:null;return cA(d,c,t,e)?(s&&s(d.scrollIntoView()),!0):!1}}function cA(t,e,n,s=null){let i=!1,l=e,c=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let h=c.resolve(e.start-2);l=new ou(h,h,e.depth),e.endIndex<e.parent.childCount&&(e=new ou(e.$from,c.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let d=wm(l,n,s,e);return d?(t&&uA(t,e,d,i,n),!0):!1}function uA(t,e,n,s,i){let l=ne.empty;for(let m=n.length-1;m>=0;m--)l=ne.from(n[m].type.create(n[m].attrs,l));t.step(new jt(e.start-(s?2:0),e.end,e.start,e.end,new ae(l,0,0),n.length,!0));let c=0;for(let m=0;m<n.length;m++)n[m].type==i&&(c=m+1);let d=n.length-c,h=e.start+n.length-(s?2:0),p=e.parent;for(let m=e.startIndex,x=e.endIndex,y=!0;m<x;m++,y=!1)!y&&Ms(t.doc,h,d)&&(t.split(h,d),h+=2*d),h+=p.child(m).nodeSize;return t}function dA(t){return function(e,n){let{$from:s,$to:i}=e.selection,l=s.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);return l?n?s.node(l.depth-1).type==t?fA(e,n,t,l):hA(e,n,l):!0:!1}}function fA(t,e,n,s){let i=t.tr,l=s.end,c=s.$to.end(s.depth);l<c&&(i.step(new jt(l-1,c,l,c,new ae(ne.from(n.create(null,s.parent.copy())),1,0),1,!0)),s=new ou(i.doc.resolve(s.$from.pos),i.doc.resolve(c),s.depth));const d=ja(s);if(d==null)return!1;i.lift(s,d);let h=i.doc.resolve(i.mapping.map(l,-1)-1);return Sr(i.doc,h.pos)&&h.nodeBefore.type==h.nodeAfter.type&&i.join(h.pos),e(i.scrollIntoView()),!0}function hA(t,e,n){let s=t.tr,i=n.parent;for(let w=n.end,v=n.endIndex-1,S=n.startIndex;v>S;v--)w-=i.child(v).nodeSize,s.delete(w-1,w+1);let l=s.doc.resolve(n.start),c=l.nodeAfter;if(s.mapping.map(n.end)!=n.start+l.nodeAfter.nodeSize)return!1;let d=n.startIndex==0,h=n.endIndex==i.childCount,p=l.node(-1),m=l.index(-1);if(!p.canReplace(m+(d?0:1),m+1,c.content.append(h?ne.empty:ne.from(i))))return!1;let x=l.pos,y=x+c.nodeSize;return s.step(new jt(x-(d?1:0),y+(h?1:0),x+1,y-1,new ae((d?ne.empty:ne.from(i.copy(ne.empty))).append(h?ne.empty:ne.from(i.copy(ne.empty))),d?0:1,h?0:1),d?0:1)),e(s.scrollIntoView()),!0}function pA(t){return function(e,n){let{$from:s,$to:i}=e.selection,l=s.blockRange(i,p=>p.childCount>0&&p.firstChild.type==t);if(!l)return!1;let c=l.startIndex;if(c==0)return!1;let d=l.parent,h=d.child(c-1);if(h.type!=t)return!1;if(n){let p=h.lastChild&&h.lastChild.type==d.type,m=ne.from(p?t.create():null),x=new ae(ne.from(t.create(null,ne.from(d.type.create(null,m)))),p?3:1,0),y=l.start,w=l.end;n(e.tr.step(new jt(y-(p?3:1),w,y,w,x,1,!0)).scrollIntoView())}return!0}}const Rt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},da=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Bp=null;const Es=function(t,e,n){let s=Bp||(Bp=document.createRange());return s.setEnd(t,n??t.nodeValue.length),s.setStart(t,e||0),s},mA=function(){Bp=null},oi=function(t,e,n,s){return n&&(uv(t,e,n,s,-1)||uv(t,e,n,s,1))},gA=/^(img|br|input|textarea|hr)$/i;function uv(t,e,n,s,i){for(var l;;){if(t==n&&e==s)return!0;if(e==(i<0?0:Ln(t))){let c=t.parentNode;if(!c||c.nodeType!=1||io(t)||gA.test(t.nodeName)||t.contentEditable=="false")return!1;e=Rt(t)+(i<0?0:1),t=c}else if(t.nodeType==1){let c=t.childNodes[e+(i<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((l=c.pmViewDesc)===null||l===void 0)&&l.ignoreForSelection)e+=i;else return!1;else t=c,e=i<0?Ln(t):0}else return!1}}function Ln(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function xA(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ln(t)}else if(t.parentNode&&!io(t))e=Rt(t),t=t.parentNode;else return null}}function bA(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!io(t))e=Rt(t)+1,t=t.parentNode;else return null}}function yA(t,e,n){for(let s=e==0,i=e==Ln(t);s||i;){if(t==n)return!0;let l=Rt(t);if(t=t.parentNode,!t)return!1;s=s&&l==0,i=i&&l==Ln(t)}}function io(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const ad=function(t){return t.focusNode&&oi(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Yr(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function vA(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function wA(t,e,n){if(t.caretPositionFromPoint)try{let s=t.caretPositionFromPoint(e,n);if(s)return{node:s.offsetNode,offset:Math.min(Ln(s.offsetNode),s.offset)}}catch{}if(t.caretRangeFromPoint){let s=t.caretRangeFromPoint(e,n);if(s)return{node:s.startContainer,offset:Math.min(Ln(s.startContainer),s.startOffset)}}}const es=typeof navigator<"u"?navigator:null,dv=typeof document<"u"?document:null,kr=es&&es.userAgent||"",Up=/Edge\/(\d+)/.exec(kr),xN=/MSIE \d/.exec(kr),Hp=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(kr),an=!!(xN||Hp||Up),xr=xN?document.documentMode:Hp?+Hp[1]:Up?+Up[1]:0,Dn=!an&&/gecko\/(\d+)/i.test(kr);Dn&&+(/Firefox\/(\d+)/.exec(kr)||[0,0])[1];const Pp=!an&&/Chrome\/(\d+)/.exec(kr),Nt=!!Pp,bN=Pp?+Pp[1]:0,Dt=!an&&!!es&&/Apple Computer/.test(es.vendor),fa=Dt&&(/Mobile\/\w+/.test(kr)||!!es&&es.maxTouchPoints>2),Rn=fa||(es?/Mac/.test(es.platform):!1),yN=es?/Win/.test(es.platform):!1,Ts=/Android \d/.test(kr),ao=!!dv&&"webkitFontSmoothing"in dv.documentElement.style,NA=ao?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function jA(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function js(t,e){return typeof t=="number"?t:t[e]}function SA(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,s=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*s}}function fv(t,e,n){let s=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,l=t.dom.ownerDocument;for(let c=n||t.dom;c;){if(c.nodeType!=1){c=da(c);continue}let d=c,h=d==l.body,p=h?jA(l):SA(d),m=0,x=0;if(e.top<p.top+js(s,"top")?x=-(p.top-e.top+js(i,"top")):e.bottom>p.bottom-js(s,"bottom")&&(x=e.bottom-e.top>p.bottom-p.top?e.top+js(i,"top")-p.top:e.bottom-p.bottom+js(i,"bottom")),e.left<p.left+js(s,"left")?m=-(p.left-e.left+js(i,"left")):e.right>p.right-js(s,"right")&&(m=e.right-p.right+js(i,"right")),m||x)if(h)l.defaultView.scrollBy(m,x);else{let w=d.scrollLeft,v=d.scrollTop;x&&(d.scrollTop+=x),m&&(d.scrollLeft+=m);let S=d.scrollLeft-w,j=d.scrollTop-v;e={left:e.left-S,top:e.top-j,right:e.right-S,bottom:e.bottom-j}}let y=h?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(y))break;c=y=="absolute"?c.offsetParent:da(c)}}function kA(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),s,i;for(let l=(e.left+e.right)/2,c=n+1;c<Math.min(innerHeight,e.bottom);c+=5){let d=t.root.elementFromPoint(l,c);if(!d||d==t.dom||!t.dom.contains(d))continue;let h=d.getBoundingClientRect();if(h.top>=n-20){s=d,i=h.top;break}}return{refDOM:s,refTop:i,stack:vN(t.dom)}}function vN(t){let e=[],n=t.ownerDocument;for(let s=t;s&&(e.push({dom:s,top:s.scrollTop,left:s.scrollLeft}),t!=n);s=da(s));return e}function CA({refDOM:t,refTop:e,stack:n}){let s=t?t.getBoundingClientRect().top:0;wN(n,s==0?0:s-e)}function wN(t,e){for(let n=0;n<t.length;n++){let{dom:s,top:i,left:l}=t[n];s.scrollTop!=i+e&&(s.scrollTop=i+e),s.scrollLeft!=l&&(s.scrollLeft=l)}}let Zi=null;function EA(t){if(t.setActive)return t.setActive();if(Zi)return t.focus(Zi);let e=vN(t);t.focus(Zi==null?{get preventScroll(){return Zi={preventScroll:!0},!0}}:void 0),Zi||(Zi=!1,wN(e,0))}function NN(t,e){let n,s=2e8,i,l=0,c=e.top,d=e.top,h,p;for(let m=t.firstChild,x=0;m;m=m.nextSibling,x++){let y;if(m.nodeType==1)y=m.getClientRects();else if(m.nodeType==3)y=Es(m).getClientRects();else continue;for(let w=0;w<y.length;w++){let v=y[w];if(v.top<=c&&v.bottom>=d){c=Math.max(v.bottom,c),d=Math.min(v.top,d);let S=v.left>e.left?v.left-e.left:v.right<e.left?e.left-v.right:0;if(S<s){n=m,s=S,i=S&&n.nodeType==3?{left:v.right<e.left?v.right:v.left,top:e.top}:e,m.nodeType==1&&S&&(l=x+(e.left>=(v.left+v.right)/2?1:0));continue}}else v.top>e.top&&!h&&v.left<=e.left&&v.right>=e.left&&(h=m,p={left:Math.max(v.left,Math.min(v.right,e.left)),top:v.top});!n&&(e.left>=v.right&&e.top>=v.top||e.left>=v.left&&e.top>=v.bottom)&&(l=x+1)}}return!n&&h&&(n=h,i=p,s=0),n&&n.nodeType==3?TA(n,i):!n||s&&n.nodeType==1?{node:t,offset:l}:NN(n,i)}function TA(t,e){let n=t.nodeValue.length,s=document.createRange(),i;for(let l=0;l<n;l++){s.setEnd(t,l+1),s.setStart(t,l);let c=lr(s,1);if(c.top!=c.bottom&&Tm(e,c)){i={node:t,offset:l+(e.left>=(c.left+c.right)/2?1:0)};break}}return s.detach(),i||{node:t,offset:0}}function Tm(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function AA(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function MA(t,e,n){let{node:s,offset:i}=NN(e,n),l=-1;if(s.nodeType==1&&!s.firstChild){let c=s.getBoundingClientRect();l=c.left!=c.right&&n.left>(c.left+c.right)/2?1:-1}return t.docView.posFromDOM(s,i,l)}function OA(t,e,n,s){let i=-1;for(let l=e,c=!1;l!=t.dom;){let d=t.docView.nearestDesc(l,!0),h;if(!d)return null;if(d.dom.nodeType==1&&(d.node.isBlock&&d.parent||!d.contentDOM)&&((h=d.dom.getBoundingClientRect()).width||h.height)&&(d.node.isBlock&&d.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(d.dom.nodeName)&&(!c&&h.left>s.left||h.top>s.top?i=d.posBefore:(!c&&h.right<s.left||h.bottom<s.top)&&(i=d.posAfter),c=!0),!d.contentDOM&&i<0&&!d.node.isText))return(d.node.isBlock?s.top<(h.top+h.bottom)/2:s.left<(h.left+h.right)/2)?d.posBefore:d.posAfter;l=d.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function jN(t,e,n){let s=t.childNodes.length;if(s&&n.top<n.bottom)for(let i=Math.max(0,Math.min(s-1,Math.floor(s*(e.top-n.top)/(n.bottom-n.top))-2)),l=i;;){let c=t.childNodes[l];if(c.nodeType==1){let d=c.getClientRects();for(let h=0;h<d.length;h++){let p=d[h];if(Tm(e,p))return jN(c,e,p)}}if((l=(l+1)%s)==i)break}return t}function RA(t,e){let n=t.dom.ownerDocument,s,i=0,l=wA(n,e.left,e.top);l&&({node:s,offset:i}=l);let c=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),d;if(!c||!t.dom.contains(c.nodeType!=1?c.parentNode:c)){let p=t.dom.getBoundingClientRect();if(!Tm(e,p)||(c=jN(t.dom,e,p),!c))return null}if(Dt)for(let p=c;s&&p;p=da(p))p.draggable&&(s=void 0);if(c=AA(c,e),s){if(Dn&&s.nodeType==1&&(i=Math.min(i,s.childNodes.length),i<s.childNodes.length)){let m=s.childNodes[i],x;m.nodeName=="IMG"&&(x=m.getBoundingClientRect()).right<=e.left&&x.bottom>e.top&&i++}let p;ao&&i&&s.nodeType==1&&(p=s.childNodes[i-1]).nodeType==1&&p.contentEditable=="false"&&p.getBoundingClientRect().top>=e.top&&i--,s==t.dom&&i==s.childNodes.length-1&&s.lastChild.nodeType==1&&e.top>s.lastChild.getBoundingClientRect().bottom?d=t.state.doc.content.size:(i==0||s.nodeType!=1||s.childNodes[i-1].nodeName!="BR")&&(d=OA(t,s,i,e))}d==null&&(d=MA(t,c,e));let h=t.docView.nearestDesc(c,!0);return{pos:d,inside:h?h.posAtStart-h.border:-1}}function hv(t){return t.top<t.bottom||t.left<t.right}function lr(t,e){let n=t.getClientRects();if(n.length){let s=n[e<0?0:n.length-1];if(hv(s))return s}return Array.prototype.find.call(n,hv)||t.getBoundingClientRect()}const LA=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function SN(t,e,n){let{node:s,offset:i,atom:l}=t.docView.domFromPos(e,n<0?-1:1),c=ao||Dn;if(s.nodeType==3)if(c&&(LA.test(s.nodeValue)||(n<0?!i:i==s.nodeValue.length))){let h=lr(Es(s,i,i),n);if(Dn&&i&&/\s/.test(s.nodeValue[i-1])&&i<s.nodeValue.length){let p=lr(Es(s,i-1,i-1),-1);if(p.top==h.top){let m=lr(Es(s,i,i+1),-1);if(m.top!=h.top)return wl(m,m.left<p.left)}}return h}else{let h=i,p=i,m=n<0?1:-1;return n<0&&!i?(p++,m=-1):n>=0&&i==s.nodeValue.length?(h--,m=1):n<0?h--:p++,wl(lr(Es(s,h,p),m),m<0)}if(!t.state.doc.resolve(e-(l||0)).parent.inlineContent){if(l==null&&i&&(n<0||i==Ln(s))){let h=s.childNodes[i-1];if(h.nodeType==1)return ip(h.getBoundingClientRect(),!1)}if(l==null&&i<Ln(s)){let h=s.childNodes[i];if(h.nodeType==1)return ip(h.getBoundingClientRect(),!0)}return ip(s.getBoundingClientRect(),n>=0)}if(l==null&&i&&(n<0||i==Ln(s))){let h=s.childNodes[i-1],p=h.nodeType==3?Es(h,Ln(h)-(c?0:1)):h.nodeType==1&&(h.nodeName!="BR"||!h.nextSibling)?h:null;if(p)return wl(lr(p,1),!1)}if(l==null&&i<Ln(s)){let h=s.childNodes[i];for(;h.pmViewDesc&&h.pmViewDesc.ignoreForCoords;)h=h.nextSibling;let p=h?h.nodeType==3?Es(h,0,c?0:1):h.nodeType==1?h:null:null;if(p)return wl(lr(p,-1),!0)}return wl(lr(s.nodeType==3?Es(s):s,-n),n>=0)}function wl(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function ip(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function kN(t,e,n){let s=t.state,i=t.root.activeElement;s!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{s!=e&&t.updateState(s),i!=t.dom&&i&&i.focus()}}function DA(t,e,n){let s=e.selection,i=n=="up"?s.$from:s.$to;return kN(t,e,()=>{let{node:l}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let d=t.docView.nearestDesc(l,!0);if(!d)break;if(d.node.isBlock){l=d.contentDOM||d.dom;break}l=d.dom.parentNode}let c=SN(t,i.pos,1);for(let d=l.firstChild;d;d=d.nextSibling){let h;if(d.nodeType==1)h=d.getClientRects();else if(d.nodeType==3)h=Es(d,0,d.nodeValue.length).getClientRects();else continue;for(let p=0;p<h.length;p++){let m=h[p];if(m.bottom>m.top+1&&(n=="up"?c.top-m.top>(m.bottom-c.top)*2:m.bottom-c.bottom>(c.bottom-m.top)*2))return!1}}return!0})}const zA=/[\u0590-\u08ac]/;function _A(t,e,n){let{$head:s}=e.selection;if(!s.parent.isTextblock)return!1;let i=s.parentOffset,l=!i,c=i==s.parent.content.size,d=t.domSelection();return d?!zA.test(s.parent.textContent)||!d.modify?n=="left"||n=="backward"?l:c:kN(t,e,()=>{let{focusNode:h,focusOffset:p,anchorNode:m,anchorOffset:x}=t.domSelectionRange(),y=d.caretBidiLevel;d.modify("move",n,"character");let w=s.depth?t.docView.domAfterPos(s.before()):t.dom,{focusNode:v,focusOffset:S}=t.domSelectionRange(),j=v&&!w.contains(v.nodeType==1?v:v.parentNode)||h==v&&p==S;try{d.collapse(m,x),h&&(h!=m||p!=x)&&d.extend&&d.extend(h,p)}catch{}return y!=null&&(d.caretBidiLevel=y),j}):s.pos==s.start()||s.pos==s.end()}let pv=null,mv=null,gv=!1;function BA(t,e,n){return pv==e&&mv==n?gv:(pv=e,mv=n,gv=n=="up"||n=="down"?DA(t,e,n):_A(t,e,n))}const zn=0,xv=1,Wr=2,ts=3;class lo{constructor(e,n,s,i){this.parent=e,this.children=n,this.dom=s,this.contentDOM=i,this.dirty=zn,s.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,s){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,s=this.posAtStart;;n++){let i=this.children[n];if(i==e)return s;s+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,s){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(s<0){let l,c;if(e==this.contentDOM)l=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.previousSibling}for(;l&&!((c=l.pmViewDesc)&&c.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(c)+c.size:this.posAtStart}else{let l,c;if(e==this.contentDOM)l=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.nextSibling}for(;l&&!((c=l.pmViewDesc)&&c.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(c):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Rt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let l=e;;l=l.parentNode){if(l==this.dom){i=!1;break}if(l.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let l=e;;l=l.parentNode){if(l==this.dom){i=!0;break}if(l.nextSibling)break}}return i??s>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let s=!0,i=e;i;i=i.parentNode){let l=this.getDesc(i),c;if(l&&(!n||l.node))if(s&&(c=l.nodeDOM)&&!(c.nodeType==1?c.contains(e.nodeType==1?e:e.parentNode):c==e))s=!1;else return l}}getDesc(e){let n=e.pmViewDesc;for(let s=n;s;s=s.parent)if(s==this)return n}posFromDOM(e,n,s){for(let i=e;i;i=i.parentNode){let l=this.getDesc(i);if(l)return l.localPosFromDOM(e,n,s)}return-1}descAt(e){for(let n=0,s=0;n<this.children.length;n++){let i=this.children[n],l=s+i.size;if(s==e&&l!=s){for(;!i.border&&i.children.length;)for(let c=0;c<i.children.length;c++){let d=i.children[c];if(d.size){i=d;break}}return i}if(e<l)return i.descAt(e-s-i.border);s=l}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let s=0,i=0;for(let l=0;s<this.children.length;s++){let c=this.children[s],d=l+c.size;if(d>e||c instanceof EN){i=e-l;break}l=d}if(i)return this.children[s].domFromPos(i-this.children[s].border,n);for(let l;s&&!(l=this.children[s-1]).size&&l instanceof CN&&l.side>=0;s--);if(n<=0){let l,c=!0;for(;l=s?this.children[s-1]:null,!(!l||l.dom.parentNode==this.contentDOM);s--,c=!1);return l&&n&&c&&!l.border&&!l.domAtom?l.domFromPos(l.size,n):{node:this.contentDOM,offset:l?Rt(l.dom)+1:0}}else{let l,c=!0;for(;l=s<this.children.length?this.children[s]:null,!(!l||l.dom.parentNode==this.contentDOM);s++,c=!1);return l&&c&&!l.border&&!l.domAtom?l.domFromPos(0,n):{node:this.contentDOM,offset:l?Rt(l.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,s=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,l=-1;for(let c=s,d=0;;d++){let h=this.children[d],p=c+h.size;if(i==-1&&e<=p){let m=c+h.border;if(e>=m&&n<=p-h.border&&h.node&&h.contentDOM&&this.contentDOM.contains(h.contentDOM))return h.parseRange(e,n,m);e=c;for(let x=d;x>0;x--){let y=this.children[x-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){i=Rt(y.dom)+1;break}e-=y.size}i==-1&&(i=0)}if(i>-1&&(p>n||d==this.children.length-1)){n=p;for(let m=d+1;m<this.children.length;m++){let x=this.children[m];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(-1)){l=Rt(x.dom);break}n+=x.size}l==-1&&(l=this.contentDOM.childNodes.length);break}c=p}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:l}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:s}=this.domFromPos(e,0);if(n.nodeType!=1||s==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[s]}setSelection(e,n,s,i=!1){let l=Math.min(e,n),c=Math.max(e,n);for(let w=0,v=0;w<this.children.length;w++){let S=this.children[w],j=v+S.size;if(l>v&&c<j)return S.setSelection(e-v-S.border,n-v-S.border,s,i);v=j}let d=this.domFromPos(e,e?-1:1),h=n==e?d:this.domFromPos(n,n?-1:1),p=s.root.getSelection(),m=s.domSelectionRange(),x=!1;if((Dn||Dt)&&e==n){let{node:w,offset:v}=d;if(w.nodeType==3){if(x=!!(v&&w.nodeValue[v-1]==`
`),x&&v==w.nodeValue.length)for(let S=w,j;S;S=S.parentNode){if(j=S.nextSibling){j.nodeName=="BR"&&(d=h={node:j.parentNode,offset:Rt(j)+1});break}let E=S.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{let S=w.childNodes[v-1];x=S&&(S.nodeName=="BR"||S.contentEditable=="false")}}if(Dn&&m.focusNode&&m.focusNode!=h.node&&m.focusNode.nodeType==1){let w=m.focusNode.childNodes[m.focusOffset];w&&w.contentEditable=="false"&&(i=!0)}if(!(i||x&&Dt)&&oi(d.node,d.offset,m.anchorNode,m.anchorOffset)&&oi(h.node,h.offset,m.focusNode,m.focusOffset))return;let y=!1;if((p.extend||e==n)&&!(x&&Dn)){p.collapse(d.node,d.offset);try{e!=n&&p.extend(h.node,h.offset),y=!0}catch{}}if(!y){if(e>n){let v=d;d=h,h=v}let w=document.createRange();w.setEnd(h.node,h.offset),w.setStart(d.node,d.offset),p.removeAllRanges(),p.addRange(w)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let s=0,i=0;i<this.children.length;i++){let l=this.children[i],c=s+l.size;if(s==c?e<=c&&n>=s:e<c&&n>s){let d=s+l.border,h=c-l.border;if(e>=d&&n<=h){this.dirty=e==s||n==c?Wr:xv,e==d&&n==h&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=ts:l.markDirty(e-d,n-d);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?Wr:ts}s=c}this.dirty=Wr}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let s=e==1?Wr:xv;n.dirty<s&&(n.dirty=s)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class CN extends lo{constructor(e,n,s,i){let l,c=n.type.toDOM;if(typeof c=="function"&&(c=c(s,()=>{if(!l)return i;if(l.parent)return l.parent.posBeforeChild(l)})),!n.type.spec.raw){if(c.nodeType!=1){let d=document.createElement("span");d.appendChild(c),c=d}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(e,[],c,null),this.widget=n,this.widget=n,l=this}matchesWidget(e){return this.dirty==zn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class UA extends lo{constructor(e,n,s,i){super(e,[],n,null),this.textDOM=s,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ci extends lo{constructor(e,n,s,i,l){super(e,[],s,i),this.mark=n,this.spec=l}static create(e,n,s,i){let l=i.nodeViews[n.type.name],c=l&&l(n,i,s);return(!c||!c.dom)&&(c=fi.renderSpec(document,n.type.spec.toDOM(n,s),null,n.attrs)),new ci(e,n,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&ts||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ts&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=zn){let s=this.parent;for(;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=zn}}slice(e,n,s){let i=ci.create(this.parent,this.mark,!0,s),l=this.children,c=this.size;n<c&&(l=$p(l,n,c,s)),e>0&&(l=$p(l,0,e,s));for(let d=0;d<l.length;d++)l[d].parent=i;return i.children=l,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class br extends lo{constructor(e,n,s,i,l,c,d,h,p){super(e,[],l,c),this.node=n,this.outerDeco=s,this.innerDeco=i,this.nodeDOM=d}static create(e,n,s,i,l,c){let d=l.nodeViews[n.type.name],h,p=d&&d(n,l,()=>{if(!h)return c;if(h.parent)return h.parent.posBeforeChild(h)},s,i),m=p&&p.dom,x=p&&p.contentDOM;if(n.isText){if(!m)m=document.createTextNode(n.text);else if(m.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else m||({dom:m,contentDOM:x}=fi.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!x&&!n.isText&&m.nodeName!="BR"&&(m.hasAttribute("contenteditable")||(m.contentEditable="false"),n.type.spec.draggable&&(m.draggable=!0));let y=m;return m=MN(m,s,n),p?h=new HA(e,n,s,i,m,x||null,y,p,l,c+1):n.isText?new ld(e,n,s,i,m,y,l):new br(e,n,s,i,m,x||null,y,l,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let s=this.children[n];if(this.dom.contains(s.dom.parentNode)){e.contentElement=s.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ne.empty)}return e}matchesNode(e,n,s){return this.dirty==zn&&e.eq(this.node)&&uu(n,this.outerDeco)&&s.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let s=this.node.inlineContent,i=n,l=e.composing?this.localCompositionInfo(e,n):null,c=l&&l.pos>-1?l:null,d=l&&l.pos<0,h=new IA(this,c&&c.node,e);VA(this.node,this.innerDeco,(p,m,x)=>{p.spec.marks?h.syncToMarks(p.spec.marks,s,e,m):p.type.side>=0&&!x&&h.syncToMarks(m==this.node.childCount?Ke.none:this.node.child(m).marks,s,e,m),h.placeWidget(p,e,i)},(p,m,x,y)=>{h.syncToMarks(p.marks,s,e,y);let w;h.findNodeMatch(p,m,x,y)||d&&e.state.selection.from>i&&e.state.selection.to<i+p.nodeSize&&(w=h.findIndexWithChild(l.node))>-1&&h.updateNodeAt(p,m,x,w,e)||h.updateNextNode(p,m,x,e,y,i)||h.addNode(p,m,x,e,i),i+=p.nodeSize}),h.syncToMarks([],s,e,0),this.node.isTextblock&&h.addTextblockHacks(),h.destroyRest(),(h.changed||this.dirty==Wr)&&(c&&this.protectLocalComposition(e,c),TN(this.contentDOM,this.children,e),fa&&qA(this.dom))}localCompositionInfo(e,n){let{from:s,to:i}=e.state.selection;if(!(e.state.selection instanceof ge)||s<n||i>n+this.node.content.size)return null;let l=e.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let c=l.nodeValue,d=KA(this.node.content,c,s-n,i-n);return d<0?null:{node:l,pos:d,text:c}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:s,text:i}){if(this.getDesc(n))return;let l=n;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let c=new UA(this,l,n,i);e.input.compositionNodes.push(c),this.children=$p(this.children,s,s+i.length,e,c)}update(e,n,s,i){return this.dirty==ts||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,s,i),!0)}updateInner(e,n,s,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=s,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=zn}updateOuterDeco(e){if(uu(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,s=this.dom;this.dom=AN(this.dom,this.nodeDOM,Ip(this.outerDeco,this.node,n),Ip(e,this.node,n)),this.dom!=s&&(s.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function bv(t,e,n,s,i){MN(s,e,t);let l=new br(void 0,t,e,n,s,s,s,i,0);return l.contentDOM&&l.updateChildren(i,0),l}class ld extends br{constructor(e,n,s,i,l,c,d){super(e,n,s,i,l,null,c,d,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,s,i){return this.dirty==ts||this.dirty!=zn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=zn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=zn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,s){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,s)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,s){let i=this.node.cut(e,n),l=document.createTextNode(i.text);return new ld(this.parent,i,this.outerDeco,this.innerDeco,l,l,s)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ts)}get domAtom(){return!1}isText(e){return this.node.text==e}}class EN extends lo{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==zn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class HA extends br{constructor(e,n,s,i,l,c,d,h,p,m){super(e,n,s,i,l,c,d,p,m),this.spec=h}update(e,n,s,i){if(this.dirty==ts)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let l=this.spec.update(e,n,s);return l&&this.updateInner(e,n,s,i),l}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,s,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,s,i){this.spec.setSelection?this.spec.setSelection(e,n,s.root):super.setSelection(e,n,s,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function TN(t,e,n){let s=t.firstChild,i=!1;for(let l=0;l<e.length;l++){let c=e[l],d=c.dom;if(d.parentNode==t){for(;d!=s;)s=yv(s),i=!0;s=s.nextSibling}else i=!0,t.insertBefore(d,s);if(c instanceof ci){let h=s?s.previousSibling:t.lastChild;TN(c.contentDOM,c.children,n),s=h?h.nextSibling:t.firstChild}}for(;s;)s=yv(s),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Ol=function(t){t&&(this.nodeName=t)};Ol.prototype=Object.create(null);const Jr=[new Ol];function Ip(t,e,n){if(t.length==0)return Jr;let s=n?Jr[0]:new Ol,i=[s];for(let l=0;l<t.length;l++){let c=t[l].type.attrs;if(c){c.nodeName&&i.push(s=new Ol(c.nodeName));for(let d in c){let h=c[d];h!=null&&(n&&i.length==1&&i.push(s=new Ol(e.isInline?"span":"div")),d=="class"?s.class=(s.class?s.class+" ":"")+h:d=="style"?s.style=(s.style?s.style+";":"")+h:d!="nodeName"&&(s[d]=h))}}}return i}function AN(t,e,n,s){if(n==Jr&&s==Jr)return e;let i=e;for(let l=0;l<s.length;l++){let c=s[l],d=n[l];if(l){let h;d&&d.nodeName==c.nodeName&&i!=t&&(h=i.parentNode)&&h.nodeName.toLowerCase()==c.nodeName||(h=document.createElement(c.nodeName),h.pmIsDeco=!0,h.appendChild(i),d=Jr[0]),i=h}PA(i,d||Jr[0],c)}return i}function PA(t,e,n){for(let s in e)s!="class"&&s!="style"&&s!="nodeName"&&!(s in n)&&t.removeAttribute(s);for(let s in n)s!="class"&&s!="style"&&s!="nodeName"&&n[s]!=e[s]&&t.setAttribute(s,n[s]);if(e.class!=n.class){let s=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let l=0;l<s.length;l++)i.indexOf(s[l])==-1&&t.classList.remove(s[l]);for(let l=0;l<i.length;l++)s.indexOf(i[l])==-1&&t.classList.add(i[l]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let s=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=s.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function MN(t,e,n){return AN(t,t,Jr,Ip(e,n,t.nodeType!=1))}function uu(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function yv(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class IA{constructor(e,n,s){this.lock=n,this.view=s,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=$A(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let s=e;s<n;s++)this.top.children[s].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,s,i){let l=0,c=this.stack.length>>1,d=Math.min(c,e.length);for(;l<d&&(l==c-1?this.top:this.stack[l+1<<1]).matchesMark(e[l])&&e[l].type.spec.spanning!==!1;)l++;for(;l<c;)this.destroyRest(),this.top.dirty=zn,this.index=this.stack.pop(),this.top=this.stack.pop(),c--;for(;c<e.length;){this.stack.push(this.top,this.index+1);let h=-1,p=this.top.children.length;i<this.preMatch.index&&(p=Math.min(this.index+3,p));for(let m=this.index;m<p;m++){let x=this.top.children[m];if(x.matchesMark(e[c])&&!this.isLocked(x.dom)){h=m;break}}if(h>-1)h>this.index&&(this.changed=!0,this.destroyBetween(this.index,h)),this.top=this.top.children[this.index];else{let m=ci.create(this.top,e[c],n,s);this.top.children.splice(this.index,0,m),this.top=m,this.changed=!0}this.index=0,c++}}findNodeMatch(e,n,s,i){let l=-1,c;if(i>=this.preMatch.index&&(c=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&c.matchesNode(e,n,s))l=this.top.children.indexOf(c,this.index);else for(let d=this.index,h=Math.min(this.top.children.length,d+5);d<h;d++){let p=this.top.children[d];if(p.matchesNode(e,n,s)&&!this.preMatch.matched.has(p)){l=d;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(e,n,s,i,l){let c=this.top.children[i];return c.dirty==ts&&c.dom==c.contentDOM&&(c.dirty=Wr),c.update(e,n,s,l)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let s=e.pmViewDesc;if(s){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==s)return i}return-1}e=n}}updateNextNode(e,n,s,i,l,c){for(let d=this.index;d<this.top.children.length;d++){let h=this.top.children[d];if(h instanceof br){let p=this.preMatch.matched.get(h);if(p!=null&&p!=l)return!1;let m=h.dom,x,y=this.isLocked(m)&&!(e.isText&&h.node&&h.node.isText&&h.nodeDOM.nodeValue==e.text&&h.dirty!=ts&&uu(n,h.outerDeco));if(!y&&h.update(e,n,s,i))return this.destroyBetween(this.index,d),h.dom!=m&&(this.changed=!0),this.index++,!0;if(!y&&(x=this.recreateWrapper(h,e,n,s,i,c)))return this.destroyBetween(this.index,d),this.top.children[this.index]=x,x.contentDOM&&(x.dirty=Wr,x.updateChildren(i,c+1),x.dirty=zn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,s,i,l,c){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!uu(s,e.outerDeco)||!i.eq(e.innerDeco))return null;let d=br.create(this.top,n,s,i,l,c);if(d.contentDOM){d.children=e.children,e.children=[];for(let h of d.children)h.parent=d}return e.destroy(),d}addNode(e,n,s,i,l){let c=br.create(this.top,e,n,s,i,l);c.contentDOM&&c.updateChildren(i,l+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(e,n,s){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let l=new CN(this.top,e,n,s);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof ci;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof ld)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Dt||Nt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let s=document.createElement(e);e=="IMG"&&(s.className="ProseMirror-separator",s.alt=""),e=="BR"&&(s.className="ProseMirror-trailingBreak");let i=new EN(this.top,[],s,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function $A(t,e){let n=e,s=n.children.length,i=t.childCount,l=new Map,c=[];e:for(;i>0;){let d;for(;;)if(s){let p=n.children[s-1];if(p instanceof ci)n=p,s=p.children.length;else{d=p,s--;break}}else{if(n==e)break e;s=n.parent.children.indexOf(n),n=n.parent}let h=d.node;if(h){if(h!=t.child(i-1))break;--i,l.set(d,i),c.push(d)}}return{index:i,matched:l,matches:c.reverse()}}function FA(t,e){return t.type.side-e.type.side}function VA(t,e,n,s){let i=e.locals(t),l=0;if(i.length==0){for(let p=0;p<t.childCount;p++){let m=t.child(p);s(m,i,e.forChild(l,m),p),l+=m.nodeSize}return}let c=0,d=[],h=null;for(let p=0;;){let m,x;for(;c<i.length&&i[c].to==l;){let j=i[c++];j.widget&&(m?(x||(x=[m])).push(j):m=j)}if(m)if(x){x.sort(FA);for(let j=0;j<x.length;j++)n(x[j],p,!!h)}else n(m,p,!!h);let y,w;if(h)w=-1,y=h,h=null;else if(p<t.childCount)w=p,y=t.child(p++);else break;for(let j=0;j<d.length;j++)d[j].to<=l&&d.splice(j--,1);for(;c<i.length&&i[c].from<=l&&i[c].to>l;)d.push(i[c++]);let v=l+y.nodeSize;if(y.isText){let j=v;c<i.length&&i[c].from<j&&(j=i[c].from);for(let E=0;E<d.length;E++)d[E].to<j&&(j=d[E].to);j<v&&(h=y.cut(j-l),y=y.cut(0,j-l),v=j,w=-1)}else for(;c<i.length&&i[c].to<v;)c++;let S=y.isInline&&!y.isLeaf?d.filter(j=>!j.inline):d.slice();s(y,S,e.forChild(l,y),w),l=v}}function qA(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function KA(t,e,n,s){for(let i=0,l=0;i<t.childCount&&l<=s;){let c=t.child(i++),d=l;if(l+=c.nodeSize,!c.isText)continue;let h=c.text;for(;i<t.childCount;){let p=t.child(i++);if(l+=p.nodeSize,!p.isText)break;h+=p.text}if(l>=n){if(l>=s&&h.slice(s-e.length-d,s-d)==e)return s-e.length;let p=d<s?h.lastIndexOf(e,s-d-1):-1;if(p>=0&&p+e.length+d>=n)return d+p;if(n==s&&h.length>=s+e.length-d&&h.slice(s-d,s-d+e.length)==e)return s}}return-1}function $p(t,e,n,s,i){let l=[];for(let c=0,d=0;c<t.length;c++){let h=t[c],p=d,m=d+=h.size;p>=n||m<=e?l.push(h):(p<e&&l.push(h.slice(0,e-p,s)),i&&(l.push(i),i=void 0),m>n&&l.push(h.slice(n-p,h.size,s)))}return l}function Am(t,e=null){let n=t.domSelectionRange(),s=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),l=i&&i.size==0,c=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(c<0)return null;let d=s.resolve(c),h,p;if(ad(n)){for(h=c;i&&!i.node;)i=i.parent;let x=i.node;if(i&&x.isAtom&&fe.isSelectable(x)&&i.parent&&!(x.isInline&&yA(n.focusNode,n.focusOffset,i.dom))){let y=i.posBefore;p=new fe(c==y?d:s.resolve(y))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let x=c,y=c;for(let w=0;w<n.rangeCount;w++){let v=n.getRangeAt(w);x=Math.min(x,t.docView.posFromDOM(v.startContainer,v.startOffset,1)),y=Math.max(y,t.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(x<0)return null;[h,c]=y==t.state.selection.anchor?[y,x]:[x,y],d=s.resolve(c)}else h=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(h<0)return null}let m=s.resolve(h);if(!p){let x=e=="pointer"||t.state.selection.head<d.pos&&!l?1:-1;p=Mm(t,m,d,x)}return p}function ON(t){return t.editable?t.hasFocus():LN(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Os(t,e=!1){let n=t.state.selection;if(RN(t,n),!!ON(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Nt){let s=t.domSelectionRange(),i=t.domObserver.currentSelection;if(s.anchorNode&&i.anchorNode&&oi(s.anchorNode,s.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)GA(t);else{let{anchor:s,head:i}=n,l,c;vv&&!(n instanceof ge)&&(n.$from.parent.inlineContent||(l=wv(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(c=wv(t,n.to))),t.docView.setSelection(s,i,t,e),vv&&(l&&Nv(l),c&&Nv(c)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&YA(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const vv=Dt||Nt&&bN<63;function wv(t,e){let{node:n,offset:s}=t.docView.domFromPos(e,0),i=s<n.childNodes.length?n.childNodes[s]:null,l=s?n.childNodes[s-1]:null;if(Dt&&i&&i.contentEditable=="false")return ap(i);if((!i||i.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(i)return ap(i);if(l)return ap(l)}}function ap(t){return t.contentEditable="true",Dt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Nv(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function YA(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),s=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=s||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!ON(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function GA(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,s=n.nodeName=="IMG";s?e.collapse(n.parentNode,Rt(n)+1):e.collapse(n,0),!s&&!t.state.selection.visible&&an&&xr<=11&&(n.disabled=!0,n.disabled=!1)}function RN(t,e){if(e instanceof fe){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(jv(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else jv(t)}function jv(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Mm(t,e,n,s){return t.someProp("createSelectionBetween",i=>i(t,e,n))||ge.between(e,n,s)}function Sv(t){return t.editable&&!t.hasFocus()?!1:LN(t)}function LN(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function WA(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return oi(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Fp(t,e){let{$anchor:n,$head:s}=t.selection,i=e>0?n.max(s):n.min(s),l=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return l&&Se.findFrom(l,e)}function or(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function kv(t,e,n){let s=t.state.selection;if(s instanceof ge)if(n.indexOf("s")>-1){let{$head:i}=s,l=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let c=t.state.doc.resolve(i.pos+l.nodeSize*(e<0?-1:1));return or(t,new ge(s.$anchor,c))}else if(s.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Fp(t.state,e);return i&&i instanceof fe?or(t,i):!1}else if(!(Rn&&n.indexOf("m")>-1)){let i=s.$head,l=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,c;if(!l||l.isText)return!1;let d=e<0?i.pos-l.nodeSize:i.pos;return l.isAtom||(c=t.docView.descAt(d))&&!c.contentDOM?fe.isSelectable(l)?or(t,new fe(e<0?t.state.doc.resolve(i.pos-l.nodeSize):i)):ao?or(t,new ge(t.state.doc.resolve(e<0?d:d+l.nodeSize))):!1:!1}}else return!1;else{if(s instanceof fe&&s.node.isInline)return or(t,new ge(e>0?s.$to:s.$from));{let i=Fp(t.state,e);return i?or(t,i):!1}}}function du(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Rl(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ea(t,e){return e<0?JA(t):XA(t)}function JA(t){let e=t.domSelectionRange(),n=e.focusNode,s=e.focusOffset;if(!n)return;let i,l,c=!1;for(Dn&&n.nodeType==1&&s<du(n)&&Rl(n.childNodes[s],-1)&&(c=!0);;)if(s>0){if(n.nodeType!=1)break;{let d=n.childNodes[s-1];if(Rl(d,-1))i=n,l=--s;else if(d.nodeType==3)n=d,s=n.nodeValue.length;else break}}else{if(DN(n))break;{let d=n.previousSibling;for(;d&&Rl(d,-1);)i=n.parentNode,l=Rt(d),d=d.previousSibling;if(d)n=d,s=du(n);else{if(n=n.parentNode,n==t.dom)break;s=0}}}c?Vp(t,n,s):i&&Vp(t,i,l)}function XA(t){let e=t.domSelectionRange(),n=e.focusNode,s=e.focusOffset;if(!n)return;let i=du(n),l,c;for(;;)if(s<i){if(n.nodeType!=1)break;let d=n.childNodes[s];if(Rl(d,1))l=n,c=++s;else break}else{if(DN(n))break;{let d=n.nextSibling;for(;d&&Rl(d,1);)l=d.parentNode,c=Rt(d)+1,d=d.nextSibling;if(d)n=d,s=0,i=du(n);else{if(n=n.parentNode,n==t.dom)break;s=i=0}}}l&&Vp(t,l,c)}function DN(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function QA(t,e){for(;t&&e==t.childNodes.length&&!io(t);)e=Rt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function ZA(t,e){for(;t&&!e&&!io(t);)e=Rt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Vp(t,e,n){if(e.nodeType!=3){let l,c;(c=QA(e,n))?(e=c,n=0):(l=ZA(e,n))&&(e=l,n=l.nodeValue.length)}let s=t.domSelection();if(!s)return;if(ad(s)){let l=document.createRange();l.setEnd(e,n),l.setStart(e,n),s.removeAllRanges(),s.addRange(l)}else s.extend&&s.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Os(t)},50)}function Cv(t,e){let n=t.state.doc.resolve(e);if(!(Nt||yN)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let l=t.coordsAtPos(e-1),c=(l.top+l.bottom)/2;if(c>i.top&&c<i.bottom&&Math.abs(l.left-i.left)>1)return l.left<i.left?"ltr":"rtl"}if(e<n.end()){let l=t.coordsAtPos(e+1),c=(l.top+l.bottom)/2;if(c>i.top&&c<i.bottom&&Math.abs(l.left-i.left)>1)return l.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Ev(t,e,n){let s=t.state.selection;if(s instanceof ge&&!s.empty||n.indexOf("s")>-1||Rn&&n.indexOf("m")>-1)return!1;let{$from:i,$to:l}=s;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let c=Fp(t.state,e);if(c&&c instanceof fe)return or(t,c)}if(!i.parent.inlineContent){let c=e<0?i:l,d=s instanceof yn?Se.near(c,e):Se.findFrom(c,e);return d?or(t,d):!1}return!1}function Tv(t,e){if(!(t.state.selection instanceof ge))return!0;let{$head:n,$anchor:s,empty:i}=t.state.selection;if(!n.sameParent(s))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let l=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(l&&!l.isText){let c=t.state.tr;return e<0?c.delete(n.pos-l.nodeSize,n.pos):c.delete(n.pos,n.pos+l.nodeSize),t.dispatch(c),!0}return!1}function Av(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function eM(t){if(!Dt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let s=e.firstChild;Av(t,s,"true"),setTimeout(()=>Av(t,s,"false"),20)}return!1}function tM(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function nM(t,e){let n=e.keyCode,s=tM(e);if(n==8||Rn&&n==72&&s=="c")return Tv(t,-1)||ea(t,-1);if(n==46&&!e.shiftKey||Rn&&n==68&&s=="c")return Tv(t,1)||ea(t,1);if(n==13||n==27)return!0;if(n==37||Rn&&n==66&&s=="c"){let i=n==37?Cv(t,t.state.selection.from)=="ltr"?-1:1:-1;return kv(t,i,s)||ea(t,i)}else if(n==39||Rn&&n==70&&s=="c"){let i=n==39?Cv(t,t.state.selection.from)=="ltr"?1:-1:1;return kv(t,i,s)||ea(t,i)}else{if(n==38||Rn&&n==80&&s=="c")return Ev(t,-1,s)||ea(t,-1);if(n==40||Rn&&n==78&&s=="c")return eM(t)||Ev(t,1,s)||ea(t,1);if(s==(Rn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Om(t,e){t.someProp("transformCopied",w=>{e=w(e,t)});let n=[],{content:s,openStart:i,openEnd:l}=e;for(;i>1&&l>1&&s.childCount==1&&s.firstChild.childCount==1;){i--,l--;let w=s.firstChild;n.push(w.type.name,w.attrs!=w.type.defaultAttrs?w.attrs:null),s=w.content}let c=t.someProp("clipboardSerializer")||fi.fromSchema(t.state.schema),d=PN(),h=d.createElement("div");h.appendChild(c.serializeFragment(s,{document:d}));let p=h.firstChild,m,x=0;for(;p&&p.nodeType==1&&(m=HN[p.nodeName.toLowerCase()]);){for(let w=m.length-1;w>=0;w--){let v=d.createElement(m[w]);for(;h.firstChild;)v.appendChild(h.firstChild);h.appendChild(v),x++}p=h.firstChild}p&&p.nodeType==1&&p.setAttribute("data-pm-slice",`${i} ${l}${x?` -${x}`:""} ${JSON.stringify(n)}`);let y=t.someProp("clipboardTextSerializer",w=>w(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:h,text:y,slice:e}}function zN(t,e,n,s,i){let l=i.parent.type.spec.code,c,d;if(!n&&!e)return null;let h=!!e&&(s||l||!n);if(h){if(t.someProp("transformPastedText",y=>{e=y(e,l||s,t)}),l)return d=new ae(ne.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",y=>{d=y(d,t,!0)}),d;let x=t.someProp("clipboardTextParser",y=>y(e,i,s,t));if(x)d=x;else{let y=i.marks(),{schema:w}=t.state,v=fi.fromSchema(w);c=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(S=>{let j=c.appendChild(document.createElement("p"));S&&j.appendChild(v.serializeNode(w.text(S,y)))})}}else t.someProp("transformPastedHTML",x=>{n=x(n,t)}),c=aM(n),ao&&lM(c);let p=c&&c.querySelector("[data-pm-slice]"),m=p&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(p.getAttribute("data-pm-slice")||"");if(m&&m[3])for(let x=+m[3];x>0;x--){let y=c.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;c=y}if(d||(d=(t.someProp("clipboardParser")||t.someProp("domParser")||gr.fromSchema(t.state.schema)).parseSlice(c,{preserveWhitespace:!!(h||m),context:i,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!sM.test(y.parentNode.nodeName)?{ignore:!0}:null}})),m)d=oM(Mv(d,+m[1],+m[2]),m[4]);else if(d=ae.maxOpen(rM(d.content,i),!0),d.openStart||d.openEnd){let x=0,y=0;for(let w=d.content.firstChild;x<d.openStart&&!w.type.spec.isolating;x++,w=w.firstChild);for(let w=d.content.lastChild;y<d.openEnd&&!w.type.spec.isolating;y++,w=w.lastChild);d=Mv(d,x,y)}return t.someProp("transformPasted",x=>{d=x(d,t,h)}),d}const sM=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function rM(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),l,c=[];if(t.forEach(d=>{if(!c)return;let h=i.findWrapping(d.type),p;if(!h)return c=null;if(p=c.length&&l.length&&BN(h,l,d,c[c.length-1],0))c[c.length-1]=p;else{c.length&&(c[c.length-1]=UN(c[c.length-1],l.length));let m=_N(d,h);c.push(m),i=i.matchType(m.type),l=h}}),c)return ne.from(c)}return t}function _N(t,e,n=0){for(let s=e.length-1;s>=n;s--)t=e[s].create(null,ne.from(t));return t}function BN(t,e,n,s,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let l=BN(t,e,n,s.lastChild,i+1);if(l)return s.copy(s.content.replaceChild(s.childCount-1,l));if(s.contentMatchAt(s.childCount).matchType(i==t.length-1?n.type:t[i+1]))return s.copy(s.content.append(ne.from(_N(n,t,i+1))))}}function UN(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,UN(t.lastChild,e-1)),s=t.contentMatchAt(t.childCount).fillBefore(ne.empty,!0);return t.copy(n.append(s))}function qp(t,e,n,s,i,l){let c=e<0?t.firstChild:t.lastChild,d=c.content;return t.childCount>1&&(l=0),i<s-1&&(d=qp(d,e,n,s,i+1,l)),i>=n&&(d=e<0?c.contentMatchAt(0).fillBefore(d,l<=i).append(d):d.append(c.contentMatchAt(c.childCount).fillBefore(ne.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,c.copy(d))}function Mv(t,e,n){return e<t.openStart&&(t=new ae(qp(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ae(qp(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const HN={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Ov=null;function PN(){return Ov||(Ov=document.implementation.createHTMLDocument("title"))}let lp=null;function iM(t){let e=window.trustedTypes;return e?(lp||(lp=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),lp.createHTML(t)):t}function aM(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=PN().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(t),i;if((i=s&&HN[s[1].toLowerCase()])&&(t=i.map(l=>"<"+l+">").join("")+t+i.map(l=>"</"+l+">").reverse().join("")),n.innerHTML=iM(t),i)for(let l=0;l<i.length;l++)n=n.querySelector(i[l])||n;return n}function lM(t){let e=t.querySelectorAll(Nt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let s=e[n];s.childNodes.length==1&&s.textContent==""&&s.parentNode&&s.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),s)}}function oM(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,s;try{s=JSON.parse(e)}catch{return t}let{content:i,openStart:l,openEnd:c}=t;for(let d=s.length-2;d>=0;d-=2){let h=n.nodes[s[d]];if(!h||h.hasRequiredAttrs())break;i=ne.from(h.create(s[d+1],i)),l++,c++}return new ae(i,l,c)}const Kt={},Yt={},cM={touchstart:!0,touchmove:!0};class uM{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function dM(t){for(let e in Kt){let n=Kt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=s=>{hM(t,s)&&!Rm(t,s)&&(t.editable||!(s.type in Yt))&&n(t,s)},cM[e]?{passive:!0}:void 0)}Dt&&t.dom.addEventListener("input",()=>null),Kp(t)}function mr(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function fM(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Kp(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=s=>Rm(t,s))})}function Rm(t,e){return t.someProp("handleDOMEvents",n=>{let s=n[e.type];return s?s(t,e)||e.defaultPrevented:!1})}function hM(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function pM(t,e){!Rm(t,e)&&Kt[e.type]&&(t.editable||!(e.type in Yt))&&Kt[e.type](t,e)}Yt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!$N(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ts&&Nt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),fa&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let s=Date.now();t.input.lastIOSEnter=s,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==s&&(t.someProp("handleKeyDown",i=>i(t,Yr(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",s=>s(t,n))||nM(t,n)?n.preventDefault():mr(t,"key")};Yt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Yt.keypress=(t,e)=>{let n=e;if($N(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Rn&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let s=t.state.selection;if(!(s instanceof ge)||!s.$from.sameParent(s.$to)){let i=String.fromCharCode(n.charCode),l=()=>t.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",c=>c(t,s.$from.pos,s.$to.pos,i,l))&&t.dispatch(l()),n.preventDefault()}};function od(t){return{left:t.clientX,top:t.clientY}}function mM(t,e){let n=e.x-t.clientX,s=e.y-t.clientY;return n*n+s*s<100}function Lm(t,e,n,s,i){if(s==-1)return!1;let l=t.state.doc.resolve(s);for(let c=l.depth+1;c>0;c--)if(t.someProp(e,d=>c>l.depth?d(t,n,l.nodeAfter,l.before(c),i,!0):d(t,n,l.node(c),l.before(c),i,!1)))return!0;return!1}function la(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let s=t.state.tr.setSelection(e);s.setMeta("pointer",!0),t.dispatch(s)}function gM(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),s=n.nodeAfter;return s&&s.isAtom&&fe.isSelectable(s)?(la(t,new fe(n)),!0):!1}function xM(t,e){if(e==-1)return!1;let n=t.state.selection,s,i;n instanceof fe&&(s=n.node);let l=t.state.doc.resolve(e);for(let c=l.depth+1;c>0;c--){let d=c>l.depth?l.nodeAfter:l.node(c);if(fe.isSelectable(d)){s&&n.$from.depth>0&&c>=n.$from.depth&&l.before(n.$from.depth+1)==n.$from.pos?i=l.before(n.$from.depth):i=l.before(c);break}}return i!=null?(la(t,fe.create(t.state.doc,i)),!0):!1}function bM(t,e,n,s,i){return Lm(t,"handleClickOn",e,n,s)||t.someProp("handleClick",l=>l(t,e,s))||(i?xM(t,n):gM(t,n))}function yM(t,e,n,s){return Lm(t,"handleDoubleClickOn",e,n,s)||t.someProp("handleDoubleClick",i=>i(t,e,s))}function vM(t,e,n,s){return Lm(t,"handleTripleClickOn",e,n,s)||t.someProp("handleTripleClick",i=>i(t,e,s))||wM(t,n,s)}function wM(t,e,n){if(n.button!=0)return!1;let s=t.state.doc;if(e==-1)return s.inlineContent?(la(t,ge.create(s,0,s.content.size)),!0):!1;let i=s.resolve(e);for(let l=i.depth+1;l>0;l--){let c=l>i.depth?i.nodeAfter:i.node(l),d=i.before(l);if(c.inlineContent)la(t,ge.create(s,d+1,d+1+c.content.size));else if(fe.isSelectable(c))la(t,fe.create(s,d));else continue;return!0}}function Dm(t){return fu(t)}const IN=Rn?"metaKey":"ctrlKey";Kt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let s=Dm(t),i=Date.now(),l="singleClick";i-t.input.lastClick.time<500&&mM(n,t.input.lastClick)&&!n[IN]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?l="doubleClick":t.input.lastClick.type=="doubleClick"&&(l="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:l,button:n.button};let c=t.posAtCoords(od(n));c&&(l=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new NM(t,c,n,!!s)):(l=="doubleClick"?yM:vM)(t,c.pos,c.inside,n)?n.preventDefault():mr(t,"pointer"))};class NM{constructor(e,n,s,i){this.view=e,this.pos=n,this.event=s,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!s[IN],this.allowDefault=s.shiftKey;let l,c;if(n.inside>-1)l=e.state.doc.nodeAt(n.inside),c=n.inside;else{let m=e.state.doc.resolve(n.pos);l=m.parent,c=m.depth?m.before():0}const d=i?null:s.target,h=d?e.docView.nearestDesc(d,!0):null;this.target=h&&h.nodeDOM.nodeType==1?h.nodeDOM:null;let{selection:p}=e.state;(s.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||p instanceof fe&&p.from<=c&&p.to>c)&&(this.mightDrag={node:l,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Dn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),mr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Os(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(od(e))),this.updateAllowDefault(e),this.allowDefault||!n?mr(this.view,"pointer"):bM(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Dt&&this.mightDrag&&!this.mightDrag.node.isAtom||Nt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(la(this.view,Se.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):mr(this.view,"pointer")}move(e){this.updateAllowDefault(e),mr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Kt.touchstart=t=>{t.input.lastTouch=Date.now(),Dm(t),mr(t,"pointer")};Kt.touchmove=t=>{t.input.lastTouch=Date.now(),mr(t,"pointer")};Kt.contextmenu=t=>Dm(t);function $N(t,e){return t.composing?!0:Dt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const jM=Ts?5e3:-1;Yt.compositionstart=Yt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof ge&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(s=>s.type.spec.inclusive===!1)||Nt&&yN&&SM(t)))t.markCursor=t.state.storedMarks||n.marks(),fu(t,!0),t.markCursor=null;else if(fu(t,!e.selection.empty),Dn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let s=t.domSelectionRange();for(let i=s.focusNode,l=s.focusOffset;i&&i.nodeType==1&&l!=0;){let c=l<0?i.lastChild:i.childNodes[l-1];if(!c)break;if(c.nodeType==3){let d=t.domSelection();d&&d.collapse(c,c.nodeValue.length);break}else i=c,l=-1}}t.input.composing=!0}FN(t,jM)};function SM(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let s=e.childNodes[n];return s.nodeType==1&&s.contentEditable=="false"}Yt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.badSafariComposition?t.domObserver.forceFlush():t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,FN(t,20))};function FN(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>fu(t),e))}function VN(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=CM());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function kM(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=xA(e.focusNode,e.focusOffset),s=bA(e.focusNode,e.focusOffset);if(n&&s&&n!=s){let i=s.pmViewDesc,l=t.domObserver.lastChangedTextNode;if(n==l||s==l)return l;if(!i||!i.isText(s.nodeValue))return s;if(t.input.compositionNode==s){let c=n.pmViewDesc;if(!(!c||!c.isText(n.nodeValue)))return s}}return n||s}function CM(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function fu(t,e=!1){if(!(Ts&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),VN(t),e||t.docView&&t.docView.dirty){let n=Am(t),s=t.state.selection;return n&&!n.eq(s)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!s.$from.node(s.$from.sharedDepth(s.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function EM(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let s=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),s.removeAllRanges(),s.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Vl=an&&xr<15||fa&&NA<604;Kt.copy=Yt.cut=(t,e)=>{let n=e,s=t.state.selection,i=n.type=="cut";if(s.empty)return;let l=Vl?null:n.clipboardData,c=s.content(),{dom:d,text:h}=Om(t,c);l?(n.preventDefault(),l.clearData(),l.setData("text/html",d.innerHTML),l.setData("text/plain",h)):EM(t,d),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function TM(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function AM(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,s=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),s.parentNode&&s.parentNode.removeChild(s),n?ql(t,s.value,null,i,e):ql(t,s.textContent,s.innerHTML,i,e)},50)}function ql(t,e,n,s,i){let l=zN(t,e,n,s,t.state.selection.$from);if(t.someProp("handlePaste",h=>h(t,i,l||ae.empty)))return!0;if(!l)return!1;let c=TM(l),d=c?t.state.tr.replaceSelectionWith(c,s):t.state.tr.replaceSelection(l);return t.dispatch(d.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function qN(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Yt.paste=(t,e)=>{let n=e;if(t.composing&&!Ts)return;let s=Vl?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;s&&ql(t,qN(s),s.getData("text/html"),i,n)?n.preventDefault():AM(t,n)};class KN{constructor(e,n,s){this.slice=e,this.move=n,this.node=s}}const MM=Rn?"altKey":"ctrlKey";function YN(t,e){let n=t.someProp("dragCopies",s=>!s(e));return n??!e[MM]}Kt.dragstart=(t,e)=>{let n=e,s=t.input.mouseDown;if(s&&s.done(),!n.dataTransfer)return;let i=t.state.selection,l=i.empty?null:t.posAtCoords(od(n)),c;if(!(l&&l.pos>=i.from&&l.pos<=(i instanceof fe?i.to-1:i.to))){if(s&&s.mightDrag)c=fe.create(t.state.doc,s.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let x=t.docView.nearestDesc(n.target,!0);x&&x.node.type.spec.draggable&&x!=t.docView&&(c=fe.create(t.state.doc,x.posBefore))}}let d=(c||t.state.selection).content(),{dom:h,text:p,slice:m}=Om(t,d);(!n.dataTransfer.files.length||!Nt||bN>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Vl?"Text":"text/html",h.innerHTML),n.dataTransfer.effectAllowed="copyMove",Vl||n.dataTransfer.setData("text/plain",p),t.dragging=new KN(m,YN(t,n),c)};Kt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Yt.dragover=Yt.dragenter=(t,e)=>e.preventDefault();Yt.drop=(t,e)=>{try{OM(t,e,t.dragging)}finally{t.dragging=null}};function OM(t,e,n){if(!e.dataTransfer)return;let s=t.posAtCoords(od(e));if(!s)return;let i=t.state.doc.resolve(s.pos),l=n&&n.slice;l?t.someProp("transformPasted",w=>{l=w(l,t,!1)}):l=zN(t,qN(e.dataTransfer),Vl?null:e.dataTransfer.getData("text/html"),!1,i);let c=!!(n&&YN(t,e));if(t.someProp("handleDrop",w=>w(t,e,l||ae.empty,c))){e.preventDefault();return}if(!l)return;e.preventDefault();let d=l?Xw(t.state.doc,i.pos,l):i.pos;d==null&&(d=i.pos);let h=t.state.tr;if(c){let{node:w}=n;w?w.replace(h):h.deleteSelection()}let p=h.mapping.map(d),m=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,x=h.doc;if(m?h.replaceRangeWith(p,p,l.content.firstChild):h.replaceRange(p,p,l),h.doc.eq(x))return;let y=h.doc.resolve(p);if(m&&fe.isSelectable(l.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(l.content.firstChild))h.setSelection(new fe(y));else{let w=h.mapping.map(d);h.mapping.maps[h.mapping.maps.length-1].forEach((v,S,j,E)=>w=E),h.setSelection(Mm(t,y,h.doc.resolve(w)))}t.focus(),t.dispatch(h.setMeta("uiEvent","drop"))}Kt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Os(t)},20))};Kt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Kt.beforeinput=(t,e)=>{if(Nt&&Ts&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:s}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=s||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",l=>l(t,Yr(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Yt)Kt[t]=Yt[t];function Kl(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class hu{constructor(e,n){this.toDOM=e,this.spec=n||ni,this.side=this.spec.side||0}map(e,n,s,i){let{pos:l,deleted:c}=e.mapResult(n.from+i,this.side<0?-1:1);return c?null:new Vt(l-s,l-s,this)}valid(){return!0}eq(e){return this==e||e instanceof hu&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Kl(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class yr{constructor(e,n){this.attrs=e,this.spec=n||ni}map(e,n,s,i){let l=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-s,c=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-s;return l>=c?null:new Vt(l,c,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof yr&&Kl(this.attrs,e.attrs)&&Kl(this.spec,e.spec)}static is(e){return e.type instanceof yr}destroy(){}}class zm{constructor(e,n){this.attrs=e,this.spec=n||ni}map(e,n,s,i){let l=e.mapResult(n.from+i,1);if(l.deleted)return null;let c=e.mapResult(n.to+i,-1);return c.deleted||c.pos<=l.pos?null:new Vt(l.pos-s,c.pos-s,this)}valid(e,n){let{index:s,offset:i}=e.content.findIndex(n.from),l;return i==n.from&&!(l=e.child(s)).isText&&i+l.nodeSize==n.to}eq(e){return this==e||e instanceof zm&&Kl(this.attrs,e.attrs)&&Kl(this.spec,e.spec)}destroy(){}}class Vt{constructor(e,n,s){this.from=e,this.to=n,this.type=s}copy(e,n){return new Vt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,s){return this.type.map(e,this,n,s)}static widget(e,n,s){return new Vt(e,e,new hu(n,s))}static inline(e,n,s,i){return new Vt(e,n,new yr(s,i))}static node(e,n,s,i){return new Vt(e,n,new zm(s,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof yr}get widget(){return this.type instanceof hu}}const na=[],ni={};class Qe{constructor(e,n){this.local=e.length?e:na,this.children=n.length?n:na}static create(e,n){return n.length?pu(n,e,0,ni):_t}find(e,n,s){let i=[];return this.findInner(e??0,n??1e9,i,0,s),i}findInner(e,n,s,i,l){for(let c=0;c<this.local.length;c++){let d=this.local[c];d.from<=n&&d.to>=e&&(!l||l(d.spec))&&s.push(d.copy(d.from+i,d.to+i))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<n&&this.children[c+1]>e){let d=this.children[c]+1;this.children[c+2].findInner(e-d,n-d,s,i+d,l)}}map(e,n,s){return this==_t||e.maps.length==0?this:this.mapInner(e,n,0,0,s||ni)}mapInner(e,n,s,i,l){let c;for(let d=0;d<this.local.length;d++){let h=this.local[d].map(e,s,i);h&&h.type.valid(n,h)?(c||(c=[])).push(h):l.onRemove&&l.onRemove(this.local[d].spec)}return this.children.length?RM(this.children,c||[],e,n,s,i,l):c?new Qe(c.sort(si),na):_t}add(e,n){return n.length?this==_t?Qe.create(e,n):this.addInner(e,n,0):this}addInner(e,n,s){let i,l=0;e.forEach((d,h)=>{let p=h+s,m;if(m=WN(n,d,p)){for(i||(i=this.children.slice());l<i.length&&i[l]<h;)l+=3;i[l]==h?i[l+2]=i[l+2].addInner(d,m,p+1):i.splice(l,0,h,h+d.nodeSize,pu(m,d,p+1,ni)),l+=3}});let c=GN(l?JN(n):n,-s);for(let d=0;d<c.length;d++)c[d].type.valid(e,c[d])||c.splice(d--,1);return new Qe(c.length?this.local.concat(c).sort(si):this.local,i||this.children)}remove(e){return e.length==0||this==_t?this:this.removeInner(e,0)}removeInner(e,n){let s=this.children,i=this.local;for(let l=0;l<s.length;l+=3){let c,d=s[l]+n,h=s[l+1]+n;for(let m=0,x;m<e.length;m++)(x=e[m])&&x.from>d&&x.to<h&&(e[m]=null,(c||(c=[])).push(x));if(!c)continue;s==this.children&&(s=this.children.slice());let p=s[l+2].removeInner(c,d+1);p!=_t?s[l+2]=p:(s.splice(l,3),l-=3)}if(i.length){for(let l=0,c;l<e.length;l++)if(c=e[l])for(let d=0;d<i.length;d++)i[d].eq(c,n)&&(i==this.local&&(i=this.local.slice()),i.splice(d--,1))}return s==this.children&&i==this.local?this:i.length||s.length?new Qe(i,s):_t}forChild(e,n){if(this==_t)return this;if(n.isLeaf)return Qe.empty;let s,i;for(let d=0;d<this.children.length;d+=3)if(this.children[d]>=e){this.children[d]==e&&(s=this.children[d+2]);break}let l=e+1,c=l+n.content.size;for(let d=0;d<this.local.length;d++){let h=this.local[d];if(h.from<c&&h.to>l&&h.type instanceof yr){let p=Math.max(l,h.from)-l,m=Math.min(c,h.to)-l;p<m&&(i||(i=[])).push(h.copy(p,m))}}if(i){let d=new Qe(i.sort(si),na);return s?new dr([d,s]):d}return s||_t}eq(e){if(this==e)return!0;if(!(e instanceof Qe)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return _m(this.localsInner(e))}localsInner(e){if(this==_t)return na;if(e.inlineContent||!this.local.some(yr.is))return this.local;let n=[];for(let s=0;s<this.local.length;s++)this.local[s].type instanceof yr||n.push(this.local[s]);return n}forEachSet(e){e(this)}}Qe.empty=new Qe([],[]);Qe.removeOverlap=_m;const _t=Qe.empty;class dr{constructor(e){this.members=e}map(e,n){const s=this.members.map(i=>i.map(e,n,ni));return dr.from(s)}forChild(e,n){if(n.isLeaf)return Qe.empty;let s=[];for(let i=0;i<this.members.length;i++){let l=this.members[i].forChild(e,n);l!=_t&&(l instanceof dr?s=s.concat(l.members):s.push(l))}return dr.from(s)}eq(e){if(!(e instanceof dr)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,s=!0;for(let i=0;i<this.members.length;i++){let l=this.members[i].localsInner(e);if(l.length)if(!n)n=l;else{s&&(n=n.slice(),s=!1);for(let c=0;c<l.length;c++)n.push(l[c])}}return n?_m(s?n:n.sort(si)):na}static from(e){switch(e.length){case 0:return _t;case 1:return e[0];default:return new dr(e.every(n=>n instanceof Qe)?e:e.reduce((n,s)=>n.concat(s instanceof Qe?s:s.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function RM(t,e,n,s,i,l,c){let d=t.slice();for(let p=0,m=l;p<n.maps.length;p++){let x=0;n.maps[p].forEach((y,w,v,S)=>{let j=S-v-(w-y);for(let E=0;E<d.length;E+=3){let T=d[E+1];if(T<0||y>T+m-x)continue;let A=d[E]+m-x;w>=A?d[E+1]=y<=A?-2:-1:y>=m&&j&&(d[E]+=j,d[E+1]+=j)}x+=j}),m=n.maps[p].map(m,-1)}let h=!1;for(let p=0;p<d.length;p+=3)if(d[p+1]<0){if(d[p+1]==-2){h=!0,d[p+1]=-1;continue}let m=n.map(t[p]+l),x=m-i;if(x<0||x>=s.content.size){h=!0;continue}let y=n.map(t[p+1]+l,-1),w=y-i,{index:v,offset:S}=s.content.findIndex(x),j=s.maybeChild(v);if(j&&S==x&&S+j.nodeSize==w){let E=d[p+2].mapInner(n,j,m+1,t[p]+l+1,c);E!=_t?(d[p]=x,d[p+1]=w,d[p+2]=E):(d[p+1]=-2,h=!0)}else h=!0}if(h){let p=LM(d,t,e,n,i,l,c),m=pu(p,s,0,c);e=m.local;for(let x=0;x<d.length;x+=3)d[x+1]<0&&(d.splice(x,3),x-=3);for(let x=0,y=0;x<m.children.length;x+=3){let w=m.children[x];for(;y<d.length&&d[y]<w;)y+=3;d.splice(y,0,m.children[x],m.children[x+1],m.children[x+2])}}return new Qe(e.sort(si),d)}function GN(t,e){if(!e||!t.length)return t;let n=[];for(let s=0;s<t.length;s++){let i=t[s];n.push(new Vt(i.from+e,i.to+e,i.type))}return n}function LM(t,e,n,s,i,l,c){function d(h,p){for(let m=0;m<h.local.length;m++){let x=h.local[m].map(s,i,p);x?n.push(x):c.onRemove&&c.onRemove(h.local[m].spec)}for(let m=0;m<h.children.length;m+=3)d(h.children[m+2],h.children[m]+p+1)}for(let h=0;h<t.length;h+=3)t[h+1]==-1&&d(t[h+2],e[h]+l+1);return n}function WN(t,e,n){if(e.isLeaf)return null;let s=n+e.nodeSize,i=null;for(let l=0,c;l<t.length;l++)(c=t[l])&&c.from>n&&c.to<s&&((i||(i=[])).push(c),t[l]=null);return i}function JN(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function pu(t,e,n,s){let i=[],l=!1;e.forEach((d,h)=>{let p=WN(t,d,h+n);if(p){l=!0;let m=pu(p,d,n+h+1,s);m!=_t&&i.push(h,h+d.nodeSize,m)}});let c=GN(l?JN(t):t,-n).sort(si);for(let d=0;d<c.length;d++)c[d].type.valid(e,c[d])||(s.onRemove&&s.onRemove(c[d].spec),c.splice(d--,1));return c.length||i.length?new Qe(c,i):_t}function si(t,e){return t.from-e.from||t.to-e.to}function _m(t){let e=t;for(let n=0;n<e.length-1;n++){let s=e[n];if(s.from!=s.to)for(let i=n+1;i<e.length;i++){let l=e[i];if(l.from==s.from){l.to!=s.to&&(e==t&&(e=t.slice()),e[i]=l.copy(l.from,s.to),Rv(e,i+1,l.copy(s.to,l.to)));continue}else{l.from<s.to&&(e==t&&(e=t.slice()),e[n]=s.copy(s.from,l.from),Rv(e,i,s.copy(l.from,s.to)));break}}}return e}function Rv(t,e,n){for(;e<t.length&&si(n,t[e])>0;)e++;t.splice(e,0,n)}function op(t){let e=[];return t.someProp("decorations",n=>{let s=n(t.state);s&&s!=_t&&e.push(s)}),t.cursorWrapper&&e.push(Qe.create(t.state.doc,[t.cursorWrapper.deco])),dr.from(e)}const DM={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},zM=an&&xr<=11;class _M{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class BM{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new _M,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(s=>{for(let i=0;i<s.length;i++)this.queue.push(s[i]);an&&xr<=11&&s.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():Dt&&e.composing&&s.some(i=>i.type=="childList"&&i.target.nodeName=="TR")?(e.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),zM&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,DM)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Sv(this.view)){if(this.suppressingSelectionUpdates)return Os(this.view);if(an&&xr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&oi(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,s;for(let l=e.focusNode;l;l=da(l))n.add(l);for(let l=e.anchorNode;l;l=da(l))if(n.has(l)){s=l;break}let i=s&&this.view.docView.nearestDesc(s);if(i&&i.ignoreMutation({type:"selection",target:s.nodeType==3?s.parentNode:s}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let s=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(s)&&Sv(e)&&!this.ignoreSelectionChange(s),l=-1,c=-1,d=!1,h=[];if(e.editable)for(let m=0;m<n.length;m++){let x=this.registerMutation(n[m],h);x&&(l=l<0?x.from:Math.min(x.from,l),c=c<0?x.to:Math.max(x.to,c),x.typeOver&&(d=!0))}if(Dn&&h.length){let m=h.filter(x=>x.nodeName=="BR");if(m.length==2){let[x,y]=m;x.parentNode&&x.parentNode.parentNode==y.parentNode?y.remove():x.remove()}else{let{focusNode:x}=this.currentSelection;for(let y of m){let w=y.parentNode;w&&w.nodeName=="LI"&&(!x||PM(e,x)!=w)&&y.remove()}}}else if((Nt||Dt)&&h.some(m=>m.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let m of h)if(m.nodeName=="BR"&&m.parentNode){let x=m.nextSibling;x&&x.nodeType==1&&x.contentEditable=="false"&&m.parentNode.removeChild(m)}}let p=null;l<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&ad(s)&&(p=Am(e))&&p.eq(Se.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Os(e),this.currentSelection.set(s),e.scrollToSelection()):(l>-1||i)&&(l>-1&&(e.docView.markDirty(l,c),UM(e)),e.input.badSafariComposition&&(e.input.badSafariComposition=!1,IM(e,h)),this.handleDOMChange(l,c,d,h),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(s)||Os(e),this.currentSelection.set(s))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let s=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(s==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!s||s.ignoreMutation(e))return null;if(e.type=="childList"){for(let m=0;m<e.addedNodes.length;m++){let x=e.addedNodes[m];n.push(x),x.nodeType==3&&(this.lastChangedTextNode=x)}if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(e.target))return{from:s.posBefore,to:s.posAfter};let i=e.previousSibling,l=e.nextSibling;if(an&&xr<=11&&e.addedNodes.length)for(let m=0;m<e.addedNodes.length;m++){let{previousSibling:x,nextSibling:y}=e.addedNodes[m];(!x||Array.prototype.indexOf.call(e.addedNodes,x)<0)&&(i=x),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(l=y)}let c=i&&i.parentNode==e.target?Rt(i)+1:0,d=s.localPosFromDOM(e.target,c,-1),h=l&&l.parentNode==e.target?Rt(l):e.target.childNodes.length,p=s.localPosFromDOM(e.target,h,1);return{from:d,to:p}}else return e.type=="attributes"?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:(this.lastChangedTextNode=e.target,{from:s.posAtStart,to:s.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Lv=new WeakMap,Dv=!1;function UM(t){if(!Lv.has(t)&&(Lv.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Dn,Dv)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Dv=!0}}function zv(t,e){let n=e.startContainer,s=e.startOffset,i=e.endContainer,l=e.endOffset,c=t.domAtPos(t.state.selection.anchor);return oi(c.node,c.offset,i,l)&&([n,s,i,l]=[i,l,n,s]),{anchorNode:n,anchorOffset:s,focusNode:i,focusOffset:l}}function HM(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return zv(t,i)}let n;function s(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",s,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",s,!0),n?zv(t,n):null}function PM(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let s=t.docView.nearestDesc(n,!0);if(s&&s.node.isBlock)return n}return null}function IM(t,e){var n;let{focusNode:s,focusOffset:i}=t.domSelectionRange();for(let l of e)if(((n=l.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let c=l.nextSibling;for(;c&&c.nodeName!="TD"&&c.nodeName!="TH";)c=c.nextSibling;if(c){let d=c;for(;;){let h=d.firstChild;if(!h||h.nodeType!=1||h.contentEditable=="false"||/^(BR|IMG)$/.test(h.nodeName))break;d=h}d.insertBefore(l,d.firstChild),s==l&&t.domSelection().collapse(l,i)}else l.parentNode.removeChild(l)}}function $M(t,e,n){let{node:s,fromOffset:i,toOffset:l,from:c,to:d}=t.docView.parseRange(e,n),h=t.domSelectionRange(),p,m=h.anchorNode;if(m&&t.dom.contains(m.nodeType==1?m:m.parentNode)&&(p=[{node:m,offset:h.anchorOffset}],ad(h)||p.push({node:h.focusNode,offset:h.focusOffset})),Nt&&t.input.lastKeyCode===8)for(let j=l;j>i;j--){let E=s.childNodes[j-1],T=E.pmViewDesc;if(E.nodeName=="BR"&&!T){l=j;break}if(!T||T.size)break}let x=t.state.doc,y=t.someProp("domParser")||gr.fromSchema(t.state.schema),w=x.resolve(c),v=null,S=y.parse(s,{topNode:w.parent,topMatch:w.parent.contentMatchAt(w.index()),topOpen:!0,from:i,to:l,preserveWhitespace:w.parent.type.whitespace=="pre"?"full":!0,findPositions:p,ruleFromNode:FM,context:w});if(p&&p[0].pos!=null){let j=p[0].pos,E=p[1]&&p[1].pos;E==null&&(E=j),v={anchor:j+c,head:E+c}}return{doc:S,sel:v,from:c,to:d}}function FM(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Dt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Dt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const VM=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function qM(t,e,n,s,i){let l=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let O=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,Y=Am(t,O);if(Y&&!t.state.selection.eq(Y)){if(Nt&&Ts&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",$=>$(t,Yr(13,"Enter"))))return;let U=t.state.tr.setSelection(Y);O=="pointer"?U.setMeta("pointer",!0):O=="key"&&U.scrollIntoView(),l&&U.setMeta("composition",l),t.dispatch(U)}return}let c=t.state.doc.resolve(e),d=c.sharedDepth(n);e=c.before(d+1),n=t.state.doc.resolve(n).after(d+1);let h=t.state.selection,p=$M(t,e,n),m=t.state.doc,x=m.slice(p.from,p.to),y,w;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(y=t.state.selection.to,w="end"):(y=t.state.selection.from,w="start"),t.input.lastKeyCode=null;let v=GM(x.content,p.doc.content,p.from,y,w);if(v&&t.input.domChangeCount++,(fa&&t.input.lastIOSEnter>Date.now()-225||Ts)&&i.some(O=>O.nodeType==1&&!VM.test(O.nodeName))&&(!v||v.endA>=v.endB)&&t.someProp("handleKeyDown",O=>O(t,Yr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!v)if(s&&h instanceof ge&&!h.empty&&h.$head.sameParent(h.$anchor)&&!t.composing&&!(p.sel&&p.sel.anchor!=p.sel.head))v={start:h.from,endA:h.to,endB:h.to};else{if(p.sel){let O=_v(t,t.state.doc,p.sel);if(O&&!O.eq(t.state.selection)){let Y=t.state.tr.setSelection(O);l&&Y.setMeta("composition",l),t.dispatch(Y)}}return}t.state.selection.from<t.state.selection.to&&v.start==v.endB&&t.state.selection instanceof ge&&(v.start>t.state.selection.from&&v.start<=t.state.selection.from+2&&t.state.selection.from>=p.from?v.start=t.state.selection.from:v.endA<t.state.selection.to&&v.endA>=t.state.selection.to-2&&t.state.selection.to<=p.to&&(v.endB+=t.state.selection.to-v.endA,v.endA=t.state.selection.to)),an&&xr<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>p.from&&p.doc.textBetween(v.start-p.from-1,v.start-p.from+1)==" "&&(v.start--,v.endA--,v.endB--);let S=p.doc.resolveNoCache(v.start-p.from),j=p.doc.resolveNoCache(v.endB-p.from),E=m.resolve(v.start),T=S.sameParent(j)&&S.parent.inlineContent&&E.end()>=v.endA;if((fa&&t.input.lastIOSEnter>Date.now()-225&&(!T||i.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!T&&S.pos<p.doc.content.size&&(!S.sameParent(j)||!S.parent.inlineContent)&&S.pos<j.pos&&!/\S/.test(p.doc.textBetween(S.pos,j.pos,"","")))&&t.someProp("handleKeyDown",O=>O(t,Yr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>v.start&&YM(m,v.start,v.endA,S,j)&&t.someProp("handleKeyDown",O=>O(t,Yr(8,"Backspace")))){Ts&&Nt&&t.domObserver.suppressSelectionUpdates();return}Nt&&v.endB==v.start&&(t.input.lastChromeDelete=Date.now()),Ts&&!T&&S.start()!=j.start()&&j.parentOffset==0&&S.depth==j.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==v.endA&&(v.endB-=2,j=p.doc.resolveNoCache(v.endB-p.from),setTimeout(()=>{t.someProp("handleKeyDown",function(O){return O(t,Yr(13,"Enter"))})},20));let A=v.start,H=v.endA,B=O=>{let Y=O||t.state.tr.replace(A,H,p.doc.slice(v.start-p.from,v.endB-p.from));if(p.sel){let U=_v(t,Y.doc,p.sel);U&&!(Nt&&t.composing&&U.empty&&(v.start!=v.endB||t.input.lastChromeDelete<Date.now()-100)&&(U.head==A||U.head==Y.mapping.map(H)-1)||an&&U.empty&&U.head==A)&&Y.setSelection(U)}return l&&Y.setMeta("composition",l),Y.scrollIntoView()},z;if(T)if(S.pos==j.pos){an&&xr<=11&&S.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Os(t),20));let O=B(t.state.tr.delete(A,H)),Y=m.resolve(v.start).marksAcross(m.resolve(v.endA));Y&&O.ensureMarks(Y),t.dispatch(O)}else if(v.endA==v.endB&&(z=KM(S.parent.content.cut(S.parentOffset,j.parentOffset),E.parent.content.cut(E.parentOffset,v.endA-E.start())))){let O=B(t.state.tr);z.type=="add"?O.addMark(A,H,z.mark):O.removeMark(A,H,z.mark),t.dispatch(O)}else if(S.parent.child(S.index()).isText&&S.index()==j.index()-(j.textOffset?0:1)){let O=S.parent.textBetween(S.parentOffset,j.parentOffset),Y=()=>B(t.state.tr.insertText(O,A,H));t.someProp("handleTextInput",U=>U(t,A,H,O,Y))||t.dispatch(Y())}else t.dispatch(B());else t.dispatch(B())}function _v(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Mm(t,e.resolve(n.anchor),e.resolve(n.head))}function KM(t,e){let n=t.firstChild.marks,s=e.firstChild.marks,i=n,l=s,c,d,h;for(let m=0;m<s.length;m++)i=s[m].removeFromSet(i);for(let m=0;m<n.length;m++)l=n[m].removeFromSet(l);if(i.length==1&&l.length==0)d=i[0],c="add",h=m=>m.mark(d.addToSet(m.marks));else if(i.length==0&&l.length==1)d=l[0],c="remove",h=m=>m.mark(d.removeFromSet(m.marks));else return null;let p=[];for(let m=0;m<e.childCount;m++)p.push(h(e.child(m)));if(ne.from(p).eq(t))return{mark:d,type:c}}function YM(t,e,n,s,i){if(n-e<=i.pos-s.pos||cp(s,!0,!1)<i.pos)return!1;let l=t.resolve(e);if(!s.parent.isTextblock){let d=l.nodeAfter;return d!=null&&n==e+d.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let c=t.resolve(cp(l,!0,!0));return!c.parent.isTextblock||c.pos>n||cp(c,!0,!1)<n?!1:s.parent.content.cut(s.parentOffset).eq(c.parent.content)}function cp(t,e,n){let s=t.depth,i=e?t.end():t.pos;for(;s>0&&(e||t.indexAfter(s)==t.node(s).childCount);)s--,i++,e=!1;if(n){let l=t.node(s).maybeChild(t.indexAfter(s));for(;l&&!l.isLeaf;)l=l.firstChild,i++}return i}function GM(t,e,n,s,i){let l=t.findDiffStart(e,n);if(l==null)return null;let{a:c,b:d}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let h=Math.max(0,l-Math.min(c,d));s-=c+h-l}if(c<l&&t.size<e.size){let h=s<=l&&s>=c?l-s:0;l-=h,l&&l<e.size&&Bv(e.textBetween(l-1,l+1))&&(l+=h?1:-1),d=l+(d-c),c=l}else if(d<l){let h=s<=l&&s>=d?l-s:0;l-=h,l&&l<t.size&&Bv(t.textBetween(l-1,l+1))&&(l+=h?1:-1),c=l+(c-d),d=l}return{start:l,endA:c,endB:d}}function Bv(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class XN{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new uM,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach($v),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Pv(this),Hv(this),this.nodeViews=Iv(this),this.docView=bv(this.state.doc,Uv(this),op(this),this.dom,this),this.domObserver=new BM(this,(s,i,l,c)=>qM(this,s,i,l,c)),this.domObserver.start(),dM(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Kp(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach($v),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let s in this._props)n[s]=this._props[s];n.state=this.state;for(let s in e)n[s]=e[s];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var s;let i=this.state,l=!1,c=!1;e.storedMarks&&this.composing&&(VN(this),c=!0),this.state=e;let d=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(d||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let w=Iv(this);JM(w,this.nodeViews)&&(this.nodeViews=w,l=!0)}(d||n.handleDOMEvents!=this._props.handleDOMEvents)&&Kp(this),this.editable=Pv(this),Hv(this);let h=op(this),p=Uv(this),m=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",x=l||!this.docView.matchesNode(e.doc,p,h);(x||!e.selection.eq(i.selection))&&(c=!0);let y=m=="preserve"&&c&&this.dom.style.overflowAnchor==null&&kA(this);if(c){this.domObserver.stop();let w=x&&(an||Nt)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&WM(i.selection,e.selection);if(x){let v=Nt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=kM(this)),(l||!this.docView.update(e.doc,p,h,this))&&(this.docView.updateOuterDeco(p),this.docView.destroy(),this.docView=bv(e.doc,p,h,this.dom,this)),v&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(w=!0)}w||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&WA(this))?Os(this,w):(RN(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((s=this.dragging)===null||s===void 0)&&s.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),m=="reset"?this.dom.scrollTop=0:m=="to selection"?this.scrollToSelection():y&&CA(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof fe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&fv(this,n.getBoundingClientRect(),e)}else fv(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let s=this.directPlugins[n];s.spec.view&&this.pluginViews.push(s.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let s=this.state.plugins[n];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let s=this.pluginViews[n];s.update&&s.update(this,e)}}updateDraggedNode(e,n){let s=e.node,i=-1;if(this.state.doc.nodeAt(s.from)==s.node)i=s.from;else{let l=s.from+(this.state.doc.content.size-n.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==s.node&&(i=l)}this.dragging=new KN(e.slice,e.move,i<0?void 0:fe.create(this.state.doc,i))}someProp(e,n){let s=this._props&&this._props[e],i;if(s!=null&&(i=n?n(s):s))return i;for(let c=0;c<this.directPlugins.length;c++){let d=this.directPlugins[c].props[e];if(d!=null&&(i=n?n(d):d))return i}let l=this.state.plugins;if(l)for(let c=0;c<l.length;c++){let d=l[c].props[e];if(d!=null&&(i=n?n(d):d))return i}}hasFocus(){if(an){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&EA(this.dom),Os(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return RA(this,e)}coordsAtPos(e,n=1){return SN(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,s=-1){let i=this.docView.posFromDOM(e,n,s);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return BA(this,n||this.state,e)}pasteHTML(e,n){return ql(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return ql(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Om(this,e)}destroy(){this.docView&&(fM(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],op(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,mA())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return pM(this,e)}domSelectionRange(){let e=this.domSelection();return e?Dt&&this.root.nodeType===11&&vA(this.dom.ownerDocument)==this.dom&&HM(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}XN.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function Uv(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let s in n)s=="class"?e.class+=" "+n[s]:s=="style"?e.style=(e.style?e.style+";":"")+n[s]:!e[s]&&s!="contenteditable"&&s!="nodeName"&&(e[s]=String(n[s]))}),e.translate||(e.translate="no"),[Vt.node(0,t.state.doc.content.size,e)]}function Hv(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Vt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Pv(t){return!t.someProp("editable",e=>e(t.state)===!1)}function WM(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Iv(t){let e=Object.create(null);function n(s){for(let i in s)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=s[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function JM(t,e){let n=0,s=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)s++;return n!=s}function $v(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var vr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},mu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},XM=typeof navigator<"u"&&/Mac/.test(navigator.platform),QM=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Lt=0;Lt<10;Lt++)vr[48+Lt]=vr[96+Lt]=String(Lt);for(var Lt=1;Lt<=24;Lt++)vr[Lt+111]="F"+Lt;for(var Lt=65;Lt<=90;Lt++)vr[Lt]=String.fromCharCode(Lt+32),mu[Lt]=String.fromCharCode(Lt);for(var up in vr)mu.hasOwnProperty(up)||(mu[up]=vr[up]);function ZM(t){var e=XM&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||QM&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?mu:vr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const e6=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),t6=typeof navigator<"u"&&/Win/.test(navigator.platform);function n6(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let s,i,l,c;for(let d=0;d<e.length-1;d++){let h=e[d];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))s=!0;else if(/^(c|ctrl|control)$/i.test(h))i=!0;else if(/^s(hift)?$/i.test(h))l=!0;else if(/^mod$/i.test(h))e6?c=!0:i=!0;else throw new Error("Unrecognized modifier name: "+h)}return s&&(n="Alt-"+n),i&&(n="Ctrl-"+n),c&&(n="Meta-"+n),l&&(n="Shift-"+n),n}function s6(t){let e=Object.create(null);for(let n in t)e[n6(n)]=t[n];return e}function dp(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function r6(t){return new et({props:{handleKeyDown:QN(t)}})}function QN(t){let e=s6(t);return function(n,s){let i=ZM(s),l,c=e[dp(i,s)];if(c&&c(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(s.shiftKey){let d=e[dp(i,s,!1)];if(d&&d(n.state,n.dispatch,n))return!0}if((s.altKey||s.metaKey||s.ctrlKey)&&!(t6&&s.ctrlKey&&s.altKey)&&(l=vr[s.keyCode])&&l!=i){let d=e[dp(l,s)];if(d&&d(n.state,n.dispatch,n))return!0}}return!1}}var i6=Object.defineProperty,Bm=(t,e)=>{for(var n in e)i6(t,n,{get:e[n],enumerable:!0})};function cd(t){const{state:e,transaction:n}=t;let{selection:s}=n,{doc:i}=n,{storedMarks:l}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return l},get selection(){return s},get doc(){return i},get tr(){return s=n.selection,i=n.doc,l=n.storedMarks,n}}}var ud=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:s}=e,{tr:i}=n,l=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([c,d])=>[c,(...p)=>{const m=d(...p)(l);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:s,state:i}=this,{view:l}=s,c=[],d=!!t,h=t||i.tr,p=()=>(!d&&e&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(h),c.every(x=>x===!0)),m={...Object.fromEntries(Object.entries(n).map(([x,y])=>[x,(...v)=>{const S=this.buildProps(h,e),j=y(...v)(S);return c.push(j),m}])),run:p};return m}createCan(t){const{rawCommands:e,state:n}=this,s=!1,i=t||n.tr,l=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(e).map(([d,h])=>[d,(...p)=>h(...p)({...l,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(t,e=!0){const{rawCommands:n,editor:s,state:i}=this,{view:l}=s,c={tr:t,editor:s,view:l,state:cd({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([d,h])=>[d,(...p)=>h(...p)(c)]))}};return c}},ZN={};Bm(ZN,{blur:()=>a6,clearContent:()=>l6,clearNodes:()=>o6,command:()=>c6,createParagraphNear:()=>u6,cut:()=>d6,deleteCurrentNode:()=>f6,deleteNode:()=>h6,deleteRange:()=>p6,deleteSelection:()=>m6,enter:()=>g6,exitCode:()=>x6,extendMarkRange:()=>b6,first:()=>y6,focus:()=>w6,forEach:()=>N6,insertContent:()=>j6,insertContentAt:()=>C6,joinBackward:()=>A6,joinDown:()=>T6,joinForward:()=>M6,joinItemBackward:()=>O6,joinItemForward:()=>R6,joinTextblockBackward:()=>L6,joinTextblockForward:()=>D6,joinUp:()=>E6,keyboardShortcut:()=>_6,lift:()=>B6,liftEmptyBlock:()=>U6,liftListItem:()=>H6,newlineInCode:()=>P6,resetAttributes:()=>I6,scrollIntoView:()=>$6,selectAll:()=>F6,selectNodeBackward:()=>V6,selectNodeForward:()=>q6,selectParentNode:()=>K6,selectTextblockEnd:()=>Y6,selectTextblockStart:()=>G6,setContent:()=>W6,setMark:()=>mO,setMeta:()=>gO,setNode:()=>xO,setNodeSelection:()=>bO,setTextDirection:()=>yO,setTextSelection:()=>vO,sinkListItem:()=>wO,splitBlock:()=>NO,splitListItem:()=>jO,toggleList:()=>SO,toggleMark:()=>kO,toggleNode:()=>CO,toggleWrap:()=>EO,undoInputRule:()=>TO,unsetAllMarks:()=>AO,unsetMark:()=>MO,unsetTextDirection:()=>OO,updateAttributes:()=>RO,wrapIn:()=>LO,wrapInList:()=>DO});var a6=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),l6=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),o6=()=>({state:t,tr:e,dispatch:n})=>{const{selection:s}=e,{ranges:i}=s;return n&&i.forEach(({$from:l,$to:c})=>{t.doc.nodesBetween(l.pos,c.pos,(d,h)=>{if(d.type.isText)return;const{doc:p,mapping:m}=e,x=p.resolve(m.map(h)),y=p.resolve(m.map(h+d.nodeSize)),w=x.blockRange(y);if(!w)return;const v=ja(w);if(d.type.isTextblock){const{defaultType:S}=x.parent.contentMatchAt(x.index());e.setNodeMarkup(w.start,S)}(v||v===0)&&e.lift(w,v)})}),!0},c6=t=>e=>t(e),u6=()=>({state:t,dispatch:e})=>hN(t,e),d6=(t,e)=>({editor:n,tr:s})=>{const{state:i}=n,l=i.doc.slice(t.from,t.to);s.deleteRange(t.from,t.to);const c=s.mapping.map(e);return s.insert(c,l.content),s.setSelection(new ge(s.doc.resolve(Math.max(c-1,0)))),!0},f6=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,s=n.$anchor.node();if(s.content.size>0)return!1;const i=t.selection.$anchor;for(let l=i.depth;l>0;l-=1)if(i.node(l).type===s.type){if(e){const d=i.before(l),h=i.after(l);t.delete(d,h).scrollIntoView()}return!0}return!1};function gt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var h6=t=>({tr:e,state:n,dispatch:s})=>{const i=gt(t,n.schema),l=e.selection.$anchor;for(let c=l.depth;c>0;c-=1)if(l.node(c).type===i){if(s){const h=l.before(c),p=l.after(c);e.delete(h,p).scrollIntoView()}return!0}return!1},p6=t=>({tr:e,dispatch:n})=>{const{from:s,to:i}=t;return n&&e.delete(s,i),!0},m6=()=>({state:t,dispatch:e})=>jm(t,e),g6=()=>({commands:t})=>t.keyboardShortcut("Enter"),x6=()=>({state:t,dispatch:e})=>eA(t,e);function Um(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function gu(t,e,n={strict:!0}){const s=Object.keys(e);return s.length?s.every(i=>n.strict?e[i]===t[i]:Um(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function e2(t,e,n={}){return t.find(s=>s.type===e&&gu(Object.fromEntries(Object.keys(n).map(i=>[i,s.attrs[i]])),n))}function Fv(t,e,n={}){return!!e2(t,e,n)}function Hm(t,e,n){var s;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(m=>m.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(m=>m.type===e)||(n=n||((s=i.node.marks[0])==null?void 0:s.attrs),!e2([...i.node.marks],e,n)))return;let c=i.index,d=t.start()+i.offset,h=c+1,p=d+i.node.nodeSize;for(;c>0&&Fv([...t.parent.child(c-1).marks],e,n);)c-=1,d-=t.parent.child(c).nodeSize;for(;h<t.parent.childCount&&Fv([...t.parent.child(h).marks],e,n);)p+=t.parent.child(h).nodeSize,h+=1;return{from:d,to:p}}function Ds(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var b6=(t,e={})=>({tr:n,state:s,dispatch:i})=>{const l=Ds(t,s.schema),{doc:c,selection:d}=n,{$from:h,from:p,to:m}=d;if(i){const x=Hm(h,l,e);if(x&&x.from<=p&&x.to>=m){const y=ge.create(c,x.from,x.to);n.setSelection(y)}}return!0},y6=t=>e=>{const n=typeof t=="function"?t(e):t;for(let s=0;s<n.length;s+=1)if(n[s](e))return!0;return!1};function t2(t){return t instanceof ge}function Xr(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function n2(t,e=null){if(!e)return null;const n=Se.atStart(t),s=Se.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return s;const i=n.from,l=s.to;return e==="all"?ge.create(t,Xr(0,i,l),Xr(t.content.size,i,l)):ge.create(t,Xr(e,i,l),Xr(e,i,l))}function Vv(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function xu(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function v6(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var w6=(t=null,e={})=>({editor:n,view:s,tr:i,dispatch:l})=>{e={scrollIntoView:!0,...e};const c=()=>{(xu()||Vv())&&s.dom.focus(),v6()&&!xu()&&!Vv()&&s.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(s.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(s.hasFocus()&&t===null||t===!1)return!0;if(l&&t===null&&!t2(n.state.selection))return c(),!0;const d=n2(i.doc,t)||n.state.selection,h=n.state.selection.eq(d);return l&&(h||i.setSelection(d),h&&i.storedMarks&&i.setStoredMarks(i.storedMarks),c()),!0},N6=(t,e)=>n=>t.every((s,i)=>e(s,{...n,index:i})),j6=(t,e)=>({tr:n,commands:s})=>s.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),s2=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const s=e[n];s.nodeType===3&&s.nodeValue&&/^(\n\s\s|\n)$/.test(s.nodeValue)?t.removeChild(s):s.nodeType===1&&s2(s)}return t};function Lc(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return s2(n)}function Yl(t,e,n){if(t instanceof Fn||t instanceof ne)return t;n={slice:!0,parseOptions:{},...n};const s=typeof t=="object"&&t!==null,i=typeof t=="string";if(s)try{if(Array.isArray(t)&&t.length>0)return ne.fromArray(t.map(d=>e.nodeFromJSON(d)));const c=e.nodeFromJSON(t);return n.errorOnInvalidContent&&c.check(),c}catch(l){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",l),Yl("",e,n)}if(i){if(n.errorOnInvalidContent){let c=!1,d="";const h=new Pw({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:p=>(c=!0,d=typeof p=="string"?p:p.outerHTML,null)}]}})});if(n.slice?gr.fromSchema(h).parseSlice(Lc(t),n.parseOptions):gr.fromSchema(h).parse(Lc(t),n.parseOptions),n.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${d}`)})}const l=gr.fromSchema(e);return n.slice?l.parseSlice(Lc(t),n.parseOptions).content:l.parse(Lc(t),n.parseOptions)}return Yl("",e,n)}function S6(t,e,n){const s=t.steps.length-1;if(s<e)return;const i=t.steps[s];if(!(i instanceof wt||i instanceof jt))return;const l=t.mapping.maps[s];let c=0;l.forEach((d,h,p,m)=>{c===0&&(c=m)}),t.setSelection(Se.near(t.doc.resolve(c),n))}var k6=t=>!("type"in t),C6=(t,e,n)=>({tr:s,dispatch:i,editor:l})=>{var c;if(i){n={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let d;const h=j=>{l.emit("contentError",{editor:l,error:j,disableCollaboration:()=>{"collaboration"in l.storage&&typeof l.storage.collaboration=="object"&&l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}})},p={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!l.options.enableContentCheck&&l.options.emitContentError)try{Yl(e,l.schema,{parseOptions:p,errorOnInvalidContent:!0})}catch(j){h(j)}try{d=Yl(e,l.schema,{parseOptions:p,errorOnInvalidContent:(c=n.errorOnInvalidContent)!=null?c:l.options.enableContentCheck})}catch(j){return h(j),!1}let{from:m,to:x}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},y=!0,w=!0;if((k6(d)?d:[d]).forEach(j=>{j.check(),y=y?j.isText&&j.marks.length===0:!1,w=w?j.isBlock:!1}),m===x&&w){const{parent:j}=s.doc.resolve(m);j.isTextblock&&!j.type.spec.code&&!j.childCount&&(m-=1,x+=1)}let S;if(y){if(Array.isArray(e))S=e.map(j=>j.text||"").join("");else if(e instanceof ne){let j="";e.forEach(E=>{E.text&&(j+=E.text)}),S=j}else typeof e=="object"&&e&&e.text?S=e.text:S=e;s.insertText(S,m,x)}else{S=d;const j=s.doc.resolve(m),E=j.node(),T=j.parentOffset===0,A=E.isText||E.isTextblock,H=E.content.size>0;T&&A&&H&&(m=Math.max(0,m-1)),s.replaceWith(m,x,S)}n.updateSelection&&S6(s,s.steps.length-1,-1),n.applyInputRules&&s.setMeta("applyInputRules",{from:m,text:S}),n.applyPasteRules&&s.setMeta("applyPasteRules",{from:m,text:S})}return!0},E6=()=>({state:t,dispatch:e})=>X3(t,e),T6=()=>({state:t,dispatch:e})=>Q3(t,e),A6=()=>({state:t,dispatch:e})=>aN(t,e),M6=()=>({state:t,dispatch:e})=>uN(t,e),O6=()=>({state:t,dispatch:e,tr:n})=>{try{const s=sd(t.doc,t.selection.$from.pos,-1);return s==null?!1:(n.join(s,2),e&&e(n),!0)}catch{return!1}},R6=()=>({state:t,dispatch:e,tr:n})=>{try{const s=sd(t.doc,t.selection.$from.pos,1);return s==null?!1:(n.join(s,2),e&&e(n),!0)}catch{return!1}},L6=()=>({state:t,dispatch:e})=>W3(t,e),D6=()=>({state:t,dispatch:e})=>J3(t,e);function r2(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function z6(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let s,i,l,c;for(let d=0;d<e.length-1;d+=1){const h=e[d];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))s=!0;else if(/^(c|ctrl|control)$/i.test(h))i=!0;else if(/^s(hift)?$/i.test(h))l=!0;else if(/^mod$/i.test(h))xu()||r2()?c=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${h}`)}return s&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),c&&(n=`Meta-${n}`),l&&(n=`Shift-${n}`),n}var _6=t=>({editor:e,view:n,tr:s,dispatch:i})=>{const l=z6(t).split(/-(?!$)/),c=l.find(p=>!["Alt","Ctrl","Meta","Shift"].includes(p)),d=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),h=e.captureTransaction(()=>{n.someProp("handleKeyDown",p=>p(n,d))});return h?.steps.forEach(p=>{const m=p.map(s.mapping);m&&i&&s.maybeStep(m)}),!0};function wr(t,e,n={}){const{from:s,to:i,empty:l}=t.selection,c=e?gt(e,t.schema):null,d=[];t.doc.nodesBetween(s,i,(x,y)=>{if(x.isText)return;const w=Math.max(s,y),v=Math.min(i,y+x.nodeSize);d.push({node:x,from:w,to:v})});const h=i-s,p=d.filter(x=>c?c.name===x.node.type.name:!0).filter(x=>gu(x.node.attrs,n,{strict:!1}));return l?!!p.length:p.reduce((x,y)=>x+y.to-y.from,0)>=h}var B6=(t,e={})=>({state:n,dispatch:s})=>{const i=gt(t,n.schema);return wr(n,i,e)?Z3(n,s):!1},U6=()=>({state:t,dispatch:e})=>pN(t,e),H6=t=>({state:e,dispatch:n})=>{const s=gt(t,e.schema);return dA(s)(e,n)},P6=()=>({state:t,dispatch:e})=>fN(t,e);function dd(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function qv(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((s,i)=>(n.includes(i)||(s[i]=t[i]),s),{})}var I6=(t,e)=>({tr:n,state:s,dispatch:i})=>{let l=null,c=null;const d=dd(typeof t=="string"?t:t.name,s.schema);if(!d)return!1;d==="node"&&(l=gt(t,s.schema)),d==="mark"&&(c=Ds(t,s.schema));let h=!1;return n.selection.ranges.forEach(p=>{s.doc.nodesBetween(p.$from.pos,p.$to.pos,(m,x)=>{l&&l===m.type&&(h=!0,i&&n.setNodeMarkup(x,void 0,qv(m.attrs,e))),c&&m.marks.length&&m.marks.forEach(y=>{c===y.type&&(h=!0,i&&n.addMark(x,x+m.nodeSize,c.create(qv(y.attrs,e))))})})}),h},$6=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),F6=()=>({tr:t,dispatch:e})=>{if(e){const n=new yn(t.doc);t.setSelection(n)}return!0},V6=()=>({state:t,dispatch:e})=>oN(t,e),q6=()=>({state:t,dispatch:e})=>dN(t,e),K6=()=>({state:t,dispatch:e})=>sA(t,e),Y6=()=>({state:t,dispatch:e})=>aA(t,e),G6=()=>({state:t,dispatch:e})=>iA(t,e);function Yp(t,e,n={},s={}){return Yl(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:s.errorOnInvalidContent})}var W6=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:s={}}={})=>({editor:i,tr:l,dispatch:c,commands:d})=>{const{doc:h}=l;if(s.preserveWhitespace!=="full"){const p=Yp(t,i.schema,s,{errorOnInvalidContent:e??i.options.enableContentCheck});return c&&l.replaceWith(0,h.content.size,p).setMeta("preventUpdate",!n),!0}return c&&l.setMeta("preventUpdate",!n),d.insertContentAt({from:0,to:h.content.size},t,{parseOptions:s,errorOnInvalidContent:e??i.options.enableContentCheck})};function i2(t,e){const n=Ds(e,t.schema),{from:s,to:i,empty:l}=t.selection,c=[];l?(t.storedMarks&&c.push(...t.storedMarks),c.push(...t.selection.$head.marks())):t.doc.nodesBetween(s,i,h=>{c.push(...h.marks)});const d=c.find(h=>h.type.name===n.name);return d?{...d.attrs}:{}}function a2(t,e){const n=new nN(t);return e.forEach(s=>{s.steps.forEach(i=>{n.step(i)})}),n}function J6(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function X6(t,e,n){const s=[];return t.nodesBetween(e.from,e.to,(i,l)=>{n(i)&&s.push({node:i,pos:l})}),s}function Q6(t,e){for(let n=t.depth;n>0;n-=1){const s=t.node(n);if(e(s))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:s}}}function fd(t){return e=>Q6(e.$from,t)}function ue(t,e,n){return t.config[e]===void 0&&t.parent?ue(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ue(t.parent,e,n):null}):t.config[e]}function Pm(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},s=ue(e,"addExtensions",n);return s?[e,...Pm(s())]:e}).flat(10)}function Im(t,e){const n=fi.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function l2(t){return typeof t=="function"}function Pe(t,e=void 0,...n){return l2(t)?e?t.bind(e)(...n):t(...n):t}function Z6(t={}){return Object.keys(t).length===0&&t.constructor===Object}function ha(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),s=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:s}}function o2(t){const e=[],{nodeExtensions:n,markExtensions:s}=ha(t),i=[...n,...s],l={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(c=>{const d={name:c.name,options:c.options,storage:c.storage,extensions:i},h=ue(c,"addGlobalAttributes",d);if(!h)return;h().forEach(m=>{m.types.forEach(x=>{Object.entries(m.attributes).forEach(([y,w])=>{e.push({type:x,name:y,attribute:{...l,...w}})})})})}),i.forEach(c=>{const d={name:c.name,options:c.options,storage:c.storage},h=ue(c,"addAttributes",d);if(!h)return;const p=h();Object.entries(p).forEach(([m,x])=>{const y={...l,...x};typeof y?.default=="function"&&(y.default=y.default()),y?.isRequired&&y?.default===void 0&&delete y.default,e.push({type:c.name,name:m,attribute:y})})}),e}function ct(...t){return t.filter(e=>!!e).reduce((e,n)=>{const s={...e};return Object.entries(n).forEach(([i,l])=>{if(!s[i]){s[i]=l;return}if(i==="class"){const d=l?String(l).split(" "):[],h=s[i]?s[i].split(" "):[],p=d.filter(m=>!h.includes(m));s[i]=[...h,...p].join(" ")}else if(i==="style"){const d=l?l.split(";").map(m=>m.trim()).filter(Boolean):[],h=s[i]?s[i].split(";").map(m=>m.trim()).filter(Boolean):[],p=new Map;h.forEach(m=>{const[x,y]=m.split(":").map(w=>w.trim());p.set(x,y)}),d.forEach(m=>{const[x,y]=m.split(":").map(w=>w.trim());p.set(x,y)}),s[i]=Array.from(p.entries()).map(([m,x])=>`${m}: ${x}`).join("; ")}else s[i]=l}),s},{})}function Gl(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,s)=>ct(n,s),{})}function eO(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Kv(t,e){return"style"in t?t:{...t,getAttrs:n=>{const s=t.getAttrs?t.getAttrs(n):t.attrs;if(s===!1)return!1;const i=e.reduce((l,c)=>{const d=c.attribute.parseHTML?c.attribute.parseHTML(n):eO(n.getAttribute(c.name));return d==null?l:{...l,[c.name]:d}},{});return{...s,...i}}}}function Yv(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Z6(n)?!1:n!=null))}function Gv(t){var e,n;const s={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(s.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(s.validate=t.attribute.validate),[t.name,s]}function tO(t,e){var n;const s=o2(t),{nodeExtensions:i,markExtensions:l}=ha(t),c=(n=i.find(p=>ue(p,"topNode")))==null?void 0:n.name,d=Object.fromEntries(i.map(p=>{const m=s.filter(E=>E.type===p.name),x={name:p.name,options:p.options,storage:p.storage,editor:e},y=t.reduce((E,T)=>{const A=ue(T,"extendNodeSchema",x);return{...E,...A?A(p):{}}},{}),w=Yv({...y,content:Pe(ue(p,"content",x)),marks:Pe(ue(p,"marks",x)),group:Pe(ue(p,"group",x)),inline:Pe(ue(p,"inline",x)),atom:Pe(ue(p,"atom",x)),selectable:Pe(ue(p,"selectable",x)),draggable:Pe(ue(p,"draggable",x)),code:Pe(ue(p,"code",x)),whitespace:Pe(ue(p,"whitespace",x)),linebreakReplacement:Pe(ue(p,"linebreakReplacement",x)),defining:Pe(ue(p,"defining",x)),isolating:Pe(ue(p,"isolating",x)),attrs:Object.fromEntries(m.map(Gv))}),v=Pe(ue(p,"parseHTML",x));v&&(w.parseDOM=v.map(E=>Kv(E,m)));const S=ue(p,"renderHTML",x);S&&(w.toDOM=E=>S({node:E,HTMLAttributes:Gl(E,m)}));const j=ue(p,"renderText",x);return j&&(w.toText=j),[p.name,w]})),h=Object.fromEntries(l.map(p=>{const m=s.filter(j=>j.type===p.name),x={name:p.name,options:p.options,storage:p.storage,editor:e},y=t.reduce((j,E)=>{const T=ue(E,"extendMarkSchema",x);return{...j,...T?T(p):{}}},{}),w=Yv({...y,inclusive:Pe(ue(p,"inclusive",x)),excludes:Pe(ue(p,"excludes",x)),group:Pe(ue(p,"group",x)),spanning:Pe(ue(p,"spanning",x)),code:Pe(ue(p,"code",x)),attrs:Object.fromEntries(m.map(Gv))}),v=Pe(ue(p,"parseHTML",x));v&&(w.parseDOM=v.map(j=>Kv(j,m)));const S=ue(p,"renderHTML",x);return S&&(w.toDOM=j=>S({mark:j,HTMLAttributes:Gl(j,m)})),[p.name,w]}));return new Pw({topNode:c,nodes:d,marks:h})}function nO(t){const e=t.filter((n,s)=>t.indexOf(n)!==s);return Array.from(new Set(e))}function bu(t){return t.sort((n,s)=>{const i=ue(n,"priority")||100,l=ue(s,"priority")||100;return i>l?-1:i<l?1:0})}function c2(t){const e=bu(Pm(t)),n=nO(e.map(s=>s.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),e}function u2(t,e,n){const{from:s,to:i}=e,{blockSeparator:l=`

`,textSerializers:c={}}=n||{};let d="";return t.nodesBetween(s,i,(h,p,m,x)=>{var y;h.isBlock&&p>s&&(d+=l);const w=c?.[h.type.name];if(w)return m&&(d+=w({node:h,pos:p,parent:m,index:x,range:e})),!1;h.isText&&(d+=(y=h?.text)==null?void 0:y.slice(Math.max(s,p)-p,i-p))}),d}function sO(t,e){const n={from:0,to:t.content.size};return u2(t,n,e)}function d2(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function rO(t,e){const n=gt(e,t.schema),{from:s,to:i}=t.selection,l=[];t.doc.nodesBetween(s,i,d=>{l.push(d)});const c=l.reverse().find(d=>d.type.name===n.name);return c?{...c.attrs}:{}}function f2(t,e){const n=dd(typeof e=="string"?e:e.name,t.schema);return n==="node"?rO(t,e):n==="mark"?i2(t,e):{}}function iO(t,e=JSON.stringify){const n={};return t.filter(s=>{const i=e(s);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function aO(t){const e=iO(t);return e.length===1?e:e.filter((n,s)=>!e.filter((l,c)=>c!==s).some(l=>n.oldRange.from>=l.oldRange.from&&n.oldRange.to<=l.oldRange.to&&n.newRange.from>=l.newRange.from&&n.newRange.to<=l.newRange.to))}function h2(t){const{mapping:e,steps:n}=t,s=[];return e.maps.forEach((i,l)=>{const c=[];if(i.ranges.length)i.forEach((d,h)=>{c.push({from:d,to:h})});else{const{from:d,to:h}=n[l];if(d===void 0||h===void 0)return;c.push({from:d,to:h})}c.forEach(({from:d,to:h})=>{const p=e.slice(l).map(d,-1),m=e.slice(l).map(h),x=e.invert().map(p,-1),y=e.invert().map(m);s.push({oldRange:{from:x,to:y},newRange:{from:p,to:m}})})}),aO(s)}function $m(t,e,n){const s=[];return t===e?n.resolve(t).marks().forEach(i=>{const l=n.resolve(t),c=Hm(l,i.type);c&&s.push({mark:i,...c})}):n.nodesBetween(t,e,(i,l)=>{!i||i?.nodeSize===void 0||s.push(...i.marks.map(c=>({from:l,to:l+i.nodeSize,mark:c})))}),s}var lO=(t,e,n,s=20)=>{const i=t.doc.resolve(n);let l=s,c=null;for(;l>0&&c===null;){const d=i.node(l);d?.type.name===e?c=d:l-=1}return[c,l]};function Dc(t,e){return e.nodes[t]||e.marks[t]||null}function Qc(t,e,n){return Object.fromEntries(Object.entries(n).filter(([s])=>{const i=t.find(l=>l.type===e&&l.name===s);return i?i.attribute.keepOnSplit:!1}))}var oO=(t,e=500)=>{let n="";const s=t.parentOffset;return t.parent.nodesBetween(Math.max(0,s-e),s,(i,l,c,d)=>{var h,p;const m=((p=(h=i.type.spec).toText)==null?void 0:p.call(h,{node:i,pos:l,parent:c,index:d}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?m:m.slice(0,Math.max(0,s-l))}),n};function Gp(t,e,n={}){const{empty:s,ranges:i}=t.selection,l=e?Ds(e,t.schema):null;if(s)return!!(t.storedMarks||t.selection.$from.marks()).filter(x=>l?l.name===x.type.name:!0).find(x=>gu(x.attrs,n,{strict:!1}));let c=0;const d=[];if(i.forEach(({$from:x,$to:y})=>{const w=x.pos,v=y.pos;t.doc.nodesBetween(w,v,(S,j)=>{if(!S.isText&&!S.marks.length)return;const E=Math.max(w,j),T=Math.min(v,j+S.nodeSize),A=T-E;c+=A,d.push(...S.marks.map(H=>({mark:H,from:E,to:T})))})}),c===0)return!1;const h=d.filter(x=>l?l.name===x.mark.type.name:!0).filter(x=>gu(x.mark.attrs,n,{strict:!1})).reduce((x,y)=>x+y.to-y.from,0),p=d.filter(x=>l?x.mark.type!==l&&x.mark.type.excludes(l):!0).reduce((x,y)=>x+y.to-y.from,0);return(h>0?h+p:h)>=c}function cO(t,e,n={}){if(!e)return wr(t,null,n)||Gp(t,null,n);const s=dd(e,t.schema);return s==="node"?wr(t,e,n):s==="mark"?Gp(t,e,n):!1}var uO=(t,e)=>{const{$from:n,$to:s,$anchor:i}=t.selection;if(e){const l=fd(d=>d.type.name===e)(t.selection);if(!l)return!1;const c=t.doc.resolve(l.pos+1);return i.pos+1===c.end()}return!(s.parentOffset<s.parent.nodeSize-2||n.pos!==s.pos)},dO=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function Wv(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function Jv(t,e){const{nodeExtensions:n}=ha(e),s=n.find(c=>c.name===t);if(!s)return!1;const i={name:s.name,options:s.options,storage:s.storage},l=Pe(ue(s,"group",i));return typeof l!="string"?!1:l.split(" ").includes("list")}function hd(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var s;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((s=t.text)!=null?s:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(l=>{i!==!1&&(hd(l,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function p2(t){return t instanceof fe}var m2=class g2{constructor(e){this.position=e}static fromJSON(e){return new g2(e.position)}toJSON(){return{position:this.position}}};function fO(t,e){const n=e.mapping.mapResult(t.position);return{position:new m2(n.pos),mapResult:n}}function hO(t){return new m2(t)}function pO(t,e,n){var s;const{selection:i}=e;let l=null;if(t2(i)&&(l=i.$cursor),l){const d=(s=t.storedMarks)!=null?s:l.marks();return l.parent.type.allowsMarkType(n)&&(!!n.isInSet(d)||!d.some(p=>p.type.excludes(n)))}const{ranges:c}=i;return c.some(({$from:d,$to:h})=>{let p=d.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(d.pos,h.pos,(m,x,y)=>{if(p)return!1;if(m.isInline){const w=!y||y.type.allowsMarkType(n),v=!!n.isInSet(m.marks)||!m.marks.some(S=>S.type.excludes(n));p=w&&v}return!p}),p})}var mO=(t,e={})=>({tr:n,state:s,dispatch:i})=>{const{selection:l}=n,{empty:c,ranges:d}=l,h=Ds(t,s.schema);if(i)if(c){const p=i2(s,h);n.addStoredMark(h.create({...p,...e}))}else d.forEach(p=>{const m=p.$from.pos,x=p.$to.pos;s.doc.nodesBetween(m,x,(y,w)=>{const v=Math.max(w,m),S=Math.min(w+y.nodeSize,x);y.marks.find(E=>E.type===h)?y.marks.forEach(E=>{h===E.type&&n.addMark(v,S,h.create({...E.attrs,...e}))}):n.addMark(v,S,h.create(e))})});return pO(s,n,h)},gO=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),xO=(t,e={})=>({state:n,dispatch:s,chain:i})=>{const l=gt(t,n.schema);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),l.isTextblock?i().command(({commands:d})=>cv(l,{...c,...e})(n)?!0:d.clearNodes()).command(({state:d})=>cv(l,{...c,...e})(d,s)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},bO=t=>({tr:e,dispatch:n})=>{if(n){const{doc:s}=e,i=Xr(t,0,s.content.size),l=fe.create(s,i);e.setSelection(l)}return!0},yO=(t,e)=>({tr:n,state:s,dispatch:i})=>{const{selection:l}=s;let c,d;return typeof e=="number"?(c=e,d=e):e&&"from"in e&&"to"in e?(c=e.from,d=e.to):(c=l.from,d=l.to),i&&n.doc.nodesBetween(c,d,(h,p)=>{h.isText||n.setNodeMarkup(p,void 0,{...h.attrs,dir:t})}),!0},vO=t=>({tr:e,dispatch:n})=>{if(n){const{doc:s}=e,{from:i,to:l}=typeof t=="number"?{from:t,to:t}:t,c=ge.atStart(s).from,d=ge.atEnd(s).to,h=Xr(i,c,d),p=Xr(l,c,d),m=ge.create(s,h,p);e.setSelection(m)}return!0},wO=t=>({state:e,dispatch:n})=>{const s=gt(t,e.schema);return pA(s)(e,n)};function Xv(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const s=n.filter(i=>e?.includes(i.type.name));t.tr.ensureMarks(s)}}var NO=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:s,editor:i})=>{const{selection:l,doc:c}=e,{$from:d,$to:h}=l,p=i.extensionManager.attributes,m=Qc(p,d.node().type.name,d.node().attrs);if(l instanceof fe&&l.node.isBlock)return!d.parentOffset||!Ms(c,d.pos)?!1:(s&&(t&&Xv(n,i.extensionManager.splittableMarks),e.split(d.pos).scrollIntoView()),!0);if(!d.parent.isBlock)return!1;const x=h.parentOffset===h.parent.content.size,y=d.depth===0?void 0:J6(d.node(-1).contentMatchAt(d.indexAfter(-1)));let w=x&&y?[{type:y,attrs:m}]:void 0,v=Ms(e.doc,e.mapping.map(d.pos),1,w);if(!w&&!v&&Ms(e.doc,e.mapping.map(d.pos),1,y?[{type:y}]:void 0)&&(v=!0,w=y?[{type:y,attrs:m}]:void 0),s){if(v&&(l instanceof ge&&e.deleteSelection(),e.split(e.mapping.map(d.pos),1,w),y&&!x&&!d.parentOffset&&d.parent.type!==y)){const S=e.mapping.map(d.before()),j=e.doc.resolve(S);d.node(-1).canReplaceWith(j.index(),j.index()+1,y)&&e.setNodeMarkup(e.mapping.map(d.before()),y)}t&&Xv(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return v},jO=(t,e={})=>({tr:n,state:s,dispatch:i,editor:l})=>{var c;const d=gt(t,s.schema),{$from:h,$to:p}=s.selection,m=s.selection.node;if(m&&m.isBlock||h.depth<2||!h.sameParent(p))return!1;const x=h.node(-1);if(x.type!==d)return!1;const y=l.extensionManager.attributes;if(h.parent.content.size===0&&h.node(-1).childCount===h.indexAfter(-1)){if(h.depth===2||h.node(-3).type!==d||h.index(-2)!==h.node(-2).childCount-1)return!1;if(i){let E=ne.empty;const T=h.index(-1)?1:h.index(-2)?2:3;for(let Y=h.depth-T;Y>=h.depth-3;Y-=1)E=ne.from(h.node(Y).copy(E));const A=h.indexAfter(-1)<h.node(-2).childCount?1:h.indexAfter(-2)<h.node(-3).childCount?2:3,H={...Qc(y,h.node().type.name,h.node().attrs),...e},B=((c=d.contentMatch.defaultType)==null?void 0:c.createAndFill(H))||void 0;E=E.append(ne.from(d.createAndFill(null,B)||void 0));const z=h.before(h.depth-(T-1));n.replace(z,h.after(-A),new ae(E,4-T,0));let O=-1;n.doc.nodesBetween(z,n.doc.content.size,(Y,U)=>{if(O>-1)return!1;Y.isTextblock&&Y.content.size===0&&(O=U+1)}),O>-1&&n.setSelection(ge.near(n.doc.resolve(O))),n.scrollIntoView()}return!0}const w=p.pos===h.end()?x.contentMatchAt(0).defaultType:null,v={...Qc(y,x.type.name,x.attrs),...e},S={...Qc(y,h.node().type.name,h.node().attrs),...e};n.delete(h.pos,p.pos);const j=w?[{type:d,attrs:v},{type:w,attrs:S}]:[{type:d,attrs:v}];if(!Ms(n.doc,h.pos,2))return!1;if(i){const{selection:E,storedMarks:T}=s,{splittableMarks:A}=l.extensionManager,H=T||E.$to.parentOffset&&E.$from.marks();if(n.split(h.pos,2,j).scrollIntoView(),!H||!i)return!0;const B=H.filter(z=>A.includes(z.type.name));n.ensureMarks(B)}return!0},fp=(t,e)=>{const n=fd(c=>c.type===e)(t.selection);if(!n)return!0;const s=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(s===void 0)return!0;const i=t.doc.nodeAt(s);return n.node.type===i?.type&&Sr(t.doc,n.pos)&&t.join(n.pos),!0},hp=(t,e)=>{const n=fd(c=>c.type===e)(t.selection);if(!n)return!0;const s=t.doc.resolve(n.start).after(n.depth);if(s===void 0)return!0;const i=t.doc.nodeAt(s);return n.node.type===i?.type&&Sr(t.doc,s)&&t.join(s),!0},SO=(t,e,n,s={})=>({editor:i,tr:l,state:c,dispatch:d,chain:h,commands:p,can:m})=>{const{extensions:x,splittableMarks:y}=i.extensionManager,w=gt(t,c.schema),v=gt(e,c.schema),{selection:S,storedMarks:j}=c,{$from:E,$to:T}=S,A=E.blockRange(T),H=j||S.$to.parentOffset&&S.$from.marks();if(!A)return!1;const B=fd(z=>Jv(z.type.name,x))(S);if(A.depth>=1&&B&&A.depth-B.depth<=1){if(B.node.type===w)return p.liftListItem(v);if(Jv(B.node.type.name,x)&&w.validContent(B.node.content)&&d)return h().command(()=>(l.setNodeMarkup(B.pos,w),!0)).command(()=>fp(l,w)).command(()=>hp(l,w)).run()}return!n||!H||!d?h().command(()=>m().wrapInList(w,s)?!0:p.clearNodes()).wrapInList(w,s).command(()=>fp(l,w)).command(()=>hp(l,w)).run():h().command(()=>{const z=m().wrapInList(w,s),O=H.filter(Y=>y.includes(Y.type.name));return l.ensureMarks(O),z?!0:p.clearNodes()}).wrapInList(w,s).command(()=>fp(l,w)).command(()=>hp(l,w)).run()},kO=(t,e={},n={})=>({state:s,commands:i})=>{const{extendEmptyMarkRange:l=!1}=n,c=Ds(t,s.schema);return Gp(s,c,e)?i.unsetMark(c,{extendEmptyMarkRange:l}):i.setMark(c,e)},CO=(t,e,n={})=>({state:s,commands:i})=>{const l=gt(t,s.schema),c=gt(e,s.schema),d=wr(s,l,n);let h;return s.selection.$anchor.sameParent(s.selection.$head)&&(h=s.selection.$anchor.parent.attrs),d?i.setNode(c,h):i.setNode(l,{...h,...n})},EO=(t,e={})=>({state:n,commands:s})=>{const i=gt(t,n.schema);return wr(n,i,e)?s.lift(i):s.wrapIn(i,e)},TO=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let s=0;s<n.length;s+=1){const i=n[s];let l;if(i.spec.isInputRules&&(l=i.getState(t))){if(e){const c=t.tr,d=l.transform;for(let h=d.steps.length-1;h>=0;h-=1)c.step(d.steps[h].invert(d.docs[h]));if(l.text){const h=c.doc.resolve(l.from).marks();c.replaceWith(l.from,l.to,t.schema.text(l.text,h))}else c.delete(l.from,l.to)}return!0}}return!1},AO=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:s,ranges:i}=n;return s||e&&i.forEach(l=>{t.removeMark(l.$from.pos,l.$to.pos)}),!0},MO=(t,e={})=>({tr:n,state:s,dispatch:i})=>{var l;const{extendEmptyMarkRange:c=!1}=e,{selection:d}=n,h=Ds(t,s.schema),{$from:p,empty:m,ranges:x}=d;if(!i)return!0;if(m&&c){let{from:y,to:w}=d;const v=(l=p.marks().find(j=>j.type===h))==null?void 0:l.attrs,S=Hm(p,h,v);S&&(y=S.from,w=S.to),n.removeMark(y,w,h)}else x.forEach(y=>{n.removeMark(y.$from.pos,y.$to.pos,h)});return n.removeStoredMark(h),!0},OO=t=>({tr:e,state:n,dispatch:s})=>{const{selection:i}=n;let l,c;return typeof t=="number"?(l=t,c=t):t&&"from"in t&&"to"in t?(l=t.from,c=t.to):(l=i.from,c=i.to),s&&e.doc.nodesBetween(l,c,(d,h)=>{if(d.isText)return;const p={...d.attrs};delete p.dir,e.setNodeMarkup(h,void 0,p)}),!0},RO=(t,e={})=>({tr:n,state:s,dispatch:i})=>{let l=null,c=null;const d=dd(typeof t=="string"?t:t.name,s.schema);if(!d)return!1;d==="node"&&(l=gt(t,s.schema)),d==="mark"&&(c=Ds(t,s.schema));let h=!1;return n.selection.ranges.forEach(p=>{const m=p.$from.pos,x=p.$to.pos;let y,w,v,S;n.selection.empty?s.doc.nodesBetween(m,x,(j,E)=>{l&&l===j.type&&(h=!0,v=Math.max(E,m),S=Math.min(E+j.nodeSize,x),y=E,w=j)}):s.doc.nodesBetween(m,x,(j,E)=>{E<m&&l&&l===j.type&&(h=!0,v=Math.max(E,m),S=Math.min(E+j.nodeSize,x),y=E,w=j),E>=m&&E<=x&&(l&&l===j.type&&(h=!0,i&&n.setNodeMarkup(E,void 0,{...j.attrs,...e})),c&&j.marks.length&&j.marks.forEach(T=>{if(c===T.type&&(h=!0,i)){const A=Math.max(E,m),H=Math.min(E+j.nodeSize,x);n.addMark(A,H,c.create({...T.attrs,...e}))}}))}),w&&(y!==void 0&&i&&n.setNodeMarkup(y,void 0,{...w.attrs,...e}),c&&w.marks.length&&w.marks.forEach(j=>{c===j.type&&i&&n.addMark(v,S,c.create({...j.attrs,...e}))}))}),h},LO=(t,e={})=>({state:n,dispatch:s})=>{const i=gt(t,n.schema);return lA(i,e)(n,s)},DO=(t,e={})=>({state:n,dispatch:s})=>{const i=gt(t,n.schema);return oA(i,e)(n,s)},zO=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(s=>s.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(s=>s!==e):delete this.callbacks[t]),this}once(t,e){const n=(...s)=>{this.off(t,n),e.apply(this,s)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},pd=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},_O=(t,e)=>{if(Um(e))return e.exec(t);const n=e(t);if(!n)return null;const s=[n.text];return s.index=n.index,s.input=t,s.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),s.push(n.replaceWith)),s};function zc(t){var e;const{editor:n,from:s,to:i,text:l,rules:c,plugin:d}=t,{view:h}=n;if(h.composing)return!1;const p=h.state.doc.resolve(s);if(p.parent.type.spec.code||(e=p.nodeBefore||p.nodeAfter)!=null&&e.marks.find(y=>y.type.spec.code))return!1;let m=!1;const x=oO(p)+l;return c.forEach(y=>{if(m)return;const w=_O(x,y.find);if(!w)return;const v=h.state.tr,S=cd({state:h.state,transaction:v}),j={from:s-(w[0].length-l.length),to:i},{commands:E,chain:T,can:A}=new ud({editor:n,state:S});y.handler({state:S,range:j,match:w,commands:E,chain:T,can:A})===null||!v.steps.length||(y.undoable&&v.setMeta(d,{transform:v,from:s,to:i,text:l}),h.dispatch(v),m=!0)}),m}function BO(t){const{editor:e,rules:n}=t,s=new et({state:{init(){return null},apply(i,l,c){const d=i.getMeta(s);if(d)return d;const h=i.getMeta("applyInputRules");return h&&setTimeout(()=>{let{text:m}=h;typeof m=="string"?m=m:m=Im(ne.from(m),c.schema);const{from:x}=h,y=x+m.length;zc({editor:e,from:x,to:y,text:m,rules:n,plugin:s})}),i.selectionSet||i.docChanged?null:l}},props:{handleTextInput(i,l,c,d){return zc({editor:e,from:l,to:c,text:d,rules:n,plugin:s})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:l}=i.state.selection;l&&zc({editor:e,from:l.pos,to:l.pos,text:"",rules:n,plugin:s})}),!1)},handleKeyDown(i,l){if(l.key!=="Enter")return!1;const{$cursor:c}=i.state.selection;return c?zc({editor:e,from:c.pos,to:c.pos,text:`
`,rules:n,plugin:s}):!1}},isInputRules:!0});return s}function UO(t){return Object.prototype.toString.call(t).slice(8,-1)}function _c(t){return UO(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function x2(t,e){const n={...t};return _c(t)&&_c(e)&&Object.keys(e).forEach(s=>{_c(e[s])&&_c(t[s])?n[s]=x2(t[s],e[s]):n[s]=e[s]}),n}var Fm=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Pe(ue(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Pe(ue(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>x2(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},hi=class b2 extends Fm{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new b2(n)}static handleExit({editor:e,mark:n}){const{tr:s}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const c=i.marks();if(!!!c.find(p=>p?.type.name===n.name))return!1;const h=c.find(p=>p?.type.name===n.name);return h&&s.removeStoredMark(h),s.insertText(" ",i.pos),e.view.dispatch(s),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function HO(t){return typeof t=="number"}var PO=class{constructor(t){this.find=t.find,this.handler=t.handler}},IO=(t,e,n)=>{if(Um(e))return[...t.matchAll(e)];const s=e(t,n);return s?s.map(i=>{const l=[i.text];return l.index=i.index,l.input=t,l.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(i.replaceWith)),l}):[]};function $O(t){const{editor:e,state:n,from:s,to:i,rule:l,pasteEvent:c,dropEvent:d}=t,{commands:h,chain:p,can:m}=new ud({editor:e,state:n}),x=[];return n.doc.nodesBetween(s,i,(w,v)=>{var S,j,E,T,A;if((j=(S=w.type)==null?void 0:S.spec)!=null&&j.code||!(w.isText||w.isTextblock||w.isInline))return;const H=(A=(T=(E=w.content)==null?void 0:E.size)!=null?T:w.nodeSize)!=null?A:0,B=Math.max(s,v),z=Math.min(i,v+H);if(B>=z)return;const O=w.isText?w.text||"":w.textBetween(B-v,z-v,void 0,"");IO(O,l.find,c).forEach(U=>{if(U.index===void 0)return;const $=B+U.index+1,me=$+U[0].length,X={from:n.tr.mapping.map($),to:n.tr.mapping.map(me)},G=l.handler({state:n,range:X,match:U,commands:h,chain:p,can:m,pasteEvent:c,dropEvent:d});x.push(G)})}),x.every(w=>w!==null)}var Bc=null,FO=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function VO(t){const{editor:e,rules:n}=t;let s=null,i=!1,l=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,d;try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}const h=({state:m,from:x,to:y,rule:w,pasteEvt:v})=>{const S=m.tr,j=cd({state:m,transaction:S});if(!(!$O({editor:e,state:j,from:Math.max(x-1,0),to:y.b-1,rule:w,pasteEvent:v,dropEvent:d})||!S.steps.length)){try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,S}};return n.map(m=>new et({view(x){const y=v=>{var S;s=(S=x.dom.parentElement)!=null&&S.contains(v.target)?x.dom.parentElement:null,s&&(Bc=e)},w=()=>{Bc&&(Bc=null)};return window.addEventListener("dragstart",y),window.addEventListener("dragend",w),{destroy(){window.removeEventListener("dragstart",y),window.removeEventListener("dragend",w)}}},props:{handleDOMEvents:{drop:(x,y)=>{if(l=s===x.dom.parentElement,d=y,!l){const w=Bc;w?.isEditable&&setTimeout(()=>{const v=w.state.selection;v&&w.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(x,y)=>{var w;const v=(w=y.clipboardData)==null?void 0:w.getData("text/html");return c=y,i=!!v?.includes("data-pm-slice"),!1}}},appendTransaction:(x,y,w)=>{const v=x[0],S=v.getMeta("uiEvent")==="paste"&&!i,j=v.getMeta("uiEvent")==="drop"&&!l,E=v.getMeta("applyPasteRules"),T=!!E;if(!S&&!j&&!T)return;if(T){let{text:B}=E;typeof B=="string"?B=B:B=Im(ne.from(B),w.schema);const{from:z}=E,O=z+B.length,Y=FO(B);return h({rule:m,state:w,from:z,to:{b:O},pasteEvt:Y})}const A=y.doc.content.findDiffStart(w.doc.content),H=y.doc.content.findDiffEnd(w.doc.content);if(!(!HO(A)||!H||A===H.b))return h({rule:m,state:w,from:A,to:H,pasteEvt:c})}}))}var md=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=c2(t),this.schema=tO(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Dc(e.name,this.schema)},s=ue(e,"addCommands",n);return s?{...t,...s()}:t},{})}get plugins(){const{editor:t}=this;return bu([...this.extensions].reverse()).flatMap(s=>{const i={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:t,type:Dc(s.name,this.schema)},l=[],c=ue(s,"addKeyboardShortcuts",i);let d={};if(s.type==="mark"&&ue(s,"exitable",i)&&(d.ArrowRight=()=>hi.handleExit({editor:t,mark:s})),c){const y=Object.fromEntries(Object.entries(c()).map(([w,v])=>[w,()=>v({editor:t})]));d={...d,...y}}const h=r6(d);l.push(h);const p=ue(s,"addInputRules",i);if(Wv(s,t.options.enableInputRules)&&p){const y=p();if(y&&y.length){const w=BO({editor:t,rules:y}),v=Array.isArray(w)?w:[w];l.push(...v)}}const m=ue(s,"addPasteRules",i);if(Wv(s,t.options.enablePasteRules)&&m){const y=m();if(y&&y.length){const w=VO({editor:t,rules:y});l.push(...w)}}const x=ue(s,"addProseMirrorPlugins",i);if(x){const y=x();l.push(...y)}return l})}get attributes(){return o2(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=ha(this.extensions);return Object.fromEntries(e.filter(n=>!!ue(n,"addNodeView")).map(n=>{const s=this.attributes.filter(h=>h.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:gt(n.name,this.schema)},l=ue(n,"addNodeView",i);if(!l)return[];const c=l();if(!c)return[];const d=(h,p,m,x,y)=>{const w=Gl(h,s);return c({node:h,view:p,getPos:m,decorations:x,innerDecorations:y,editor:t,extension:n,HTMLAttributes:w})};return[n.name,d]}))}dispatchTransaction(t){const{editor:e}=this;return bu([...this.extensions].reverse()).reduceRight((s,i)=>{const l={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:e,type:Dc(i.name,this.schema)},c=ue(i,"dispatchTransaction",l);return c?d=>{c.call(l,{transaction:d,next:s})}:s},t)}get markViews(){const{editor:t}=this,{markExtensions:e}=ha(this.extensions);return Object.fromEntries(e.filter(n=>!!ue(n,"addMarkView")).map(n=>{const s=this.attributes.filter(d=>d.type===n.name),i={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:Ds(n.name,this.schema)},l=ue(n,"addMarkView",i);if(!l)return[];const c=(d,h,p)=>{const m=Gl(d,s);return l()({mark:d,view:h,inline:p,editor:t,extension:n,HTMLAttributes:m,updateAttributes:x=>{iR(d,t,x)}})};return[n.name,c]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const s={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Dc(e.name,this.schema)};e.type==="mark"&&((n=Pe(ue(e,"keepOnSplit",s)))==null||n)&&this.splittableMarks.push(e.name);const i=ue(e,"onBeforeCreate",s),l=ue(e,"onCreate",s),c=ue(e,"onUpdate",s),d=ue(e,"onSelectionUpdate",s),h=ue(e,"onTransaction",s),p=ue(e,"onFocus",s),m=ue(e,"onBlur",s),x=ue(e,"onDestroy",s);i&&this.editor.on("beforeCreate",i),l&&this.editor.on("create",l),c&&this.editor.on("update",c),d&&this.editor.on("selectionUpdate",d),h&&this.editor.on("transaction",h),p&&this.editor.on("focus",p),m&&this.editor.on("blur",m),x&&this.editor.on("destroy",x)})}};md.resolve=c2;md.sort=bu;md.flatten=Pm;var qO={};Bm(qO,{ClipboardTextSerializer:()=>v2,Commands:()=>w2,Delete:()=>N2,Drop:()=>j2,Editable:()=>S2,FocusEvents:()=>C2,Keymap:()=>E2,Paste:()=>T2,Tabindex:()=>A2,TextDirection:()=>M2,focusEventsPluginKey:()=>k2});var ut=class y2 extends Fm{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new y2(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},v2=ut.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new et({key:new bt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:s,selection:i}=e,{ranges:l}=i,c=Math.min(...l.map(m=>m.$from.pos)),d=Math.max(...l.map(m=>m.$to.pos)),h=d2(n);return u2(s,{from:c,to:d},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:h})}}})]}}),w2=ut.create({name:"commands",addCommands(){return{...ZN}}}),N2=ut.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,s,i;const l=()=>{var c,d,h,p;if((p=(h=(d=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:d.filterTransaction)==null?void 0:h.call(d,t))!=null?p:t.getMeta("y-sync$"))return;const m=a2(t.before,[t,...e]);h2(m).forEach(w=>{m.mapping.mapResult(w.oldRange.from).deletedAfter&&m.mapping.mapResult(w.oldRange.to).deletedBefore&&m.before.nodesBetween(w.oldRange.from,w.oldRange.to,(v,S)=>{const j=S+v.nodeSize-2,E=w.oldRange.from<=S&&j<=w.oldRange.to;this.editor.emit("delete",{type:"node",node:v,from:S,to:j,newFrom:m.mapping.map(S),newTo:m.mapping.map(j),deletedRange:w.oldRange,newRange:w.newRange,partial:!E,editor:this.editor,transaction:t,combinedTransform:m})})});const y=m.mapping;m.steps.forEach((w,v)=>{var S,j;if(w instanceof In){const E=y.slice(v).map(w.from,-1),T=y.slice(v).map(w.to),A=y.invert().map(E,-1),H=y.invert().map(T),B=(S=m.doc.nodeAt(E-1))==null?void 0:S.marks.some(O=>O.eq(w.mark)),z=(j=m.doc.nodeAt(T))==null?void 0:j.marks.some(O=>O.eq(w.mark));this.editor.emit("delete",{type:"mark",mark:w.mark,from:w.from,to:w.to,deletedRange:{from:A,to:H},newRange:{from:E,to:T},partial:!!(z||B),editor:this.editor,transaction:t,combinedTransform:m})}})};(i=(s=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:s.async)==null||i?setTimeout(l,0):l()}}),j2=ut.create({name:"drop",addProseMirrorPlugins(){return[new et({key:new bt("tiptapDrop"),props:{handleDrop:(t,e,n,s)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:s})}}})]}}),S2=ut.create({name:"editable",addProseMirrorPlugins(){return[new et({key:new bt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),k2=new bt("focusEvents"),C2=ut.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new et({key:k2,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const s=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(s),!1},blur:(e,n)=>{t.isFocused=!1;const s=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(s),!1}}}})]}}),E2=ut.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:d})=>{const{selection:h,doc:p}=d,{empty:m,$anchor:x}=h,{pos:y,parent:w}=x,v=x.parent.isTextblock&&y>0?d.doc.resolve(y-1):x,S=v.parent.type.spec.isolating,j=x.pos-x.parentOffset,E=S&&v.parent.childCount===1?j===x.pos:Se.atStart(p).from===y;return!m||!w.type.isTextblock||w.textContent.length||!E||E&&x.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),s={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...s},l={...s,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return xu()||r2()?l:i},addProseMirrorPlugins(){return[new et({key:new bt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(S=>S.getMeta("composition")))return;const s=t.some(S=>S.docChanged)&&!e.doc.eq(n.doc),i=t.some(S=>S.getMeta("preventClearDocument"));if(!s||i)return;const{empty:l,from:c,to:d}=e.selection,h=Se.atStart(e.doc).from,p=Se.atEnd(e.doc).to;if(l||!(c===h&&d===p)||!hd(n.doc))return;const y=n.tr,w=cd({state:n,transaction:y}),{commands:v}=new ud({editor:this.editor,state:w});if(v.clearNodes(),!!y.steps.length)return y}})]}}),T2=ut.create({name:"paste",addProseMirrorPlugins(){return[new et({key:new bt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),A2=ut.create({name:"tabindex",addProseMirrorPlugins(){return[new et({key:new bt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),M2=ut.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=ha(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new et({key:new bt("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),KO=class sa{constructor(e,n,s=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=s,this.resolvedPos=e,this.editor=n,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,s=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,s=this.to-1}this.editor.commands.insertContentAt({from:n,to:s},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new sa(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new sa(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new sa(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,s)=>{const i=n.isBlock&&!n.isTextblock,l=n.isAtom&&!n.isText,c=this.pos+s+(l?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const d=this.resolvedPos.doc.resolve(c);if(!i&&d.depth<=this.depth)return;const h=new sa(d,this.editor,i,i?n:null);i&&(h.actualDepth=this.depth+1),e.push(new sa(d,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let s=null,i=this.parent;for(;i&&!s;){if(i.node.type.name===e)if(Object.keys(n).length>0){const l=i.node.attrs,c=Object.keys(n);for(let d=0;d<c.length;d+=1){const h=c[d];if(l[h]!==n[h])break}}else s=i;i=i.parent}return s}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},s=!1){let i=[];if(!this.children||this.children.length===0)return i;const l=Object.keys(n);return this.children.forEach(c=>{s&&i.length>0||(c.node.type.name===e&&l.every(h=>n[h]===c.node.attrs[h])&&i.push(c),!(s&&i.length>0)&&(i=i.concat(c.querySelectorAll(e,n,s))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},YO=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function GO(t,e,n){const s=document.querySelector("style[data-tiptap-style]");if(s!==null)return s;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}var WO=class extends zO{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:s})=>{throw s},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:fO,createMappablePosition:hO},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:s,slice:i,moved:l})=>this.options.onDrop(s,i,l)),this.on("paste",({event:s,slice:i})=>this.options.onPaste(s,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=n2(e,this.options.autofocus);this.editorState=ia.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=GO(YO,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=l2(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],s=this.state.reconfigure({plugins:n});return this.view.updateState(s),s}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(i=>{const l=typeof i=="string"?`${i}$`:i.key;n=n.filter(c=>!c.key.startsWith(l))}),e.length===n.length)return;const s=this.state.reconfigure({plugins:n});return this.view.updateState(s),s}createExtensionManager(){var t,e;const s=[...this.options.enableCoreExtensions?[S2,v2.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),w2,C2,E2,A2,j2,T2,N2,M2.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new md(s,this)}createCommandManager(){this.commandManager=new ud({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=Yp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=Yp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){const{editorProps:e,enableExtensionDispatchTransaction:n}=this.options,s=e.dispatchTransaction||this.dispatchTransaction.bind(this),i=n?this.extensionManager.dispatchTransaction(s):s;this.editorView=new XN(t,{...e,attributes:{role:"textbox",...e?.attributes},dispatchTransaction:i,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const l=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(l),this.prependClass(),this.injectCSS();const c=this.view.dom;c.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(p=>{var m;return(m=this.capturedTransaction)==null?void 0:m.step(p)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),s=!this.state.selection.eq(e.selection),i=n.includes(t),l=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),s&&this.emit("selectionUpdate",{editor:this,transaction:t});const c=n.findLast(p=>p.getMeta("focus")||p.getMeta("blur")),d=c?.getMeta("focus"),h=c?.getMeta("blur");d&&this.emit("focus",{editor:this,event:d.event,transaction:c}),h&&this.emit("blur",{editor:this,event:h.event,transaction:c}),!(t.getMeta("preventUpdate")||!n.some(p=>p.docChanged)||l.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return f2(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,s=typeof t=="string"?e:t;return cO(this.state,n,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Im(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return sO(this.state.doc,{blockSeparator:e,textSerializers:{...d2(this.schema),...n}})}get isEmpty(){return hd(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new KO(e,this)}get $doc(){return this.$pos(0)}};function pa(t){return new pd({find:t.find,handler:({state:e,range:n,match:s})=>{const i=Pe(t.getAttributes,void 0,s);if(i===!1||i===null)return null;const{tr:l}=e,c=s[s.length-1],d=s[0];if(c){const h=d.search(/\S/),p=n.from+d.indexOf(c),m=p+c.length;if($m(n.from,n.to,e.doc).filter(w=>w.mark.type.excluded.find(S=>S===t.type&&S!==w.mark.type)).filter(w=>w.to>p).length)return null;m<n.to&&l.delete(m,n.to),p>n.from&&l.delete(n.from+h,p);const y=n.from+h+c.length;l.addMark(n.from+h,y,t.type.create(i||{})),l.removeStoredMark(t.type)}},undoable:t.undoable})}function O2(t){return new pd({find:t.find,handler:({state:e,range:n,match:s})=>{const i=Pe(t.getAttributes,void 0,s)||{},{tr:l}=e,c=n.from;let d=n.to;const h=t.type.create(i);if(s[1]){const p=s[0].lastIndexOf(s[1]);let m=c+p;m>d?m=d:d=m+s[1].length;const x=s[0][s[0].length-1];l.insertText(x,c+s[0].length-1),l.replaceWith(m,d,h)}else if(s[0]){const p=t.type.isInline?c:c-1;l.insert(p,t.type.create(i)).delete(l.mapping.map(c),l.mapping.map(d))}l.scrollIntoView()},undoable:t.undoable})}function Wp(t){return new pd({find:t.find,handler:({state:e,range:n,match:s})=>{const i=e.doc.resolve(n.from),l=Pe(t.getAttributes,void 0,s)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,l)},undoable:t.undoable})}function ma(t){return new pd({find:t.find,handler:({state:e,range:n,match:s,chain:i})=>{const l=Pe(t.getAttributes,void 0,s)||{},c=e.tr.delete(n.from,n.to),h=c.doc.resolve(n.from).blockRange(),p=h&&wm(h,t.type,l);if(!p)return null;if(c.wrap(h,p),t.keepMarks&&t.editor){const{selection:x,storedMarks:y}=e,{splittableMarks:w}=t.editor.extensionManager,v=y||x.$to.parentOffset&&x.$from.marks();if(v){const S=v.filter(j=>w.includes(j.type.name));c.ensureMarks(S)}}if(t.keepAttributes){const x=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(x,l).run()}const m=c.doc.resolve(n.from-1).nodeBefore;m&&m.type===t.type&&Sr(c.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(s,m))&&c.join(n.from-1)},undoable:t.undoable})}var JO=t=>"touches"in t,XO=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=d=>{if(!this.isResizing||!this.activeHandle)return;const h=d.clientX-this.startX,p=d.clientY-this.startY;this.handleResize(h,p)},this.handleTouchMove=d=>{if(!this.isResizing||!this.activeHandle)return;const h=d.touches[0];if(!h)return;const p=h.clientX-this.startX,m=h.clientY-this.startY;this.handleResize(p,m)},this.handleMouseUp=()=>{if(!this.isResizing)return;const d=this.element.offsetWidth,h=this.element.offsetHeight;this.onCommit(d,h),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=d=>{d.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=d=>{d.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,s,i,l,c;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(s=t?.options)!=null&&s.directions&&(this.directions=t.options.directions),(i=t.options)!=null&&i.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(l=t.options)!=null&&l.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(c=t.options)!=null&&c.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),s=e.includes("bottom"),i=e.includes("left"),l=e.includes("right");n&&(t.style.top="0"),s&&(t.style.bottom="0"),i&&(t.style.left="0"),l&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,JO(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:s,height:i}=this.calculateNewDimensions(this.activeHandle,t,e),l=this.applyConstraints(s,i,n);this.element.style.width=`${l.width}px`,this.element.style.height=`${l.height}px`,this.onResize&&this.onResize(l.width,l.height)}calculateNewDimensions(t,e,n){let s=this.startWidth,i=this.startHeight;const l=t.includes("right"),c=t.includes("left"),d=t.includes("bottom"),h=t.includes("top");return l?s=this.startWidth+e:c&&(s=this.startWidth-e),d?i=this.startHeight+n:h&&(i=this.startHeight-n),(t==="right"||t==="left")&&(s=this.startWidth+(l?e:-e)),(t==="top"||t==="bottom")&&(i=this.startHeight+(d?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(s,i,t):{width:s,height:i}}applyConstraints(t,e,n){var s,i,l,c;if(!n){let p=Math.max(this.minSize.width,t),m=Math.max(this.minSize.height,e);return(s=this.maxSize)!=null&&s.width&&(p=Math.min(this.maxSize.width,p)),(i=this.maxSize)!=null&&i.height&&(m=Math.min(this.maxSize.height,m)),{width:p,height:m}}let d=t,h=e;return d<this.minSize.width&&(d=this.minSize.width,h=d/this.aspectRatio),h<this.minSize.height&&(h=this.minSize.height,d=h*this.aspectRatio),(l=this.maxSize)!=null&&l.width&&d>this.maxSize.width&&(d=this.maxSize.width,h=d/this.aspectRatio),(c=this.maxSize)!=null&&c.height&&h>this.maxSize.height&&(h=this.maxSize.height,d=h*this.aspectRatio),{width:d,height:h}}applyAspectRatio(t,e,n){const s=n==="left"||n==="right",i=n==="top"||n==="bottom";return s?{width:t,height:t/this.aspectRatio}:i?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function QO(t,e){const{selection:n}=t,{$from:s}=n;if(n instanceof fe){const l=s.index();return s.parent.canReplaceWith(l,l+1,e)}let i=s.depth;for(;i>=0;){const l=s.index(i);if(s.node(i).contentMatchAt(l).matchType(e))return!0;i-=1}return!1}var ZO={};Bm(ZO,{createAtomBlockMarkdownSpec:()=>eR,createBlockMarkdownSpec:()=>tR,createInlineMarkdownSpec:()=>rR,parseAttributes:()=>Vm,parseIndentedBlocks:()=>Jp,renderNestedMarkdownContent:()=>Km,serializeAttributes:()=>qm});function Vm(t){if(!t?.trim())return{};const e={},n=[],s=t.replace(/["']([^"']*)["']/g,p=>(n.push(p),`__QUOTED_${n.length-1}__`)),i=s.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const p=i.map(m=>m.trim().slice(1));e.class=p.join(" ")}const l=s.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);l&&(e.id=l[1]);const c=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(s.matchAll(c)).forEach(([,p,m])=>{var x;const y=parseInt(((x=m.match(/__QUOTED_(\d+)__/))==null?void 0:x[1])||"0",10),w=n[y];w&&(e[p]=w.slice(1,-1))});const h=s.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return h&&h.split(/\s+/).filter(Boolean).forEach(m=>{m.match(/^[a-zA-Z][\w-]*$/)&&(e[m]=!0)}),e}function qm(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(s=>e.push(`.${s}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,s])=>{n==="class"||n==="id"||(s===!0?e.push(n):s!==!1&&s!=null&&e.push(`${n}="${String(s)}"`))}),e.join(" ")}function eR(t){const{nodeName:e,name:n,parseAttributes:s=Vm,serializeAttributes:i=qm,defaultAttributes:l={},requiredAttributes:c=[],allowedAttributes:d}=t,h=n||e,p=m=>{if(!d)return m;const x={};return d.forEach(y=>{y in m&&(x[y]=m[y])}),x};return{parseMarkdown:(m,x)=>{const y={...l,...m.attributes};return x.createNode(e,y,[])},markdownTokenizer:{name:e,level:"block",start(m){var x;const y=new RegExp(`^:::${h}(?:\\s|$)`,"m"),w=(x=m.match(y))==null?void 0:x.index;return w!==void 0?w:-1},tokenize(m,x,y){const w=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),v=m.match(w);if(!v)return;const S=v[1]||"",j=s(S);if(!c.find(T=>!(T in j)))return{type:e,raw:v[0],attributes:j}}},renderMarkdown:m=>{const x=p(m.attrs||{}),y=i(x),w=y?` {${y}}`:"";return`:::${h}${w} :::`}}}function tR(t){const{nodeName:e,name:n,getContent:s,parseAttributes:i=Vm,serializeAttributes:l=qm,defaultAttributes:c={},content:d="block",allowedAttributes:h}=t,p=n||e,m=x=>{if(!h)return x;const y={};return h.forEach(w=>{w in x&&(y[w]=x[w])}),y};return{parseMarkdown:(x,y)=>{let w;if(s){const S=s(x);w=typeof S=="string"?[{type:"text",text:S}]:S}else d==="block"?w=y.parseChildren(x.tokens||[]):w=y.parseInline(x.tokens||[]);const v={...c,...x.attributes};return y.createNode(e,v,w)},markdownTokenizer:{name:e,level:"block",start(x){var y;const w=new RegExp(`^:::${p}`,"m"),v=(y=x.match(w))==null?void 0:y.index;return v!==void 0?v:-1},tokenize(x,y,w){var v;const S=new RegExp(`^:::${p}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),j=x.match(S);if(!j)return;const[E,T=""]=j,A=i(T);let H=1;const B=E.length;let z="";const O=/^:::([\w-]*)(\s.*)?/gm,Y=x.slice(B);for(O.lastIndex=0;;){const U=O.exec(Y);if(U===null)break;const $=U.index,me=U[1];if(!((v=U[2])!=null&&v.endsWith(":::"))){if(me)H+=1;else if(H-=1,H===0){const X=Y.slice(0,$);z=X.trim();const G=x.slice(0,B+$+U[0].length);let J=[];if(z)if(d==="block")for(J=w.blockTokens(X),J.forEach(te=>{te.text&&(!te.tokens||te.tokens.length===0)&&(te.tokens=w.inlineTokens(te.text))});J.length>0;){const te=J[J.length-1];if(te.type==="paragraph"&&(!te.text||te.text.trim()===""))J.pop();else break}else J=w.inlineTokens(z);return{type:e,raw:G,attributes:A,content:z,tokens:J}}}}}},renderMarkdown:(x,y)=>{const w=m(x.attrs||{}),v=l(w),S=v?` {${v}}`:"",j=y.renderChildren(x.content||[],`

`);return`:::${p}${S}

${j}

:::`}}}function nR(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let s=n.exec(t);for(;s!==null;){const[,i,l,c]=s;e[i]=l||c,s=n.exec(t)}return e}function sR(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function rR(t){const{nodeName:e,name:n,getContent:s,parseAttributes:i=nR,serializeAttributes:l=sR,defaultAttributes:c={},selfClosing:d=!1,allowedAttributes:h}=t,p=n||e,m=y=>{if(!h)return y;const w={};return h.forEach(v=>{const S=typeof v=="string"?v:v.name,j=typeof v=="string"?void 0:v.skipIfDefault;if(S in y){const E=y[S];if(j!==void 0&&E===j)return;w[S]=E}}),w},x=p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(y,w)=>{const v={...c,...y.attributes};if(d)return w.createNode(e,v);const S=s?s(y):y.content||"";return S?w.createNode(e,v,[w.createTextNode(S)]):w.createNode(e,v,[])},markdownTokenizer:{name:e,level:"inline",start(y){const w=d?new RegExp(`\\[${x}\\s*[^\\]]*\\]`):new RegExp(`\\[${x}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${x}\\]`),v=y.match(w),S=v?.index;return S!==void 0?S:-1},tokenize(y,w,v){const S=d?new RegExp(`^\\[${x}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${x}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${x}\\]`),j=y.match(S);if(!j)return;let E="",T="";if(d){const[,H]=j;T=H}else{const[,H,B]=j;T=H,E=B||""}const A=i(T.trim());return{type:e,raw:j[0],content:E.trim(),attributes:A}}},renderMarkdown:y=>{let w="";s?w=s(y):y.content&&y.content.length>0&&(w=y.content.filter(E=>E.type==="text").map(E=>E.text).join(""));const v=m(y.attrs||{}),S=l(v),j=S?` ${S}`:"";return d?`[${p}${j}]`:`[${p}${j}]${w}[/${p}]`}}}function Jp(t,e,n){var s,i,l,c;const d=t.split(`
`),h=[];let p="",m=0;const x=e.baseIndentSize||2;for(;m<d.length;){const y=d[m],w=y.match(e.itemPattern);if(!w){if(h.length>0)break;if(y.trim()===""){m+=1,p=`${p}${y}
`;continue}else return}const v=e.extractItemData(w),{indentLevel:S,mainContent:j}=v;p=`${p}${y}
`;const E=[j];for(m+=1;m<d.length;){const B=d[m];if(B.trim()===""){const O=d.slice(m+1).findIndex($=>$.trim()!=="");if(O===-1)break;if((((i=(s=d[m+1+O].match(/^(\s*)/))==null?void 0:s[1])==null?void 0:i.length)||0)>S){E.push(B),p=`${p}${B}
`,m+=1;continue}else break}if((((c=(l=B.match(/^(\s*)/))==null?void 0:l[1])==null?void 0:c.length)||0)>S)E.push(B),p=`${p}${B}
`,m+=1;else break}let T;const A=E.slice(1);if(A.length>0){const B=A.map(z=>z.slice(S+x)).join(`
`);B.trim()&&(e.customNestedParser?T=e.customNestedParser(B):T=n.blockTokens(B))}const H=e.createToken(v,T);h.push(H)}if(h.length!==0)return{items:h,raw:p}}function Km(t,e,n,s){if(!t||!Array.isArray(t.content))return"";const i=typeof n=="function"?n(s):n,[l,...c]=t.content,d=e.renderChildren([l]),h=[`${i}${d}`];return c&&c.length>0&&c.forEach(p=>{const m=e.renderChildren([p]);if(m){const x=m.split(`
`).map(y=>y?e.indent(y):"").join(`
`);h.push(x)}}),h.join(`
`)}function iR(t,e,n={}){const{state:s}=e,{doc:i,tr:l}=s,c=t;i.descendants((d,h)=>{const p=l.mapping.map(h),m=l.mapping.map(h)+d.nodeSize;let x=null;if(d.marks.forEach(w=>{if(w!==c)return!1;x=w}),!x)return;let y=!1;if(Object.keys(n).forEach(w=>{n[w]!==x.attrs[w]&&(y=!0)}),y){const w=t.type.create({...t.attrs,...n});l.removeMark(p,m,t.type),l.addMark(p,m,w)}}),l.docChanged&&e.view.dispatch(l)}var ln=class R2 extends Fm{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new R2(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function ui(t){return new PO({find:t.find,handler:({state:e,range:n,match:s,pasteEvent:i})=>{const l=Pe(t.getAttributes,void 0,s,i);if(l===!1||l===null)return null;const{tr:c}=e,d=s[s.length-1],h=s[0];let p=n.to;if(d){const m=h.search(/\S/),x=n.from+h.indexOf(d),y=x+d.length;if($m(n.from,n.to,e.doc).filter(v=>v.mark.type.excluded.find(j=>j===t.type&&j!==v.mark.type)).filter(v=>v.to>x).length)return null;y<n.to&&c.delete(y,n.to),x>n.from&&c.delete(n.from+m,x),p=n.from+m+d.length,c.addMark(n.from+m,p,t.type.create(l||{})),c.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:aR,getOwnPropertySymbols:lR}=Object,{hasOwnProperty:oR}=Object.prototype;function pp(t,e){return function(s,i,l){return t(s,i,l)&&e(s,i,l)}}function Uc(t){return function(n,s,i){if(!n||!s||typeof n!="object"||typeof s!="object")return t(n,s,i);const{cache:l}=i,c=l.get(n),d=l.get(s);if(c&&d)return c===s&&d===n;l.set(n,s),l.set(s,n);const h=t(n,s,i);return l.delete(n),l.delete(s),h}}function cR(t){return t?.[Symbol.toStringTag]}function Qv(t){return aR(t).concat(lR(t))}const uR=Object.hasOwn||((t,e)=>oR.call(t,e));function pi(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const dR="__v",fR="__o",hR="_owner",{getOwnPropertyDescriptor:Zv,keys:e1}=Object;function pR(t,e){return t.byteLength===e.byteLength&&yu(new Uint8Array(t),new Uint8Array(e))}function mR(t,e,n){let s=t.length;if(e.length!==s)return!1;for(;s-- >0;)if(!n.equals(t[s],e[s],s,s,t,e,n))return!1;return!0}function gR(t,e){return t.byteLength===e.byteLength&&yu(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function xR(t,e){return pi(t.getTime(),e.getTime())}function bR(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function yR(t,e){return t===e}function t1(t,e,n){const s=t.size;if(s!==e.size)return!1;if(!s)return!0;const i=new Array(s),l=t.entries();let c,d,h=0;for(;(c=l.next())&&!c.done;){const p=e.entries();let m=!1,x=0;for(;(d=p.next())&&!d.done;){if(i[x]){x++;continue}const y=c.value,w=d.value;if(n.equals(y[0],w[0],h,x,t,e,n)&&n.equals(y[1],w[1],y[0],w[0],t,e,n)){m=i[x]=!0;break}x++}if(!m)return!1;h++}return!0}const vR=pi;function wR(t,e,n){const s=e1(t);let i=s.length;if(e1(e).length!==i)return!1;for(;i-- >0;)if(!L2(t,e,n,s[i]))return!1;return!0}function Nl(t,e,n){const s=Qv(t);let i=s.length;if(Qv(e).length!==i)return!1;let l,c,d;for(;i-- >0;)if(l=s[i],!L2(t,e,n,l)||(c=Zv(t,l),d=Zv(e,l),(c||d)&&(!c||!d||c.configurable!==d.configurable||c.enumerable!==d.enumerable||c.writable!==d.writable)))return!1;return!0}function NR(t,e){return pi(t.valueOf(),e.valueOf())}function jR(t,e){return t.source===e.source&&t.flags===e.flags}function n1(t,e,n){const s=t.size;if(s!==e.size)return!1;if(!s)return!0;const i=new Array(s),l=t.values();let c,d;for(;(c=l.next())&&!c.done;){const h=e.values();let p=!1,m=0;for(;(d=h.next())&&!d.done;){if(!i[m]&&n.equals(c.value,d.value,c.value,d.value,t,e,n)){p=i[m]=!0;break}m++}if(!p)return!1}return!0}function yu(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function SR(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function L2(t,e,n,s){return(s===hR||s===fR||s===dR)&&(t.$$typeof||e.$$typeof)?!0:uR(e,s)&&n.equals(t[s],e[s],s,s,t,e,n)}const kR="[object ArrayBuffer]",CR="[object Arguments]",ER="[object Boolean]",TR="[object DataView]",AR="[object Date]",MR="[object Error]",OR="[object Map]",RR="[object Number]",LR="[object Object]",DR="[object RegExp]",zR="[object Set]",_R="[object String]",BR={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},UR="[object URL]",HR=Object.prototype.toString;function PR({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:s,areErrorsEqual:i,areFunctionsEqual:l,areMapsEqual:c,areNumbersEqual:d,areObjectsEqual:h,arePrimitiveWrappersEqual:p,areRegExpsEqual:m,areSetsEqual:x,areTypedArraysEqual:y,areUrlsEqual:w,unknownTagComparators:v}){return function(j,E,T){if(j===E)return!0;if(j==null||E==null)return!1;const A=typeof j;if(A!==typeof E)return!1;if(A!=="object")return A==="number"?d(j,E,T):A==="function"?l(j,E,T):!1;const H=j.constructor;if(H!==E.constructor)return!1;if(H===Object)return h(j,E,T);if(Array.isArray(j))return e(j,E,T);if(H===Date)return s(j,E,T);if(H===RegExp)return m(j,E,T);if(H===Map)return c(j,E,T);if(H===Set)return x(j,E,T);const B=HR.call(j);if(B===AR)return s(j,E,T);if(B===DR)return m(j,E,T);if(B===OR)return c(j,E,T);if(B===zR)return x(j,E,T);if(B===LR)return typeof j.then!="function"&&typeof E.then!="function"&&h(j,E,T);if(B===UR)return w(j,E,T);if(B===MR)return i(j,E,T);if(B===CR)return h(j,E,T);if(BR[B])return y(j,E,T);if(B===kR)return t(j,E,T);if(B===TR)return n(j,E,T);if(B===ER||B===RR||B===_R)return p(j,E,T);if(v){let z=v[B];if(!z){const O=cR(j);O&&(z=v[O])}if(z)return z(j,E,T)}return!1}}function IR({circular:t,createCustomConfig:e,strict:n}){let s={areArrayBuffersEqual:pR,areArraysEqual:n?Nl:mR,areDataViewsEqual:gR,areDatesEqual:xR,areErrorsEqual:bR,areFunctionsEqual:yR,areMapsEqual:n?pp(t1,Nl):t1,areNumbersEqual:vR,areObjectsEqual:n?Nl:wR,arePrimitiveWrappersEqual:NR,areRegExpsEqual:jR,areSetsEqual:n?pp(n1,Nl):n1,areTypedArraysEqual:n?pp(yu,Nl):yu,areUrlsEqual:SR,unknownTagComparators:void 0};if(e&&(s=Object.assign({},s,e(s))),t){const i=Uc(s.areArraysEqual),l=Uc(s.areMapsEqual),c=Uc(s.areObjectsEqual),d=Uc(s.areSetsEqual);s=Object.assign({},s,{areArraysEqual:i,areMapsEqual:l,areObjectsEqual:c,areSetsEqual:d})}return s}function $R(t){return function(e,n,s,i,l,c,d){return t(e,n,d)}}function FR({circular:t,comparator:e,createState:n,equals:s,strict:i}){if(n)return function(d,h){const{cache:p=t?new WeakMap:void 0,meta:m}=n();return e(d,h,{cache:p,equals:s,meta:m,strict:i})};if(t)return function(d,h){return e(d,h,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};const l={cache:void 0,equals:s,meta:void 0,strict:i};return function(d,h){return e(d,h,l)}}const VR=Cr();Cr({strict:!0});Cr({circular:!0});Cr({circular:!0,strict:!0});Cr({createInternalComparator:()=>pi});Cr({strict:!0,createInternalComparator:()=>pi});Cr({circular:!0,createInternalComparator:()=>pi});Cr({circular:!0,createInternalComparator:()=>pi,strict:!0});function Cr(t={}){const{circular:e=!1,createInternalComparator:n,createState:s,strict:i=!1}=t,l=IR(t),c=PR(l),d=n?n(c):$R(c);return FR({circular:e,comparator:c,createState:s,equals:d,strict:i})}var mp={exports:{}},gp={};var s1;function qR(){if(s1)return gp;s1=1;var t=Xl(),e=jw();function n(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var s=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,l=t.useRef,c=t.useEffect,d=t.useMemo,h=t.useDebugValue;return gp.useSyncExternalStoreWithSelector=function(p,m,x,y,w){var v=l(null);if(v.current===null){var S={hasValue:!1,value:null};v.current=S}else S=v.current;v=d(function(){function E(z){if(!T){if(T=!0,A=z,z=y(z),w!==void 0&&S.hasValue){var O=S.value;if(w(O,z))return H=O}return H=z}if(O=H,s(A,z))return O;var Y=y(z);return w!==void 0&&w(O,Y)?(A=z,O):(A=z,H=Y)}var T=!1,A,H,B=x===void 0?null:x;return[function(){return E(m())},B===null?void 0:function(){return E(B())}]},[m,x,y,w]);var j=i(p,v[0],v[1]);return c(function(){S.hasValue=!0,S.value=j},[j]),h(j),j},gp}var r1;function KR(){return r1||(r1=1,mp.exports=qR()),mp.exports}var YR=KR(),GR=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},WR=({contentComponent:t})=>{const e=Sw.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return o.jsx(o.Fragment,{children:Object.values(e)})};function JR(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,s){e={...e,[n]:X4.createPortal(s.reactElement,s.element,n)},t.forEach(i=>i())},removeRenderer(n){const s={...e};delete s[n],e=s,t.forEach(i=>i())}}}var XR=class extends nn.Component{constructor(t){var e;super(t),this.editorContentRef=nn.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=JR(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(s=>s.hasContentComponentInitialized?s:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:GR(e,this.editorContentRef),...n}),t?.contentComponent&&o.jsx(WR,{contentComponent:t.contentComponent})]})}},QR=k.forwardRef((t,e)=>{const n=nn.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return nn.createElement(XR,{key:n,innerRef:e,...t})}),D2=nn.memo(QR),ZR=typeof window<"u"?k.useLayoutEffect:k.useEffect,e5=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function t5(t){var e;const[n]=k.useState(()=>new e5(t.editor)),s=YR.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:VR);return ZR(()=>n.watch(t.editor),[t.editor,n]),k.useDebugValue(s),s}var n5=!1,Xp=typeof window>"u",s5=Xp||!!(typeof window<"u"&&window.next),r5=class z2{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Xp||s5?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...s)=>{var i,l;return(l=(i=this.options.current).onBeforeCreate)==null?void 0:l.call(i,...s)},onBlur:(...s)=>{var i,l;return(l=(i=this.options.current).onBlur)==null?void 0:l.call(i,...s)},onCreate:(...s)=>{var i,l;return(l=(i=this.options.current).onCreate)==null?void 0:l.call(i,...s)},onDestroy:(...s)=>{var i,l;return(l=(i=this.options.current).onDestroy)==null?void 0:l.call(i,...s)},onFocus:(...s)=>{var i,l;return(l=(i=this.options.current).onFocus)==null?void 0:l.call(i,...s)},onSelectionUpdate:(...s)=>{var i,l;return(l=(i=this.options.current).onSelectionUpdate)==null?void 0:l.call(i,...s)},onTransaction:(...s)=>{var i,l;return(l=(i=this.options.current).onTransaction)==null?void 0:l.call(i,...s)},onUpdate:(...s)=>{var i,l;return(l=(i=this.options.current).onUpdate)==null?void 0:l.call(i,...s)},onContentError:(...s)=>{var i,l;return(l=(i=this.options.current).onContentError)==null?void 0:l.call(i,...s)},onDrop:(...s)=>{var i,l;return(l=(i=this.options.current).onDrop)==null?void 0:l.call(i,...s)},onPaste:(...s)=>{var i,l;return(l=(i=this.options.current).onPaste)==null?void 0:l.call(i,...s)},onDelete:(...s)=>{var i,l;return(l=(i=this.options.current).onDelete)==null?void 0:l.call(i,...s)}};return new WO(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(s=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(s)?!0:s==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((i,l)=>{var c;return i===((c=n.extensions)==null?void 0:c[l])}):e[s]===n[s])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?z2.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((s,i)=>s===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function _2(t={},e=[]){const n=k.useRef(t);n.current=t;const[s]=k.useState(()=>new r5(n)),i=Sw.useSyncExternalStore(s.subscribe,s.getEditor,s.getServerSnapshot);return k.useDebugValue(i),k.useEffect(s.onRender(e)),t5({editor:i,selector:({transactionNumber:l})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&l===0?0:l+1}),i}var i5=k.createContext({editor:null});i5.Consumer;var a5=k.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),l5=()=>k.useContext(a5);nn.forwardRef((t,e)=>{const{onDragStart:n}=l5(),s=t.as||"div";return o.jsx(s,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});nn.createContext({markViewContentRef:()=>{}});var vu=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...s}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,s,n]},o5=/^\s*>\s$/,c5=ln.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return vu("blockquote",{...ct(this.options.HTMLAttributes,t),children:vu("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",s=[];return t.content.forEach(i=>{const d=e.renderChildren([i]).split(`
`).map(h=>h.trim()===""?n:`${n} ${h}`);s.push(d.join(`
`))}),s.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ma({find:o5,type:this.type})]}}),u5=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,d5=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,f5=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,h5=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,p5=hi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return vu("strong",{...ct(this.options.HTMLAttributes,t),children:vu("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[pa({find:u5,type:this.type}),pa({find:f5,type:this.type})]},addPasteRules(){return[ui({find:d5,type:this.type}),ui({find:h5,type:this.type})]}}),m5=/(^|[^`])`([^`]+)`(?!`)$/,g5=/(^|[^`])`([^`]+)`(?!`)/g,x5=hi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",ct(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[pa({find:m5,type:this.type})]},addPasteRules(){return[ui({find:g5,type:this.type})]}}),xp=4,b5=/^```([a-z]+)?[\s\n]$/,y5=/^~~~([a-z]+)?[\s\n]$/,v5=ln.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:xp,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const l=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(c=>c.startsWith(n)).map(c=>c.replace(n,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",ct(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let s="";const i=((n=t.attrs)==null?void 0:n.language)||"";return t.content?s=[`\`\`\`${i}`,e.renderChildren(t.content),"```"].join(`
`):s=`\`\`\`${i}

\`\`\``,s},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:xp,{state:s}=t,{selection:i}=s,{$from:l,empty:c}=i;if(l.parent.type!==this.type)return!1;const d=" ".repeat(n);return c?t.commands.insertContent(d):t.commands.command(({tr:h})=>{const{from:p,to:m}=i,w=s.doc.textBetween(p,m,`
`,`
`).split(`
`).map(v=>d+v).join(`
`);return h.replaceWith(p,m,s.schema.text(w)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:xp,{state:s}=t,{selection:i}=s,{$from:l,empty:c}=i;return l.parent.type!==this.type?!1:c?t.commands.command(({tr:d})=>{var h;const{pos:p}=l,m=l.start(),x=l.end(),w=s.doc.textBetween(m,x,`
`,`
`).split(`
`);let v=0,S=0;const j=p-m;for(let z=0;z<w.length;z+=1){if(S+w[z].length>=j){v=z;break}S+=w[z].length+1}const T=((h=w[v].match(/^ */))==null?void 0:h[0])||"",A=Math.min(T.length,n);if(A===0)return!0;let H=m;for(let z=0;z<v;z+=1)H+=w[z].length+1;return d.delete(H,H+A),p-H<=A&&d.setSelection(ge.create(d.doc,H)),!0}):t.commands.command(({tr:d})=>{const{from:h,to:p}=i,y=s.doc.textBetween(h,p,`
`,`
`).split(`
`).map(w=>{var v;const S=((v=w.match(/^ */))==null?void 0:v[0])||"",j=Math.min(S.length,n);return w.slice(j)}).join(`
`);return d.replaceWith(h,p,s.schema.text(y)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:s,empty:i}=n;if(!i||s.parent.type!==this.type)return!1;const l=s.parentOffset===s.parent.nodeSize-2,c=s.parent.textContent.endsWith(`

`);return!l||!c?!1:t.chain().command(({tr:d})=>(d.delete(s.pos-2,s.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:s}=e,{$from:i,empty:l}=n;if(!l||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const d=i.after();return d===void 0?!1:s.nodeAt(d)?t.commands.command(({tr:p})=>(p.setSelection(Se.near(s.resolve(d))),!0)):t.commands.exitCode()}}},addInputRules(){return[Wp({find:b5,type:this.type,getAttributes:t=>({language:t[1]})}),Wp({find:y5,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new et({key:new bt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),s=e.clipboardData.getData("vscode-editor-data"),i=s?JSON.parse(s):void 0,l=i?.mode;if(!n||!l)return!1;const{tr:c,schema:d}=t.state,h=d.text(n.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:l},h)),c.selection.$from.parent.type!==this.type&&c.setSelection(ge.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),t.dispatch(c),!0}}})]}}),w5=ln.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),N5=ln.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",ct(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:s})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:l}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:d}=s.extensionManager,h=l||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:p,dispatch:m})=>{if(m&&h&&c){const x=h.filter(y=>d.includes(y.type.name));p.ensureMarks(x)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),j5=ln.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,ct(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const s=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,i="#".repeat(s);return t.content?`${i} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Wp({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),S5=ln.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",ct(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!QO(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:s}=n,i=t();return p2(n)?i.insertContentAt(s.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:l,tr:c,dispatch:d})=>{if(d){const{$to:h}=c.selection,p=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?c.setSelection(ge.create(c.doc,h.pos+1)):h.nodeAfter.isBlock?c.setSelection(fe.create(c.doc,h.pos)):c.setSelection(ge.create(c.doc,h.pos));else{const m=l.schema.nodes[this.options.nextNodeType]||h.parent.type.contentMatch.defaultType,x=m?.create();x&&(c.insert(p,x),c.setSelection(ge.create(c.doc,p+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[O2({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),k5=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,C5=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,E5=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,T5=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,A5=hi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",ct(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[pa({find:k5,type:this.type}),pa({find:E5,type:this.type})]},addPasteRules(){return[ui({find:C5,type:this.type}),ui({find:T5,type:this.type})]}});const M5="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",O5="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Qp="numeric",Zp="ascii",em="alpha",Ll="asciinumeric",Tl="alphanumeric",tm="domain",B2="emoji",R5="scheme",L5="slashscheme",bp="whitespace";function D5(t,e){return t in e||(e[t]=[]),e[t]}function Qr(t,e,n){e[Qp]&&(e[Ll]=!0,e[Tl]=!0),e[Zp]&&(e[Ll]=!0,e[em]=!0),e[Ll]&&(e[Tl]=!0),e[em]&&(e[Tl]=!0),e[Tl]&&(e[tm]=!0),e[B2]&&(e[tm]=!0);for(const s in e){const i=D5(s,n);i.indexOf(t)<0&&i.push(t)}}function z5(t,e){const n={};for(const s in e)e[s].indexOf(t)>=0&&(n[s]=!0);return n}function tn(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}tn.groups={};tn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let s=0;s<e.jr.length;s++){const i=e.jr[s][0],l=e.jr[s][1];if(l&&i.test(t))return l}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,s){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,s)},tr(t,e,n,s){s=s||tn.groups;let i;return e&&e.j?i=e:(i=new tn(e),n&&s&&Qr(e,n,s)),this.jr.push([t,i]),i},ts(t,e,n,s){let i=this;const l=t.length;if(!l)return i;for(let c=0;c<l-1;c++)i=i.tt(t[c]);return i.tt(t[l-1],e,n,s)},tt(t,e,n,s){s=s||tn.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const l=e;let c,d=i.go(t);if(d?(c=new tn,Object.assign(c.j,d.j),c.jr.push.apply(c.jr,d.jr),c.jd=d.jd,c.t=d.t):c=new tn,l){if(s)if(c.t&&typeof c.t=="string"){const h=Object.assign(z5(c.t,s),n);Qr(l,h,s)}else n&&Qr(l,n,s);c.t=l}return i.j[t]=c,c}};const je=(t,e,n,s,i)=>t.ta(e,n,s,i),st=(t,e,n,s,i)=>t.tr(e,n,s,i),i1=(t,e,n,s,i)=>t.ts(e,n,s,i),se=(t,e,n,s,i)=>t.tt(e,n,s,i),Cs="WORD",nm="UWORD",U2="ASCIINUMERICAL",H2="ALPHANUMERICAL",Wl="LOCALHOST",sm="TLD",rm="UTLD",Zc="SCHEME",ra="SLASH_SCHEME",Ym="NUM",im="WS",Gm="NL",Dl="OPENBRACE",zl="CLOSEBRACE",wu="OPENBRACKET",Nu="CLOSEBRACKET",ju="OPENPAREN",Su="CLOSEPAREN",ku="OPENANGLEBRACKET",Cu="CLOSEANGLEBRACKET",Eu="FULLWIDTHLEFTPAREN",Tu="FULLWIDTHRIGHTPAREN",Au="LEFTCORNERBRACKET",Mu="RIGHTCORNERBRACKET",Ou="LEFTWHITECORNERBRACKET",Ru="RIGHTWHITECORNERBRACKET",Lu="FULLWIDTHLESSTHAN",Du="FULLWIDTHGREATERTHAN",zu="AMPERSAND",_u="APOSTROPHE",Bu="ASTERISK",cr="AT",Uu="BACKSLASH",Hu="BACKTICK",Pu="CARET",fr="COLON",Wm="COMMA",Iu="DOLLAR",Xn="DOT",$u="EQUALS",Jm="EXCLAMATION",On="HYPHEN",_l="PERCENT",Fu="PIPE",Vu="PLUS",qu="POUND",Bl="QUERY",Xm="QUOTE",P2="FULLWIDTHMIDDLEDOT",Qm="SEMI",Qn="SLASH",Ul="TILDE",Ku="UNDERSCORE",I2="EMOJI",Yu="SYM";var $2=Object.freeze({__proto__:null,ALPHANUMERICAL:H2,AMPERSAND:zu,APOSTROPHE:_u,ASCIINUMERICAL:U2,ASTERISK:Bu,AT:cr,BACKSLASH:Uu,BACKTICK:Hu,CARET:Pu,CLOSEANGLEBRACKET:Cu,CLOSEBRACE:zl,CLOSEBRACKET:Nu,CLOSEPAREN:Su,COLON:fr,COMMA:Wm,DOLLAR:Iu,DOT:Xn,EMOJI:I2,EQUALS:$u,EXCLAMATION:Jm,FULLWIDTHGREATERTHAN:Du,FULLWIDTHLEFTPAREN:Eu,FULLWIDTHLESSTHAN:Lu,FULLWIDTHMIDDLEDOT:P2,FULLWIDTHRIGHTPAREN:Tu,HYPHEN:On,LEFTCORNERBRACKET:Au,LEFTWHITECORNERBRACKET:Ou,LOCALHOST:Wl,NL:Gm,NUM:Ym,OPENANGLEBRACKET:ku,OPENBRACE:Dl,OPENBRACKET:wu,OPENPAREN:ju,PERCENT:_l,PIPE:Fu,PLUS:Vu,POUND:qu,QUERY:Bl,QUOTE:Xm,RIGHTCORNERBRACKET:Mu,RIGHTWHITECORNERBRACKET:Ru,SCHEME:Zc,SEMI:Qm,SLASH:Qn,SLASH_SCHEME:ra,SYM:Yu,TILDE:Ul,TLD:sm,UNDERSCORE:Ku,UTLD:rm,UWORD:nm,WORD:Cs,WS:im});const Ss=/[a-z]/,jl=new RegExp("\\p{L}","u"),yp=new RegExp("\\p{Emoji}","u"),ks=/\d/,vp=/\s/,a1="\r",wp=`
`,_5="",B5="",Np="";let Hc=null,Pc=null;function U5(t=[]){const e={};tn.groups=e;const n=new tn;Hc==null&&(Hc=l1(M5)),Pc==null&&(Pc=l1(O5)),se(n,"'",_u),se(n,"{",Dl),se(n,"}",zl),se(n,"[",wu),se(n,"]",Nu),se(n,"(",ju),se(n,")",Su),se(n,"<",ku),se(n,">",Cu),se(n,"",Eu),se(n,"",Tu),se(n,"",Au),se(n,"",Mu),se(n,"",Ou),se(n,"",Ru),se(n,"",Lu),se(n,"",Du),se(n,"&",zu),se(n,"*",Bu),se(n,"@",cr),se(n,"`",Hu),se(n,"^",Pu),se(n,":",fr),se(n,",",Wm),se(n,"$",Iu),se(n,".",Xn),se(n,"=",$u),se(n,"!",Jm),se(n,"-",On),se(n,"%",_l),se(n,"|",Fu),se(n,"+",Vu),se(n,"#",qu),se(n,"?",Bl),se(n,'"',Xm),se(n,"/",Qn),se(n,";",Qm),se(n,"~",Ul),se(n,"_",Ku),se(n,"\\",Uu),se(n,"",P2);const s=st(n,ks,Ym,{[Qp]:!0});st(s,ks,s);const i=st(s,Ss,U2,{[Ll]:!0}),l=st(s,jl,H2,{[Tl]:!0}),c=st(n,Ss,Cs,{[Zp]:!0});st(c,ks,i),st(c,Ss,c),st(i,ks,i),st(i,Ss,i);const d=st(n,jl,nm,{[em]:!0});st(d,Ss),st(d,ks,l),st(d,jl,d),st(l,ks,l),st(l,Ss),st(l,jl,l);const h=se(n,wp,Gm,{[bp]:!0}),p=se(n,a1,im,{[bp]:!0}),m=st(n,vp,im,{[bp]:!0});se(n,Np,m),se(p,wp,h),se(p,Np,m),st(p,vp,m),se(m,a1),se(m,wp),st(m,vp,m),se(m,Np,m);const x=st(n,yp,I2,{[B2]:!0});se(x,"#"),st(x,yp,x),se(x,_5,x);const y=se(x,B5);se(y,"#"),st(y,yp,x);const w=[[Ss,c],[ks,i]],v=[[Ss,null],[jl,d],[ks,l]];for(let S=0;S<Hc.length;S++)ar(n,Hc[S],sm,Cs,w);for(let S=0;S<Pc.length;S++)ar(n,Pc[S],rm,nm,v);Qr(sm,{tld:!0,ascii:!0},e),Qr(rm,{utld:!0,alpha:!0},e),ar(n,"file",Zc,Cs,w),ar(n,"mailto",Zc,Cs,w),ar(n,"http",ra,Cs,w),ar(n,"https",ra,Cs,w),ar(n,"ftp",ra,Cs,w),ar(n,"ftps",ra,Cs,w),Qr(Zc,{scheme:!0,ascii:!0},e),Qr(ra,{slashscheme:!0,ascii:!0},e),t=t.sort((S,j)=>S[0]>j[0]?1:-1);for(let S=0;S<t.length;S++){const j=t[S][0],T=t[S][1]?{[R5]:!0}:{[L5]:!0};j.indexOf("-")>=0?T[tm]=!0:Ss.test(j)?ks.test(j)?T[Ll]=!0:T[Zp]=!0:T[Qp]=!0,i1(n,j,j,T)}return i1(n,"localhost",Wl,{ascii:!0}),n.jd=new tn(Yu),{start:n,tokens:Object.assign({groups:e},$2)}}function F2(t,e){const n=H5(e.replace(/[A-Z]/g,d=>d.toLowerCase())),s=n.length,i=[];let l=0,c=0;for(;c<s;){let d=t,h=null,p=0,m=null,x=-1,y=-1;for(;c<s&&(h=d.go(n[c]));)d=h,d.accepts()?(x=0,y=0,m=d):x>=0&&(x+=n[c].length,y++),p+=n[c].length,l+=n[c].length,c++;l-=x,c-=y,p-=x,i.push({t:m.t,v:e.slice(l-p,l),s:l-p,e:l})}return i}function H5(t){const e=[],n=t.length;let s=0;for(;s<n;){let i=t.charCodeAt(s),l,c=i<55296||i>56319||s+1===n||(l=t.charCodeAt(s+1))<56320||l>57343?t[s]:t.slice(s,s+2);e.push(c),s+=c.length}return e}function ar(t,e,n,s,i){let l;const c=e.length;for(let d=0;d<c-1;d++){const h=e[d];t.j[h]?l=t.j[h]:(l=new tn(s),l.jr=i.slice(),t.j[h]=l),t=l}return l=new tn(n),l.jr=i.slice(),t.j[e[c-1]]=l,l}function l1(t){const e=[],n=[];let s=0,i="0123456789";for(;s<t.length;){let l=0;for(;i.indexOf(t[s+l])>=0;)l++;if(l>0){e.push(n.join(""));for(let c=parseInt(t.substring(s,s+l),10);c>0;c--)n.pop();s+=l}else n.push(t[s]),s++}return e}const Jl={defaultProtocol:"http",events:null,format:o1,formatHref:o1,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Zm(t,e=null){let n=Object.assign({},Jl);t&&(n=Object.assign(n,t instanceof Zm?t.o:t));const s=n.ignoreTags,i=[];for(let l=0;l<s.length;l++)i.push(s[l].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}Zm.prototype={o:Jl,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const s=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Jl[t],typeof i=="function"&&s&&(i=i(e,n))):typeof i=="function"&&s&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let s=this.o[t];return typeof s=="function"&&e!=null&&(s=s(e,n.t,n)),s},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function o1(t){return t}function V2(t,e){this.t="token",this.v=t,this.tk=e}V2.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),s=t.get("format",e,this);return n&&s.length>n?s.substring(0,n)+"":s},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Jl.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),s=t.get("formatHref",n,this),i=t.get("tagName",n,e),l=this.toFormattedString(t),c={},d=t.get("className",n,e),h=t.get("target",n,e),p=t.get("rel",n,e),m=t.getObj("attributes",n,e),x=t.getObj("events",n,e);return c.href=s,d&&(c.class=d),h&&(c.target=h),p&&(c.rel=p),m&&Object.assign(c,m),{tagName:i,attributes:c,content:l,eventListeners:x}}};function gd(t,e){class n extends V2{constructor(i,l){super(i,l),this.t=t}}for(const s in e)n.prototype[s]=e[s];return n.t=t,n}const c1=gd("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),u1=gd("text"),P5=gd("nl"),Ic=gd("url",{isLink:!0,toHref(t=Jl.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Wl&&t[1].t===fr}}),Mn=t=>new tn(t);function I5({groups:t}){const e=t.domain.concat([zu,Bu,cr,Uu,Hu,Pu,Iu,$u,On,Ym,_l,Fu,Vu,qu,Qn,Yu,Ul,Ku]),n=[_u,fr,Wm,Xn,Jm,_l,Bl,Xm,Qm,ku,Cu,Dl,zl,Nu,wu,ju,Su,Eu,Tu,Au,Mu,Ou,Ru,Lu,Du],s=[zu,_u,Bu,Uu,Hu,Pu,Iu,$u,On,Dl,zl,_l,Fu,Vu,qu,Bl,Qn,Yu,Ul,Ku],i=Mn(),l=se(i,Ul);je(l,s,l),je(l,t.domain,l);const c=Mn(),d=Mn(),h=Mn();je(i,t.domain,c),je(i,t.scheme,d),je(i,t.slashscheme,h),je(c,s,l),je(c,t.domain,c);const p=se(c,cr);se(l,cr,p),se(d,cr,p),se(h,cr,p);const m=se(l,Xn);je(m,s,l),je(m,t.domain,l);const x=Mn();je(p,t.domain,x),je(x,t.domain,x);const y=se(x,Xn);je(y,t.domain,x);const w=Mn(c1);je(y,t.tld,w),je(y,t.utld,w),se(p,Wl,w);const v=se(x,On);se(v,On,v),je(v,t.domain,x),je(w,t.domain,x),se(w,Xn,y),se(w,On,v);const S=se(w,fr);je(S,t.numeric,c1);const j=se(c,On),E=se(c,Xn);se(j,On,j),je(j,t.domain,c),je(E,s,l),je(E,t.domain,c);const T=Mn(Ic);je(E,t.tld,T),je(E,t.utld,T),je(T,t.domain,c),je(T,s,l),se(T,Xn,E),se(T,On,j),se(T,cr,p);const A=se(T,fr),H=Mn(Ic);je(A,t.numeric,H);const B=Mn(Ic),z=Mn();je(B,e,B),je(B,n,z),je(z,e,B),je(z,n,z),se(T,Qn,B),se(H,Qn,B);const O=se(d,fr),Y=se(h,fr),U=se(Y,Qn),$=se(U,Qn);je(d,t.domain,c),se(d,Xn,E),se(d,On,j),je(h,t.domain,c),se(h,Xn,E),se(h,On,j),je(O,t.domain,B),se(O,Qn,B),se(O,Bl,B),je($,t.domain,B),je($,e,B),se($,Qn,B);const me=[[Dl,zl],[wu,Nu],[ju,Su],[ku,Cu],[Eu,Tu],[Au,Mu],[Ou,Ru],[Lu,Du]];for(let X=0;X<me.length;X++){const[G,J]=me[X],te=se(B,G);se(z,G,te),se(te,J,B);const M=Mn(Ic);je(te,e,M);const K=Mn();je(te,n),je(M,e,M),je(M,n,K),je(K,e,M),je(K,n,K),se(M,J,B),se(K,J,B)}return se(i,Wl,T),se(i,Gm,P5),{start:i,tokens:$2}}function $5(t,e,n){let s=n.length,i=0,l=[],c=[];for(;i<s;){let d=t,h=null,p=null,m=0,x=null,y=-1;for(;i<s&&!(h=d.go(n[i].t));)c.push(n[i++]);for(;i<s&&(p=h||d.go(n[i].t));)h=null,d=p,d.accepts()?(y=0,x=d):y>=0&&y++,i++,m++;if(y<0)i-=m,i<s&&(c.push(n[i]),i++);else{c.length>0&&(l.push(jp(u1,e,c)),c=[]),i-=y,m-=y;const w=x.t,v=n.slice(i-m,i);l.push(jp(w,e,v))}}return c.length>0&&l.push(jp(u1,e,c)),l}function jp(t,e,n){const s=n[0].s,i=n[n.length-1].e,l=e.slice(s,i);return new t(l,n)}const F5=typeof console<"u"&&console&&console.warn||(()=>{}),V5="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Je={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function q5(){return tn.groups={},Je.scanner=null,Je.parser=null,Je.tokenQueue=[],Je.pluginQueue=[],Je.customSchemes=[],Je.initialized=!1,Je}function d1(t,e=!1){if(Je.initialized&&F5(`linkifyjs: already initialized - will not register custom scheme "${t}" ${V5}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Je.customSchemes.push([t,e])}function K5(){Je.scanner=U5(Je.customSchemes);for(let t=0;t<Je.tokenQueue.length;t++)Je.tokenQueue[t][1]({scanner:Je.scanner});Je.parser=I5(Je.scanner.tokens);for(let t=0;t<Je.pluginQueue.length;t++)Je.pluginQueue[t][1]({scanner:Je.scanner,parser:Je.parser});return Je.initialized=!0,Je}function eg(t){return Je.initialized||K5(),$5(Je.parser.start,t,F2(Je.scanner.start,t))}eg.scan=F2;function q2(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const s=new Zm(n),i=eg(t),l=[];for(let c=0;c<i.length;c++){const d=i[c];d.isLink&&(!e||d.t===e)&&s.check(d)&&l.push(d.toFormattedObject(s))}return l}var tg="[\0- -\u2029]",Y5=new RegExp(tg),G5=new RegExp(`${tg}$`),W5=new RegExp(tg,"g");function J5(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function X5(t){return new et({key:new bt("autolink"),appendTransaction:(e,n,s)=>{const i=e.some(p=>p.docChanged)&&!n.doc.eq(s.doc),l=e.some(p=>p.getMeta("preventAutolink"));if(!i||l)return;const{tr:c}=s,d=a2(n.doc,[...e]);if(h2(d).forEach(({newRange:p})=>{const m=X6(s.doc,p,w=>w.isTextblock);let x,y;if(m.length>1)x=m[0],y=s.doc.textBetween(x.pos,x.pos+x.node.nodeSize,void 0," ");else if(m.length){const w=s.doc.textBetween(p.from,p.to," "," ");if(!G5.test(w))return;x=m[0],y=s.doc.textBetween(x.pos,p.to,void 0," ")}if(x&&y){const w=y.split(Y5).filter(Boolean);if(w.length<=0)return!1;const v=w[w.length-1],S=x.pos+y.lastIndexOf(v);if(!v)return!1;const j=eg(v).map(E=>E.toObject(t.defaultProtocol));if(!J5(j))return!1;j.filter(E=>E.isLink).map(E=>({...E,from:S+E.start+1,to:S+E.end+1})).filter(E=>s.schema.marks.code?!s.doc.rangeHasMark(E.from,E.to,s.schema.marks.code):!0).filter(E=>t.validate(E.value)).filter(E=>t.shouldAutoLink(E.value)).forEach(E=>{$m(E.from,E.to,s.doc).some(T=>T.mark.type===t.type)||c.addMark(E.from,E.to,t.type.create({href:E.href}))})}}),!!c.steps.length)return c}})}function Q5(t){return new et({key:new bt("handleClickLink"),props:{handleClick:(e,n,s)=>{var i,l;if(s.button!==0||!e.editable)return!1;let c=!1;if(t.enableClickSelection&&(c=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let d=null;if(s.target instanceof HTMLAnchorElement)d=s.target;else{let x=s.target;const y=[];for(;x.nodeName!=="DIV";)y.push(x),x=x.parentNode;d=y.find(w=>w.nodeName==="A")}if(!d)return c;const h=f2(e.state,t.type.name),p=(i=d?.href)!=null?i:h.href,m=(l=d?.target)!=null?l:h.target;d&&p&&(window.open(p,m),c=!0)}return c}}})}function Z5(t){return new et({key:new bt("handlePasteLink"),props:{handlePaste:(e,n,s)=>{const{shouldAutoLink:i}=t,{state:l}=e,{selection:c}=l,{empty:d}=c;if(d)return!1;let h="";s.content.forEach(m=>{h+=m.textContent});const p=q2(h,{defaultProtocol:t.defaultProtocol}).find(m=>m.isLink&&m.value===h);return!h||!p||i!==void 0&&!i(p.value)?!1:t.editor.commands.setMark(t.type,{href:p.href})}}})}function Kr(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(s=>{const i=typeof s=="string"?s:s.scheme;i&&n.push(i)}),!t||t.replace(W5,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var K2=hi.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){d1(t);return}d1(t.scheme,t.optionalSlashes)})},onDestroy(){q5()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Kr(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>{const e=/^[a-z][a-z0-9+.-]*:\/\//i.test(t),n=/^[a-z][a-z0-9+.-]*:/i.test(t);if(e||n&&!t.includes("@"))return!0;const i=(t.includes("@")?t.split("@").pop():t).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(i)||!/\./.test(i))}}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Kr(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Kr(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",ct(this.options.HTMLAttributes,t),0]:["a",ct(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const s=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${s})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:s=>!!Kr(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:s=>!!Kr(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ui({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:s}=this.options,i=q2(t).filter(l=>l.isLink&&this.options.isAllowedUri(l.value,{defaultValidate:c=>!!Kr(c,n),protocols:n,defaultProtocol:s}));i.length&&i.forEach(l=>{this.options.shouldAutoLink(l.value)&&e.push({text:l.value,data:{href:l.href},index:l.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(X5({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:s=>this.options.isAllowedUri(s,{defaultValidate:i=>!!Kr(i,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(Q5({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(Z5({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),Y2=K2,eL=Object.defineProperty,tL=(t,e)=>{for(var n in e)eL(t,n,{get:e[n],enumerable:!0})},nL="listItem",f1="textStyle",h1=/^\s*([-+*])\s$/,G2=ln.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",ct(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(nL,this.editor.getAttributes(f1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ma({find:h1,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ma({find:h1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(f1),editor:this.editor})),[t]}}),W2=ln.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",ct(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(i=>i.type==="paragraph"))n=e.parseChildren(t.tokens);else{const i=t.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(i.tokens)}],t.tokens.length>1){const c=t.tokens.slice(1),d=e.parseChildren(c);n.push(...d)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>Km(t,e,s=>s.parentType==="bulletList"?"- ":s.parentType==="orderedList"?`${s.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),sL={};tL(sL,{findListItemPos:()=>oo,getNextListDepth:()=>ng,handleBackspace:()=>am,handleDelete:()=>lm,hasListBefore:()=>J2,hasListItemAfter:()=>rL,hasListItemBefore:()=>X2,listItemHasSubList:()=>Q2,nextListIsDeeper:()=>Z2,nextListIsHigher:()=>ej});var oo=(t,e)=>{const{$from:n}=e.selection,s=gt(t,e.schema);let i=null,l=n.depth,c=n.pos,d=null;for(;l>0&&d===null;)i=n.node(l),i.type===s?d=l:(l-=1,c-=1);return d===null?null:{$pos:e.doc.resolve(c),depth:d}},ng=(t,e)=>{const n=oo(t,e);if(!n)return!1;const[,s]=lO(e,t,n.$pos.pos+4);return s},J2=(t,e,n)=>{const{$anchor:s}=t.selection,i=Math.max(0,s.pos-2),l=t.doc.resolve(i).node();return!(!l||!n.includes(l.type.name))},X2=(t,e)=>{var n;const{$anchor:s}=e.selection,i=e.doc.resolve(s.pos-2);return!(i.index()===0||((n=i.nodeBefore)==null?void 0:n.type.name)!==t)},Q2=(t,e,n)=>{if(!n)return!1;const s=gt(t,e.schema);let i=!1;return n.descendants(l=>{l.type===s&&(i=!0)}),i},am=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!wr(t.state,e)&&J2(t.state,e,n)){const{$anchor:d}=t.state.selection,h=t.state.doc.resolve(d.before()-1),p=[];h.node().descendants((y,w)=>{y.type.name===e&&p.push({node:y,pos:w})});const m=p.at(-1);if(!m)return!1;const x=t.state.doc.resolve(h.start()+m.pos+1);return t.chain().cut({from:d.start()-1,to:d.end()+1},x.end()).joinForward().run()}if(!wr(t.state,e)||!dO(t.state))return!1;const s=oo(e,t.state);if(!s)return!1;const l=t.state.doc.resolve(s.$pos.pos-2).node(s.depth),c=Q2(e,t.state,l);return X2(e,t.state)&&!c?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},Z2=(t,e)=>{const n=ng(t,e),s=oo(t,e);return!s||!n?!1:n>s.depth},ej=(t,e)=>{const n=ng(t,e),s=oo(t,e);return!s||!n?!1:n<s.depth},lm=(t,e)=>{if(!wr(t.state,e)||!uO(t.state,e))return!1;const{selection:n}=t.state,{$from:s,$to:i}=n;return!n.empty&&s.sameParent(i)?!1:Z2(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():ej(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},rL=(t,e)=>{var n;const{$anchor:s}=e.selection,i=e.doc.resolve(s.pos-s.parentOffset-2);return!(i.index()===i.parent.childCount-1||((n=i.nodeAfter)==null?void 0:n.type.name)!==t)},tj=ut.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&lm(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&lm(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:s})=>{t.state.schema.nodes[n]!==void 0&&am(t,n,s)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:s})=>{t.state.schema.nodes[n]!==void 0&&am(t,n,s)&&(e=!0)}),e}}}}),p1=/^(\s*)(\d+)\.\s+(.*)$/,iL=/^\s/;function aL(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n],l=i.match(p1);if(!l)break;const[,c,d,h]=l,p=c.length;let m=h,x=n+1;const y=[i];for(;x<t.length;){const w=t[x];if(w.match(p1))break;if(w.trim()==="")y.push(w),m+=`
`,x+=1;else if(w.match(iL))y.push(w),m+=`
${w.slice(p+2)}`,x+=1;else break}e.push({indent:p,number:parseInt(d,10),content:m.trim(),raw:y.join(`
`)}),s=x,n=x}return[e,s]}function nj(t,e,n){var s;const i=[];let l=0;for(;l<t.length;){const c=t[l];if(c.indent===e){const d=c.content.split(`
`),h=((s=d[0])==null?void 0:s.trim())||"",p=[];h&&p.push({type:"paragraph",raw:h,tokens:n.inlineTokens(h)});const m=d.slice(1).join(`
`).trim();if(m){const w=n.blockTokens(m);p.push(...w)}let x=l+1;const y=[];for(;x<t.length&&t[x].indent>e;)y.push(t[x]),x+=1;if(y.length>0){const w=Math.min(...y.map(S=>S.indent)),v=nj(y,w,n);p.push({type:"list",ordered:!0,start:y[0].number,items:v,raw:y.map(S=>S.raw).join(`
`)})}i.push({type:"list_item",raw:c.raw,tokens:p}),l=x}else l+=1}return i}function lL(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const s=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")s.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const l=e.parseChildren([i]);s.push({type:"paragraph",content:l})}else{const l=e.parseChildren([i]);l.length>0&&s.push(...l)}}),{type:"listItem",content:s}})}var oL="listItem",m1="textStyle",g1=/^(\d+)\.\s$/,sj=ln.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",ct(this.options.HTMLAttributes,n),0]:["ol",ct(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,s=t.items?lL(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:s}:{type:"orderedList",content:s}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var s;const i=t.split(`
`),[l,c]=aL(i);if(l.length===0)return;const d=nj(l,0,n);return d.length===0?void 0:{type:"list",ordered:!0,start:((s=l[0])==null?void 0:s.number)||1,items:d,raw:i.slice(0,c).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(oL,this.editor.getAttributes(m1)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ma({find:g1,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ma({find:g1,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(m1)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),cL=/^\s*(\[([( |x])?\])\s$/,uL=ln.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",ct(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const s=e.parseChildren(t.nestedTokens);n.push(...s)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const i=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return Km(t,e,i)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:s})=>{const i=document.createElement("li"),l=document.createElement("label"),c=document.createElement("span"),d=document.createElement("input"),h=document.createElement("div"),p=x=>{var y,w;d.ariaLabel=((w=(y=this.options.a11y)==null?void 0:y.checkboxLabel)==null?void 0:w.call(y,x,d.checked))||`Task item checkbox for ${x.textContent||"empty task item"}`};p(t),l.contentEditable="false",d.type="checkbox",d.addEventListener("mousedown",x=>x.preventDefault()),d.addEventListener("change",x=>{if(!s.isEditable&&!this.options.onReadOnlyChecked){d.checked=!d.checked;return}const{checked:y}=x.target;s.isEditable&&typeof n=="function"&&s.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:w})=>{const v=n();if(typeof v!="number")return!1;const S=w.doc.nodeAt(v);return w.setNodeMarkup(v,void 0,{...S?.attrs,checked:y}),!0}).run(),!s.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,y)||(d.checked=!d.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([x,y])=>{i.setAttribute(x,y)}),i.dataset.checked=t.attrs.checked,d.checked=t.attrs.checked,l.append(d,c),i.append(l,h),Object.entries(e).forEach(([x,y])=>{i.setAttribute(x,y)});let m=new Set(Object.keys(e));return{dom:i,contentDOM:h,update:x=>{if(x.type!==this.type)return!1;i.dataset.checked=x.attrs.checked,d.checked=x.attrs.checked,p(x);const y=s.extensionManager.attributes,w=Gl(x,y),v=new Set(Object.keys(w)),S=this.options.HTMLAttributes;return m.forEach(j=>{v.has(j)||(j in S?i.setAttribute(j,S[j]):i.removeAttribute(j))}),Object.entries(w).forEach(([j,E])=>{E==null?j in S?i.setAttribute(j,S[j]):i.removeAttribute(j):i.setAttribute(j,E)}),m=v,!0}}}},addInputRules(){return[ma({find:cL,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),dL=ln.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",ct(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const s=l=>{const c=Jp(l,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:d=>({indentLevel:d[1].length,mainContent:d[4],checked:d[3].toLowerCase()==="x"}),createToken:(d,h)=>({type:"taskItem",raw:"",mainContent:d.mainContent,indentLevel:d.indentLevel,checked:d.checked,text:d.mainContent,tokens:n.inlineTokens(d.mainContent),nestedTokens:h}),customNestedParser:s},n);return c?[{type:"taskList",raw:c.raw,items:c.items}]:n.blockTokens(l)},i=Jp(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:s},n);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});ut.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(G2.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(W2.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(tj.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(sj.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(uL.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(dL.configure(this.options.taskList)),t}});var fL=ln.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",ct(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),hL=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,pL=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,mL=hi.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",ct(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[pa({find:hL,type:this.type})]},addPasteRules(){return[ui({find:pL,type:this.type})]}}),gL=ln.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),xL=hi.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",ct(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!i)return;const l=i[2].trim();return{type:"underline",raw:i[0],text:l,tokens:n.inlineTokens(l)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function bL(t={}){return new et({view(e){return new yL(e,t)}})}class yL{constructor(e,n){var s;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(s=n.width)!==null&&s!==void 0?s:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let l=c=>{this[i](c)};return e.dom.addEventListener(i,l),{name:i,handler:l}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,s,i=this.editorView.dom,l=i.getBoundingClientRect(),c=l.width/i.offsetWidth,d=l.height/i.offsetHeight;if(n){let x=e.nodeBefore,y=e.nodeAfter;if(x||y){let w=this.editorView.nodeDOM(this.cursorPos-(x?x.nodeSize:0));if(w){let v=w.getBoundingClientRect(),S=x?v.bottom:v.top;x&&y&&(S=(S+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let j=this.width/2*d;s={left:v.left,right:v.right,top:S-j,bottom:S+j}}}}if(!s){let x=this.editorView.coordsAtPos(this.cursorPos),y=this.width/2*c;s={left:x.left-y,right:x.left+y,top:x.top,bottom:x.bottom}}let h=this.editorView.dom.offsetParent;this.element||(this.element=h.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let p,m;if(!h||h==document.body&&getComputedStyle(h).position=="static")p=-pageXOffset,m=-pageYOffset;else{let x=h.getBoundingClientRect(),y=x.width/h.offsetWidth,w=x.height/h.offsetHeight;p=x.left-h.scrollLeft*y,m=x.top-h.scrollTop*w}this.element.style.left=(s.left-p)/c+"px",this.element.style.top=(s.top-m)/d+"px",this.element.style.width=(s.right-s.left)/c+"px",this.element.style.height=(s.bottom-s.top)/d+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),s=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=s&&s.type.spec.disableDropCursor,l=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!l){let c=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let d=Xw(this.editorView.state.doc,c,this.editorView.dragging.slice);d!=null&&(c=d)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class rt extends Se{constructor(e){super(e,e)}map(e,n){let s=e.resolve(n.map(this.head));return rt.valid(s)?new rt(s):Se.near(s)}content(){return ae.empty}eq(e){return e instanceof rt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new rt(e.resolve(n.pos))}getBookmark(){return new sg(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!vL(e)||!wL(e))return!1;let s=n.type.spec.allowGapCursor;if(s!=null)return s;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,s=!1){e:for(;;){if(!s&&rt.valid(e))return e;let i=e.pos,l=null;for(let c=e.depth;;c--){let d=e.node(c);if(n>0?e.indexAfter(c)<d.childCount:e.index(c)>0){l=d.child(n>0?e.indexAfter(c):e.index(c)-1);break}else if(c==0)return null;i+=n;let h=e.doc.resolve(i);if(rt.valid(h))return h}for(;;){let c=n>0?l.firstChild:l.lastChild;if(!c){if(l.isAtom&&!l.isText&&!fe.isSelectable(l)){e=e.doc.resolve(i+l.nodeSize*n),s=!1;continue e}break}l=c,i+=n;let d=e.doc.resolve(i);if(rt.valid(d))return d}return null}}}rt.prototype.visible=!1;rt.findFrom=rt.findGapCursorFrom;Se.jsonID("gapcursor",rt);class sg{constructor(e){this.pos=e}map(e){return new sg(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return rt.valid(n)?new rt(n):Se.near(n)}}function rj(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function vL(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),s=t.node(e);if(n==0){if(s.type.spec.isolating)return!0;continue}for(let i=s.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||rj(i.type))return!0;if(i.inlineContent)return!1}}return!0}function wL(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),s=t.node(e);if(n==s.childCount){if(s.type.spec.isolating)return!0;continue}for(let i=s.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||rj(i.type))return!0;if(i.inlineContent)return!1}}return!0}function NL(){return new et({props:{decorations:CL,createSelectionBetween(t,e,n){return e.pos==n.pos&&rt.valid(n)?new rt(n):null},handleClick:SL,handleKeyDown:jL,handleDOMEvents:{beforeinput:kL}}})}const jL=QN({ArrowLeft:$c("horiz",-1),ArrowRight:$c("horiz",1),ArrowUp:$c("vert",-1),ArrowDown:$c("vert",1)});function $c(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(s,i,l){let c=s.selection,d=e>0?c.$to:c.$from,h=c.empty;if(c instanceof ge){if(!l.endOfTextblock(n)||d.depth==0)return!1;h=!1,d=s.doc.resolve(e>0?d.after():d.before())}let p=rt.findGapCursorFrom(d,e,h);return p?(i&&i(s.tr.setSelection(new rt(p))),!0):!1}}function SL(t,e,n){if(!t||!t.editable)return!1;let s=t.state.doc.resolve(e);if(!rt.valid(s))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&fe.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new rt(s))),!0)}function kL(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof rt))return!1;let{$from:n}=t.state.selection,s=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!s)return!1;let i=ne.empty;for(let c=s.length-1;c>=0;c--)i=ne.from(s[c].createAndFill(null,i));let l=t.state.tr.replace(n.pos,n.pos,new ae(i,0,0));return l.setSelection(ge.near(l.doc.resolve(n.pos+1))),t.dispatch(l),!1}function CL(t){if(!(t.selection instanceof rt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Qe.create(t.doc,[Vt.widget(t.selection.head,e,{key:"gapcursor"})])}var Gu=200,St=function(){};St.prototype.append=function(e){return e.length?(e=St.from(e),!this.length&&e||e.length<Gu&&this.leafAppend(e)||this.length<Gu&&e.leafPrepend(this)||this.appendInner(e)):this};St.prototype.prepend=function(e){return e.length?St.from(e).append(this):this};St.prototype.appendInner=function(e){return new EL(this,e)};St.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?St.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};St.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};St.prototype.forEach=function(e,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length),n<=s?this.forEachInner(e,n,s,0):this.forEachInvertedInner(e,n,s,0)};St.prototype.map=function(e,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length);var i=[];return this.forEach(function(l,c){return i.push(e(l,c))},n,s),i};St.from=function(e){return e instanceof St?e:e&&e.length?new ij(e):St.empty};var ij=(function(t){function e(s){t.call(this),this.values=s}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,l){return i==0&&l==this.length?this:new e(this.values.slice(i,l))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,l,c,d){for(var h=l;h<c;h++)if(i(this.values[h],d+h)===!1)return!1},e.prototype.forEachInvertedInner=function(i,l,c,d){for(var h=l-1;h>=c;h--)if(i(this.values[h],d+h)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Gu)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Gu)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(St);St.empty=new ij([]);var EL=(function(t){function e(n,s){t.call(this),this.left=n,this.right=s,this.length=n.length+s.length,this.depth=Math.max(n.depth,s.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},e.prototype.forEachInner=function(s,i,l,c){var d=this.left.length;if(i<d&&this.left.forEachInner(s,i,Math.min(l,d),c)===!1||l>d&&this.right.forEachInner(s,Math.max(i-d,0),Math.min(this.length,l)-d,c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,l,c){var d=this.left.length;if(i>d&&this.right.forEachInvertedInner(s,i-d,Math.max(l,d)-d,c+d)===!1||l<d&&this.left.forEachInvertedInner(s,Math.min(i,d),l,c)===!1)return!1},e.prototype.sliceInner=function(s,i){if(s==0&&i==this.length)return this;var l=this.left.length;return i<=l?this.left.slice(s,i):s>=l?this.right.slice(s-l,i-l):this.left.slice(s,l).append(this.right.slice(0,i-l))},e.prototype.leafAppend=function(s){var i=this.right.leafAppend(s);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(s){var i=this.left.leafPrepend(s);if(i)return new e(i,this.right)},e.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new e(this.left,new e(this.right,s)):new e(this,s)},e})(St);const TL=500;class Pn{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}let i,l;n&&(i=this.remapping(s,this.items.length),l=i.maps.length);let c=e.tr,d,h,p=[],m=[];return this.items.forEach((x,y)=>{if(!x.step){i||(i=this.remapping(s,y+1),l=i.maps.length),l--,m.push(x);return}if(i){m.push(new Zn(x.map));let w=x.step.map(i.slice(l)),v;w&&c.maybeStep(w).doc&&(v=c.mapping.maps[c.mapping.maps.length-1],p.push(new Zn(v,void 0,void 0,p.length+m.length))),l--,v&&i.appendMap(v,l)}else c.maybeStep(x.step);if(x.selection)return d=i?x.selection.map(i.slice(l)):x.selection,h=new Pn(this.items.slice(0,s).append(m.reverse().concat(p)),this.eventCount-1),!1},this.items.length,0),{remaining:h,transform:c,selection:d}}addTransform(e,n,s,i){let l=[],c=this.eventCount,d=this.items,h=!i&&d.length?d.get(d.length-1):null;for(let m=0;m<e.steps.length;m++){let x=e.steps[m].invert(e.docs[m]),y=new Zn(e.mapping.maps[m],x,n),w;(w=h&&h.merge(y))&&(y=w,m?l.pop():d=d.slice(0,d.length-1)),l.push(y),n&&(c++,n=void 0),i||(h=y)}let p=c-s.depth;return p>ML&&(d=AL(d,p),c-=p),new Pn(d.append(l),c)}remapping(e,n){let s=new $l;return this.items.forEach((i,l)=>{let c=i.mirrorOffset!=null&&l-i.mirrorOffset>=e?s.maps.length-i.mirrorOffset:void 0;s.appendMap(i.map,c)},e,n),s}addMaps(e){return this.eventCount==0?this:new Pn(this.items.append(e.map(n=>new Zn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let s=[],i=Math.max(0,this.items.length-n),l=e.mapping,c=e.steps.length,d=this.eventCount;this.items.forEach(y=>{y.selection&&d--},i);let h=n;this.items.forEach(y=>{let w=l.getMirror(--h);if(w==null)return;c=Math.min(c,w);let v=l.maps[w];if(y.step){let S=e.steps[w].invert(e.docs[w]),j=y.selection&&y.selection.map(l.slice(h+1,w));j&&d++,s.push(new Zn(v,S,j))}else s.push(new Zn(v))},i);let p=[];for(let y=n;y<c;y++)p.push(new Zn(l.maps[y]));let m=this.items.slice(0,i).append(p).append(s),x=new Pn(m,d);return x.emptyItemCount()>TL&&(x=x.compress(this.items.length-s.length)),x}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),s=n.maps.length,i=[],l=0;return this.items.forEach((c,d)=>{if(d>=e)i.push(c),c.selection&&l++;else if(c.step){let h=c.step.map(n.slice(s)),p=h&&h.getMap();if(s--,p&&n.appendMap(p,s),h){let m=c.selection&&c.selection.map(n.slice(s));m&&l++;let x=new Zn(p.invert(),h,m),y,w=i.length-1;(y=i.length&&i[w].merge(x))?i[w]=y:i.push(x)}}else c.map&&s--},this.items.length,0),new Pn(St.from(i.reverse()),l)}}Pn.empty=new Pn(St.empty,0);function AL(t,e){let n;return t.forEach((s,i)=>{if(s.selection&&e--==0)return n=i,!1}),t.slice(n)}class Zn{constructor(e,n,s,i){this.map=e,this.step=n,this.selection=s,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Zn(n.getMap().invert(),n,this.selection)}}}class ur{constructor(e,n,s,i,l){this.done=e,this.undone=n,this.prevRanges=s,this.prevTime=i,this.prevComposition=l}}const ML=20;function OL(t,e,n,s){let i=n.getMeta(ri),l;if(i)return i.historyState;n.getMeta(DL)&&(t=new ur(t.done,t.undone,null,0,-1));let c=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(c&&c.getMeta(ri))return c.getMeta(ri).redo?new ur(t.done.addTransform(n,void 0,s,eu(e)),t.undone,x1(n.mapping.maps),t.prevTime,t.prevComposition):new ur(t.done,t.undone.addTransform(n,void 0,s,eu(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let d=n.getMeta("composition"),h=t.prevTime==0||!c&&t.prevComposition!=d&&(t.prevTime<(n.time||0)-s.newGroupDelay||!RL(n,t.prevRanges)),p=c?Sp(t.prevRanges,n.mapping):x1(n.mapping.maps);return new ur(t.done.addTransform(n,h?e.selection.getBookmark():void 0,s,eu(e)),Pn.empty,p,n.time,d??t.prevComposition)}else return(l=n.getMeta("rebased"))?new ur(t.done.rebased(n,l),t.undone.rebased(n,l),Sp(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new ur(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Sp(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function RL(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((s,i)=>{for(let l=0;l<e.length;l+=2)s<=e[l+1]&&i>=e[l]&&(n=!0)}),n}function x1(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((s,i,l,c)=>e.push(l,c));return e}function Sp(t,e){if(!t)return null;let n=[];for(let s=0;s<t.length;s+=2){let i=e.map(t[s],1),l=e.map(t[s+1],-1);i<=l&&n.push(i,l)}return n}function LL(t,e,n){let s=eu(e),i=ri.get(e).spec.config,l=(n?t.undone:t.done).popEvent(e,s);if(!l)return null;let c=l.selection.resolve(l.transform.doc),d=(n?t.done:t.undone).addTransform(l.transform,e.selection.getBookmark(),i,s),h=new ur(n?d:l.remaining,n?l.remaining:d,null,0,-1);return l.transform.setSelection(c).setMeta(ri,{redo:n,historyState:h})}let kp=!1,b1=null;function eu(t){let e=t.plugins;if(b1!=e){kp=!1,b1=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){kp=!0;break}}return kp}const ri=new bt("history"),DL=new bt("closeHistory");function zL(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new et({key:ri,state:{init(){return new ur(Pn.empty,Pn.empty,null,0,-1)},apply(e,n,s){return OL(n,s,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let s=n.inputType,i=s=="historyUndo"?lj:s=="historyRedo"?oj:null;return!i||!e.editable?!1:(n.preventDefault(),i(e.state,e.dispatch))}}}})}function aj(t,e){return(n,s)=>{let i=ri.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(s){let l=LL(i,n,t);l&&s(e?l.scrollIntoView():l)}return!0}}const lj=aj(!1,!0),oj=aj(!0,!0);ut.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const s=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(s)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new et({key:new bt("characterCount"),appendTransaction:(e,n,s)=>{if(t)return;const i=this.options.limit;if(i==null||i===0){t=!0;return}const l=this.storage.characters({node:s.doc});if(l>i){const c=l-i,d=0,h=c;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const p=s.tr.deleteRange(d,h);return t=!0,p}t=!0},filterTransaction:(e,n)=>{const s=this.options.limit;if(!e.docChanged||s===0||s===null||s===void 0)return!0;const i=this.storage.characters({node:n.doc}),l=this.storage.characters({node:e.doc});if(l<=s||i>s&&l>s&&l<=i)return!0;if(i>s&&l>s&&l>i||!e.getMeta("paste"))return!1;const d=e.selection.$head.pos,h=l-s,p=d-h,m=d;return e.deleteRange(p,m),!(this.storage.characters({node:e.doc})>s)}})]}});var _L=ut.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[bL(this.options)]}});ut.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new et({key:new bt("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:s}=this.editor,{anchor:i}=e,l=[];if(!n||!s)return Qe.create(t,[]);let c=0;this.options.mode==="deepest"&&t.descendants((h,p)=>{if(h.isText)return;if(!(i>=p&&i<=p+h.nodeSize-1))return!1;c+=1});let d=0;return t.descendants((h,p)=>{if(h.isText||!(i>=p&&i<=p+h.nodeSize-1))return!1;if(d+=1,this.options.mode==="deepest"&&c-d>0||this.options.mode==="shallowest"&&d>1)return this.options.mode==="deepest";l.push(Vt.node(p,p+h.nodeSize,{class:this.options.className}))}),Qe.create(t,l)}}})]}});var BL=ut.create({name:"gapCursor",addProseMirrorPlugins(){return[NL()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Pe(ue(t,"allowGapCursor",n)))!=null?e:null}}});ut.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new et({key:new bt("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=e,i=[];if(!n)return null;const l=this.editor.isEmpty;return t.descendants((c,d)=>{const h=s>=d&&s<=d+c.nodeSize,p=!c.isLeaf&&hd(c);if((h||!this.options.showOnlyCurrent)&&p){const m=[this.options.emptyNodeClass];l&&m.push(this.options.emptyEditorClass);const x=Vt.node(d,d+c.nodeSize,{class:m.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:c,pos:d,hasAnchor:h}):this.options.placeholder});i.push(x)}return this.options.includeChildren}),Qe.create(t,i)}}})]}});ut.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new et({key:new bt("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||p2(n.selection)||t.view.dragging?null:Qe.create(n.doc,[Vt.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function y1({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var UL=ut.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new bt(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",s=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(n).includes(i.name));return[new et({key:e,appendTransaction:(i,l,c)=>{const{doc:d,tr:h,schema:p}=c,m=e.getState(c),x=d.content.size,y=p.nodes[n];if(m)return h.insert(x,y.create())},state:{init:(i,l)=>{const c=l.tr.doc.lastChild;return!y1({node:c,types:s})},apply:(i,l)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return l;const c=i.doc.lastChild;return!y1({node:c,types:s})}}})]}}),HL=ut.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>lj(t,e),redo:()=>({state:t,dispatch:e})=>oj(t,e)}},addProseMirrorPlugins(){return[zL(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),PL=ut.create({name:"starterKit",addExtensions(){var t,e,n,s;const i=[];return this.options.bold!==!1&&i.push(p5.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(c5.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(G2.configure(this.options.bulletList)),this.options.code!==!1&&i.push(x5.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(v5.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(w5.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(_L.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(BL.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(N5.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(j5.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(HL.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(S5.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(A5.configure(this.options.italic)),this.options.listItem!==!1&&i.push(W2.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(tj.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&i.push(K2.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(sj.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(fL.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(mL.configure(this.options.strike)),this.options.text!==!1&&i.push(gL.configure(this.options.text)),this.options.underline!==!1&&i.push(xL.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&i.push(UL.configure((s=this.options)==null?void 0:s.trailingNode)),i}}),cj=PL,IL=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,$L=ln.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",ct(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,s,i,l,c;const d=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",h=(i=(s=t.attrs)==null?void 0:s.alt)!=null?i:"",p=(c=(l=t.attrs)==null?void 0:l.title)!=null?c:"";return p?`![${h}](${d} "${p}")`:`![${h}](${d})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:s}=this.options.resize;return({node:i,getPos:l,HTMLAttributes:c,editor:d})=>{const h=document.createElement("img");Object.entries(c).forEach(([x,y])=>{if(y!=null)switch(x){case"width":case"height":break;default:h.setAttribute(x,y);break}}),h.src=c.src;const p=new XO({element:h,editor:d,node:i,getPos:l,onResize:(x,y)=>{h.style.width=`${x}px`,h.style.height=`${y}px`},onCommit:(x,y)=>{const w=l();w!==void 0&&this.editor.chain().setNodeSelection(w).updateAttributes(this.name,{width:x,height:y}).run()},onUpdate:(x,y,w)=>x.type===i.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:s===!0}}),m=p.dom;return m.style.visibility="hidden",m.style.pointerEvents="none",h.onload=()=>{m.style.visibility="",m.style.pointerEvents=""},p}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[O2({find:IL,type:this.type,getAttributes:t=>{const[,,e,n,s]=t;return{src:n,alt:e,title:s}}})]}}),uj=$L;function v1(){const t=Ht(),{id:e}=Nr(),n=!!e,[s,i]=k.useState(null),[l,c]=k.useState(n),[d,h]=k.useState(!1),[p,m]=k.useState(null),[x,y]=k.useState({title:"",excerpt:"",author:"Patricia Macadam",writtenBy:"",topic:"",status:"draft",featuredImage:""}),[w,v]=k.useState([]),[S,j]=k.useState([]),[E,T]=k.useState(!1),[A,H]=k.useState(null),[B,z]=k.useState(""),[O,Y]=k.useState(!1),U=_2({extensions:[cj.configure({heading:{levels:[1,2,3]}}),uj.configure({inline:!0,allowBase64:!0}),Y2.configure({openOnClick:!1})],content:"",editorProps:{attributes:{class:"focus:outline-none min-h-[400px] p-4"}}});k.useEffect(()=>{document.title=n?"Edit Article - Admin - Patricia Macadam":"New Article - Admin - Patricia Macadam"},[n]),k.useEffect(()=>{$(),me(),n&&X()},[e]);const $=async()=>{try{const M=await he.get("/topics");v(M.data.topics||[])}catch(M){console.error("Error fetching topics:",M)}},me=async()=>{try{const M=await he.get("/auth/all");j(M.data.admins||[])}catch(M){console.error("Error fetching admins:",M)}};k.useEffect(()=>{U&&s&&U.commands.setContent(s.content||"")},[U,s]);const X=async()=>{try{c(!0);const K=(await he.get(`/articles/${e}`)).data.article;i(K),y({title:K.title||"",excerpt:K.excerpt||"",author:K.author||"Patricia Macadam",writtenBy:K.writtenBy||"",topic:K.topic?._id||K.topic||"",status:K.status||"draft",featuredImage:K.featuredImage||""}),K.featuredImage&&z(K.featuredImage)}catch{m({type:"error",text:"Failed to load article"})}finally{c(!1)}},G=async M=>{Y(!0);try{const K=new FormData;K.append("image",M);const ie=await he.post("/upload/image",K,{headers:{"Content-Type":"multipart/form-data"}});return y(ke=>({...ke,featuredImage:ie.data.imageUrl})),z(ie.data.imageUrl),Y(!1),ie.data.imageUrl}catch(K){throw Y(!1),m({type:"error",text:K.response?.data?.message||"Failed to upload image"}),K}},J=async M=>{const K=M.target.files?.[0];if(!K)return;if(!K.type.startsWith("image/")){m({type:"error",text:"Please select an image file"});return}if(K.size>10*1024*1024){m({type:"error",text:"Image size must be less than 10MB"});return}H(K),y({...x,featuredImage:""});const ie=new FileReader;ie.onloadend=()=>{z(ie.result)},ie.readAsDataURL(K),await G(K)},te=async M=>{if(M.preventDefault(),!!U){h(!0),m(null);try{let K=x.featuredImage;A&&!K&&(K=await G(A));const ie={...x,content:U.getHTML(),featuredImage:K,topic:x.topic||null};n?(await he.put(`/articles/${e}`,ie),m({type:"success",text:"Article updated successfully!"})):(await he.post("/articles",ie),m({type:"success",text:"Article created successfully!"})),setTimeout(()=>{t("/admin/articles")},1500)}catch(K){m({type:"error",text:K.response?.data?.message||"Failed to save article"})}finally{h(!1)}}};return l?o.jsx(Ve,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):U?o.jsx(Ve,{children:o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:n?"Edit Article":"Create New Article"}),o.jsx("p",{className:"text-gray-600",children:n?"Update your article content":"Write and publish a new article"})]}),o.jsx("button",{onClick:()=>t("/admin/articles"),className:"text-gray-400 hover:text-black transition-colors",children:o.jsx(Ut,{className:"w-6 h-6"})})]}),p&&o.jsx("div",{className:`mb-6 p-4 rounded border ${p.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:o.jsx("p",{className:"font-medium",children:p.text})}),o.jsxs("form",{onSubmit:te,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"title",className:"block text-sm font-semibold text-black mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",id:"title",value:x.title,onChange:M=>y({...x,title:M.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"Enter article title"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"topic",className:"block text-sm font-semibold text-black mb-2",children:"Topic"}),o.jsxs("select",{id:"topic",value:x.topic,onChange:M=>y({...x,topic:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[o.jsx("option",{value:"",children:"Select a topic (optional)"}),w.map(M=>o.jsx("option",{value:M._id,children:M.name},M._id))]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"writtenBy",className:"block text-sm font-semibold text-black mb-2",children:"Written By"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",id:"writtenBy",value:x.writtenBy,onChange:M=>y({...x,writtenBy:M.target.value}),className:"flex-1 px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"Type author name or select from admins"}),o.jsx("button",{type:"button",onClick:()=>T(!0),className:"px-4 py-2 border-2 border-black text-black rounded hover:bg-gray-50 transition-colors font-semibold",children:"Select"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"author",className:"block text-sm font-semibold text-black mb-2",children:"Author (Display Name)"}),o.jsx("input",{type:"text",id:"author",value:x.author,onChange:M=>y({...x,author:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"Author name"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"excerpt",className:"block text-sm font-semibold text-black mb-2",children:"Excerpt"}),o.jsx("textarea",{id:"excerpt",value:x.excerpt,onChange:M=>y({...x,excerpt:M.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black resize-none",placeholder:"Brief description of the article"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Featured Image"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"imageUrl",className:"block text-xs text-gray-600 mb-1",children:"Or enter image URL"}),o.jsx("input",{type:"url",id:"imageUrl",value:x.featuredImage,onChange:M=>{const K=M.target.value;y({...x,featuredImage:K}),K&&(z(K),H(null))},className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://example.com/image.jpg"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or"})})]}),B&&o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:B,alt:"Preview",className:"w-full h-64 object-cover rounded border border-gray-300",onError:()=>{m({type:"error",text:"Invalid image URL"})}}),o.jsx("button",{type:"button",onClick:()=>{z(""),H(null),y({...x,featuredImage:""})},className:"absolute top-2 right-2 bg-black text-white rounded-full p-1 hover:bg-gray-800",children:o.jsx(Ut,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"file",id:"featuredImage",accept:"image/*",onChange:J,className:"hidden"}),o.jsx("label",{htmlFor:"featuredImage",className:"flex items-center justify-center gap-2 w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded cursor-pointer hover:border-black transition-colors",children:O?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Uploading..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Na,{className:"w-5 h-5 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-600",children:B?"Change Image":"Upload Image to Cloudflare"})]})})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold text-black mb-2",children:["Content ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"border border-gray-300 rounded-t bg-gray-50 p-2 flex flex-wrap gap-2",children:[o.jsx("button",{type:"button",onClick:()=>U.chain().focus().toggleBold().run(),className:`px-3 py-1 rounded text-sm font-semibold ${U.isActive("bold")?"bg-black text-white":"bg-white text-black hover:bg-gray-100"}`,children:"Bold"}),o.jsx("button",{type:"button",onClick:()=>U.chain().focus().toggleItalic().run(),className:`px-3 py-1 rounded text-sm font-semibold ${U.isActive("italic")?"bg-black text-white":"bg-white text-black hover:bg-gray-100"}`,children:"Italic"}),o.jsx("button",{type:"button",onClick:()=>U.chain().focus().toggleHeading({level:1}).run(),className:`px-3 py-1 rounded text-sm font-semibold ${U.isActive("heading",{level:1})?"bg-black text-white":"bg-white text-black hover:bg-gray-100"}`,children:"H1"}),o.jsx("button",{type:"button",onClick:()=>U.chain().focus().toggleHeading({level:2}).run(),className:`px-3 py-1 rounded text-sm font-semibold ${U.isActive("heading",{level:2})?"bg-black text-white":"bg-white text-black hover:bg-gray-100"}`,children:"H2"}),o.jsx("button",{type:"button",onClick:()=>U.chain().focus().toggleHeading({level:3}).run(),className:`px-3 py-1 rounded text-sm font-semibold ${U.isActive("heading",{level:3})?"bg-black text-white":"bg-white text-black hover:bg-gray-100"}`,children:"H3"}),o.jsx("button",{type:"button",onClick:()=>U.chain().focus().toggleBulletList().run(),className:`px-3 py-1 rounded text-sm font-semibold ${U.isActive("bulletList")?"bg-black text-white":"bg-white text-black hover:bg-gray-100"}`,children:"List"}),o.jsx("button",{type:"button",onClick:()=>U.chain().focus().toggleOrderedList().run(),className:`px-3 py-1 rounded text-sm font-semibold ${U.isActive("orderedList")?"bg-black text-white":"bg-white text-black hover:bg-gray-100"}`,children:"Numbered"}),o.jsx("button",{type:"button",onClick:()=>{const M=window.prompt("Enter image URL:");M&&U.chain().focus().setImage({src:M}).run()},className:"px-3 py-1 rounded text-sm font-semibold bg-white text-black hover:bg-gray-100",children:"Image"}),o.jsx("button",{type:"button",onClick:()=>{const M=window.prompt("Enter link URL:");M&&U.chain().focus().setLink({href:M}).run()},className:`px-3 py-1 rounded text-sm font-semibold ${U.isActive("link")?"bg-black text-white":"bg-white text-black hover:bg-gray-100"}`,children:"Link"})]}),o.jsxs("div",{className:"border border-t-0 border-gray-300 rounded-b min-h-[400px] bg-white",children:[o.jsx("style",{children:`
                .ProseMirror {
                  outline: none;
                  min-height: 400px;
                  padding: 1rem;
                }
                .ProseMirror p {
                  margin: 0.75rem 0;
                }
                .ProseMirror h1 {
                  font-size: 2rem;
                  font-weight: bold;
                  margin: 1rem 0;
                }
                .ProseMirror h2 {
                  font-size: 1.5rem;
                  font-weight: bold;
                  margin: 0.875rem 0;
                }
                .ProseMirror h3 {
                  font-size: 1.25rem;
                  font-weight: bold;
                  margin: 0.75rem 0;
                }
                .ProseMirror ul, .ProseMirror ol {
                  margin: 0.75rem 0;
                  padding-left: 1.5rem;
                }
                .ProseMirror li {
                  margin: 0.25rem 0;
                }
                .ProseMirror a {
                  color: #2563eb;
                  text-decoration: underline;
                }
                .ProseMirror img {
                  max-width: 100%;
                  height: auto;
                  margin: 1rem 0;
                }
                .ProseMirror strong {
                  font-weight: bold;
                }
                .ProseMirror em {
                  font-style: italic;
                }
              `}),o.jsx(D2,{editor:U})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"status",className:"block text-sm font-semibold text-black mb-2",children:"Status"}),o.jsxs("select",{id:"status",value:x.status,onChange:M=>y({...x,status:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[o.jsx("option",{value:"draft",children:"Draft"}),o.jsx("option",{value:"published",children:"Published"})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:()=>t("/admin/articles"),className:"px-6 py-2 border-2 border-gray-300 text-black rounded hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:d||O,className:"flex items-center gap-2 px-6 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(bm,{className:"w-4 h-4"}),d?"Saving...":n?"Update Article":"Save Article"]})]})]}),E&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 relative max-h-[80vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-xl font-bold text-black",children:"Select Admin"}),o.jsx("button",{onClick:()=>T(!1),className:"text-gray-400 hover:text-black transition-colors",children:o.jsx(Ut,{className:"w-5 h-5"})})]}),o.jsx("div",{className:"space-y-2",children:S.length===0?o.jsx("p",{className:"text-gray-600 text-center py-4",children:"No admins found"}):S.map(M=>o.jsxs("button",{onClick:()=>{y({...x,writtenBy:M.name}),T(!1)},className:"w-full flex items-center gap-3 p-3 border border-gray-300 rounded hover:bg-gray-50 transition-colors text-left",children:[M.profilePic?o.jsx("img",{src:M.profilePic,alt:M.name,className:"w-10 h-10 rounded-full object-cover"}):o.jsx("div",{className:"w-10 h-10 bg-black rounded-full flex items-center justify-center text-white font-semibold",children:M.name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-black",children:M.name}),o.jsx("p",{className:"text-sm text-gray-600",children:M.email})]})]},M._id))})]})})]})}):null}function FL(){const t=Ht(),[e,n]=k.useState([]),[s,i]=k.useState(!0),[l,c]=k.useState(!1),[d,h]=k.useState(null),[p,m]=k.useState({name:"",image:""}),[x,y]=k.useState(null),[w,v]=k.useState(""),[S,j]=k.useState(!1),[E,T]=k.useState(!1),[A,H]=k.useState(null);k.useEffect(()=>{document.title="Topics - Admin - Patricia Macadam",B()},[]);const B=async()=>{try{i(!0);const X=await he.get("/topics");n(X.data.topics||[])}catch(X){console.error("Error fetching topics:",X)}finally{i(!1)}},z=async X=>{j(!0);try{const G=new FormData;G.append("image",X);const J=await he.post("/upload/image",G,{headers:{"Content-Type":"multipart/form-data"}});return m({...p,image:J.data.imageUrl}),v(J.data.imageUrl),j(!1),J.data.imageUrl}catch(G){throw j(!1),H({type:"error",text:G.response?.data?.message||"Failed to upload image"}),G}},O=async X=>{const G=X.target.files?.[0];if(!G)return;if(!G.type.startsWith("image/")){H({type:"error",text:"Please select an image file"});return}if(G.size>10*1024*1024){H({type:"error",text:"Image size must be less than 10MB"});return}y(G),m({...p,image:""});const J=new FileReader;J.onloadend=()=>{v(J.result)},J.readAsDataURL(G),await z(G)},Y=async X=>{X.preventDefault(),T(!0),H(null);try{let G=p.image;x&&!G&&(G=await z(x)),d?(await he.put(`/topics/${d._id}`,{name:p.name,image:G}),H({type:"success",text:"Topic updated successfully!"})):(await he.post("/topics",{name:p.name,image:G}),H({type:"success",text:"Topic created successfully!"})),m({name:"",image:""}),y(null),v(""),h(null),await B(),setTimeout(()=>{c(!1),H(null)},1500)}catch(G){H({type:"error",text:G.response?.data?.message||"Failed to save topic"})}finally{T(!1)}},U=X=>{h(X),m({name:X.name,image:X.image}),v(X.image),y(null),c(!0)},$=async X=>{if(confirm("Are you sure you want to delete this topic?"))try{await he.delete(`/topics/${X}`),H({type:"success",text:"Topic deleted successfully!"}),await B(),setTimeout(()=>H(null),2e3)}catch(G){H({type:"error",text:G.response?.data?.message||"Failed to delete topic"})}},me=()=>{c(!1),h(null),m({name:"",image:""}),y(null),v(""),H(null)};return o.jsx(Ve,{children:o.jsxs("div",{className:"space-y-6 max-w-7xl",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Topics"}),o.jsx("p",{className:"text-gray-600",children:"Manage your content topics"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs("button",{onClick:()=>{h(null),m({name:"",image:""}),y(null),v(""),c(!0)},className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:[o.jsx(wa,{className:"w-4 h-4"}),"Add Topic"]})})]}),A&&o.jsx("div",{className:`p-4 rounded border ${A.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:o.jsx("p",{className:"font-medium",children:A.text})}),o.jsx("div",{className:"bg-white border border-gray-200 rounded overflow-hidden",children:s?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-2"}),o.jsx("p",{className:"text-gray-600",children:"Loading topics..."})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-black text-white",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Image"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Slug"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Created"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:e.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:'No topics found. Click "Add Topic" to create one.'})}):e.map(X=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>t(`/admin/topics/${X._id}`),children:[o.jsx("td",{className:"px-6 py-4",children:X.image?o.jsx("img",{src:X.image,alt:X.name,className:"w-16 h-16 object-cover rounded"}):o.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center",children:o.jsx($T,{className:"w-6 h-6 text-gray-400"})})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm font-medium text-black",children:X.name})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-600",children:X.slug})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${X.isActive?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:X.isActive?"Active":"Inactive"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-600",children:new Date(X.createdAt).toLocaleDateString()})}),o.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsx("button",{onClick:G=>{G.stopPropagation(),U(X)},className:"text-black hover:text-gray-600 transition-colors",children:o.jsx($n,{className:"w-4 h-4"})}),o.jsx("button",{onClick:G=>{G.stopPropagation(),$(X._id)},className:"text-black hover:text-red-600 transition-colors",children:o.jsx(jr,{className:"w-4 h-4"})})]})})]},X._id))})]})})}),l&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 relative max-h-[90vh] overflow-y-auto",children:[o.jsx("button",{onClick:me,className:"absolute top-4 right-4 text-gray-400 hover:text-black transition-colors",children:o.jsx(Ut,{className:"w-5 h-5"})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-black mb-2",children:d?"Edit Topic":"Add New Topic"}),o.jsx("p",{className:"text-sm text-gray-600",children:d?"Update topic information":"Create a new topic for your content"})]}),A&&o.jsx("div",{className:`mb-4 p-3 rounded border ${A.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:o.jsx("p",{className:"text-sm font-medium",children:A.text})}),o.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-black mb-2",children:["Topic Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",id:"name",name:"name",value:p.name,onChange:X=>m({...p,name:X.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"Enter topic name"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"image",className:"block text-sm font-semibold text-black mb-2",children:"Image"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"imageUrl",className:"block text-xs text-gray-600 mb-1",children:"Or enter image URL"}),o.jsx("input",{type:"url",id:"imageUrl",name:"imageUrl",value:p.image,onChange:X=>{const G=X.target.value;m({...p,image:G}),G&&(v(G),y(null))},className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://example.com/image.jpg"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or"})})]}),w&&o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:w,alt:"Preview",className:"w-full h-48 object-cover rounded border border-gray-300",onError:()=>{H({type:"error",text:"Invalid image URL"})}}),o.jsx("button",{type:"button",onClick:()=>{v(""),y(null),m({...p,image:""})},className:"absolute top-2 right-2 bg-black text-white rounded-full p-1 hover:bg-gray-800",children:o.jsx(Ut,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"file",id:"image",name:"image",accept:"image/*",onChange:O,className:"hidden"}),o.jsx("label",{htmlFor:"image",className:"flex items-center justify-center gap-2 w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded cursor-pointer hover:border-black transition-colors",children:S?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Uploading..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Na,{className:"w-5 h-5 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-600",children:w?"Change Image":"Upload Image to Cloudflare"})]})})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Enter a URL or upload a file. Supported formats: JPG, PNG, GIF. Max size: 10MB"})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"button",onClick:me,className:"flex-1 px-4 py-2 border-2 border-gray-300 text-black rounded hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:E||S,className:"flex-1 px-4 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:E?"Saving...":d?"Update Topic":"Save Topic"})]})]})]})})]})})}function VL(){const{id:t}=Nr(),e=Ht(),[n,s]=k.useState(null),[i,l]=k.useState([]),[c,d]=k.useState([]),[h,p]=k.useState("articles"),[m,x]=k.useState(!0),[y,w]=k.useState(null),[v,S]=k.useState(null),[j,E]=k.useState(!1),[T,A]=k.useState(!1);k.useEffect(()=>{t&&H()},[t]);const H=async()=>{try{x(!0),w(null);const U=((await he.get("/topics")).data.topics||[]).find(G=>G._id===t);if(!U){w("Topic not found"),x(!1);return}s(U);const X=((await he.get("/articles")).data.articles||[]).filter(G=>G.topic?._id===t||G.topic===t);l(X)}catch(O){console.error("Error fetching topic:",O),w(O.response?.data?.message||"Failed to load topic")}finally{x(!1)}},B=async(O,Y)=>{if(!Y.target.closest("button"))try{A(!0);const $=await he.get(`/articles/${O}`);S($.data.article),E(!0)}catch($){console.error("Error fetching article:",$)}finally{A(!1)}},z=()=>{E(!1),S(null)};return m?o.jsx(Ve,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):y||!n?o.jsx(Ve,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-black mb-4",children:"Topic Not Found"}),o.jsx("p",{className:"text-gray-600 mb-4",children:y||"The topic you are looking for does not exist."}),o.jsx("button",{onClick:()=>e("/admin/topics"),className:"px-6 py-3 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:"Back to Topics"})]})})}):o.jsx(Ve,{children:o.jsxs("div",{className:"space-y-6 max-w-7xl",children:[o.jsx("div",{className:"flex items-center gap-4 border-b border-gray-200 pb-4",children:o.jsxs("button",{onClick:()=>e("/admin/topics"),className:"flex items-center gap-2 px-4 py-2 text-black hover:text-gray-600 transition-colors",children:[o.jsx(xm,{className:"w-5 h-5"}),o.jsx("span",{children:"Back to Topics"})]})}),o.jsx("div",{className:"bg-white border border-gray-200 rounded p-6",children:o.jsxs("div",{className:"flex items-start gap-6",children:[n.image?o.jsx("img",{src:n.image,alt:n.name,className:"w-32 h-32 object-cover rounded"}):o.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-gray-400 text-4xl font-bold",children:n.name.charAt(0)})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:n.name}),o.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Slug: ",o.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:n.slug})]}),o.jsx("span",{className:`inline-block px-3 py-1 text-xs font-semibold rounded ${n.isActive?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:n.isActive?"Active":"Inactive"})]})]})}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded overflow-hidden",children:[o.jsxs("div",{className:"border-b border-gray-200 flex",children:[o.jsxs("button",{onClick:()=>p("articles"),className:`flex-1 px-6 py-4 text-sm font-semibold transition-colors border-b-2 ${h==="articles"?"text-black border-black":"text-gray-600 border-transparent hover:text-black"}`,children:["Articles (",i.length,")"]}),o.jsxs("button",{onClick:()=>p("podcasts"),className:`flex-1 px-6 py-4 text-sm font-semibold transition-colors border-b-2 ${h==="podcasts"?"text-black border-black":"text-gray-600 border-transparent hover:text-black"}`,children:["Podcasts (",c.length,")"]})]}),o.jsx("div",{className:"p-4",children:h==="articles"?i.length===0?o.jsxs("div",{className:"p-12 text-center text-gray-500",children:[o.jsx("p",{children:"No articles found for this topic."}),o.jsx("button",{onClick:()=>e("/admin/articles/new"),className:"mt-4 px-6 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:"Create Article"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-black text-white",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Title"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Created"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Views"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map(O=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:Y=>B(O._id,Y),children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm font-medium text-black",children:O.title})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${O.status==="published"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:O.status})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-600",children:new Date(O.createdAt).toLocaleDateString()})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-600",children:O.views.toLocaleString()})}),o.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:o.jsx("div",{className:"flex items-center justify-end gap-3",children:o.jsx("button",{onClick:()=>e(`/admin/articles/edit/${O._id}`),className:"text-black hover:text-gray-600 transition-colors",children:o.jsx($n,{className:"w-4 h-4"})})})})]},O._id))})]})}):c.length===0?o.jsxs("div",{className:"p-12 text-center text-gray-500",children:[o.jsx("p",{children:"No podcasts found for this topic."}),o.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Podcasts are currently not stored in the database. Once podcast functionality is added, they will appear here."})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-black text-white",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Title"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Created"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:c.map(O=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm font-medium text-black",children:O.title})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"px-2 py-1 text-xs font-semibold rounded bg-black text-white",children:"Published"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-600",children:new Date(O.createdAt).toLocaleDateString()})}),o.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:o.jsx("div",{className:"flex items-center justify-end gap-3",children:o.jsx("button",{onClick:()=>e(`/admin/podcasts/edit/${O._id}`),className:"text-black hover:text-gray-600 transition-colors",children:o.jsx($n,{className:"w-4 h-4"})})})})]},O._id))})]})})})]}),j&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto relative",children:[o.jsx("button",{onClick:z,className:"absolute top-4 right-4 text-gray-400 hover:text-black transition-colors z-10",children:o.jsx(Ut,{className:"w-6 h-6"})}),T?o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading article details..."})]}):v?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6 pr-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-black mb-4",children:v.title}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[v.topic&&o.jsxs("span",{className:"px-3 py-1 bg-gray-100 rounded",children:["Topic: ",typeof v.topic=="object"?v.topic.name:v.topic]}),o.jsx("span",{className:`px-3 py-1 rounded font-semibold ${v.status==="published"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:v.status}),o.jsxs("span",{children:["Views: ",v.views.toLocaleString()]})]})]}),v.featuredImage&&o.jsx("div",{className:"mb-6",children:o.jsx("img",{src:v.featuredImage,alt:v.title,className:"w-full h-64 object-cover rounded border border-gray-200"})}),o.jsx("div",{className:"mb-6 pb-6 border-b border-gray-200",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Author:"})," ",o.jsx("span",{className:"font-semibold text-black",children:typeof v.writtenBy=="object"?v.writtenBy.name:v.writtenBy||v.author})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Created:"})," ",o.jsx("span",{className:"font-semibold text-black",children:new Date(v.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),v.publishedAt&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Published:"})," ",o.jsx("span",{className:"font-semibold text-black",children:new Date(v.publishedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Slug:"})," ",o.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:v.slug})]})]})}),v.excerpt&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Excerpt"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:v.excerpt})]}),v.content&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-black mb-4",children:"Content"}),o.jsx("div",{className:"prose prose-sm max-w-none text-gray-700 article-content-preview",dangerouslySetInnerHTML:{__html:v.content.length>500?v.content.substring(0,500)+"...":v.content},style:{maxHeight:"300px",overflow:"hidden"}})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsxs("button",{onClick:()=>{z(),e(`/admin/articles/edit/${v._id}`)},className:"flex items-center gap-2 px-6 py-3 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:[o.jsx($n,{className:"w-4 h-4"}),"Edit Article"]}),o.jsx("button",{onClick:z,className:"flex items-center gap-2 px-6 py-3 border-2 border-gray-300 text-black rounded hover:bg-gray-50 transition-colors font-semibold",children:"Close"})]})]}):null]})}),o.jsx("style",{children:`
          .article-content-preview h1,
          .article-content-preview h2,
          .article-content-preview h3 {
            font-weight: 700;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
          }
          .article-content-preview p {
            margin-bottom: 1rem;
          }
          .article-content-preview ul,
          .article-content-preview ol {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
          }
        `})]})})}function qL(){const t=Ht(),[e,n]=k.useState([]),[s,i]=k.useState(!0),[l,c]=k.useState(""),[d,h]=k.useState(null),[p,m]=k.useState(!1),[x,y]=k.useState(null),[w,v]=k.useState({name:"",description:"",coverImage:"",spotify:"",apple:"",youtube:"",substack:""}),[S,j]=k.useState(null),[E,T]=k.useState(""),[A,H]=k.useState(!1),[B,z]=k.useState(!1);k.useEffect(()=>{document.title="Podcasts - Admin - Patricia Macadam",O()},[]);const O=async()=>{try{i(!0);const te=await he.get("/podcast-series");n(te.data.series||[])}catch(te){console.error("Error fetching series:",te),h({type:"error",text:"Failed to load podcasts"})}finally{i(!1)}},Y=async te=>{H(!0);try{const M=new FormData;M.append("image",te);const K=await he.post("/upload/image",M,{headers:{"Content-Type":"multipart/form-data"}});return v({...w,coverImage:K.data.imageUrl}),T(K.data.imageUrl),H(!1),K.data.imageUrl}catch(M){throw H(!1),h({type:"error",text:M.response?.data?.message||"Failed to upload image"}),M}},U=async te=>{const M=te.target.files?.[0];if(!M)return;if(!M.type.startsWith("image/")){h({type:"error",text:"Please select an image file"});return}if(M.size>10*1024*1024){h({type:"error",text:"Image size must be less than 10MB"});return}j(M),v({...w,coverImage:""});const K=new FileReader;K.onloadend=()=>{T(K.result)},K.readAsDataURL(M),await Y(M)},$=async te=>{te.preventDefault(),z(!0),h(null);try{let M=w.coverImage;S&&!M&&(M=await Y(S));const K={name:w.name,description:w.description||void 0,coverImage:M||void 0,author:"Patricia Macadam",status:"active",platformLinks:{spotify:w.spotify||void 0,apple:w.apple||void 0,youtube:w.youtube||void 0,substack:w.substack||void 0}};x?(await he.put(`/podcast-series/${x._id}`,K),h({type:"success",text:"Podcast updated successfully!"})):(await he.post("/podcast-series",K),h({type:"success",text:"Podcast created successfully!"})),v({name:"",description:"",coverImage:"",spotify:"",apple:"",youtube:"",substack:""}),j(null),T(""),y(null),m(!1),await O(),setTimeout(()=>h(null),2e3)}catch(M){h({type:"error",text:M.response?.data?.message||(x?"Failed to update podcast":"Failed to create podcast")})}finally{z(!1)}},me=te=>{y(te),v({name:te.name,description:te.description||"",coverImage:te.coverImage||"",spotify:te.platformLinks?.spotify||"",apple:te.platformLinks?.apple||"",youtube:te.platformLinks?.youtube||"",substack:te.platformLinks?.substack||""}),T(te.coverImage||""),j(null),m(!0)},X=async te=>{if(confirm("Are you sure you want to delete this podcast? All episodes will be unlinked from this series."))try{await he.delete(`/podcast-series/${te}`),h({type:"success",text:"Podcast deleted successfully!"}),await O(),setTimeout(()=>h(null),2e3)}catch(M){h({type:"error",text:M.response?.data?.message||"Failed to delete podcast"})}},G=()=>{m(!1),y(null),v({name:"",description:"",coverImage:"",spotify:"",apple:"",youtube:"",substack:""}),j(null),T(""),h(null)},J=e.filter(te=>te.name.toLowerCase().includes(l.toLowerCase())||te.description&&te.description.toLowerCase().includes(l.toLowerCase()));return s?o.jsx(Ve,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):o.jsx(Ve,{children:o.jsxs("div",{className:"space-y-6 max-w-7xl",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Podcasts"}),o.jsx("p",{className:"text-gray-600",children:"Manage your podcast series"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:[o.jsx(wa,{className:"w-4 h-4"}),"Create New Podcast"]})})]}),d&&o.jsx("div",{className:`p-4 rounded border ${d.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:o.jsx("p",{className:"font-medium",children:d.text})}),o.jsxs("div",{className:"bg-white border border-gray-200 p-4 rounded",children:[o.jsxs("div",{className:"relative",children:[o.jsx(di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Search podcasts...",value:l,onChange:te=>c(te.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),o.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",J.length," of ",e.length," podcasts"]})]}),o.jsx("div",{className:"bg-white border border-gray-200 rounded overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-black text-white",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Thumbnail"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Created"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:J.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:'No podcasts found. Click "Create New Podcast" to create one.'})}):J.map(te=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>t(`/admin/podcasts/${te._id}`),children:[o.jsx("td",{className:"px-6 py-4",children:te.coverImage?o.jsx("img",{src:te.coverImage,alt:te.name,className:"w-16 h-16 object-cover rounded"}):o.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-gray-400 text-2xl font-bold",children:te.name.charAt(0)})})}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-black",children:te.name}),te.description&&o.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:te.description})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${te.status==="active"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:te.status})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-600",children:new Date(te.createdAt).toLocaleDateString()})}),o.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsx("button",{onClick:M=>{M.stopPropagation(),me(te)},className:"text-black hover:text-gray-600 transition-colors",title:"Edit Series",children:o.jsx($n,{className:"w-4 h-4"})}),o.jsx("button",{onClick:M=>{M.stopPropagation(),t(`/admin/podcasts/${te._id}`)},className:"text-black hover:text-gray-600 transition-colors",children:"View Episodes"}),o.jsx("button",{onClick:M=>{M.stopPropagation(),X(te._id)},className:"text-black hover:text-red-600 transition-colors",title:"Delete Series",children:o.jsx(jr,{className:"w-4 h-4"})})]})})]},te._id))})]})})}),p&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6 relative max-h-[90vh] overflow-y-auto",children:[o.jsx("button",{onClick:G,className:"absolute top-4 right-4 text-gray-400 hover:text-black transition-colors",children:o.jsx(Ut,{className:"w-5 h-5"})}),o.jsx("h2",{className:"text-2xl font-bold text-black mb-4 pr-8",children:x?"Edit Podcast":"Create New Podcast"}),o.jsxs("form",{onSubmit:$,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-black mb-2",children:["Podcast Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",id:"name",value:w.name,onChange:te=>v({...w,name:te.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"Enter podcast name"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"description",className:"block text-sm font-semibold text-black mb-2",children:"Description"}),o.jsx("textarea",{id:"description",value:w.description,onChange:te=>v({...w,description:te.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black resize-none",placeholder:"Enter podcast description"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Thumbnail"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"imageUrl",className:"block text-xs text-gray-600 mb-1",children:"Or enter image URL"}),o.jsx("input",{type:"url",id:"imageUrl",value:w.coverImage,onChange:te=>{const M=te.target.value;v({...w,coverImage:M}),M&&(T(M),j(null))},className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://example.com/image.jpg"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or"})})]}),E&&o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:E,alt:"Preview",className:"w-full h-48 object-cover rounded border border-gray-300",onError:()=>{h({type:"error",text:"Invalid image URL"})}}),o.jsx("button",{type:"button",onClick:()=>{T(""),j(null),v({...w,coverImage:""})},className:"absolute top-2 right-2 bg-black text-white rounded-full p-1 hover:bg-gray-800",children:o.jsx(Ut,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"file",id:"thumbnail",accept:"image/*",onChange:U,className:"hidden"}),o.jsx("label",{htmlFor:"thumbnail",className:"flex items-center justify-center gap-2 w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded cursor-pointer hover:border-black transition-colors",children:A?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Uploading..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Na,{className:"w-5 h-5 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-600",children:E?"Change Image":"Upload Image to Cloudflare"})]})})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-black mb-4",children:"Platform Links"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"spotify",className:"block text-xs text-gray-600 mb-1",children:"Spotify Link"}),o.jsx("input",{type:"url",id:"spotify",value:w.spotify,onChange:te=>v({...w,spotify:te.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://open.spotify.com/show/..."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"apple",className:"block text-xs text-gray-600 mb-1",children:"Apple Podcasts Link"}),o.jsx("input",{type:"url",id:"apple",value:w.apple,onChange:te=>v({...w,apple:te.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://podcasts.apple.com/..."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"youtube",className:"block text-xs text-gray-600 mb-1",children:"YouTube Link"}),o.jsx("input",{type:"url",id:"youtube",value:w.youtube,onChange:te=>v({...w,youtube:te.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://www.youtube.com/..."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"substack",className:"block text-xs text-gray-600 mb-1",children:"Substack Link"}),o.jsx("input",{type:"url",id:"substack",value:w.substack,onChange:te=>v({...w,substack:te.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://patriciamacadam.substack.com/..."})]})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"submit",disabled:B,className:"flex-1 px-6 py-3 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:B?x?"Updating...":"Creating...":x?"Update Podcast":"Create Podcast"}),o.jsx("button",{type:"button",onClick:G,className:"px-6 py-3 border-2 border-gray-300 text-black rounded hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"})]})]})]})})]})})}function KL(){const{id:t}=Nr(),e=Ht(),[n,s]=k.useState(null),[i,l]=k.useState([]),[c,d]=k.useState(!0),[h,p]=k.useState(""),[m,x]=k.useState("all"),[y,w]=k.useState(null),[v,S]=k.useState(null),[j,E]=k.useState(!1),[T,A]=k.useState(!1);k.useEffect(()=>{t&&H()},[t]);const H=async()=>{try{d(!0);const U=await he.get(`/podcast-series/${t}`);s(U.data.series);const X=((await he.get("/podcasts")).data.podcasts||[]).filter(G=>G.series?._id===t||G.series===t);l(X)}catch(U){console.error("Error fetching series:",U),w({type:"error",text:"Failed to load series"})}finally{d(!1)}},B=async(U,$)=>{const me=$.target;if(!(me.closest("button")||me.closest("svg")||me.closest("path"))){A(!0),E(!0);try{const X=await he.get(`/podcasts/${U}`);S(X.data.podcast)}catch(X){w({type:"error",text:X.response?.data?.message||"Failed to load podcast details"}),E(!1)}finally{A(!1)}}},z=()=>{E(!1),S(null)},O=async U=>{if(confirm("Are you sure you want to delete this episode?"))try{await he.delete(`/podcasts/${U}`),w({type:"success",text:"Episode deleted successfully!"}),await H(),setTimeout(()=>w(null),2e3),v?._id===U&&z()}catch($){w({type:"error",text:$.response?.data?.message||"Failed to delete episode"})}},Y=i.filter(U=>{const $=U.title.toLowerCase().includes(h.toLowerCase())||U.description&&U.description.toLowerCase().includes(h.toLowerCase()),me=m==="all"||U.status===m;return $&&me});return c?o.jsx(Ve,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):n?o.jsx(Ve,{children:o.jsxs("div",{className:"space-y-6 max-w-7xl",children:[o.jsx("div",{className:"flex items-center gap-4 border-b border-gray-200 pb-4",children:o.jsxs("button",{onClick:()=>e("/admin/podcasts"),className:"flex items-center gap-2 px-4 py-2 text-black hover:text-gray-600 transition-colors",children:[o.jsx(xm,{className:"w-5 h-5"}),o.jsx("span",{children:"Back to Podcasts"})]})}),o.jsx("div",{className:"bg-white border border-gray-200 rounded p-6",children:o.jsxs("div",{className:"flex items-start gap-6",children:[n.coverImage?o.jsx("img",{src:n.coverImage,alt:n.name,className:"w-32 h-32 object-cover rounded"}):o.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-gray-400 text-4xl font-bold",children:n.name.charAt(0)})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:n.name}),n.description&&o.jsx("p",{className:"text-gray-600 mb-2",children:n.description}),o.jsx("span",{className:`inline-block px-3 py-1 text-xs font-semibold rounded ${n.status==="active"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:n.status})]})]})}),o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-black mb-2",children:"Episodes"}),o.jsx("p",{className:"text-gray-600",children:"Manage episodes for this podcast"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs("button",{onClick:()=>e(`/admin/podcasts/new?series=${t}`),className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:[o.jsx(wa,{className:"w-4 h-4"}),"Add New Episode"]})})]}),y&&o.jsx("div",{className:`p-4 rounded border ${y.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:o.jsx("p",{className:"font-medium",children:y.text})}),o.jsxs("div",{className:"bg-white border border-gray-200 p-4 rounded",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Search episodes...",value:h,onChange:U=>p(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Nw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsxs("select",{value:m,onChange:U=>x(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black appearance-none bg-white",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"published",children:"Published"}),o.jsx("option",{value:"draft",children:"Draft"})]})]})]}),o.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",Y.length," of ",i.length," episodes"]})]}),o.jsx("div",{className:"bg-white border border-gray-200 rounded overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-black text-white",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Cover"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Title"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Episode"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Published"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Views"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:Y.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:'No episodes found. Click "Add New Episode" to create one.'})}):Y.map(U=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:$=>B(U._id,$),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:U.coverImage?o.jsx("img",{src:U.coverImage,alt:U.title,className:"w-16 h-16 object-cover rounded"}):o.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-gray-400 text-xs",children:"No Image"})})}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-black",children:U.title}),U.description&&o.jsxs("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:[U.description.substring(0,100),"..."]})]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[o.jsx("div",{className:"text-sm text-gray-600",children:U.episodeNumber?`#${U.episodeNumber}`:"-"}),U.duration&&o.jsx("div",{className:"text-xs text-gray-500",children:U.duration})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${U.status==="published"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:U.status})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-600",children:U.publishedDate?new Date(U.publishedDate).toLocaleDateString():"-"})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"text-sm text-gray-600",children:U.views.toLocaleString()})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsx("button",{onClick:()=>e(`/admin/podcasts/edit/${U._id}`),className:"text-black hover:text-gray-600 transition-colors",children:o.jsx($n,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>O(U._id),className:"text-black hover:text-red-600 transition-colors",children:o.jsx(jr,{className:"w-4 h-4"})})]})})]},U._id))})]})})}),j&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto relative",children:[o.jsx("button",{onClick:z,className:"absolute top-4 right-4 text-gray-400 hover:text-black transition-colors z-10",children:o.jsx(Ut,{className:"w-6 h-6"})}),T?o.jsxs("div",{className:"p-12 text-center",children:[o.jsx("div",{className:"w-8 h-8 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading podcast details..."})]}):v?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6 pr-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-black mb-4",children:v.title}),o.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[v.topic&&o.jsxs("span",{className:"px-3 py-1 bg-gray-100 rounded",children:["Topic: ",typeof v.topic=="object"?v.topic.name:v.topic]}),v.series&&o.jsxs("span",{className:"px-3 py-1 bg-gray-100 rounded",children:["Series: ",typeof v.series=="object"?v.series.name:v.series]}),o.jsx("span",{className:`px-3 py-1 rounded font-semibold ${v.status==="published"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:v.status}),o.jsxs("span",{children:["Views: ",v.views?.toLocaleString()||0]})]})]}),v.coverImage&&o.jsx("div",{className:"mb-6",children:o.jsx("img",{src:v.coverImage,alt:v.title,className:"w-full h-64 object-cover rounded border border-gray-200"})}),o.jsx("div",{className:"mb-6 pb-6 border-b border-gray-200",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Episode Number:"})," ",o.jsx("span",{className:"font-semibold text-black",children:v.episodeNumber?`#${v.episodeNumber}`:"-"})]}),v.duration&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Duration:"})," ",o.jsx("span",{className:"font-semibold text-black",children:v.duration})]}),v.publishedDate&&o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Published:"})," ",o.jsx("span",{className:"font-semibold text-black",children:new Date(v.publishedDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Created:"})," ",o.jsx("span",{className:"font-semibold text-black",children:new Date(v.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600",children:"Slug:"})," ",o.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-xs",children:v.slug})]})]})}),v.description&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Description"}),o.jsx("p",{className:"text-gray-700 leading-relaxed",children:v.description})]}),v.audioUrl&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Audio"}),o.jsxs("audio",{controls:!0,className:"w-full max-w-md",children:[o.jsx("source",{src:v.audioUrl}),"Your browser does not support the audio element."]}),o.jsx("a",{href:v.audioUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline mt-2 inline-block",children:v.audioUrl})]}),v.platformLinks&&Object.keys(v.platformLinks).some(U=>v.platformLinks[U])&&o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-black mb-3",children:"Platform Links"}),o.jsxs("div",{className:"space-y-2",children:[v.platformLinks.spotify&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Spotify:"})," ",o.jsx("a",{href:v.platformLinks.spotify,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:v.platformLinks.spotify})]}),v.platformLinks.apple&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Apple Podcasts:"})," ",o.jsx("a",{href:v.platformLinks.apple,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:v.platformLinks.apple})]}),v.platformLinks.youtube&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-600",children:"YouTube:"})," ",o.jsx("a",{href:v.platformLinks.youtube,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:v.platformLinks.youtube})]}),v.platformLinks.substack&&o.jsxs("div",{children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Substack:"})," ",o.jsx("a",{href:v.platformLinks.substack,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:v.platformLinks.substack})]})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsxs("button",{onClick:()=>{z(),e(`/admin/podcasts/edit/${v._id}`)},className:"flex items-center gap-2 px-6 py-3 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:[o.jsx($n,{className:"w-4 h-4"}),"Edit Podcast"]}),o.jsx("button",{onClick:z,className:"px-6 py-3 border-2 border-gray-300 text-black rounded hover:bg-gray-50 transition-colors font-semibold",children:"Close"})]})]}):null]})})]})}):o.jsx(Ve,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-black mb-4",children:"Podcast Not Found"}),o.jsx("button",{onClick:()=>e("/admin/podcasts"),className:"px-6 py-3 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:"Back to Podcasts"})]})})})}function w1(){const t=Ht(),{id:e}=Nr(),n=!!e,[s,i]=k.useState(null),[l,c]=k.useState(n),[d,h]=k.useState(!1),[p,m]=k.useState(null),[x,y]=k.useState({title:"",description:"",episodeNumber:"",duration:"",coverImage:"",audioUrl:"",topic:"",series:"",status:"draft",spotify:"",apple:"",youtube:"",substack:""}),[w,v]=k.useState([]),[S,j]=k.useState([]),[E,T]=k.useState(null),[A,H]=k.useState(""),[B,z]=k.useState(!1);k.useEffect(()=>{document.title=n?"Edit Podcast - Admin - Patricia Macadam":"New Podcast - Admin - Patricia Macadam"},[n]),k.useEffect(()=>{if(O(),Y(),n)U();else{const J=new URLSearchParams(window.location.search).get("series");J&&y({...x,series:J})}},[e]);const O=async()=>{try{const G=await he.get("/topics");v(G.data.topics||[])}catch(G){console.error("Error fetching topics:",G)}},Y=async()=>{try{const G=await he.get("/podcast-series");j(G.data.series||[])}catch(G){console.error("Error fetching series:",G)}},U=async()=>{try{c(!0);const J=(await he.get(`/podcasts/${e}`)).data.podcast;i(J),y({title:J.title||"",description:J.description||"",episodeNumber:J.episodeNumber?.toString()||"",duration:J.duration||"",coverImage:J.coverImage||"",audioUrl:J.audioUrl||"",topic:J.topic?._id||J.topic||"",series:J.series?._id||J.series||"",status:J.status||"draft",spotify:J.platformLinks?.spotify||"",apple:J.platformLinks?.apple||"",youtube:J.platformLinks?.youtube||"",substack:J.platformLinks?.substack||""}),J.coverImage&&H(J.coverImage)}catch{m({type:"error",text:"Failed to load podcast"})}finally{c(!1)}},$=async G=>{z(!0);try{const J=new FormData;J.append("image",G);const te=await he.post("/upload/image",J,{headers:{"Content-Type":"multipart/form-data"}});return y({...x,coverImage:te.data.imageUrl}),H(te.data.imageUrl),z(!1),te.data.imageUrl}catch(J){throw z(!1),m({type:"error",text:J.response?.data?.message||"Failed to upload image"}),J}},me=async G=>{const J=G.target.files?.[0];if(!J)return;if(!J.type.startsWith("image/")){m({type:"error",text:"Please select an image file"});return}if(J.size>10*1024*1024){m({type:"error",text:"Image size must be less than 10MB"});return}T(J),y({...x,coverImage:""});const te=new FileReader;te.onloadend=()=>{H(te.result)},te.readAsDataURL(J),await $(J)},X=async G=>{G.preventDefault(),h(!0),m(null);try{let J=x.coverImage;E&&!J&&(J=await $(E));const te={title:x.title,description:x.description||void 0,episodeNumber:x.episodeNumber?parseInt(x.episodeNumber):void 0,duration:x.duration||void 0,coverImage:J||void 0,audioUrl:x.audioUrl||void 0,topic:x.topic||null,series:x.series,status:x.status,platformLinks:{spotify:x.spotify||void 0,apple:x.apple||void 0,youtube:x.youtube||void 0,substack:x.substack||void 0}};n?(await he.put(`/podcasts/${e}`,te),m({type:"success",text:"Podcast updated successfully!"})):(await he.post("/podcasts",te),m({type:"success",text:"Podcast created successfully!"})),setTimeout(()=>{t("/admin/podcasts")},1500)}catch(J){m({type:"error",text:J.response?.data?.message||"Failed to save podcast"})}finally{h(!1)}};return l?o.jsx(Ve,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):o.jsx(Ve,{children:o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:n?"Edit Podcast":"Create New Podcast"}),o.jsx("p",{className:"text-gray-600",children:n?"Update your podcast episode":"Add a new podcast episode"})]}),o.jsx("button",{onClick:()=>t("/admin/podcasts"),className:"text-gray-400 hover:text-black transition-colors",children:o.jsx(Ut,{className:"w-6 h-6"})})]}),p&&o.jsx("div",{className:`mb-6 p-4 rounded border ${p.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:o.jsx("p",{className:"font-medium",children:p.text})}),o.jsxs("form",{onSubmit:X,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"title",className:"block text-sm font-semibold text-black mb-2",children:["Title ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",id:"title",value:x.title,onChange:G=>y({...x,title:G.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"Enter podcast episode title"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"description",className:"block text-sm font-semibold text-black mb-2",children:"Description"}),o.jsx("textarea",{id:"description",value:x.description,onChange:G=>y({...x,description:G.target.value}),rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black resize-none",placeholder:"Enter podcast episode description"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"episodeNumber",className:"block text-sm font-semibold text-black mb-2",children:"Episode Number"}),o.jsx("input",{type:"number",id:"episodeNumber",value:x.episodeNumber,onChange:G=>y({...x,episodeNumber:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"e.g., 1"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"duration",className:"block text-sm font-semibold text-black mb-2",children:"Duration"}),o.jsx("input",{type:"text",id:"duration",value:x.duration,onChange:G=>y({...x,duration:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"e.g., 49 min"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"topic",className:"block text-sm font-semibold text-black mb-2",children:"Topic"}),o.jsxs("select",{id:"topic",value:x.topic,onChange:G=>y({...x,topic:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[o.jsx("option",{value:"",children:"Select a topic (optional)"}),w.map(G=>o.jsx("option",{value:G._id,children:G.name},G._id))]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"series",className:"block text-sm font-semibold text-black mb-2",children:["Series ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("select",{id:"series",value:x.series,onChange:G=>y({...x,series:G.target.value}),required:!0,disabled:!!new URLSearchParams(window.location.search).get("series"),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black disabled:bg-gray-100 disabled:cursor-not-allowed",children:[o.jsx("option",{value:"",children:"Select a series"}),S.map(G=>o.jsx("option",{value:G._id,children:G.name},G._id))]}),new URLSearchParams(window.location.search).get("series")&&o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Series is pre-selected for this podcast"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Thumbnail (Cover Image)"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"imageUrl",className:"block text-xs text-gray-600 mb-1",children:"Or enter image URL"}),o.jsx("input",{type:"url",id:"imageUrl",value:x.coverImage,onChange:G=>{const J=G.target.value;y({...x,coverImage:J}),J&&(H(J),T(null))},className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://example.com/image.jpg"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or"})})]}),A&&o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:A,alt:"Preview",className:"w-full h-64 object-cover rounded border border-gray-300",onError:()=>{m({type:"error",text:"Invalid image URL"})}}),o.jsx("button",{type:"button",onClick:()=>{H(""),T(null),y({...x,coverImage:""})},className:"absolute top-2 right-2 bg-black text-white rounded-full p-1 hover:bg-gray-800",children:o.jsx(Ut,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"file",id:"coverImage",accept:"image/*",onChange:me,className:"hidden"}),o.jsx("label",{htmlFor:"coverImage",className:"flex items-center justify-center gap-2 w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded cursor-pointer hover:border-black transition-colors",children:B?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Uploading..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Na,{className:"w-5 h-5 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-600",children:A?"Change Image":"Upload Image to Cloudflare"})]})})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"audioUrl",className:"block text-sm font-semibold text-black mb-2",children:"Audio URL"}),o.jsx("input",{type:"url",id:"audioUrl",value:x.audioUrl,onChange:G=>y({...x,audioUrl:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://example.com/audio.mp3"}),x.audioUrl&&o.jsx("div",{className:"mt-2",children:o.jsxs("audio",{controls:!0,className:"w-full max-w-md",children:[o.jsx("source",{src:x.audioUrl}),"Your browser does not support the audio element."]})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-black mb-4",children:"Platform Links"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"spotify",className:"block text-xs text-gray-600 mb-1",children:"Spotify Link"}),o.jsx("input",{type:"url",id:"spotify",value:x.spotify,onChange:G=>y({...x,spotify:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://open.spotify.com/episode/..."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"apple",className:"block text-xs text-gray-600 mb-1",children:"Apple Podcasts Link"}),o.jsx("input",{type:"url",id:"apple",value:x.apple,onChange:G=>y({...x,apple:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://podcasts.apple.com/..."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"youtube",className:"block text-xs text-gray-600 mb-1",children:"YouTube Link"}),o.jsx("input",{type:"url",id:"youtube",value:x.youtube,onChange:G=>y({...x,youtube:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://www.youtube.com/watch?v=..."})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"substack",className:"block text-xs text-gray-600 mb-1",children:"Substack Link"}),o.jsx("input",{type:"url",id:"substack",value:x.substack,onChange:G=>y({...x,substack:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://patriciamacadam.substack.com/..."})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"status",className:"block text-sm font-semibold text-black mb-2",children:"Status"}),o.jsxs("select",{id:"status",value:x.status,onChange:G=>y({...x,status:G.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[o.jsx("option",{value:"draft",children:"Draft"}),o.jsx("option",{value:"published",children:"Published (Published date will be set automatically)"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"When published, the date will be automatically set using timestamps"})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{type:"submit",disabled:d,className:"flex items-center gap-2 px-6 py-3 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:d?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Saving..."]}):o.jsx(o.Fragment,{children:n?"Update Podcast":"Create Podcast"})}),o.jsx("button",{type:"button",onClick:()=>t("/admin/podcasts"),className:"px-6 py-3 border-2 border-gray-300 text-black rounded hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"})]})]})]})})}function YL(){const{admin:t,fetchAdmin:e}=va(),[n,s]=k.useState(!1),[i,l]=k.useState(null),[c,d]=k.useState({name:"",email:"",profilePic:"",password:"",confirmPassword:""}),[h,p]=k.useState(null),[m,x]=k.useState(""),[y,w]=k.useState(!1);k.useEffect(()=>{document.title="Profile - Admin - Patricia Macadam"},[]),k.useEffect(()=>{t&&(d({name:t.name||"",email:t.email||"",profilePic:t.profilePic||"",password:"",confirmPassword:""}),t.profilePic&&x(t.profilePic))},[t]);const v=async E=>{w(!0);try{const T=new FormData;T.append("image",E);const A=await he.post("/upload/image",T,{headers:{"Content-Type":"multipart/form-data"}});return d(H=>({...H,profilePic:A.data.imageUrl})),x(A.data.imageUrl),w(!1),A.data.imageUrl}catch(T){throw w(!1),l({type:"error",text:T.response?.data?.message||"Failed to upload image"}),T}},S=async E=>{const T=E.target.files?.[0];if(!T)return;if(!T.type.startsWith("image/")){l({type:"error",text:"Please select an image file"});return}if(T.size>10*1024*1024){l({type:"error",text:"Image size must be less than 10MB"});return}p(T),d({...c,profilePic:""});const A=new FileReader;A.onloadend=()=>{x(A.result)},A.readAsDataURL(T),await v(T)},j=async E=>{if(E.preventDefault(),s(!0),l(null),c.password&&c.password!==c.confirmPassword){l({type:"error",text:"Passwords do not match"}),s(!1);return}try{let T=c.profilePic;h&&!T&&(T=await v(h));const A={name:c.name,email:c.email,profilePic:T};c.password&&(A.password=c.password),await he.put("/auth/profile",A),l({type:"success",text:"Profile updated successfully!"}),await e(),d({...c,password:"",confirmPassword:""})}catch(T){l({type:"error",text:T.response?.data?.message||"Failed to update profile"})}finally{s(!1)}};return t?o.jsx(Ve,{children:o.jsxs("div",{className:"max-w-3xl mx-auto",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Profile Settings"}),o.jsx("p",{className:"text-gray-600",children:"Manage your account information and profile"})]}),i&&o.jsx("div",{className:`mb-6 p-4 rounded border ${i.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:o.jsx("p",{className:"font-medium",children:i.text})}),o.jsxs("form",{onSubmit:j,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Profile Picture"}),o.jsxs("div",{className:"space-y-3",children:[m&&o.jsxs("div",{className:"relative inline-block",children:[o.jsx("img",{src:m,alt:"Profile",className:"w-32 h-32 rounded-full object-cover border-4 border-gray-300"}),o.jsx("button",{type:"button",onClick:()=>{x(""),p(null),d({...c,profilePic:""})},className:"absolute top-0 right-0 bg-black text-white rounded-full p-1 hover:bg-gray-800",children:o.jsx(Ut,{className:"w-4 h-4"})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"profilePicUrl",className:"block text-xs text-gray-600 mb-1",children:"Or enter image URL"}),o.jsx("input",{type:"url",id:"profilePicUrl",value:c.profilePic,onChange:E=>{const T=E.target.value;d({...c,profilePic:T}),T&&(x(T),p(null))},className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"https://example.com/image.jpg"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or"})})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"file",id:"profilePic",accept:"image/*",onChange:S,className:"hidden"}),o.jsx("label",{htmlFor:"profilePic",className:"flex items-center justify-center gap-2 w-full px-4 py-3 border-2 border-dashed border-gray-300 rounded cursor-pointer hover:border-black transition-colors",children:y?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin"}),o.jsx("span",{className:"text-sm text-gray-600",children:"Uploading..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Na,{className:"w-5 h-5 text-gray-400"}),o.jsx("span",{className:"text-sm text-gray-600",children:m?"Change Profile Picture":"Upload Profile Picture"})]})})]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-black mb-2",children:["Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",id:"name",value:c.name,onChange:E=>d({...c,name:E.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-black mb-2",children:["Email ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"email",id:"email",value:c.email,onChange:E=>d({...c,email:E.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-black mb-4",children:"Change Password"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-black mb-2",children:"New Password"}),o.jsx("input",{type:"password",id:"password",value:c.password,onChange:E=>d({...c,password:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"Leave blank to keep current password"})]}),c.password&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-black mb-2",children:"Confirm New Password"}),o.jsx("input",{type:"password",id:"confirmPassword",value:c.confirmPassword,onChange:E=>d({...c,confirmPassword:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"Confirm new password"})]})]})]}),o.jsx("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:o.jsxs("button",{type:"submit",disabled:n||y,className:"flex items-center gap-2 px-6 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(bm,{className:"w-4 h-4"}),n?"Saving...":"Save Changes"]})})]})]})}):o.jsx(Ve,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})})}function GL(){const t=Ht(),[e,n]=k.useState([]),[s,i]=k.useState(!0),[l,c]=k.useState(""),[d,h]=k.useState("all"),[p,m]=k.useState(1),[x]=k.useState(10),[y,w]=k.useState(null);k.useEffect(()=>{document.title="Products - Admin - Patricia Macadam",v()},[]);const v=async()=>{try{i(!0),n([])}catch(O){console.error("Error fetching products:",O),w({type:"error",text:"Failed to load products"})}finally{i(!1)}},S=e.filter(O=>{const Y=O.name.toLowerCase().includes(l.toLowerCase())||O.description&&O.description.toLowerCase().includes(l.toLowerCase()),U=d==="all"||O.category===d;return Y&&U}),j=Math.ceil(S.length/x),E=(p-1)*x,T=E+x,A=S.slice(E,T),H=O=>{m(O),window.scrollTo({top:0,behavior:"smooth"})},B=async O=>{if(confirm("Are you sure you want to delete this product?"))try{w({type:"success",text:"Product deleted successfully!"}),await v(),setTimeout(()=>w(null),2e3)}catch(Y){w({type:"error",text:Y.response?.data?.message||"Failed to delete product"})}},z=Array.from(new Set(e.map(O=>O.category)));return s?o.jsx(Ve,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):o.jsx(Ve,{children:o.jsxs("div",{className:"space-y-6 max-w-7xl",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Products"}),o.jsx("p",{className:"text-gray-600",children:"Manage your products"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs("button",{onClick:()=>t("/admin/products/new"),className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:[o.jsx(wa,{className:"w-4 h-4"}),"Add New Product"]})})]}),y&&o.jsx("div",{className:`p-4 rounded border ${y.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:o.jsx("p",{className:"font-medium",children:y.text})}),o.jsxs("div",{className:"bg-white border border-gray-200 p-4 rounded",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Search products...",value:l,onChange:O=>{c(O.target.value),m(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),o.jsx("div",{className:"md:w-48",children:o.jsxs("select",{value:d,onChange:O=>{h(O.target.value),m(1)},className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[o.jsx("option",{value:"all",children:"All Categories"}),z.map(O=>o.jsx("option",{value:O,children:O},O))]})})]}),o.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",S.length," of ",e.length," products"]})]}),o.jsx("div",{className:"bg-white border border-gray-200 rounded overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-black text-white",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Image"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Category"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Price"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Created"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:A.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:e.length===0?'No products found. Click "Add New Product" to create one.':"No products match your search criteria."})}):A.map(O=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:O.image?o.jsx("img",{src:O.image,alt:O.name,className:"w-16 h-16 object-cover rounded"}):o.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-gray-400 text-2xl font-bold",children:O.name.charAt(0)})})}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-black",children:O.name}),O.description&&o.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:O.description})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-600",children:O.category})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-600",children:O.price?`$${O.price.toFixed(2)}`:"N/A"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${O.status==="active"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:O.status})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-600",children:new Date(O.createdAt).toLocaleDateString()})}),o.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsx("button",{onClick:()=>t(`/admin/products/edit/${O._id}`),className:"text-black hover:text-gray-600 transition-colors",title:"Edit Product",children:o.jsx($n,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>B(O._id),className:"text-black hover:text-red-600 transition-colors",title:"Delete Product",children:o.jsx(jr,{className:"w-4 h-4"})})]})})]},O._id))})]})})}),j>1&&o.jsxs("div",{className:"flex items-center justify-between bg-white border border-gray-200 p-4 rounded",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",E+1," to ",Math.min(T,S.length)," of ",S.length," products"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>H(p-1),disabled:p===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:j},(O,Y)=>Y+1).map(O=>o.jsx("button",{onClick:()=>H(O),className:`px-4 py-2 border rounded ${p===O?"bg-black text-white border-black":"border-gray-300 hover:bg-gray-50"}`,children:O},O)),o.jsx("button",{onClick:()=>H(p+1),disabled:p===j,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})})}function WL(){const t=Ht(),[e,n]=k.useState([]),[s,i]=k.useState(!0),[l,c]=k.useState(""),[d,h]=k.useState("all"),[p,m]=k.useState(1),[x]=k.useState(10),[y,w]=k.useState(null);k.useEffect(()=>{document.title="Courses - Admin - Patricia Macadam",v()},[]);const v=async()=>{try{i(!0);const z=await he.get("/courses");n(z.data.courses||[])}catch(z){console.error("Error fetching courses:",z),w({type:"error",text:"Failed to load courses"})}finally{i(!1)}},S=e.filter(z=>{const O=z.name.toLowerCase().includes(l.toLowerCase())||z.description&&z.description.toLowerCase().includes(l.toLowerCase()),Y=d==="all"||z.status===d;return O&&Y}),j=Math.ceil(S.length/x),E=(p-1)*x,T=E+x,A=S.slice(E,T),H=z=>{m(z),window.scrollTo({top:0,behavior:"smooth"})},B=async z=>{if(confirm("Are you sure you want to delete this course?"))try{await he.delete(`/courses/${z}`),w({type:"success",text:"Course deleted successfully!"}),await v(),setTimeout(()=>w(null),2e3)}catch(O){w({type:"error",text:O.response?.data?.message||"Failed to delete course"})}};return s?o.jsx(Ve,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):o.jsx(Ve,{children:o.jsxs("div",{className:"space-y-6 max-w-7xl",children:[o.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Courses"}),o.jsx("p",{className:"text-gray-600",children:"Manage your online courses"})]}),o.jsx("div",{className:"flex gap-3",children:o.jsxs("button",{onClick:()=>t("/admin/courses/new"),className:"flex items-center gap-2 px-4 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold",children:[o.jsx(wa,{className:"w-4 h-4"}),"Add New Course"]})})]}),y&&o.jsx("div",{className:`p-4 rounded border ${y.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:o.jsx("p",{className:"font-medium",children:y.text})}),o.jsxs("div",{className:"bg-white border border-gray-200 p-4 rounded",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Search courses...",value:l,onChange:z=>{c(z.target.value),m(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),o.jsx("div",{className:"md:w-48",children:o.jsxs("select",{value:d,onChange:z=>{h(z.target.value),m(1)},className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactive"})]})})]}),o.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",S.length," of ",e.length," courses"]})]}),o.jsx("div",{className:"bg-white border border-gray-200 rounded overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-black text-white",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Thumbnail"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Price"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Course Link"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Created"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:A.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:e.length===0?'No courses found. Click "Add New Course" to create one.':"No courses match your search criteria."})}):A.map(z=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:z.thumbnail?o.jsx("img",{src:z.thumbnail,alt:z.name,className:"w-16 h-16 object-cover rounded"}):o.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-gray-400 text-2xl font-bold",children:z.name.charAt(0)})})}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-black",children:z.name}),z.description&&o.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",dangerouslySetInnerHTML:{__html:z.description.replace(/<[^>]*>/g,"").substring(0,100)}})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-600",children:z.price?`$${z.price.toFixed(2)}`:"Free"})}),o.jsx("td",{className:"px-6 py-4",children:z.courseLink?o.jsx("a",{href:z.courseLink,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:"View Course"}):o.jsx("span",{className:"text-sm text-gray-400",children:"N/A"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${z.status==="active"?"bg-black text-white":"bg-gray-200 text-gray-800"}`,children:z.status})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-600",children:new Date(z.createdAt).toLocaleDateString()})}),o.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsx("button",{onClick:()=>t(`/admin/courses/edit/${z._id}`),className:"text-black hover:text-gray-600 transition-colors",title:"Edit Course",children:o.jsx($n,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>B(z._id),className:"text-black hover:text-red-600 transition-colors",title:"Delete Course",children:o.jsx(jr,{className:"w-4 h-4"})})]})})]},z._id))})]})})}),j>1&&o.jsxs("div",{className:"flex items-center justify-between bg-white border border-gray-200 p-4 rounded",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",E+1," to ",Math.min(T,S.length)," of ",S.length," courses"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>H(p-1),disabled:p===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:j},(z,O)=>O+1).map(z=>o.jsx("button",{onClick:()=>H(z),className:`px-4 py-2 border rounded ${p===z?"bg-black text-white border-black":"border-gray-300 hover:bg-gray-50"}`,children:z},z)),o.jsx("button",{onClick:()=>H(p+1),disabled:p===j,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})})}function N1(){const t=Ht(),{id:e}=Nr(),n=!!e,[s,i]=k.useState(null),[l,c]=k.useState(n),[d,h]=k.useState(!1),[p,m]=k.useState(null),[x,y]=k.useState({name:"",youtubeLink:"",courseLink:"",price:0,status:"active"}),[w,v]=k.useState(null),[S,j]=k.useState(""),[E,T]=k.useState(!1),A=_2({extensions:[cj.configure({heading:{levels:[1,2,3]}}),uj.configure({inline:!0,allowBase64:!0}),Y2.configure({openOnClick:!1})],content:"",editorProps:{attributes:{class:"focus:outline-none min-h-[300px] p-4"}}});k.useEffect(()=>{document.title=n?"Edit Course - Admin - Patricia Macadam":"New Course - Admin - Patricia Macadam"},[n]),k.useEffect(()=>{n&&H()},[e]),k.useEffect(()=>{A&&s&&A.commands.setContent(s.description||"")},[A,s]);const H=async()=>{try{c(!0);const U=(await he.get(`/courses/${e}`)).data.course;i(U),y({name:U.name||"",youtubeLink:U.youtubeLink||"",courseLink:U.courseLink||"",price:U.price||0,status:U.status||"active"}),U.thumbnail&&j(U.thumbnail)}catch{m({type:"error",text:"Failed to load course"})}finally{c(!1)}},B=async Y=>{T(!0);try{const U=new FormData;U.append("image",Y);const $=await he.post("/upload/image",U,{headers:{"Content-Type":"multipart/form-data"}});return j($.data.imageUrl),T(!1),$.data.imageUrl}catch(U){throw T(!1),m({type:"error",text:U.response?.data?.message||"Failed to upload thumbnail"}),U}},z=async Y=>{const U=Y.target.files?.[0];if(!U)return;if(!U.type.startsWith("image/")){m({type:"error",text:"Please select an image file"});return}if(U.size>10*1024*1024){m({type:"error",text:"Image size must be less than 10MB"});return}v(U);const $=new FileReader;$.onloadend=()=>{j($.result)},$.readAsDataURL(U),await B(U)},O=async Y=>{if(Y.preventDefault(),!!A){h(!0),m(null);try{let U=S;w&&!U&&(U=await B(w));const $={...x,description:A.getHTML(),thumbnail:U};n?(await he.put(`/courses/${e}`,$),m({type:"success",text:"Course updated successfully!"})):(await he.post("/courses",$),m({type:"success",text:"Course created successfully!"})),setTimeout(()=>{t("/admin/courses")},1500)}catch(U){m({type:"error",text:U.response?.data?.message||"Failed to save course"})}finally{h(!1)}}};return l?o.jsx(Ve,{children:o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})})}):A?o.jsx(Ve,{children:o.jsxs("div",{className:"max-w-5xl mx-auto",children:[o.jsx("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4 mb-6",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("/admin/courses"),className:"text-gray-600 hover:text-black transition-colors",children:o.jsx(xm,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-black",children:n?"Edit Course":"New Course"}),o.jsx("p",{className:"text-gray-600 mt-1",children:n?"Update course information":"Create a new course"})]})]})}),p&&o.jsx("div",{className:`p-4 rounded border mb-6 ${p.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:o.jsx("p",{className:"font-medium",children:p.text})}),o.jsxs("form",{onSubmit:O,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-black mb-2",children:["Course Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",id:"name",value:x.name,onChange:Y=>y({...x,name:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-black mb-2",children:"Thumbnail Image"}),o.jsxs("div",{className:"flex items-start gap-4",children:[S&&o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:S,alt:"Thumbnail preview",className:"w-32 h-32 object-cover rounded border border-gray-300"}),o.jsx("button",{type:"button",onClick:()=>{j(""),v(null)},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600",children:o.jsx(Ut,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("label",{htmlFor:"thumbnail-upload",className:`inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded cursor-pointer hover:bg-gray-50 transition-colors ${E?"opacity-50 cursor-not-allowed":""}`,children:[o.jsx(Na,{className:"w-4 h-4"}),E?"Uploading...":"Upload Thumbnail"]}),o.jsx("input",{id:"thumbnail-upload",type:"file",accept:"image/*",onChange:z,disabled:E,className:"hidden"}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Recommended size: 800x600px. Max size: 10MB"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"youtubeLink",className:"block text-sm font-semibold text-black mb-2",children:"YouTube Link"}),o.jsx("input",{type:"url",id:"youtubeLink",value:x.youtubeLink,onChange:Y=>y({...x,youtubeLink:Y.target.value}),placeholder:"https://www.youtube.com/watch?v=...",className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-semibold text-black mb-2",children:["Description ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"border border-gray-300 rounded",children:[o.jsxs("div",{className:"border-b border-gray-300 p-2 flex gap-2 flex-wrap",children:[o.jsx("button",{type:"button",onClick:()=>A.chain().focus().toggleBold().run(),className:`px-3 py-1 rounded text-sm ${A.isActive("bold")?"bg-black text-white":"bg-gray-100 hover:bg-gray-200"}`,children:o.jsx("strong",{children:"B"})}),o.jsx("button",{type:"button",onClick:()=>A.chain().focus().toggleItalic().run(),className:`px-3 py-1 rounded text-sm ${A.isActive("italic")?"bg-black text-white":"bg-gray-100 hover:bg-gray-200"}`,children:o.jsx("em",{children:"I"})}),o.jsx("button",{type:"button",onClick:()=>A.chain().focus().toggleHeading({level:1}).run(),className:`px-3 py-1 rounded text-sm ${A.isActive("heading",{level:1})?"bg-black text-white":"bg-gray-100 hover:bg-gray-200"}`,children:"H1"}),o.jsx("button",{type:"button",onClick:()=>A.chain().focus().toggleHeading({level:2}).run(),className:`px-3 py-1 rounded text-sm ${A.isActive("heading",{level:2})?"bg-black text-white":"bg-gray-100 hover:bg-gray-200"}`,children:"H2"}),o.jsx("button",{type:"button",onClick:()=>A.chain().focus().toggleBulletList().run(),className:`px-3 py-1 rounded text-sm ${A.isActive("bulletList")?"bg-black text-white":"bg-gray-100 hover:bg-gray-200"}`,children:""}),o.jsx("button",{type:"button",onClick:()=>A.chain().focus().toggleOrderedList().run(),className:`px-3 py-1 rounded text-sm ${A.isActive("orderedList")?"bg-black text-white":"bg-gray-100 hover:bg-gray-200"}`,children:"1."})]}),o.jsx(D2,{editor:A})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"price",className:"block text-sm font-semibold text-black mb-2",children:"Price ($)"}),o.jsx("input",{type:"number",id:"price",value:x.price,onChange:Y=>y({...x,price:parseFloat(Y.target.value)||0}),min:"0",step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter 0 for free courses"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"courseLink",className:"block text-sm font-semibold text-black mb-2",children:"Course Link"}),o.jsx("input",{type:"url",id:"courseLink",value:x.courseLink,onChange:Y=>y({...x,courseLink:Y.target.value}),placeholder:"https://...",className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Link to the course page or purchase page"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"status",className:"block text-sm font-semibold text-black mb-2",children:"Status"}),o.jsxs("select",{id:"status",value:x.status,onChange:Y=>y({...x,status:Y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"inactive",children:"Inactive"})]})]}),o.jsxs("div",{className:"flex items-center justify-end gap-4 pt-6 border-t border-gray-200",children:[o.jsx("button",{type:"button",onClick:()=>t("/admin/courses"),className:"px-6 py-2 border border-gray-300 rounded hover:bg-gray-50 transition-colors font-semibold",children:"Cancel"}),o.jsxs("button",{type:"submit",disabled:d,className:"flex items-center gap-2 px-6 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(bm,{className:"w-4 h-4"}),d?"Saving...":n?"Update Course":"Create Course"]})]})]})]})}):null}function JL(){const[t,e]=k.useState([]),[n,s]=k.useState(!0),[i,l]=k.useState(""),[c,d]=k.useState("all"),[h,p]=k.useState(1),[m]=k.useState(20),[x,y]=k.useState(1),[w,v]=k.useState(0),[S,j]=k.useState(null),[E,T]=k.useState({total:0,active:0,unsubscribed:0,bounced:0});k.useEffect(()=>{const X=setTimeout(()=>{h===1?A():p(1)},i?500:0);return()=>clearTimeout(X)},[i]),k.useEffect(()=>{A(),H()},[h,c]);const A=async()=>{try{s(!0);const X=await he.get("/newsletter/subscribers",{params:{page:h,limit:m,search:i,status:c!=="all"?c:void 0}});e(X.data.subscribers||[]),y(X.data.pagination?.totalPages||1),v(X.data.pagination?.totalSubscribers||0)}catch(X){console.error("Error fetching subscribers:",X),j({type:"error",text:"Failed to load subscribers"})}finally{s(!1)}},H=async()=>{try{const X=await he.get("/newsletter/subscribers/stats");T(X.data)}catch(X){console.error("Error fetching stats:",X)}},B=t,z=(h-1)*m,O=Math.min(z+B.length,w),Y=X=>{p(X),window.scrollTo({top:0,behavior:"smooth"})},U=async X=>{if(confirm("Are you sure you want to delete this subscriber?"))try{await he.delete(`/newsletter/subscribers/${X}`),j({type:"success",text:"Subscriber deleted successfully!"}),await A(),setTimeout(()=>j(null),2e3)}catch(G){j({type:"error",text:G.response?.data?.message||"Failed to delete subscriber"})}},$=async X=>{try{await he.put(`/newsletter/subscribers/${X}/unsubscribe`),j({type:"success",text:"Subscriber unsubscribed successfully!"}),await A(),setTimeout(()=>j(null),2e3)}catch(G){j({type:"error",text:G.response?.data?.message||"Failed to unsubscribe subscriber"})}},me=async()=>{try{const G=(await he.get("/newsletter/subscribers",{params:{page:1,limit:1e4,search:i,status:c!=="all"?c:void 0}})).data.subscribers||[],J=["Email","Status","Subscribed At","Unsubscribed At","Source"],te=G.map(Ce=>[Ce.email,Ce.status,new Date(Ce.subscribedAt).toLocaleDateString(),Ce.unsubscribedAt?new Date(Ce.unsubscribedAt).toLocaleDateString():"",Ce.source||""]),M=[J.join(","),...te.map(Ce=>Ce.map(L=>`"${L}"`).join(","))].join(`
`),K=new Blob([M],{type:"text/csv"}),ie=window.URL.createObjectURL(K),ke=document.createElement("a");ke.href=ie,ke.download=`newsletter-subscribers-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(ke),ke.click(),document.body.removeChild(ke),window.URL.revokeObjectURL(ie)}catch(X){console.error("Error exporting CSV:",X),j({type:"error",text:"Failed to export subscribers"})}};return n?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-black rounded flex items-center justify-center",children:o.jsx(Sl,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total Subscribers"}),o.jsx("p",{className:"text-2xl font-bold text-black",children:E.total})]})]})}),o.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-black rounded flex items-center justify-center",children:o.jsx(Sl,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Active"}),o.jsx("p",{className:"text-2xl font-bold text-black",children:E.active})]})]})}),o.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded flex items-center justify-center",children:o.jsx(Sl,{className:"w-5 h-5 text-gray-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Unsubscribed"}),o.jsx("p",{className:"text-2xl font-bold text-black",children:E.unsubscribed})]})]})}),o.jsx("div",{className:"bg-white border border-gray-200 p-4 rounded",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded flex items-center justify-center",children:o.jsx(Sl,{className:"w-5 h-5 text-gray-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Bounced"}),o.jsx("p",{className:"text-2xl font-bold text-black",children:E.bounced})]})]})})]}),S&&o.jsx("div",{className:`p-4 rounded border ${S.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:o.jsx("p",{className:"font-medium",children:S.text})}),o.jsxs("div",{className:"bg-white border border-gray-200 p-4 rounded",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 flex-1",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Search by email...",value:i,onChange:X=>{l(X.target.value),p(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),o.jsx("div",{className:"md:w-48",children:o.jsxs("select",{value:c,onChange:X=>{d(X.target.value),p(1)},className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"unsubscribed",children:"Unsubscribed"}),o.jsx("option",{value:"bounced",children:"Bounced"})]})})]}),o.jsxs("button",{onClick:me,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 text-black rounded hover:bg-gray-50 transition-colors font-semibold",children:[o.jsx(UT,{className:"w-4 h-4"}),"Export CSV"]})]}),o.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",B.length," of ",w," subscribers"]})]}),o.jsx("div",{className:"bg-white border border-gray-200 rounded overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-black text-white",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Email"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Subscribed At"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Source"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:B.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:w===0?"No subscribers found yet.":"No subscribers match your search criteria."})}):B.map(X=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm font-medium text-black",children:X.email})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${X.status==="active"?"bg-black text-white":X.status==="unsubscribed"?"bg-gray-200 text-gray-800":"bg-red-100 text-red-800"}`,children:X.status})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-600",children:new Date(X.subscribedAt).toLocaleDateString()})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-600",children:X.source||"N/A"})}),o.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[X.status==="active"&&o.jsx("button",{onClick:()=>$(X._id),className:"text-gray-600 hover:text-gray-800 transition-colors",title:"Unsubscribe",children:"Unsubscribe"}),o.jsx("button",{onClick:()=>U(X._id),className:"text-black hover:text-red-600 transition-colors",title:"Delete Subscriber",children:o.jsx(jr,{className:"w-4 h-4"})})]})})]},X._id))})]})})}),x>1&&o.jsxs("div",{className:"flex items-center justify-between bg-white border border-gray-200 p-4 rounded",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",z+1," to ",O," of ",w," subscribers"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>Y(h-1),disabled:h===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:x},(X,G)=>G+1).map(X=>o.jsx("button",{onClick:()=>Y(X),className:`px-4 py-2 border rounded ${h===X?"bg-black text-white border-black":"border-gray-300 hover:bg-gray-50"}`,children:X},X)),o.jsx("button",{onClick:()=>Y(h+1),disabled:h===x,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})}function XL(){const[t,e]=k.useState({subject:"",content:"",previewText:""}),[n,s]=k.useState(!1),[i,l]=k.useState(null),[c,d]=k.useState(!1),h=async p=>{if(p.preventDefault(),!t.subject.trim()||!t.content.trim()){l({type:"error",text:"Please fill in all required fields"});return}s(!0);try{l({type:"success",text:"Newsletter sent successfully!"}),e({subject:"",content:"",previewText:""}),setTimeout(()=>l(null),3e3)}catch(m){l({type:"error",text:m.response?.data?.message||"Failed to send newsletter"})}finally{s(!1)}};return o.jsxs("div",{className:"space-y-6",children:[i&&o.jsx("div",{className:`p-4 rounded border ${i.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:o.jsx("p",{className:"font-medium",children:i.text})}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded p-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-black mb-6",children:"Compose Newsletter"}),o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"subject",className:"block text-sm font-semibold text-black mb-2",children:["Subject ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",id:"subject",value:t.subject,onChange:p=>e({...t,subject:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"Enter newsletter subject",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"previewText",className:"block text-sm font-semibold text-black mb-2",children:"Preview Text"}),o.jsx("input",{type:"text",id:"previewText",value:t.previewText,onChange:p=>e({...t,previewText:p.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black",placeholder:"Short preview text shown in email clients",maxLength:150}),o.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[t.previewText.length,"/150"]})]}),o.jsxs("div",{children:[o.jsxs("label",{htmlFor:"content",className:"block text-sm font-semibold text-black mb-2",children:["Content ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("textarea",{id:"content",value:t.content,onChange:p=>e({...t,content:p.target.value}),rows:15,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black font-mono text-sm",placeholder:"Enter newsletter content (HTML supported)",required:!0}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"You can use HTML tags for formatting. Basic tags like <p>, <h1>, <h2>, <a>, <img> are supported."})]}),o.jsxs("div",{className:"flex items-center gap-4 pt-4 border-t border-gray-200",children:[o.jsxs("button",{type:"submit",disabled:n,className:"flex items-center gap-2 px-6 py-2 bg-black text-white rounded hover:bg-gray-900 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(qT,{className:"w-4 h-4"}),n?"Sending...":"Send Newsletter"]}),o.jsx("button",{type:"button",onClick:()=>d(!c),className:"px-6 py-2 bg-white border border-gray-300 text-black rounded hover:bg-gray-50 transition-colors font-semibold",children:c?"Hide Preview":"Show Preview"})]})]}),c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-black",children:"Preview"}),o.jsx("button",{onClick:()=>d(!1),className:"text-gray-500 hover:text-black transition-colors",children:o.jsx(Ut,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-4 mb-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-black mb-2",children:t.subject||"Newsletter Subject"}),t.previewText&&o.jsx("p",{className:"text-sm text-gray-600",children:t.previewText})]}),o.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:t.content||"<p>Newsletter content will appear here...</p>"}})]})]})})]})]})}function QL(){const[t,e]=k.useState([]),[n,s]=k.useState(!0),[i,l]=k.useState(""),[c,d]=k.useState(null),[h,p]=k.useState(!1),[m,x]=k.useState(null),[y,w]=k.useState(1),[v]=k.useState(10);k.useEffect(()=>{S()},[]);const S=async()=>{try{s(!0),e([])}catch($){console.error("Error fetching newsletters:",$),x({type:"error",text:"Failed to load newsletter history"})}finally{s(!1)}},j=$=>{d($),p(!0)},E=async $=>{if(confirm("Are you sure you want to delete this newsletter record?"))try{x({type:"success",text:"Newsletter deleted successfully!"}),await S(),setTimeout(()=>x(null),2e3)}catch(me){x({type:"error",text:me.response?.data?.message||"Failed to delete newsletter"})}},T=t.filter($=>$.subject.toLowerCase().includes(i.toLowerCase())||$.previewText&&$.previewText.toLowerCase().includes(i.toLowerCase())),A=Math.ceil(T.length/v),H=(y-1)*v,B=H+v,z=T.slice(H,B),O=$=>{w($),window.scrollTo({top:0,behavior:"smooth"})},Y=$=>$.recipients===0?0:($.opened/$.recipients*100).toFixed(1),U=$=>$.recipients===0?0:($.clicked/$.recipients*100).toFixed(1);return n?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-black font-semibold",children:"Loading..."})]})}):o.jsxs("div",{className:"space-y-6",children:[m&&o.jsx("div",{className:`p-4 rounded border ${m.type==="success"?"bg-black text-white border-gray-800":"bg-white text-black border-gray-200"}`,children:o.jsx("p",{className:"font-medium",children:m.text})}),o.jsxs("div",{className:"bg-white border border-gray-200 p-4 rounded",children:[o.jsxs("div",{className:"relative",children:[o.jsx(di,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Search newsletters by subject or preview text...",value:i,onChange:$=>{l($.target.value),w(1)},className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded focus:outline-none focus:border-black"})]}),o.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:["Showing ",T.length," of ",t.length," newsletters"]})]}),o.jsx("div",{className:"bg-white border border-gray-200 rounded overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-black text-white",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Subject"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Sent At"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Recipients"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Opened"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Clicked"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:z.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:7,className:"px-6 py-12 text-center text-gray-500",children:t.length===0?"No newsletters sent yet.":"No newsletters match your search criteria."})}):z.map($=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm font-medium text-black",children:$.subject}),$.previewText&&o.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:$.previewText})]}),o.jsxs("td",{className:"px-6 py-4",children:[o.jsx("div",{className:"text-sm text-gray-600",children:new Date($.sentAt).toLocaleDateString()}),o.jsx("div",{className:"text-xs text-gray-500",children:new Date($.sentAt).toLocaleTimeString()})]}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("div",{className:"text-sm text-gray-600",children:$.recipients})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"text-sm text-gray-600",children:[$.opened," (",Y($),"%)"]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"text-sm text-gray-600",children:[$.clicked," (",U($),"%)"]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${$.status==="sent"?"bg-black text-white":$.status==="scheduled"?"bg-blue-100 text-blue-800":$.status==="draft"?"bg-gray-200 text-gray-800":"bg-red-100 text-red-800"}`,children:$.status})}),o.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsx("button",{onClick:()=>j($),className:"text-black hover:text-gray-600 transition-colors",title:"View Details",children:o.jsx(HT,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>E($._id),className:"text-black hover:text-red-600 transition-colors",title:"Delete Newsletter",children:o.jsx(jr,{className:"w-4 h-4"})})]})})]},$._id))})]})})}),A>1&&o.jsxs("div",{className:"flex items-center justify-between bg-white border border-gray-200 p-4 rounded",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",H+1," to ",Math.min(B,T.length)," of ",T.length," newsletters"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>O(y-1),disabled:y===1,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:A},($,me)=>me+1).map($=>o.jsx("button",{onClick:()=>O($),className:`px-4 py-2 border rounded ${y===$?"bg-black text-white border-black":"border-gray-300 hover:bg-gray-50"}`,children:$},$)),o.jsx("button",{onClick:()=>O(y+1),disabled:y===A,className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),h&&c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold text-black",children:"Newsletter Details"}),o.jsx("button",{onClick:()=>p(!1),className:"text-gray-500 hover:text-black transition-colors",children:o.jsx(Ut,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-black mb-2",children:c.subject}),c.previewText&&o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:c.previewText}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[o.jsxs("span",{children:["Sent: ",new Date(c.sentAt).toLocaleString()]}),o.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded ${c.status==="sent"?"bg-black text-white":c.status==="scheduled"?"bg-blue-100 text-blue-800":c.status==="draft"?"bg-gray-200 text-gray-800":"bg-red-100 text-red-800"}`,children:c.status})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Recipients"}),o.jsx("p",{className:"text-2xl font-bold text-black",children:c.recipients})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Opened"}),o.jsxs("p",{className:"text-2xl font-bold text-black",children:[c.opened," (",Y(c),"%)"]})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Clicked"}),o.jsxs("p",{className:"text-2xl font-bold text-black",children:[c.clicked," (",U(c),"%)"]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold text-black mb-3",children:"Content Preview"}),o.jsx("div",{className:"border border-gray-200 rounded p-4 bg-gray-50",children:o.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:c.content}})})]})]})]})})]})}function ZL(){const[t,e]=k.useState("subscribers");return o.jsx(Ve,{children:o.jsxs("div",{className:"space-y-6 max-w-7xl",children:[o.jsx("div",{className:"flex items-center justify-between border-b border-gray-200 pb-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-black mb-2",children:"Newsletter"}),o.jsx("p",{className:"text-gray-600",children:"Manage your newsletter subscribers and campaigns"})]})}),o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("nav",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>e("subscribers"),className:`px-4 py-2 font-semibold border-b-2 transition-colors ${t==="subscribers"?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Subscribers"}),o.jsx("button",{onClick:()=>e("send"),className:`px-4 py-2 font-semibold border-b-2 transition-colors ${t==="send"?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Send Newsletter"}),o.jsx("button",{onClick:()=>e("history"),className:`px-4 py-2 font-semibold border-b-2 transition-colors ${t==="history"?"border-black text-black":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"History"})]})}),t==="subscribers"&&o.jsx(JL,{}),t==="send"&&o.jsx(XL,{}),t==="history"&&o.jsx(QL,{})]})})}function dj(){return k.useEffect(()=>{document.title="404 - Page Not Found - Patricia Macadam"},[]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 via-gray-100 to-gray-200",children:o.jsxs("div",{className:"text-center px-4",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("h1",{className:"text-9xl font-bold text-gray-900 mb-2 animate-pulse",children:["4",o.jsx("span",{className:"text-blue-600",children:"0"}),"4"]})}),o.jsx("div",{className:"mb-6 flex justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-full flex items-center justify-center animate-bounce",children:o.jsx("svg",{className:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),o.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full animate-ping"}),o.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full"})]})}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Oops! Page Not Found"}),o.jsx("p",{className:"text-lg text-gray-600 max-w-md mx-auto",children:"The page you're looking for seems to have wandered off into the digital void. Don't worry, even the best explorers get lost sometimes!"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[o.jsxs("a",{href:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-all transform hover:scale-105 shadow-lg",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Go Home"]}),o.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center gap-2 px-6 py-3 bg-white text-gray-900 border-2 border-gray-300 rounded-lg hover:bg-gray-50 transition-all transform hover:scale-105 shadow-lg",children:[o.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Go Back"]})]}),o.jsx("div",{className:"mt-12 flex justify-center gap-2",children:[...Array(5)].map((t,e)=>o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:`${e*.1}s`}},e))})]})})}function Mt({children:t}){const{admin:e,loading:n}=va();return n?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):e?o.jsx(o.Fragment,{children:t}):o.jsx(dj,{})}function eD(){const t=Ls(),e=t.pathname==="/podcast"||t.pathname.startsWith("/podcasts/"),n=t.pathname==="/articles"||t.pathname.startsWith("/articles/"),s=t.pathname==="/topics"||t.pathname.startsWith("/topics/"),i=t.pathname==="/courses"||t.pathname.startsWith("/courses/"),l=t.pathname.startsWith("/admin");return o.jsxs(o.Fragment,{children:[!e&&!n&&!s&&!i&&!l&&o.jsx(qt,{}),o.jsxs(g4,{children:[o.jsx(Be,{path:"/",element:o.jsx(sT,{})}),o.jsx(Be,{path:"/podcast",element:o.jsx(yT,{})}),o.jsx(Be,{path:"/podcasts/:slug",element:o.jsx(wT,{})}),o.jsx(Be,{path:"/articles",element:o.jsx(CT,{})}),o.jsx(Be,{path:"/articles/:slug",element:o.jsx(TT,{})}),o.jsx(Be,{path:"/topics",element:o.jsx(MT,{})}),o.jsx(Be,{path:"/topics/:slug",element:o.jsx(OT,{})}),o.jsx(Be,{path:"/about",element:o.jsx(RT,{})}),o.jsx(Be,{path:"/courses",element:o.jsx(LT,{})}),o.jsx(Be,{path:"/admin/patricia/696bb59405f9abf663d95e8b",element:o.jsx(_T,{})}),o.jsx(Be,{path:"/admin",element:o.jsx(Mt,{children:o.jsx(JT,{})})}),o.jsx(Be,{path:"/admin/settings",element:o.jsx(Mt,{children:o.jsx(XT,{})})}),o.jsx(Be,{path:"/admin/articles",element:o.jsx(Mt,{children:o.jsx(QT,{})})}),o.jsx(Be,{path:"/admin/articles/new",element:o.jsx(Mt,{children:o.jsx(v1,{})})}),o.jsx(Be,{path:"/admin/articles/edit/:id",element:o.jsx(Mt,{children:o.jsx(v1,{})})}),o.jsx(Be,{path:"/admin/topics",element:o.jsx(Mt,{children:o.jsx(FL,{})})}),o.jsx(Be,{path:"/admin/topics/:id",element:o.jsx(Mt,{children:o.jsx(VL,{})})}),o.jsx(Be,{path:"/admin/podcasts",element:o.jsx(Mt,{children:o.jsx(qL,{})})}),o.jsx(Be,{path:"/admin/podcasts/:id",element:o.jsx(Mt,{children:o.jsx(KL,{})})}),o.jsx(Be,{path:"/admin/podcasts/new",element:o.jsx(Mt,{children:o.jsx(w1,{})})}),o.jsx(Be,{path:"/admin/podcasts/edit/:id",element:o.jsx(Mt,{children:o.jsx(w1,{})})}),o.jsx(Be,{path:"/admin/products",element:o.jsx(Mt,{children:o.jsx(GL,{})})}),o.jsx(Be,{path:"/admin/courses",element:o.jsx(Mt,{children:o.jsx(WL,{})})}),o.jsx(Be,{path:"/admin/courses/new",element:o.jsx(Mt,{children:o.jsx(N1,{})})}),o.jsx(Be,{path:"/admin/courses/edit/:id",element:o.jsx(Mt,{children:o.jsx(N1,{})})}),o.jsx(Be,{path:"/admin/newsletter",element:o.jsx(Mt,{children:o.jsx(ZL,{})})}),o.jsx(Be,{path:"/admin/profile",element:o.jsx(Mt,{children:o.jsx(YL,{})})}),o.jsx(Be,{path:"/admin/*",element:o.jsx(dj,{})}),o.jsx(Be,{path:"*",element:o.jsx(DT,{})})]}),!l&&o.jsxs(o.Fragment,{children:[o.jsx(iT,{}),o.jsx(lT,{})]})]})}function tD(){return o.jsx(P4,{children:o.jsx(zT,{children:o.jsx(eD,{})})})}Fk.createRoot(document.getElementById("root")).render(o.jsx(k.StrictMode,{children:o.jsx(tD,{})}));
